{"version":3,"file":"vizart-basic.standalone.js","sources":["../node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../node_modules/d3-scale/node_modules/d3-array/src/number.js","../node_modules/d3-scale/node_modules/d3-array/src/range.js","../node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/node_modules/d3-array/src/quantile.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/quantile.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/d3-scale-chromatic/src/categorical/Accent.js","../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../node_modules/d3-scale-chromatic/src/categorical/Set1.js","../node_modules/d3-scale-chromatic/src/categorical/Set2.js","../node_modules/d3-scale-chromatic/src/categorical/Set3.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-voronoi/src/constant.js","../node_modules/d3-voronoi/src/point.js","../node_modules/d3-voronoi/src/RedBlackTree.js","../node_modules/d3-voronoi/src/Edge.js","../node_modules/d3-voronoi/src/Cell.js","../node_modules/d3-voronoi/src/Circle.js","../node_modules/d3-voronoi/src/Beach.js","../node_modules/d3-voronoi/src/Diagram.js","../node_modules/d3-voronoi/src/voronoi.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/vizart-core/dist/vizart-core.esm.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isNumber.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/isString.js","../node_modules/lodash-es/isFinite.js","../src/axis/is-tick-div.js","../src/axis/update-x-ticks.js","../src/axis/rotete.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../src/axis/transition.js","../src/axis/cn-time-format.js","../src/data/helper/is-bar.js","../src/axis/update.js","../src/axis/renter.js","../src/options/CartesianStackedOptions.js","../src/options/createCartesianStackedOpt.js","../src/data/constant/stack-methods.js","../src/data/helper/is-series-defined.js","../src/data/helper/all-data-def.js","../src/data/helper/get-sort-def.js","../src/data/processor/sort.js","../node_modules/lodash-es/_arrayMap.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/_baseToString.js","../node_modules/lodash-es/toString.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/isUndefined.js","../node_modules/lodash-es/isNull.js","../node_modules/lodash-es/_baseIsDate.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/isDate.js","../node_modules/lodash-es/isFunction.js","../src/data/processor/cleanse.js","../src/data/helper/y-sort.js","../src/data/update-scale/update-dim-scale.js","../node_modules/lodash-es/isNaN.js","../src/data/update-scale/ticks.js","../src/data/update-scale/update-metric-scale.js","../src/data/update-scale/index.js","../src/data/cartesian/index.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/curve/radial.js","../node_modules/d3-shape/src/lineRadial.js","../node_modules/d3-shape/src/areaRadial.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-shape/src/offset/diverging.js","../node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-shape/src/order/descending.js","../node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-shape/src/order/reverse.js","../src/data/cartesian-stacked/stack.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/_arrayAggregator.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/isBuffer.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_baseForOwn.js","../node_modules/lodash-es/_createBaseEach.js","../node_modules/lodash-es/_baseEach.js","../node_modules/lodash-es/_baseAggregator.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_setCacheAdd.js","../node_modules/lodash-es/_setCacheHas.js","../node_modules/lodash-es/_SetCache.js","../node_modules/lodash-es/_arraySome.js","../node_modules/lodash-es/_cacheHas.js","../node_modules/lodash-es/_equalArrays.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_mapToArray.js","../node_modules/lodash-es/_setToArray.js","../node_modules/lodash-es/_equalByTag.js","../node_modules/lodash-es/_arrayPush.js","../node_modules/lodash-es/_baseGetAllKeys.js","../node_modules/lodash-es/_arrayFilter.js","../node_modules/lodash-es/stubArray.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/_getAllKeys.js","../node_modules/lodash-es/_equalObjects.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/_baseIsEqualDeep.js","../node_modules/lodash-es/_baseIsEqual.js","../node_modules/lodash-es/_baseIsMatch.js","../node_modules/lodash-es/_isStrictComparable.js","../node_modules/lodash-es/_getMatchData.js","../node_modules/lodash-es/_matchesStrictComparable.js","../node_modules/lodash-es/_baseMatches.js","../node_modules/lodash-es/_isKey.js","../node_modules/lodash-es/memoize.js","../node_modules/lodash-es/_memoizeCapped.js","../node_modules/lodash-es/_stringToPath.js","../node_modules/lodash-es/_castPath.js","../node_modules/lodash-es/_toKey.js","../node_modules/lodash-es/_baseGet.js","../node_modules/lodash-es/get.js","../node_modules/lodash-es/_baseHasIn.js","../node_modules/lodash-es/_hasPath.js","../node_modules/lodash-es/hasIn.js","../node_modules/lodash-es/_baseMatchesProperty.js","../node_modules/lodash-es/identity.js","../node_modules/lodash-es/_baseProperty.js","../node_modules/lodash-es/_basePropertyDeep.js","../node_modules/lodash-es/property.js","../node_modules/lodash-es/_baseIteratee.js","../node_modules/lodash-es/_createAggregator.js","../node_modules/lodash-es/groupBy.js","../src/data/cartesian-stacked/series-to-matrix.js","../src/data/cartesian-stacked/stacked-layout.js","../src/data/cartesian-stacked/scale-stacked-metric.js","../src/data/cartesian-stacked/index.js","../src/options/CartesianOptions.js","../src/options/createCartesianOpt.js","../src/helper/composers.js","../src/helper/builder.js","../src/model/bar/draw-vertical-label.js","../src/model/bar/draw-metric-on-top.js","../src/model/bar/draw-rects.js","../src/model/bar/draw-hidden-rects.js","../src/util/has-negative.js","../src/helper/withCartesian.js","../src/util/isFunction.js","../src/tooltip/markup.js","../src/model/bar/animate.js","../src/data/helper/sort-selector.js","../src/model/bar/sort.js","../src/model/bar/index.js","../src/model/pie/limit-slice-values.js","../src/model/pie/centroid-on-arc.js","../src/model/pie/draw-control-point.js","../src/model/pie/mid-angle.js","../src/model/pie/get-line-position.js","../src/model/pie/draw-polyline-label.js","../src/model/pie/draw-canvas.js","../src/model/pie/tween-states.js","../src/model/pie/draw-hidden-canvas.js","../src/util/isArray.js","../src/model/pie/animate.js","../src/model/pie/index.js","../src/model/area/node-color.js","../src/model/area/draw-points.js","../src/util/curve.js","../src/model/area/draw-area.js","../src/model/area/draw-line.js","../src/model/area/draw-canvas.js","../src/model/area/tween-states.js","../src/model/area/highlight-node.js","../src/model/area/animate.js","../src/model/area/index.js","../src/model/line/index.js","../src/model/scatter/draw-canvas.js","../src/model/scatter/tween-states.js","../src/model/scatter/highlight-node.js","../src/model/scatter/update-radius-scale.js","../src/model/scatter/animate.js","../src/model/scatter/index.js","../src/helper/api-layout.js","../src/model/stackedArea/draw-canvas.js","../src/model/stackedArea/tween-states.js","../src/model/stackedArea/highlight-node.js","../src/model/stackedArea/highlight-area.js","../src/helper/withStacked.js","../src/model/stackedArea/animate.js","../src/model/stackedArea/options.js","../src/model/stackedArea/index.js","../src/model/stream/draw-canvas.js","../src/model/stream/tween-states.js","../src/model/stream/highlight-node.js","../src/model/stream/animate.js","../src/model/stream/index.js","../src/model/multiLine/highlight-node.js","../src/model/multiLine/draw-canvas.js","../src/model/multiLine/tween-states.js","../src/model/multiLine/highlight-line.js","../src/model/multiLine/animate.js","../src/model/multiLine/index.js","../src/model/stackedBar/draw-hidden-canvas.js","../src/model/stackedBar/draw-canvas.js","../src/model/stackedBar/tween-states.js","../src/model/stackedBar/animate.js","../src/model/stackedBar/options.js","../src/model/stackedBar/index.js","../src/model/corona/get-radius.js","../src/model/corona/get-grid-levels.js","../src/model/corona/draw-grid-arc.js","../src/model/corona/draw-grid-label.js","../src/model/corona/get-axis-label.js","../src/model/corona/draw-axis-label.js","../src/model/corona/draw-gradient-bundary.js","../src/model/corona/draw-area.js","../src/model/corona/draw-line.js","../node_modules/d3-chord/node_modules/d3-array/src/ascending.js","../node_modules/d3-chord/node_modules/d3-array/src/bisector.js","../node_modules/d3-chord/node_modules/d3-array/src/bisect.js","../node_modules/d3-chord/src/math.js","../src/model/corona/draw-canvas.js","../src/model/corona/tween-states.js","../src/model/corona/highlight.js","../src/model/corona/animate.js","../src/model/corona/options.js","../src/model/corona/index.js","../src/model/radar/index.js","../src/model/rose/get-radius.js","../src/model/rose/get-label-radius.js","../src/model/rose/draw-label.js","../src/model/rose/draw-canvas.js","../src/model/rose/tween-states.js","../src/model/rose/draw-petal.js","../src/model/rose/draw-hidden-canvas.js","../node_modules/lodash-es/_baseFindIndex.js","../node_modules/lodash-es/_baseIsNaN.js","../node_modules/lodash-es/_strictIndexOf.js","../node_modules/lodash-es/_baseIndexOf.js","../node_modules/lodash-es/_arrayIncludes.js","../node_modules/lodash-es/_arrayIncludesWith.js","../node_modules/lodash-es/_baseDifference.js","../node_modules/lodash-es/_isFlattenable.js","../node_modules/lodash-es/_baseFlatten.js","../node_modules/lodash-es/_apply.js","../node_modules/lodash-es/_overRest.js","../node_modules/lodash-es/constant.js","../node_modules/lodash-es/_baseSetToString.js","../node_modules/lodash-es/_shortOut.js","../node_modules/lodash-es/_setToString.js","../node_modules/lodash-es/_baseRest.js","../node_modules/lodash-es/isArrayLikeObject.js","../node_modules/lodash-es/difference.js","../src/model/rose/get-ordered-dimensions.js","../src/model/rose/animate.js","../src/model/rose/index.js","../src/model/row/draw-hidden-rects.js","../src/model/row/draw-horizontal-label.js","../src/model/row/draw-metric-label.js","../src/model/row/draw-canvas.js","../src/model/row/get-metric-scale.js","../src/model/row/draw-main-bars.js","../src/model/row/update-main-axis.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../src/util/brush-handle.js","../src/model/row/draw-mini-svg.js","../src/model/row/animate.js","../src/model/row/index.js"],"sourcesContent":["export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume itâ€™s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 â‰… u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Â±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"Âµ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer â€œvalueâ€ part that can be\n        // grouped, and fractional or exponential â€œsuffixâ€ part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      k10 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) * k10;\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], k10 = x0 === x1 ? 0 : 1 / (x1 - x0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","import colors from \"../colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liangâ€“Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werenâ€™t any edges, have the closest site cover the extent.\n  // It doesnâ€™t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries donâ€™t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant canâ€™t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnâ€™t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like â€œ__proto__â€.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that donâ€™t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import { scaleSequential, scaleOrdinal, scaleLinear, scaleQuantile } from 'd3-scale';\nimport { interpolateBuGn, interpolateBuPu, interpolateGnBu, interpolateOrRd, interpolatePuBuGn, interpolatePuBu, interpolatePuRd, interpolateRdPu, interpolateYlGnBu, interpolateYlGn, interpolateYlOrBr, interpolateYlOrRd, interpolateBlues, interpolateGreens, interpolateGreys, interpolatePurples, interpolateReds, interpolateOranges, interpolateViridis, interpolateInferno, interpolateMagma, interpolatePlasma, interpolateWarm, interpolateCool, interpolateRainbow, interpolateCubehelixDefault, interpolateBrBG, interpolatePRGn, interpolatePiYG, interpolatePuOr, interpolateRdBu, interpolateRdGy, interpolateRdYlBu, interpolateRdYlGn, interpolateSpectral, schemeAccent, schemeDark2, schemePaired, schemePastel1, schemePastel2, schemeSet1, schemeSet2, schemeSet3, schemeCategory10 } from 'd3-scale-chromatic';\nimport { range, extent, ascending, max } from 'd3-array';\nimport { dispatch } from 'd3-dispatch';\nimport { voronoi } from 'd3-voronoi';\nimport { quadtree } from 'd3-quadtree';\nimport { select } from 'd3-selection';\nimport { hsl } from 'd3-color';\n\nvar version = \"2.0.4\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar _Symbol = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag$1 && symToStringTag$1 in Object(value) ? getRawTag(value) : objectToString(value);\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object';\n}\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n}\n\n/* taken from https://simplestatistics.org/ */\n\n/**\n * Given an array of x, this will find the extent of the\n * x and return an array of breaks that can be used\n * to categorize the x into a number of classes. The\n * returned array will always be 1 longer than the number of\n * classes because it includes the minimum value.\n *\n * @param {Array<number>} x an array of number values\n * @param {number} nClasses number of desired classes\n * @returns {Array<number>} array of class break positions\n * @example\n * equalIntervalBreaks([1, 2, 3, 4, 5, 6], 4); //= [1, 2.25, 3.5, 4.75, 6]\n */\nvar equalIntervalBreaks = function equalIntervalBreaks(x /*: Array<number> */\n, nClasses /*:number*/\n) /*: Array<number> */{\n  if (x.length < 2) {\n    return x;\n  }\n\n  var theMin = Math.min.apply(Math, toConsumableArray(x)),\n      theMax = Math.max.apply(Math, toConsumableArray(x));\n\n  // the first break will always be the minimum value\n  // in the xset\n  var breaks = [theMin];\n\n  // The size of each break is the full range of the x\n  // divided by the number of classes requested\n  var breakSize = (theMax - theMin) / nClasses;\n\n  // In the case of nClasses = 1, this loop won't run\n  // and the returned breaks will be [min, max]\n  for (var i = 1; i < nClasses; i++) {\n    breaks.push(breaks[0] + breakSize * i);\n  }\n\n  // the last break will always be the\n  // maximum.\n  breaks.push(theMax);\n\n  return breaks;\n};\n\nvar SchemeReds = 'Reds';\nvar SchemeBlues = 'Blues';\nvar SchemeGreens = 'Greens';\nvar SchemeGreys = 'Greys';\nvar SchemeOranges = 'Oranges';\nvar SchemePurples = 'Purples';\nvar SchemeBuGn = 'BuGn';\nvar SchemeBuPu = 'BuPu';\nvar SchemeGnBu = 'GnBu';\nvar SchemeOrRd = 'OrRd';\nvar SchemePuBuGn = 'PuBuGn';\nvar SchemePuBu = 'PuBu';\nvar SchemePuRd = 'PuRd';\nvar SchemeRdPu = 'RdPu';\nvar SchemeYlGnBu = 'YlGnBu';\nvar SchemeYlGn = 'YlGn';\nvar SchemeYlOrBr = 'YlOrBr';\nvar SchemeYlOrRd = 'YlOrRd';\nvar SchemeViridis = 'Viridis';\nvar SchemeInferno = 'Inferno';\nvar SchemeMagma = 'Magma';\nvar SchemePlasma = 'Plasma';\nvar SchemeWarm = 'Warm';\nvar SchemeCool = 'Cool';\nvar SchemeRainbow = 'Rainbow';\nvar SchemeCubehelix = 'Cubehelix';\n\nvar interpolateSequentialScheme = function interpolateSequentialScheme(_scheme) {\n  if (!isFunction(_scheme) && !isString(_scheme)) {\n    throw new Error(_scheme + 'is invalid');\n  }\n\n  // user specified interpolator\n  if (isFunction(_scheme)) {\n    return _scheme;\n  }\n\n  //shortcode for internal interpolators\n  switch (_scheme) {\n    // sequential single hue\n    case SchemeBlues:\n      return interpolateBlues;\n\n    case SchemeGreens:\n      return interpolateGreens;\n\n    case SchemeGreys:\n      return interpolateGreys;\n\n    case SchemeOranges:\n      return interpolateOranges;\n\n    case SchemeReds:\n      return interpolateReds;\n\n    case SchemePurples:\n      return interpolatePurples;\n\n    // Sequential (Multi-Hue)\n    case SchemeBuGn:\n      return interpolateBuGn;\n\n    case SchemeBuPu:\n      return interpolateBuPu;\n\n    case SchemeGnBu:\n      return interpolateGnBu;\n\n    case SchemeOrRd:\n      return interpolateOrRd;\n\n    case SchemePuBuGn:\n      return interpolatePuBuGn;\n\n    case SchemePuBu:\n      return interpolatePuBu;\n\n    case SchemePuRd:\n      return interpolatePuRd;\n\n    case SchemeRdPu:\n      return interpolateRdPu;\n\n    case SchemeYlGnBu:\n      return interpolateYlGnBu;\n\n    case SchemeYlGn:\n      return interpolateYlGn;\n\n    case SchemeYlOrBr:\n      return interpolateYlOrBr;\n\n    case SchemeYlOrRd:\n      return interpolateYlOrRd;\n\n    // R Color\n    case SchemeViridis:\n      return interpolateViridis;\n\n    case SchemeInferno:\n      return interpolateInferno;\n\n    case SchemeMagma:\n      return interpolateMagma;\n\n    case SchemePlasma:\n      return interpolatePlasma;\n\n    case SchemeWarm:\n      return interpolateWarm;\n\n    case SchemeCool:\n      return interpolateCool;\n\n    case SchemeRainbow:\n      return interpolateRainbow;\n\n    case SchemeCubehelix:\n      return interpolateCubehelixDefault;\n\n    default:\n      return null;\n  }\n};\n\nvar linearStops = function linearStops(scheme) {\n  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n  if (isString(scheme) || isFunction(scheme)) {\n    var interpolator = interpolateSequentialScheme(scheme);\n\n    var offsets = range(0, 1, 0.1);\n    offsets.push(1); // range is 0-0.9\n\n    if (interpolator != null) {\n      var seqScale = scaleSequential(interpolator).domain([0, 1]); // explicit domain, not really need to do so\n\n      return offsets.map(function (d) {\n        return {\n          offset: d,\n          color: seqScale(d)\n        };\n      });\n    } else {\n      // fade out a single hue\n      return offsets.map(function (d) {\n        var _hsl = hsl(scheme);\n        _hsl.opacity = opacity * d;\n\n        return {\n          offset: d,\n          color: _hsl\n        };\n      });\n    }\n  } else if (isArray(scheme)) {\n    var count = scheme.length;\n\n    if (count > 1) {\n      var steps = equalIntervalBreaks([0, 1], count - 1);\n\n      return steps.map(function (d, i) {\n        return {\n          offset: d,\n          color: scheme[i]\n        };\n      });\n    } else {\n      console.log('linear gradient requires at least two colors');\n    }\n  }\n};\n\nvar SchemeAccent = 'Accent';\nvar SchemeDark2 = 'Dark2';\nvar SchemePaired = 'Paired';\nvar SchemePastel1 = 'Pastel1';\nvar SchemePastel2 = 'Pastel2';\nvar SchemeSet1 = 'Set1';\nvar SchemeSet2 = 'Set2';\nvar SchemeSet3 = 'Set3';\nvar SchemeCategory10 = 'Category10';\n\nvar SchemeBrBG = 'BrBG';\nvar SchemePRGn = 'PRGn';\nvar SchemePiYG = 'PiYG';\nvar SchemePuOr = 'PuOr';\nvar SchemeRdBu = 'RdBu';\nvar SchemeRdGy = 'RdGy';\nvar SchemeRdYlBu = 'RdYlBu';\nvar SchemeRdYlGn = 'RdYlGn';\nvar SchemeSpectral = 'Spectral';\n\nvar AllHcl = {\n  name: 'All colors',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 0,\n  cmax: 100,\n  lmin: 0,\n  lmax: 100\n};\n\nvar DefaultColorSpace = {\n  name: 'Default preset',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 30,\n  cmax: 80,\n  lmin: 35,\n  lmax: 80\n};\n\nvar ColorBlind = {\n  name: 'Colorblind friendly',\n  dark: false,\n  clbl: true,\n  hmin: 0,\n  hmax: 360,\n  cmin: 40,\n  cmax: 70,\n  lmin: 15,\n  lmax: 85\n};\n\nvar FancyLight = {\n  name: 'Fancy (light background)',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 15,\n  cmax: 40,\n  lmin: 70,\n  lmax: 100\n};\n\nvar FancyDark = {\n  name: 'Fancy (dark background)',\n  dark: true,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 8,\n  cmax: 40,\n  lmin: 7,\n  lmax: 40\n};\n\nvar Tarnish = {\n  name: 'Tarnish',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 0,\n  cmax: 15,\n  lmin: 30,\n  lmax: 70\n};\n\nvar Pastel = {\n  name: 'Pastel',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 0,\n  cmax: 30,\n  lmin: 70,\n  lmax: 100\n};\n\nvar Pimp = {\n  name: 'Pimp',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 30,\n  cmax: 100,\n  lmin: 25,\n  lmax: 70\n};\n\nvar Intense = {\n  name: 'Intense',\n  dark: false,\n  clbl: false,\n  hmin: 0,\n  hmax: 360,\n  cmin: 20,\n  cmax: 100,\n  lmin: 15,\n  lmax: 80\n};\n\nvar Fluo = {\n  name: 'Fluo',\n  dark: true,\n  clbl: false,\n  hmin: 0,\n  hmax: 300,\n  cmin: 35,\n  cmax: 100,\n  lmin: 75,\n  lmax: 100\n};\n\nvar RedRoses = {\n  name: 'Red Roses',\n  dark: true,\n  clbl: false,\n  hmin: 330,\n  hmax: 20,\n  cmin: 10,\n  cmax: 100,\n  lmin: 35,\n  lmax: 100\n};\n\nvar OchreSand = {\n  name: 'Ochre Sand',\n  dark: true,\n  clbl: false,\n  hmin: 20,\n  hmax: 60,\n  cmin: 20,\n  cmax: 50,\n  lmin: 35,\n  lmax: 100\n};\n\nvar YellowLime = {\n  name: 'Yellow Lime',\n  dark: true,\n  clbl: false,\n  hmin: 60,\n  hmax: 90,\n  cmin: 10,\n  cmax: 100,\n  lmin: 35,\n  lmax: 100\n};\n\nvar GreenMint = {\n  name: 'Green Mint',\n  dark: true,\n  clbl: false,\n  hmin: 90,\n  hmax: 150,\n  cmin: 10,\n  cmax: 100,\n  lmin: 35,\n  lmax: 100\n};\n\nvar IceCube = {\n  name: 'Ice Cube',\n  dark: true,\n  clbl: false,\n  hmin: 150,\n  hmax: 200,\n  cmin: 0,\n  cmax: 100,\n  lmin: 35,\n  lmax: 100\n};\n\nvar BlueOcean = {\n  name: 'Blue Ocean',\n  dark: true,\n  clbl: false,\n  hmin: 220,\n  hmax: 260,\n  cmin: 8,\n  cmax: 80,\n  lmin: 0,\n  lmax: 50\n};\n\nvar IndigoNight = {\n  name: 'Indigo Night',\n  dark: true,\n  clbl: false,\n  hmin: 260,\n  hmax: 290,\n  cmin: 40,\n  cmax: 100,\n  lmin: 35,\n  lmax: 100\n};\n\nvar PurpleWine = {\n  name: 'Purple Wine',\n  dark: true,\n  clbl: false,\n  hmin: 290,\n  hmax: 330,\n  cmin: 0,\n  cmax: 100,\n  lmin: 0,\n  lmax: 40\n};\n\n// cold, dark metropolis\n\nvar MetroCold3 = ['#1bcebf', '#1572ca', '#5f26c1'];\n\nvar MetroCold4 = ['#1bcebf', '#24bbd2', '#1572ca', '#5f26c1'];\n\nvar MetroCold5 = ['#1bcebf', '#24bbd2', '#1572ca', '#1f33a1', '#5f26c1'];\n\nvar MetroDawn3 = ['#ffe100', '#ffbf00', '#ff5730'];\n\nvar MetroDawn4 = ['#ffe100', '#ffbf00', '#ff5730', '#eb3ba6'];\n\nvar MetroRain3 = ['#79e70f', '#10d9ec', '#1f97e7'];\n\nvar MetroRain8 = ['#abe70f', '#79e70f', '#0fe71f', '#0fe7d4', '#10d9ec', '#10c5ec', '#1fb2e7', '#1f97e7'];\n\n/**\n * Ellsworth Kelly's Spectrum V in the Met\n * http://www.metmuseum.org/art/collection/search/489800\n *\n */\nvar TheMetDark = ['#947702', '#57781d', '#38753c', '#115b5e', '#395558', '#49424a', '#603830', '#6e3e58', '#9a4143', '#ac3e1b', '#a84502', '#ab4400', '#b45800', '#9b6f00'];\n\nvar TheMetLight = ['#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', '#2196F3', '#03A9F4', '#00BCD4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', '#FF5722'];\n\n/* taken from https://simplestatistics.org/ */\n\n/**\n * For a sorted input, counting the number of unique values\n * is possible in constant time and constant memory. This is\n * a simple implementation of the algorithm.\n *\n * Values are compared with `===`, so objects and non-primitive objects\n * are not handled in any special way.\n *\n * @param {Array<*>} x an array of any kind of value\n * @returns {number} count of unique values\n * @example\n * uniqueCountSorted([1, 2, 3]); // => 3\n * uniqueCountSorted([1, 1, 1]); // => 1\n */\nvar uniqueCountSorted = function uniqueCountSorted(x /*: Array<any>*/) /*: number */{\n  var uniqueValueCount = 0,\n      lastSeenValue = void 0;\n  for (var i = 0; i < x.length; i++) {\n    if (i === 0 || x[i] !== lastSeenValue) {\n      lastSeenValue = x[i];\n      uniqueValueCount++;\n    }\n  }\n  return uniqueValueCount;\n};\n\n/* taken from https://simplestatistics.org/ */\n\n/**\n * Sort an array of numbers by their numeric value, ensuring that the\n * array is not changed in place.\n *\n * This is necessary because the default behavior of .sort\n * in JavaScript is to sort arrays as string values\n *\n *     [1, 10, 12, 102, 20].sort()\n *     // output\n *     [1, 10, 102, 12, 20]\n *\n * @param {Array<number>} x input array\n * @return {Array<number>} sorted array\n * @private\n * @example\n * numericSort([3, 2, 1]) // => [1, 2, 3]\n */\nvar numericSort = function numericSort(x /*: Array<number> */) /*: Array<number> */{\n  return x\n  // ensure the array is not changed in-place\n  .slice()\n  // comparator function that treats input as numeric\n  .sort(function (a, b) {\n    return a - b;\n  });\n};\n\n/* taken from https://simplestatistics.org/ */\n\n/**\n * Create a new column x row matrix.\n *\n * @private\n * @param {number} columns\n * @param {number} rows\n * @return {Array<Array<number>>} matrix\n * @example\n * makeMatrix(10, 10);\n */\nfunction makeMatrix(columns, rows) {\n  var matrix = [];\n  for (var i = 0; i < columns; i++) {\n    var column = [];\n    for (var j = 0; j < rows; j++) {\n      column.push(0);\n    }\n    matrix.push(column);\n  }\n  return matrix;\n}\n\n/**\n * Generates incrementally computed values based on the sums and sums of\n * squares for the data array\n *\n * @private\n * @param {number} j\n * @param {number} i\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n * @return {number}\n * @example\n * ssq(0, 1, [-1, 0, 2], [1, 1, 5]);\n */\nfunction ssq(j, i, sums, sumsOfSquares) {\n  var sji = void 0; // s(j, i)\n  if (j > 0) {\n    var muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)\n    sji = sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;\n  } else {\n    sji = sumsOfSquares[i] - sums[i] * sums[i] / (i + 1);\n  }\n  if (sji < 0) {\n    return 0;\n  }\n  return sji;\n}\n\n/**\n * Function that recursively divides and conquers computations\n * for cluster j\n *\n * @private\n * @param {number} iMin Minimum index in cluster to be computed\n * @param {number} iMax Maximum index in cluster to be computed\n * @param {number} cluster Index of the cluster currently being computed\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n */\nfunction fillMatrixColumn(iMin, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares) {\n  if (iMin > iMax) {\n    return;\n  }\n\n  // Start at midpoint between iMin and iMax\n  var i = Math.floor((iMin + iMax) / 2);\n\n  matrix[cluster][i] = matrix[cluster - 1][i - 1];\n  backtrackMatrix[cluster][i] = i;\n\n  var jlow = cluster; // the lower end for j\n\n  if (iMin > cluster) {\n    jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);\n  }\n  jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);\n\n  var jhigh = i - 1; // the upper end for j\n  if (iMax < matrix.length - 1) {\n    jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);\n  }\n\n  var sji = void 0;\n  var sjlowi = void 0;\n  var ssqjlow = void 0;\n  var ssqj = void 0;\n  for (var j = jhigh; j >= jlow; --j) {\n    sji = ssq(j, i, sums, sumsOfSquares);\n\n    if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) {\n      break;\n    }\n\n    // Examine the lower bound of the cluster border\n    sjlowi = ssq(jlow, i, sums, sumsOfSquares);\n\n    ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];\n\n    if (ssqjlow < matrix[cluster][i]) {\n      // Shrink the lower bound\n      matrix[cluster][i] = ssqjlow;\n      backtrackMatrix[cluster][i] = jlow;\n    }\n    jlow++;\n\n    ssqj = sji + matrix[cluster - 1][j - 1];\n    if (ssqj < matrix[cluster][i]) {\n      matrix[cluster][i] = ssqj;\n      backtrackMatrix[cluster][i] = j;\n    }\n  }\n\n  fillMatrixColumn(iMin, i - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n  fillMatrixColumn(i + 1, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n}\n\n/**\n * Initializes the main matrices used in Ckmeans and kicks\n * off the divide and conquer cluster computation strategy\n *\n * @private\n * @param {Array<number>} data sorted array of values\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n */\nfunction fillMatrices(data, matrix, backtrackMatrix) {\n  var nValues = matrix[0].length;\n\n  // Shift values by the median to improve numeric stability\n  var shift = data[Math.floor(nValues / 2)];\n\n  // Cumulative sum and cumulative sum of squares for all values in data array\n  var sums = [];\n  var sumsOfSquares = [];\n\n  // Initialize first column in matrix & backtrackMatrix\n  for (var i = 0, shiftedValue; i < nValues; ++i) {\n    shiftedValue = data[i] - shift;\n    if (i === 0) {\n      sums.push(shiftedValue);\n      sumsOfSquares.push(shiftedValue * shiftedValue);\n    } else {\n      sums.push(sums[i - 1] + shiftedValue);\n      sumsOfSquares.push(sumsOfSquares[i - 1] + shiftedValue * shiftedValue);\n    }\n\n    // Initialize for cluster = 0\n    matrix[0][i] = ssq(0, i, sums, sumsOfSquares);\n    backtrackMatrix[0][i] = 0;\n  }\n\n  // Initialize the rest of the columns\n  var iMin = void 0;\n  for (var cluster = 1; cluster < matrix.length; ++cluster) {\n    if (cluster < matrix.length - 1) {\n      iMin = cluster;\n    } else {\n      // No need to compute matrix[K-1][0] ... matrix[K-1][N-2]\n      iMin = nValues - 1;\n    }\n\n    fillMatrixColumn(iMin, nValues - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);\n  }\n}\n\n/**\n * Ckmeans clustering is an improvement on heuristic-based clustering\n * approaches like Jenks. The algorithm was developed in\n * [Haizhou Wang and Mingzhou Song](http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Wang+Song.pdf)\n * as a [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming) approach\n * to the problem of clustering numeric data into groups with the least\n * within-group sum-of-squared-deviations.\n *\n * Minimizing the difference within groups - what Wang & Song refer to as\n * `withinss`, or within sum-of-squares, means that groups are optimally\n * homogenous within and the data is split into representative groups.\n * This is very useful for visualization, where you may want to represent\n * a continuous variable in discrete color or style groups. This function\n * can provide groups that emphasize differences between data.\n *\n * Being a dynamic approach, this algorithm is based on two matrices that\n * store incrementally-computed values for squared deviations and backtracking\n * indexes.\n *\n * This implementation is based on Ckmeans 3.4.6, which introduced a new divide\n * and conquer approach that improved runtime from O(kn^2) to O(kn log(n)).\n *\n * Unlike the [original implementation](https://cran.r-project.org/web/packages/Ckmeans.1d.dp/index.html),\n * this implementation does not include any code to automatically determine\n * the optimal number of clusters: this information needs to be explicitly\n * provided.\n *\n * ### References\n * _Ckmeans.1d.dp: Optimal k-means Clustering in One Dimension by Dynamic\n * Programming_ Haizhou Wang and Mingzhou Song ISSN 2073-4859\n *\n * from The R Journal Vol. 3/2, December 2011\n * @param {Array<number>} x input data, as an array of number values\n * @param {number} nClusters number of desired classes. This cannot be\n * greater than the number of values in the data array.\n * @returns {Array<Array<number>>} clustered input\n * @throws {Error} if the number of requested clusters is higher than the size of the data\n * @example\n * ckmeans([-1, 2, -1, 2, 4, 5, 6, -1, 2, -1], 3);\n * // The input, clustered into groups of similar numbers.\n * //= [[-1, -1, -1, -1], [2, 2, 2], [4, 5, 6]]);\n */\nvar ckmeans = function ckmeans(x /*: Array<number> */\n, nClusters /*: number */\n) /*: Array<Array<number>> */{\n  if (nClusters > x.length) {\n    throw new Error('cannot generate more classes than there are data values');\n  }\n\n  var sorted = numericSort(x),\n\n  // we'll use this as the maximum number of clusters\n  uniqueCount = uniqueCountSorted(sorted);\n\n  // if all of the input values are identical, there's one cluster\n  // with all of the input in it.\n  if (uniqueCount === 1) {\n    return [sorted];\n  }\n\n  // named 'S' originally\n  var matrix = makeMatrix(nClusters, sorted.length),\n\n  // named 'J' originally\n  backtrackMatrix = makeMatrix(nClusters, sorted.length);\n\n  // This is a dynamic programming way to solve the problem of minimizing\n  // within-cluster sum of squares. It's similar to linear regression\n  // in this way, and this calculation incrementally computes the\n  // sum of squares that are later read.\n  fillMatrices(sorted, matrix, backtrackMatrix);\n\n  // The real work of Ckmeans clustering happens in the matrix generation:\n  // the generated matrices encode all possible clustering combinations, and\n  // once they're generated we can solve for the best clustering groups\n  // very quickly.\n  var clusters = [],\n      clusterRight = backtrackMatrix[0].length - 1;\n\n  // Backtrack the clusters from the dynamic programming matrix. This\n  // starts at the bottom-right corner of the matrix (if the top-left is 0, 0),\n  // and moves the cluster target with the loop.\n  for (var cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--) {\n    var clusterLeft = backtrackMatrix[cluster][clusterRight];\n\n    // fill the cluster from the sorted input by taking a slice of the\n    // array. the backtrack matrix makes this easy - it stores the\n    // indexes where the cluster should start and end.\n    clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);\n\n    if (cluster > 0) {\n      clusterRight = clusterLeft - 1;\n    }\n  }\n\n  return clusters;\n};\n\nvar warn = function warn(msg) {\n  if (console) {\n    console.warn(msg);\n  }\n};\n\nvar _smartSequential = function _smartSequential(_scheme, _data) {\n  var _scale = scaleLinear();\n\n  var schemeLen = _scheme.length;\n  var dataLen = _data.length;\n\n  var theDarkest = _scheme[schemeLen - 1];\n\n  if (schemeLen === 0) ; else if (dataLen === 1) {\n    // use the darkest\n    _scale = scaleOrdinal().domain(_data[0]).range([theDarkest]);\n  } else if (dataLen === schemeLen) {\n    // use every single color\n    _scale.domain(_data).range(_scheme);\n  } else if (dataLen < schemeLen) {\n    // sort data from the smallest to the largest\n\n    var _trimmed = new Array(dataLen);\n\n    for (var i = dataLen - 2; i > 0; i--) {\n      _trimmed[i] = _scheme[i];\n    }\n\n    _trimmed[0] = _scheme[0];\n    _trimmed[dataLen - 1] = theDarkest;\n\n    _scale.domain(_data).range(_trimmed);\n  } else {\n    // use kmeans\n    var clusters = ckmeans(_data, schemeLen - 1);\n    var breakpoints = clusters.map(function (d) {\n      return d[d.length - 1];\n    });\n    var _domain = [clusters[0][0]].concat(breakpoints);\n\n    _scale.domain(_domain).range(_scheme);\n  }\n\n  return _scale;\n};\n\nvar gradientColor = function gradientColor(scheme, _data) {\n  var _scheme = void 0;\n\n  if (!isString(scheme) && !isArray(scheme) && !isFunction(scheme)) {\n    warn('color scheme is invalid: should be string, array or d3 interpolator');\n    warn('MetroRain3 will be used by default');\n    _scheme = MetroRain3;\n  } else {\n    _scheme = scheme;\n  }\n\n  if (isString(_scheme)) {\n    var _interpolated = interpolateSequentialScheme(_scheme);\n    if (_interpolated === null) {\n      warn('color scheme is not found');\n      warn('MetroRain3 will be used by default');\n      _scheme = MetroRain3;\n\n      return _smartSequential(_scheme, _data);\n    } else {\n      return scaleSequential(_interpolated).domain(extent(_data));\n    }\n  } else if (isFunction(_scheme)) {\n    return scaleSequential(_scheme).domain(extent(_data));\n  } else if (isArray(_scheme)) {\n    return _smartSequential(_scheme, _data);\n  }\n};\n\nvar _distinctStops = function _distinctStops(scheme, distinction) {\n  var _color = scaleSequential(scheme).domain(extent(distinction));\n  return distinction.sort(ascending).map(function (d) {\n    return _color(d);\n  });\n};\n\nvar distinctColor = function distinctColor(scheme) {\n  var distinction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0.33, 0.66, 1];\n\n  if (distinction.length < 2) {\n    warn('distinction  must contains at least 3 elements, [0, 0.33, 0.66, 1] will be used by default');\n  }\n\n  var _distinction = distinction.length < 2 ? [0, 0.33, 0.66, 1] : distinction;\n\n  var _scheme = void 0;\n\n  if (!isString(scheme) && !isArray(scheme) && !isFunction(scheme)) {\n    warn('color scheme is invalid: should be string, array or d3 interpolator');\n    warn(' MetroRain3 will be used by default');\n    _scheme = MetroRain3;\n  } else {\n    _scheme = scheme;\n  }\n\n  var _scale = scaleQuantile().domain(_distinction);\n\n  if (isString(_scheme)) {\n    var _interpolated = interpolateSequentialScheme(_scheme);\n\n    if (_interpolated === null) {\n      warn('color scheme is not found');\n      warn('MetroRain3 will be used by default');\n\n      _scheme = MetroRain3;\n      _scale.range(_scheme);\n    } else {\n      _scale.range(_distinctStops(_interpolated, _distinction));\n    }\n  } else if (isFunction(_scheme)) {\n    _scale.range(_distinctStops(_scheme, _distinction));\n  } else if (isArray(_scheme)) {\n    _scale.range(_scheme);\n  }\n\n  return _scale;\n};\n\nvar interpolateDivergentScheme = function interpolateDivergentScheme(_scheme) {\n  switch (_scheme) {\n    // categorical\n    case SchemeBrBG:\n      return interpolateBrBG;\n\n    case SchemePRGn:\n      return interpolatePRGn;\n\n    case SchemePiYG:\n      return interpolatePiYG;\n\n    case SchemePuOr:\n      return interpolatePuOr;\n\n    case SchemeRdBu:\n      return interpolateRdBu;\n\n    case SchemeRdGy:\n      return interpolateRdGy;\n\n    case SchemeRdYlBu:\n      return interpolateRdYlBu;\n\n    case SchemeRdYlGn:\n      return interpolateRdYlGn;\n\n    case SchemeSpectral:\n      return interpolateSpectral;\n\n    default:\n      return null;\n  }\n};\n\nvar divergentColor = function divergentColor(scheme) {\n  warn('divergent not implemented yet');\n\n  var _scheme = void 0;\n  if (!isString(scheme) && !isArray(scheme) && !isFunction(scheme)) {\n    warn('color scheme is invalid: should be string, array or d3 interpolator');\n    warn('SchemeRdYlGn will be used by default');\n    _scheme = SchemeRdYlGn;\n  } else {\n    _scheme = scheme;\n  }\n\n  if (isString(_scheme)) {\n    var _interpolated = interpolateDivergentScheme(_scheme);\n\n    if (_interpolated === null) {\n      warn('color scheme is not found');\n      warn('SchemeRdYlGn will be used by default');\n\n      _scheme = SchemeRdYlGn;\n      return scaleSequential(interpolateDivergentScheme(_scheme));\n    } else {\n      return scaleSequential(_interpolated);\n    }\n  } else if (isFunction(_scheme)) {\n    return scaleSequential(_scheme);\n  } else {\n    return null;\n  }\n};\n\nvar interpolateCategoricalScheme = function interpolateCategoricalScheme(_scheme) {\n  switch (_scheme) {\n    // categorical\n    case SchemeAccent:\n      return schemeAccent;\n\n    case SchemeDark2:\n      return schemeDark2;\n\n    case SchemePaired:\n      return schemePaired;\n\n    case SchemePastel1:\n      return schemePastel1;\n\n    case SchemePastel2:\n      return schemePastel2;\n\n    case SchemeSet1:\n      return schemeSet1;\n\n    case SchemeSet2:\n      return schemeSet2;\n\n    case SchemeSet3:\n      return schemeSet3;\n\n    // categorical\n    case SchemeCategory10:\n      return schemeCategory10;\n\n    default:\n      return null;\n  }\n};\n\nvar _selectFromScheme = function _selectFromScheme(interpolator, distinction) {\n  var scale = scaleSequential(interpolator);\n\n  if (distinction <= 1) {\n    return scale(1);\n  } else {\n    //https://github.com/d3/d3-array#range\n    return range(distinction).map(function (d) {\n      return scale(d / (distinction - 1));\n    });\n  }\n};\n\nvar categoricalColor = function categoricalColor(scheme) {\n  var distinction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (!isString(scheme) && !isArray(scheme) && !isFunction(scheme)) {\n    warn('color scheme is invalid: should be string, array or d3 interpolator');\n    warn('MetroRain8 will be used by default');\n    scheme = MetroRain8;\n  }\n\n  var selectNum = distinction <= 1 ? 12 : distinction;\n  // warn('categorical number is invalid: should be larger than 0');\n  // warn('12 will be used by default');\n\n  if (isString(scheme)) {\n    var colorSet = interpolateCategoricalScheme(scheme) || interpolateSequentialScheme(scheme) || interpolateDivergentScheme(scheme);\n\n    if (colorSet != null) {\n      if (isArray(colorSet)) {\n        return scaleOrdinal().range(colorSet);\n      } else {\n        return scaleOrdinal().range(_selectFromScheme(colorSet, selectNum));\n      }\n    } else {\n      return scaleOrdinal().range(MetroRain8);\n    }\n  } else if (isFunction(scheme)) {\n    return scaleOrdinal().range(_selectFromScheme(scheme, selectNum));\n  } else {\n    return scaleOrdinal().range(scheme);\n  }\n};\n\nvar Globals = {\n  DataType: {\n    DATE: 'date',\n    NUMBER: 'number',\n    STRING: 'string'\n  },\n\n  ColorType: {\n    GRADIENT: 'gradient',\n    DISTINCT: 'distinct',\n    CATEGORICAL: 'categorical',\n    DIVERGENT: 'divergent'\n  }\n};\n\nvar genericColor = function genericColor(color, data) {\n  var _scheme = color.scheme;\n  var _type = color.type;\n\n  switch (_type) {\n    case Globals.ColorType.GRADIENT:\n      return gradientColor(_scheme, data);\n\n    case Globals.ColorType.DISTINCT:\n      var _valMap = data ? color.distinction.map(function (d) {\n        return max(data) * +d;\n      }) : color.distinction;\n\n      return distinctColor(_scheme, _valMap);\n\n    case Globals.ColorType.DIVERGENT:\n      return divergentColor(_scheme, data);\n\n    case Globals.ColorType.CATEGORICAL:\n      return categoricalColor(_scheme);\n\n    default:\n      warn('color type should be gradient, distinct, divergent or categorical');\n      break;\n  }\n};\n\nvar DefaultDataComposer = function DefaultDataComposer(data, opt, cleanse) {\n    return data;\n};\nvar DefaultColorComposer = function DefaultColorComposer(color, data, opt) {\n    return genericColor(color);\n};\n\nvar makeComposers = function makeComposers(comp) {\n    return {\n        opt: comp.opt || null,\n        data: comp.data || DefaultDataComposer,\n        color: comp.color || DefaultColorComposer\n    };\n};\n\nvar apiOn = function apiOn(state) {\n  return {\n    on: function on(name, callback) {\n      state._listeners.on(name, callback);\n    }\n  };\n};\n\nvar apiColor = function apiColor(state) {\n  return {\n    color: function color(_color) {\n      state._options.color = _color;\n      state._color = genericColor(_color);\n    }\n  };\n};\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache();\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' + funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty$3.call(data, key);\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash(),\n    'map': new (Map || ListCache)(),\n    'string': new Hash()\n  };\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nvar defineProperty$1 = function () {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}();\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty$1) {\n    defineProperty$1(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function (object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/** Detect free variable `exports`. */\nvar freeExports = (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && (typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = function () {\n  function object() {}\n  return function (proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object();\n    object.prototype = undefined;\n    return result;\n  };\n}();\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return typeof object.constructor == 'function' && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$6 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$6.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$6.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function () {\n  return arguments;\n}()) ? baseIsArguments : function (value) {\n  return isObjectLike(value) && hasOwnProperty$4.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n};\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && (typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Built-in value references. */\nvar Buffer$1 = moduleExports$1 ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer$1 ? Buffer$1.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto$2 = Function.prototype,\n    objectProto$7 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$2 = funcProto$2.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString$2.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty$5.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString$2.call(Ctor) == objectCtorString;\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag$1 = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag$1 = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag$1 = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag$1] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag$1] = typedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$2 = (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$2 = freeExports$2 && (typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$2 = freeModule$2 && freeModule$2.exports === freeExports$2;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$2 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = function () {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule$2 && freeModule$2.require && freeModule$2.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}();\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/** Used for built-in method references. */\nvar objectProto$8 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$6 = objectProto$8.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$6.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n\n  return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n\n/** Used for built-in method references. */\nvar objectProto$9 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$7 = objectProto$9.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$7.call(value, key)) && !(skipIndexes && (\n    // Safari 9 has enumerable `arguments.length` in strict mode.\n    key == 'length' ||\n    // Node.js 0.10 has enumerable non-index properties on buffers.\n    isBuff && (key == 'offset' || key == 'parent') ||\n    // PhantomJS 2 has enumerable non-index properties on typed arrays.\n    isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') ||\n    // Skip index properties.\n    isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$a = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$8 = objectProto$a.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty$8.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer ? customizer(objValue, srcValue, key + '', object, source, stack) : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      } else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      } else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      } else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      } else {\n        newValue = [];\n      }\n    } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      } else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    } else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function (srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack());\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    } else {\n      var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + '', object, source, stack) : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n    case 1:\n      return func.call(thisArg, args[0]);\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function () {\n    return value;\n  };\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty$1 ? identity : function (func, string) {\n  return defineProperty$1(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function () {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index === 'undefined' ? 'undefined' : _typeof(index);\n  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function (object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = assigner.length > 3 && typeof customizer == 'function' ? (length--, customizer) : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function (object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function (object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nvar MergeCustomizer = function MergeCustomizer(objValue, srcValue) {\n  if (isArray(objValue)) {\n    var hasObjDef = false;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = objValue[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var d = _step.value;\n\n        if (isObject(d)) {\n          hasObjDef = true;\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    if (hasObjDef === false) {\n      // copy rather than concat\n      return srcValue;\n    } else if (objValue.length === 0) {\n      // target is placeholder but not template\n      return srcValue;\n    } else if (objValue.length === 1) {\n      // the single and first value is used as template\n      var _template = objValue[0];\n\n      return srcValue.map(function (d) {\n        return merge(Object.assign({}, _template), d);\n      });\n    } else {\n      // target has multiple values, all source are merged by index\n\n      return objValue.map(function (d, i) {\n        var _tep = Object.assign({}, d);\n\n        if (srcValue.length > i) {\n          return merge(_tep, srcValue[i]);\n        } else {\n          return _tep;\n        }\n      });\n    }\n  }\n};\n\nvar merge$1 = function merge(target, source) {\n  if (source === undefined || source === null) return target;\n\n  mergeWith(target, source, MergeCustomizer);\n\n  return target;\n};\n\nvar apiOptions = function apiOptions(state) {\n  return {\n    options: function options(opt) {\n      state._options = merge$1(state._options, opt);\n      return state._options;\n    }\n  };\n};\n\nvar apiData = function apiData(state) {\n  return {\n    data: function data(_data) {\n      if (_data !== undefined && _data !== null) {\n        state._data = state._composers.data(_data, state._options, true);\n      }\n\n      return state._data;\n    }\n  };\n};\n\nvar renderSVG = function renderSVG(containerId, opt) {\n  var container = select(containerId).append('svg').attr('width', opt.chart.width).attr('height', opt.chart.height).attr('preserveAspectRatio', 'xMinYMin meet').attr('viewBox', '0 0 ' + opt.chart.width + ' ' + opt.chart.height).classed('vizart-chart', true);\n\n  var svg = container.append('g').attr('transform', 'translate(' + opt.chart.margin.left + ',' + opt.chart.margin.top + ')');\n\n  return {\n    container: container,\n    svg: svg\n  };\n};\n\nvar apiRender = function apiRender(state) {\n  return {\n    render: function render(data) {\n      state._data = state._composers.data(data, state._options, true);\n      state._color = state._composers.color(state._options.color, state._data, state._options);\n\n      var _renderSVG = renderSVG(state._containerId, state._options),\n          container = _renderSVG.container,\n          svg = _renderSVG.svg;\n\n      state._container = container;\n      state._svg = svg;\n    }\n  };\n};\n\nvar apiUpdate = function apiUpdate(state) {\n  return {\n    update: function update() {\n      state._data = state._composers.data(state._data, state._options, false);\n      state._color = state._composers.color(state._options.color, state._data, state._options);\n    }\n  };\n};\n\nvar s4 = function s4() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n};\n\nvar uuid = function uuid() {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n};\n\n// isMobile\nvar isMobile = function isMobile() {\n  return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4))\n  );\n};\n\nvar containerWidth = function containerWidth(container) {\n  return parseInt(container.node().getBoundingClientRect().width, 10) || 400;\n};\nvar containerHeight = function containerHeight(container) {\n  return parseInt(container.node().getBoundingClientRect().height, 10) || 300;\n};\n\n/*\n Sanitize and provide default for the container height.\n */\nvar sanitizeHeight = function sanitizeHeight(container) {\n  return container.node() === null ? 0 : containerHeight(container) || 300;\n};\n\n/*\n Sanitize and provide default for the container width.\n */\nvar sanitizeWidth = function sanitizeWidth(container) {\n  return container.node() === null ? 0 : containerWidth(container) || 400;\n};\n\nvar isDefined = function isDefined(d) {\n  return d !== undefined && d !== null && !Number.isNaN(d);\n};\n\nvar assignContainerBound = function assignContainerBound(containerId, opt) {\n  var _opt$chart = opt.chart,\n      userWidth = _opt$chart.width,\n      userHeight = _opt$chart.height,\n      _opt$chart$margin = _opt$chart.margin,\n      top = _opt$chart$margin.top,\n      bottom = _opt$chart$margin.bottom,\n      left = _opt$chart$margin.left,\n      right = _opt$chart$margin.right;\n\n\n  var container = select(containerId);\n\n  // check if user setting is valid\n  if (isDefined(userWidth)) {\n    if (userWidth <= left + right) {\n      warn('invalid width setting has been ignored');\n      delete opt.chart['width'];\n    }\n  }\n\n  if (isDefined(userHeight)) {\n    if (userHeight <= top + bottom) {\n      warn('invalid height setting has been ignored');\n      delete opt.chart['height'];\n    }\n  }\n\n  // user setting has priority\n  if (!isDefined(opt.chart.width)) {\n    opt.chart.width = sanitizeWidth(container);\n  }\n\n  if (!isDefined(opt.chart.height)) {\n    opt.chart.height = sanitizeHeight(container);\n  }\n\n  opt.chart.innerWidth = opt.chart.width - left - right;\n  opt.chart.innerHeight = opt.chart.height - top - bottom;\n\n  return opt;\n};\n\nvar baseOpt = function baseOpt() {\n    return {\n        // v1.0\n        chart: {\n            type: null,\n            width: null,\n            height: null,\n            className: null,\n            margin: {\n                left: 0,\n                right: 0,\n                top: 0,\n                bottom: 0\n            },\n            background: {\n                color: null,\n                opacity: 1\n            }\n        },\n        animation: {\n            enabled: true,\n            duration: {\n                add: 500,\n                update: 1000,\n                remove: 500,\n                color: 500,\n                tooltip: 0,\n                quickUpdate: 500\n            }\n        },\n        events: {\n            render: null,\n            update: null,\n            drilldown: null,\n            drillup: null,\n            drillupall: null,\n            selection: null\n        },\n        color: {\n            scheme: '', // string or array\n            type: '',\n            kmeans: true\n        },\n        plots: {},\n        tooltip: {\n            className: null,\n            enabled: true,\n            duration: 500,\n            offset: [30, 30],\n            formatter: function formatter() {}\n        },\n        data: {},\n\n        // v2.0\n        title: {\n            enabled: false,\n            text: null,\n            style: '',\n            align: 'center'\n        },\n\n        legend: {\n            enabled: false\n        }\n    };\n};\n\nvar mergeOptions = function mergeOptions() {\n  for (var _len = arguments.length, opts = Array(_len), _key = 0; _key < _len; _key++) {\n    opts[_key] = arguments[_key];\n  }\n\n  var base = Object.assign({}, baseOpt());\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = opts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var o = _step.value;\n\n      merge$1(base, o);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return base;\n};\n\nvar StandardDispatchers = {\n    Rendered: 'rendered'\n};\n\nvar initOpt = function initOpt(userOpt, composer) {\n    var opt = composer.opt;\n\n\n    if (typeof opt === 'function') {\n        return opt(userOpt);\n    } else if (Array.isArray(opt)) {\n        return mergeOptions.apply(undefined, toConsumableArray(opt).concat([userOpt]));\n    } else {\n        return mergeOptions(opt, userOpt);\n    }\n};\n\nvar initState = function initState(containerId, opt, composers) {\n    return {\n        _isMobileSize: isMobile(),\n        _id: uuid(),\n        _listeners: dispatch(Object.values(StandardDispatchers)),\n        _options: assignContainerBound(containerId, initOpt(opt, composers)),\n        _data: [],\n        _color: null,\n        _container: null,\n        _containerId: containerId,\n        _composers: composers\n    };\n};\n\nvar svgLayer = function svgLayer(containerId, opt, composers) {\n  var state = initState(containerId, opt, makeComposers(composers));\n\n  return Object.assign(state, apiOn(state), apiColor(state), apiOptions(state), apiData(state), apiRender(state), apiUpdate(state));\n};\n\nvar apiRender$1 = function apiRender$$1(state) {\n  return {\n    render: function render(data) {\n      apiRender(state).render(data);\n\n      var container = state._container,\n          containerId = state._containerId,\n          frontCanvasId = state._frontCanvasId,\n          hiddenCanvasId = state._hiddenCanvasId,\n          opts = state._options;\n\n\n      container.style('position', 'absolute').style('pointer-events', 'none');\n\n      var detachedContainer = select(containerId).append('vizart-detached');\n      var devicePixelRatio = window.devicePixelRatio || 1;\n      var frontCanvas = select(containerId).append('canvas').attr('id', frontCanvasId).style('position', 'absolute').style('display', 'block').style('width', opts.chart.innerWidth + 'px').style('height', opts.chart.innerHeight + 'px').style('margin', opts.chart.margin.top + 'px 0 0 ' + opts.chart.margin.left + 'px ').attr('width', opts.chart.innerWidth * devicePixelRatio).attr('height', opts.chart.innerHeight * devicePixelRatio);\n\n      var hiddenCanvas = select(containerId).append('canvas').attr('id', hiddenCanvasId).style('position', 'absolute').style('display', 'none').style('width', opts.chart.innerWidth + 'px').style('height', opts.chart.innerHeight + 'px').style('margin', opts.chart.margin.top + 'px 0 0 ' + opts.chart.margin.left + 'px ').attr('width', opts.chart.innerWidth * devicePixelRatio).attr('height', opts.chart.innerHeight * devicePixelRatio);\n\n      var hiddenContext = hiddenCanvas.node().getContext('2d');\n      var frontContext = frontCanvas.node().getContext('2d');\n\n      hiddenContext.mozImageSmoothingEnabled = false;\n      hiddenContext.webkitImageSmoothingEnabled = false;\n      hiddenContext.msImageSmoothingEnabled = false;\n      hiddenContext.imageSmoothingEnabled = false;\n\n      var backingStoreRatio = frontContext.webkitBackingStorePixelRatio || frontContext.mozBackingStorePixelRatio || frontContext.msBackingStorePixelRatio || frontContext.oBackingStorePixelRatio || frontContext.backingStorePixelRatio || 1;\n\n      var ratio = devicePixelRatio / backingStoreRatio;\n      var canvasScale = ratio;\n      frontContext.scale(ratio, ratio);\n      hiddenContext.scale(ratio, ratio);\n\n      state._frontCanvas = frontCanvas;\n      state._hiddenCanvas = hiddenCanvas;\n      state._frontContext = frontContext;\n      state._hiddenContext = hiddenContext;\n      state._canvasScale = canvasScale;\n      state._detachedContainer = detachedContainer;\n    }\n  };\n};\n\nvar drawCell = function drawCell(context, cell) {\n  if (!cell) return false;\n  context.moveTo(cell[0][0], cell[0][1]);\n  for (var j = 1, m = cell.length; j < m; ++j) {\n    context.lineTo(cell[j][0], cell[j][1]);\n  }\n  context.closePath();\n  return true;\n};\n\nvar drawVoronoi = function drawVoronoi(context, diagram, color) {\n  context.save();\n  var polygons = diagram.polygons();\n\n  context.beginPath();\n  context.lineWidth = 1;\n  context.strokeStyle = color;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = polygons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var p = _step.value;\n\n      drawCell(context, p);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  context.stroke();\n  context.closePath();\n  context.restore();\n};\n\nvar applyVoronoi = function applyVoronoi(context, opt, finalState) {\n  var voronoiDiagram = voronoi().x(function (d) {\n    return d.x;\n  }).y(function (d) {\n    return d.y;\n  }).extent([[-1, -1], [context.canvas.width + 1, context.canvas.height + 1]]);\n\n  return voronoiDiagram(finalState);\n};\n\n/**\n * Collapse the quadtree into an array of rectangles.\n *\n * @param quadtree\n * @returns {Array}\n */\nvar flattenQuadtree = function flattenQuadtree(quadtree$$1) {\n  var nodes = [];\n  quadtree$$1.visit(function (node, x0, y0, x1, y1) {\n    node.x0 = x0, node.y0 = y0;\n    node.x1 = x1, node.y1 = y1;\n    nodes.push(node);\n  });\n  return nodes;\n};\n\nvar drawQuadtree = function drawQuadtree(context, diagram, color) {\n  context.save();\n  var rects = flattenQuadtree(diagram);\n\n  context.beginPath();\n  context.lineWidth = 1;\n  context.strokeStyle = color;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = rects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var r = _step.value;\n\n      context.strokeRect(r.x0, r.y0, r.x1 - r.x0, r.y1 - r.y0);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  context.stroke();\n  context.closePath();\n\n  context.restore();\n};\n\nvar applyQuadtree = function applyQuadtree(context, opt, finalState) {\n  return quadtree().x(function (d) {\n    return d.x;\n  }).y(function (d) {\n    return d.y;\n  }).extent([[-1, -1], [context.canvas.width + 1, context.canvas.height + 1]]).addAll(finalState);\n};\n\n/**\n * Adjusted from: http://blog.graphicsgen.com/2015/03/html5-canvas-rounded-text.html\n *\n * @param ctx\n * @param text\n * @param fontSize\n * @param titleFont\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngle In degrees, Where the text will be shown. 0 degrees if the top of the circle\n * @param kerning 0 for normal gap between letters. Positive or negative number to expand/compact gap in pixels\n * @param textAlpha\n */\nvar drawCircularText = function drawCircularText(ctx, text, fontSize, titleFont, color, centerX, centerY, radius, startAngle, kerning) {\n  //Setup letters and positioning\n  ctx.textBaseline = 'alphabetic';\n  ctx.textAlign = 'center'; // Ensure we draw in exact center\n  ctx.font = fontSize + 'px ' + titleFont;\n  ctx.fillStyle = color;\n\n  // startAngle = startAngle * (Math.PI / 180); // convert to radians\n  text = text.split('').reverse().join(''); // Reverse letters\n\n  //Rotate 50% of total angle for center alignment\n  for (var j = 0; j < text.length; j++) {\n    var charWid = ctx.measureText(text[j]).width;\n    startAngle += (charWid + (j === text.length - 1 ? 0 : kerning)) / radius / 2;\n  } //for j\n\n  ctx.save(); //Save the default state before doing any transformations\n  ctx.translate(centerX, centerY); // Move to center\n  ctx.rotate(startAngle); //Rotate into final start position\n\n  //Now for the fun bit: draw, rotate, and repeat\n  for (var _j = 0; _j < text.length; _j++) {\n    var _charWid = ctx.measureText(text[_j]).width / 2; // half letter\n    //Rotate half letter\n    ctx.rotate(-_charWid / radius);\n    //Draw the character at \"top\" or \"bottom\" depending on inward or outward facing\n    ctx.fillText(text[_j], 0, -radius);\n    //Rotate half letter\n    ctx.rotate(-(_charWid + kerning) / radius);\n  } //for j\n\n  ctx.restore(); //Restore to state as it was before transformations\n}; //function drawCircularText\n\n/**\n * Generates the next color in the sequence, going from 0,0,0 to 255,255,255.\n * via http://stackoverflow.com/a/15804183\n *\n * @param dataIndex\n * @returns {string}\n */\nvar genColorByIndex = function genColorByIndex(dataIndex) {\n  var ret = [];\n  if (dataIndex < 16777215) {\n    ret.push(dataIndex & 0xff); // R\n    ret.push((dataIndex & 0xff00) >> 8); // G\n    ret.push((dataIndex & 0xff0000) >> 16); // B\n  }\n  return 'rgb(' + ret.join(',') + ')';\n};\n\n/**\n * add linear gradient, x0, y0 -> x1, y1\n *\n * @param context CanvasRenderingContext2D\n * @param scheme color scheme\n * @param opacity fill opacity\n */\nvar radialGradient = function radialGradient(context, scheme, opacity, centerX, centerY, innerRadius, outerRadius) {\n  var grd = context.createRadialGradient(centerX, centerY, innerRadius, centerX, centerY, outerRadius);\n\n  var stops = linearStops(scheme, opacity);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = stops[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _ref2 = _step.value;\n      var offset = _ref2.offset,\n          color = _ref2.color;\n\n      grd.addColorStop(offset, color);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return grd;\n};\n\n/**\n * add linear gradient, x0, y0 -> x1, y1\n *\n * @param context CanvasRenderingContext2D\n * @param scheme color scheme\n * @param opacity fill opacity\n */\nvar verticalGradient = function verticalGradient(context, scheme) {\n  var opacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  var grd = context.createLinearGradient(context.canvas.clientWidth / 2, context.canvas.clientHeight, context.canvas.clientWidth / 2, 0);\n\n  var stops = linearStops(scheme);\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = stops[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _ref2 = _step.value;\n      var offset = _ref2.offset,\n          color = _ref2.color;\n\n      if (opacity < 1) {\n        var hslColor = hsl(color);\n        hslColor.opacity = opacity;\n        grd.addColorStop(offset, hslColor);\n      } else {\n        grd.addColorStop(offset, color);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return grd;\n};\n\nvar apiRevealVoronoi = function apiRevealVoronoi(state) {\n  return {\n    revealVoronoi: function revealVoronoi() {\n      var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#ff5730';\n\n      if (!state.hasOwnProperty(state, '_voronoi')) {\n        console.error('voronoi is not enabled in chart');\n        return;\n      }\n\n      drawVoronoi(state._frontContext, state._voronoi, color);\n    }\n  };\n};\n\nvar apiRevealQuadtree = function apiRevealQuadtree(state) {\n  return {\n    revealQuadtree: function revealQuadtree() {\n      var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#1f97e7';\n\n      if (!state.hasOwnProperty(state, '_quadtree')) {\n        console.error('quadtree is not enabled in chart');\n        return;\n      }\n\n      drawQuadtree(state._frontContext, state._quadtree, color);\n    }\n  };\n};\n\nvar CanvasState = function CanvasState() {\n  return {\n    _hiddenCanvasId: 'hidden-canvas' + uuid(),\n    _frontCanvasId: 'front-canvas-' + uuid(),\n    _frontCanvas: null,\n    _hiddenCanvas: null,\n    _frontContext: null,\n    _hiddenContext: null,\n    _detachedContainer: null,\n    _voronoi: null,\n    _quadtree: null,\n    _animationState: null\n  };\n};\n\nvar canvasLayer = function canvasLayer(containerId, opt, composers) {\n  var base = initState(containerId, opt, makeComposers(composers));\n  var state = Object.assign(base, CanvasState());\n\n  return Object.assign(state, apiOn(state), apiColor(state), apiOptions(state), apiData(state), apiRevealVoronoi(state), apiRevealQuadtree(state), apiRender$1(state), apiUpdate(state));\n};\n\nvar compose = function compose(baseLayer, fns) {\n  return fns.reduce(function (acc, cur) {\n    acc = Object.assign(acc, cur(acc));\n    return acc;\n  }, baseLayer);\n};\n\nvar factory = function factory(baseLayer, composers, apis) {\n  return function (id, opt) {\n    return compose(baseLayer(id, opt, composers), apis);\n  };\n};\n\nvar _compose = function _compose(f, g) {\n  return function () {\n    return f(g.apply(undefined, arguments));\n  };\n};\n\nvar compose$1 = function compose() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return fns.reduce(_compose);\n};\nvar pipe = function pipe() {\n  for (var _len2 = arguments.length, fns = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return compose$1.apply(compose$1, fns.reverse());\n};\n\nvar DefaultSequentialColor = {\n  scheme: MetroRain3,\n  type: Globals.ColorType.GRADIENT\n};\n\nvar DefaultCategoricalColor = {\n  scheme: TheMetLight,\n  type: Globals.ColorType.CATEGORICAL\n};\n\n//Taken from http://bl.ocks.org/mbostock/7555321\n//Wraps SVG text\nvar wrapSVGText = function wrapSVGText(text, width) {\n  text.each(function () {\n    var text = select(this),\n        words = text.text().split(/\\s+/).reverse(),\n        word = void 0,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.4,\n        // ems\n    y = text.attr('y'),\n        x = text.attr('x'),\n        dy = parseFloat(text.attr('dy')),\n        tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');\n\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(' '));\n      if (tspan.node().getComputedTextLength() > width) {\n        line.pop();\n        tspan.text(line.join(' '));\n        line = [word];\n        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n      }\n    }\n  });\n};\n\n//Wraps SVG text - Taken from http://bl.ocks.org/mbostock/7555321\nvar wrapTextSmaller = function wrapTextSmaller(text, width) {\n  var _text = select(text),\n      words = _text.text().split(/\\s+/).reverse(),\n      currentSize = +_text.style('font-size').replace('px', ''),\n      word = void 0,\n      line = [],\n      lineNumber = 0,\n      lineHeight = 1.2,\n      // ems\n  extraHeight = 0.2,\n      y = _text.attr('y'),\n      dy = parseFloat(_text.attr('dy')),\n\n  //First span is different - smaller font\n  tspan = _text.text(null).append('tspan').attr('class', 'subTotal').attr('x', 0).attr('y', y).attr('dy', dy + 'em').style('font-size', (Math.round(currentSize * 0.5) <= 5 ? 0 : Math.round(currentSize * 0.5)) + 'px');\n  while (word = words.pop()) {\n    line.push(word);\n    tspan.text(line.join(' '));\n    if (tspan.node().getComputedTextLength() > width | word === '|') {\n      if (word = '|') word = '';\n      line.pop();\n      tspan.text(line.join(' '));\n      line = [word];\n      tspan = _text.append('tspan').attr('x', 0).attr('y', y).attr('dy', ++lineNumber * lineHeight + extraHeight + dy + 'em').text(word);\n    } //if\n  } //while\n}; //wrap\n\n// Given a text function and width function, truncates the text if necessary to\n// fit within the given width.\nvar truncate = function truncate(text, width) {\n  return function (d, i) {\n    var t = this.textContent = text(d, i),\n        w = width(d, i);\n    if (this.getComputedTextLength() < w) return t;\n    this.textContent = 'â€¦' + t;\n    var lo = 0,\n        hi = t.length + 1,\n        x = void 0;\n    while (lo < hi) {\n      var mid = lo + hi >> 1;\n      if ((x = this.getSubStringLength(0, mid)) < w) lo = mid + 1;else hi = mid;\n    }\n    return lo > 1 ? t.substr(0, lo - 2) + 'â€¦' : '';\n  };\n};\n\nvar transparent = function transparent(c, alpha) {\n  var hslColorSpace = hsl(c);\n  hslColorSpace.opacity = alpha;\n\n  return hslColorSpace;\n};\n\nexport { version, svgLayer, canvasLayer, Globals, factory, compose$1 as compose, pipe, linearStops, SchemeAccent, SchemeDark2, SchemePaired, SchemePastel1, SchemePastel2, SchemeSet1, SchemeSet2, SchemeSet3, SchemeCategory10, SchemeReds, SchemeBlues, SchemeGreens, SchemeGreys, SchemeOranges, SchemePurples, SchemeBuGn, SchemeBuPu, SchemeGnBu, SchemeOrRd, SchemePuBuGn, SchemePuBu, SchemePuRd, SchemeRdPu, SchemeYlGnBu, SchemeYlGn, SchemeYlOrBr, SchemeYlOrRd, SchemeViridis, SchemeInferno, SchemeMagma, SchemePlasma, SchemeWarm, SchemeCool, SchemeRainbow, SchemeCubehelix, SchemeBrBG, SchemePRGn, SchemePiYG, SchemePuOr, SchemeRdBu, SchemeRdGy, SchemeRdYlBu, SchemeRdYlGn, SchemeSpectral, AllHcl, DefaultColorSpace, ColorBlind, FancyLight, FancyDark, Tarnish, Pastel, Pimp, Intense, Fluo, RedRoses, OchreSand, IndigoNight, YellowLime, GreenMint, IceCube, BlueOcean, PurpleWine, MetroCold3, MetroCold4, MetroCold5, MetroDawn3, MetroDawn4, MetroRain3, MetroRain8, TheMetDark, TheMetLight, gradientColor, distinctColor, divergentColor, categoricalColor, genericColor, mergeOptions, DefaultSequentialColor, DefaultCategoricalColor, isMobile, truncate as truncateSvgText, uuid, transparent as getTransparentColor, wrapSVGText, wrapTextSmaller, drawVoronoi, applyVoronoi, drawQuadtree, applyQuadtree, drawCircularText, genColorByIndex, radialGradient, verticalGradient, apiRender as apiRenderSVG, apiRender$1 as apiRenderCanvas, apiUpdate };\n//# sourceMappingURL=vizart-core.esm.js.map\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nexport default isNumber;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","import root from './_root.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nexport default isFinite;\n","const isTickDiv = (data, units) => (data.length - 1) % units === 0;\n\nexport default isTickDiv;\n","import isTickDiv from './is-tick-div';\n\nconst updateXAxisTicks = (data, opt, xAxis) => {\n  const getDimensionVal = d => d[opt.data.x.accessor];\n\n  let maxTicks = opt.xAxis.ticks > 0 ? opt.xAxis.ticks : 31;\n  if (data.length <= maxTicks) {\n    xAxis.ticks(data.length);\n    return;\n  }\n\n  let units = 10;\n  if (maxTicks <= 10) {\n    units = maxTicks;\n    while (units > 1) {\n      //minimum 1\n      if (isTickDiv(data, units)) {\n        break;\n      }\n      --units;\n    }\n  } else {\n    if (isTickDiv(5)) {\n      units = isTickDiv(data, 10) ? 10 : 5;\n    } else if (isTickDiv(data, 7)) {\n      units = 7;\n    } else if (isTickDiv(data, 8)) {\n      units = 8;\n    } else if (isTickDiv(data, 9)) {\n      units = 9;\n    } else if (isTickDiv(data, 11)) {\n      units = 11;\n    } else if (maxTicks >= 12 && isTickDiv(data, 12)) {\n      units = 12;\n    } else if (maxTicks >= 13 && isTickDiv(data, 13)) {\n      units = 13;\n    } else if (isTickDiv(data, 6)) {\n      units = 6;\n    }\n    //use default here\n  }\n\n  if (units > 1) {\n    let current = 0;\n    let index = 0;\n    let lastIndex = data.length - 1;\n    let increment = Math.floor((data.length - 1) / units);\n    let arr = new Array(units + (isTickDiv(data, units) ? 1 : 2));\n\n    while (current < lastIndex) {\n      arr[index++] = getDimensionVal(data[current]);\n      current += increment;\n    }\n    arr[index] = getDimensionVal(data[lastIndex]);\n    xAxis.tickValues(arr);\n  } else {\n    xAxis.ticks(null);\n  }\n};\n\nexport default updateXAxisTicks;\n","const rotateXTicks = (_selector, angle, transition = false) => {\n  let _rotate = 'rotate(-' + angle + ')';\n\n  let _tickText = _selector.selectAll('.x.axis .tick text');\n\n  if (transition === true) {\n    _tickText.transition().duration(300);\n  }\n\n  if (angle === 90) {\n    _tickText\n      .attr('transform', _rotate)\n      .attr('dx', -10)\n      .attr('dy', -6)\n      .style('text-anchor', 'end');\n  } else if (angle === 0) {\n    _tickText\n      .attr('transform', _rotate)\n      .attr('dx', 0)\n      .attr('dy', 10)\n      .style('text-anchor', 'middle');\n  } else if (angle === 60 || angle === 45) {\n    _tickText\n      .attr('transform', _rotate)\n      .attr('dx', -10)\n      .attr('dy', 0)\n      .style('text-anchor', 'end');\n  } else if (angle === 75) {\n    _tickText\n      .attr('transform', _rotate)\n      .attr('dx', -10)\n      .attr('dy', -4)\n      .style('text-anchor', 'end');\n  } else if (angle === 30) {\n    _tickText\n      .attr('transform', _rotate)\n      .attr('dx', -5)\n      .attr('dy', 7)\n      .style('text-anchor', 'end');\n  }\n};\n\nexport default rotateXTicks;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weâ€™ve set an alarm, if we havenâ€™t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTING) throw new Error(\"too late; already started\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and weâ€™re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and weâ€™re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and weâ€™re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import rotateXTicks from './rotete';\nimport { transition } from 'd3-transition';\n\nconst transitionTicks = (svg, data, opt, xAxis, yAxis) => {\n  const _transition = transition().duration(opt.animation.duration.update);\n  const delay = (d, i) => (i / data.length) * opt.animation.duration.update;\n\n  _transition\n    .select('.x.axis')\n    .delay(delay)\n    .call(xAxis);\n\n  _transition\n    .select('.y.axis')\n    .delay(delay)\n    .call(yAxis);\n\n  svg\n    .select('.x.axis')\n    .selectAll('.tick')\n    .attr('opacity', opt.xAxis.showTicks === true ? 1 : 0);\n  svg\n    .select('.y.axis')\n    .selectAll('.tick')\n    .attr('opacity', opt.yAxis[0].showTicks === true ? 1 : 0);\n  rotateXTicks(svg, opt.xAxis.labelAngle, false);\n};\n\nexport default transitionTicks;\n","import { timeFormatLocale } from 'd3-time-format';\n\nimport {\n  timeYear,\n  timeMonth,\n  timeWeek,\n  timeDay,\n  timeHour,\n  timeMinute,\n  timeSecond,\n} from 'd3-time';\n\nconst cnTimeFormat = date => {\n  const CN = timeFormatLocale({\n    dateTime: '%a %b %e %X %Y',\n    date: '%m/%d/%Y',\n    time: '%H:%M:%S',\n    periods: ['AM', 'PM'],\n    days: [\n      'æ˜ŸæœŸæ—¥',\n      'æ˜ŸæœŸä¸€',\n      'æ˜ŸæœŸäºŒ',\n      'æ˜ŸæœŸä¸‰',\n      'æ˜ŸæœŸå››',\n      'æ˜ŸæœŸäº”',\n      'æ˜ŸæœŸå…­',\n    ],\n    shortDays: ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'],\n    months: [\n      'ä¸€æœˆ',\n      'äºŒæœˆ',\n      'ä¸‰æœˆ',\n      'å››æœˆ',\n      'äº”æœˆ',\n      'å…­æœˆ',\n      'ä¸ƒæœˆ',\n      'å…«æœˆ',\n      'ä¹æœˆ',\n      'åæœˆ',\n      'åä¸€æœˆ',\n      'åäºŒæœˆ',\n    ],\n    shortMonths: [\n      'ä¸€æœˆ',\n      'äºŒæœˆ',\n      'ä¸‰æœˆ',\n      'å››æœˆ',\n      'äº”æœˆ',\n      'å…­æœˆ',\n      'ä¸ƒæœˆ',\n      'å…«æœˆ',\n      'ä¹æœˆ',\n      'åæœˆ',\n      'åä¸€æœˆ',\n      'åäºŒæœˆ',\n    ],\n  });\n\n  const formatMillisecond = CN.format('.%L'),\n    formatSecond = CN.format(':%S'),\n    formatMinute = CN.format('%I:%M'),\n    formatHour = CN.format('%I %p'),\n    formatDay = CN.format('%a %d'),\n    formatWeek = CN.format('%b %d'),\n    formatMonth = CN.format('%B'),\n    formatYear = CN.format('%Y');\n\n  return (timeSecond(date) < date\n    ? formatMillisecond\n    : timeMinute(date) < date\n    ? formatSecond\n    : timeHour(date) < date\n    ? formatMinute\n    : timeDay(date) < date\n    ? formatHour\n    : timeMonth(date) < date\n    ? timeWeek(date) < date\n      ? formatDay\n      : formatWeek\n    : timeYear(date) < date\n    ? formatMonth\n    : formatYear)(date);\n};\n\nexport default cnTimeFormat;\n","const isBar = options =>\n  options.chart.type === 'bar' ||\n  options.chart.type === 'bar_horizontal' ||\n  options.chart.type === 'bar_grouped' ||\n  options.chart.type === 'bar_stacked' ||\n  options.chart.type === 'bar_expanded';\n\nexport default isBar;\n","import { axisBottom, axisLeft } from 'd3-axis';\nimport { format } from 'd3-format';\nimport isNumber from 'lodash-es/isNumber';\nimport isString from 'lodash-es/isString';\nimport isFinite from 'lodash-es/isFinite';\n\nimport { Globals } from 'vizart-core';\n\nimport updateXAxisTicks from './update-x-ticks';\nimport transitionTicks from './transition';\nimport cnTimeFormat from './cn-time-format';\n\nimport isBar from '../data/helper/is-bar';\n\nconst updateAxis = (state, stacked) => {\n  const { _svg: svg, _data, _options: opt } = state;\n\n  const data =\n    stacked === true ? _data.nested[0].values.map(d => d.data) : _data;\n\n  let dimension = opt.data.x;\n  let metric = opt.data.y[0];\n  let xScale = dimension.scale;\n  let yScale = metric.scale;\n  const xAxis = axisBottom();\n  const yAxis = axisLeft();\n\n  //scale ticks, bar is special because every column is distinct\n  if (isBar(opt) === true) {\n    updateXAxisTicks(data, opt, xAxis);\n  } else {\n    if (dimension.type === Globals.DataType.DATE) {\n      if (opt.xAxis.ticks > 0) {\n        //follow user specification\n        xAxis.ticks(Math.min(data.length, opt.xAxis.ticks));\n      } else if (data.length > 31) {\n        xAxis.ticks(10);\n      } else {\n        xAxis.ticks(data.length);\n      }\n    } else if (dimension.type === Globals.DataType.NUMBER) {\n      if (opt.ordering.accessor !== opt.data.y[0].accessor) {\n        if (opt.xAxis.ticks > 0) {\n          //follow user specification\n          xAxis.ticks(Math.min(data.length, opt.xAxis.ticks));\n        } else {\n          xAxis.ticks(null);\n        }\n      } else {\n        updateXAxisTicks(data, opt, xAxis);\n      }\n    } else if (dimension.type === Globals.DataType.STRING) {\n      updateXAxisTicks(data, opt, xAxis);\n    }\n  }\n\n  yScale.nice();\n\n  //tick formats\n  if (isString(opt.yAxis[0].tickFormat)) {\n    yAxis.tickFormat(format(opt.yAxis[0].tickFormat));\n  } else {\n    yAxis.tickFormat(null);\n  }\n\n  if (isString(opt.xAxis.tickFormat) && opt.xAxis.tickFormat.length > 0) {\n    xAxis.tickFormat(format(opt.xAxis.tickFormat));\n  } else if (dimension.type === Globals.DataType.DATE) {\n    if (opt.locale === 'zh') {\n      xAxis.tickFormat(cnTimeFormat);\n    } else {\n      xAxis.tickFormat(null);\n    }\n  } else {\n    xAxis.tickFormat(null);\n  }\n\n  xAxis.scale(xScale);\n  yAxis.scale(yScale);\n  if (\n    isNumber(opt.yAxis[0].ticks) &&\n    isFinite(opt.yAxis[0].ticks) &&\n    opt.yAxis[0].ticks > 0\n  ) {\n    yAxis.ticks(metric.ticksTier);\n  }\n\n  transitionTicks(svg, data, opt, xAxis, yAxis);\n\n  return {\n    x: xAxis,\n    y: yAxis,\n  };\n};\n\nexport default updateAxis;\n","import updateAxis from './update';\nimport rotateXTicks from './rotete';\n\nconst renderAxis = (state, stacked = false) => {\n  const { _svg: svg, _options: opt } = state;\n  const { x: _xAxis, y: _yAxis } = updateAxis(state, stacked);\n\n  const xAxis = svg\n    .append('g')\n    .attr('class', 'x axis')\n    .attr('transform', 'translate(0,' + opt.chart.innerHeight + ')')\n    .call(_xAxis);\n\n  const yAxis = svg\n    .append('g')\n    .attr('class', 'y axis')\n    .call(_yAxis);\n\n  if (opt.yAxis.length > 0 && opt.yAxis[0].title.text != null) {\n    svg\n      .append('text')\n      .attr('class', 'axis-label')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - opt.chart.margin.left + opt.yAxis[0].title.offset)\n      .attr('x', 0 - opt.chart.innerHeight / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(opt.yAxis[0].title.text);\n  }\n\n  if (opt.xAxis.title.text != null) {\n    svg\n      .append('text')\n      .attr('class', 'axis-label')\n      .attr(\n        'transform',\n        'translate(' +\n          opt.chart.innerWidth / 2 +\n          ' ,' +\n          (opt.chart.innerHeight +\n            opt.chart.margin.top +\n            opt.xAxis.title.offset) +\n          ')'\n      )\n      .style('text-anchor', 'middle')\n      .text(opt.xAxis.title.text);\n  }\n\n  xAxis\n    .selectAll('.tick')\n    .attr('opacity', opt.xAxis.showTicks === true ? 1 : 0);\n  yAxis\n    .selectAll('.tick')\n    .attr('opacity', opt.yAxis[0].showTicks === true ? 1 : 0);\n\n  rotateXTicks(svg, opt.xAxis.labelAngle, false);\n};\n\nexport default renderAxis;\n","import { Globals, MetroRain8 } from 'vizart-core';\n\nconst CartesianStackedOptions = {\n  chart: {\n    margin: {\n      left: 20,\n      bottom: 20,\n      right: 20,\n      top: 20,\n    },\n  },\n  color: {\n    scheme: MetroRain8,\n    type: Globals.ColorType.CATEGORICAL,\n  },\n  ordering: {\n    accessor: null,\n    direction: 'asc',\n  },\n\n  series: {\n    allowDecimals: false,\n    scale: null,\n    max: null,\n    min: null,\n    ticks: 0,\n    title: {\n      text: '',\n      style: '',\n    },\n  },\n\n  xAxis: {\n    showTicks: true,\n    allowDecimals: false,\n    scale: null,\n    ticks: 0,\n    tickFormat: null,\n    max: null,\n    min: null,\n    labelAngle: 0,\n\n    title: {\n      text: null,\n      style: null,\n    },\n  },\n\n  yAxis: [\n    {\n      showTicks: true,\n      allowDecimals: false,\n      scale: null,\n      max: null,\n      min: null,\n      ticks: 0,\n      title: {\n        text: null,\n        style: null,\n      },\n    },\n  ],\n\n  data: {\n    s: {\n      accessor: null,\n      type: Globals.DataType.STRING,\n      formatter: function() {},\n    },\n    x: {\n      accessor: null,\n      type: Globals.DataType.STRING,\n      formatter: () => {},\n    },\n    y: [\n      {\n        accessor: null,\n        type: Globals.DataType.NUMBER,\n        formatter: function() {},\n        yAxis: 0,\n      },\n    ],\n  },\n};\n\nexport default CartesianStackedOptions;\n","import { mergeOptions } from 'vizart-core';\nimport CartesianStackedOptions from './CartesianStackedOptions';\n\nconst createCartesianStackedOpt = (chartOpt, userOpt) => {\n  const cartesianOpt = mergeOptions(CartesianStackedOptions, chartOpt, userOpt);\n\n  cartesianOpt.ordering.accessor = cartesianOpt.data.x.accessor;\n\n  return cartesianOpt;\n};\n\nexport default createCartesianStackedOpt;\n","const Stacks = {\n  Expand: 'expand',\n  Zero: 'zero',\n  Silhouette: 'silhouette',\n  Wiggle: 'wiggle',\n  Divergent: 'divergent',\n};\nexport default Stacks;\n","const isSeriesDefined = opt =>\n  opt.data.s !== undefined &&\n  opt.data.s !== null &&\n  opt.data.s.accessor !== undefined &&\n  opt.data.s.accessor !== null;\n\nexport default isSeriesDefined;\n","import isSeriesDefined from './is-series-defined';\n\nconst getAllDataDef = opt => {\n  let allFields = [].concat(opt.data.x, opt.data.y);\n\n  if (isSeriesDefined(opt)) {\n    allFields = allFields.concat([opt.data.s]);\n  }\n\n  return allFields;\n};\n\nexport default getAllDataDef;\n","import getAllDataDef from './all-data-def';\n\nconst getSortDef = opt => {\n  const allFields = getAllDataDef(opt);\n\n  const _field = allFields.find(o => o.accessor === opt.ordering.accessor);\n\n  if (_field === undefined || _field === null) {\n    throw new Error('ordering accessor is invalid');\n  }\n\n  return _field;\n};\n\nexport default getSortDef;\n","import { Globals } from 'vizart-core';\nimport getSortDef from '../helper/get-sort-def';\n\nconst sortData = (_data, _options) => {\n  if (_options.hasOwnProperty('ordering')) {\n    let _field = getSortDef(_options);\n\n    let _accessor = _field.accessor;\n\n    if (_accessor !== undefined && _accessor !== null) {\n      switch (_field.type) {\n        case Globals.DataType.STRING:\n          _data.sort((a, b) => {\n            return _options.ordering.direction === 'asc'\n              ? a[_accessor].localeCompare(b[_accessor])\n              : b[_accessor].localeCompare(a[_accessor]);\n          });\n          break;\n        default:\n          _data.sort((a, b) => {\n            return _options.ordering.direction === 'asc'\n              ? a[_accessor] - b[_accessor]\n              : b[_accessor] - a[_accessor];\n          });\n\n          break;\n      }\n    }\n  }\n};\n\nexport default sortData;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n","/**\n * Checks if `value` is `null`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n * @example\n *\n * _.isNull(null);\n * // => true\n *\n * _.isNull(void 0);\n * // => false\n */\nfunction isNull(value) {\n  return value === null;\n}\n\nexport default isNull;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar dateTag = '[object Date]';\n\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nexport default baseIsDate;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsDate from './_baseIsDate.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\nexport default isDate;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import { Globals } from 'vizart-core';\nimport toString from 'lodash-es/toString';\nimport toNumber from 'lodash-es/toNumber';\nimport isUndefined from 'lodash-es/isUndefined';\nimport isNull from 'lodash-es/isNull';\nimport isDate from 'lodash-es/isDate';\nimport isFunction from 'lodash-es/isFunction';\nimport { timeParse } from 'd3-time-format';\nimport getAllFields from '../helper/all-data-def';\n\nlet cleanse = (_data, _options) => {\n  let _allFields = getAllFields(_options);\n\n  return _data.map(d => {\n    let _d = d;\n\n    for (let _dim of _allFields) {\n      switch (_dim.type) {\n        case Globals.DataType.DATE:\n          if (isNull(_dim.format) || isUndefined(_dim.format)) {\n            if (!isDate(d[_dim.accessor])) {\n              throw new Error(\n                _dim.accessor + \"'s date format is not specified.\"\n              );\n            } else {\n              _d[_dim.accessor] = d[_dim.accessor];\n            }\n          } else {\n            if (isFunction(_dim.format)) {\n              _d[_dim.accessor] = _dim.format(d[_dim.accessor]);\n            } else {\n              const parser = timeParse(_dim.format);\n              _d[_dim.accessor] = parser(d[_dim.accessor]);\n            }\n          }\n\n          break;\n\n        case Globals.DataType.NUMBER:\n          _d[_dim.accessor] = toNumber(d[_dim.accessor]);\n\n          break;\n        case Globals.DataType.STRING:\n          _d[_dim.accessor] = toString(d[_dim.accessor]);\n          break;\n\n        default:\n          _d[_dim.accessor] = d[_dim.accessor];\n          break;\n      }\n    }\n\n    return _d;\n  });\n};\n\nexport default cleanse;\n","const isYSort = opt => {\n  for (let y of opt.data.y) {\n    if (opt.ordering.accessor === y.accessor) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nexport default isYSort;\n","import { Globals } from 'vizart-core';\n\nimport { scaleLinear, scaleTime, scaleBand, scalePoint } from 'd3-scale';\nimport { interpolateRound } from 'd3-interpolate';\nimport { extent } from 'd3-array';\n\nimport { isYSort, isBar } from '../helper';\n\nconst dims = (data, dim) =>\n  data\n    .map(d => d[dim.accessor])\n    .filter((ele, pos, arr) => arr.indexOf(ele) === pos);\n\nconst updateDimensionScale = (data, opt) => {\n  const dim = opt.data.x;\n\n  if (isBar(opt)) {\n    dim.values = dims(data, dim);\n\n    dim.scale = scaleBand()\n      .domain(dim.values)\n      .range([0, opt.chart.innerWidth])\n      .paddingInner(0.1)\n      .paddingOuter(0.6);\n\n    return;\n  }\n\n  if (isYSort(opt)) {\n    dim.values = dims(data, dim);\n    dim.scale = scalePoint()\n      .domain(dim.values)\n      .range([0, opt.chart.innerWidth]);\n\n    return;\n  }\n\n  switch (dim.type) {\n    case Globals.DataType.DATE:\n      dim.values = dims(data, dim);\n\n      let _range = extent(data, d => d[dim.accessor]);\n\n      dim.min = _range[0];\n      dim.max = _range[1];\n\n      dim.scale = scaleTime()\n        .domain(opt.ordering.direction === 'asc' ? _range : _range.reverse())\n        .range([0, opt.chart.innerWidth])\n        .interpolate(interpolateRound);\n\n      break;\n\n    case Globals.DataType.NUMBER:\n      // todo number format\n      dim.values = dims(data, dim);\n\n      let _rangeNm = extent(data, d => d[dim.accessor]);\n\n      dim.min = _rangeNm[0];\n      dim.max = _rangeNm[1];\n\n      dim.scale = scaleLinear()\n        .domain(\n          opt.ordering.direction === 'asc' ? _rangeNm : _rangeNm.reverse()\n        )\n        .range([0, opt.chart.innerWidth]);\n\n      break;\n    case Globals.DataType.STRING:\n      dim.values = dims(data, dim);\n      dim.scale = scalePoint()\n        .domain(dim.values)\n        .range([0, opt.chart.innerWidth]);\n\n      break;\n\n    default:\n      break;\n  }\n};\n\nexport default updateDimensionScale;\n","import isNumber from './isNumber.js';\n\n/**\n * Checks if `value` is `NaN`.\n *\n * **Note:** This method is based on\n * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n * `undefined` and other non-number values.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n * @example\n *\n * _.isNaN(NaN);\n * // => true\n *\n * _.isNaN(new Number(NaN));\n * // => true\n *\n * isNaN(undefined);\n * // => true\n *\n * _.isNaN(undefined);\n * // => false\n */\nfunction isNaN(value) {\n  // An `NaN` primitive is the only value that is not equal to itself.\n  // Perform the `toStringTag` check first to avoid errors with some\n  // ActiveX objects in IE.\n  return isNumber(value) && value != +value;\n}\n\nexport default isNaN;\n","import isUndefined from 'lodash-es/isUndefined';\nimport isNull from 'lodash-es/isNull';\nimport isNaN from 'lodash-es/isNaN';\n\nconst _judgeMax = maxLength => Math.pow(10, maxLength);\n\nconst _maxLength = max => {\n  if (max >= 1) {\n    return Math.round(max).toString().length;\n  } else {\n    let maxLength = 0;\n    while (max < Math.pow(10, maxLength - 1)) {\n      maxLength = maxLength - 1;\n    }\n    return maxLength;\n  }\n};\n\n// ticks only positive\nconst _tickPositive = (range, ticks, tier) => {\n  let min = 0;\n  let max = range[1];\n  let adjust = 0.9525;\n  let maxTicks = 0;\n\n  if (\n    typeof ticks == 'number' &&\n    !isNaN(parseInt(ticks)) &&\n    isFinite(ticks) &&\n    ticks > 0\n  ) {\n    maxTicks = ticks;\n  }\n\n  if (max - min == 0 || (min == 0 && max == 1)) {\n    return [min, 1, maxTicks == 0 ? 5 : Math.min(maxTicks, 5)];\n  } else if (maxTicks == 1) {\n    return [min, max, 1];\n  }\n\n  if (\n    typeof tier == 'number' &&\n    !isNaN(parseFloat(tier)) &&\n    isFinite(tier) &&\n    tier > 0 &&\n    max / tier <= maxTicks\n  ) {\n    let current = tier;\n    let maxRange = range[1];\n    let ticks = 1;\n    while (true) {\n      if (max < adjust * current) {\n        maxRange = current;\n        break;\n      } else {\n        current = current + tier;\n        ticks = ticks + 1;\n      }\n    }\n    return [min, maxRange, ticks];\n  } else {\n    let maxLength = _maxLength(max);\n    let maxRange = _judgeMax(maxLength);\n    let unit = 5;\n    let multiplier = 1;\n\n    if (maxTicks == 0) {\n      if (max < (adjust * maxRange) / 5) {\n        unit = 50;\n      } else if (max < (adjust * maxRange) / 2) {\n        unit = 20;\n      } else if (max < adjust * maxRange) {\n        unit = 10;\n      }\n    } else {\n      multiplier = maxTicks;\n      unit = Math.pow(10, maxTicks.toString().length);\n      if (max < (adjust * maxRange * 2) / unit) {\n        unit = unit * 5;\n      } else if (max < (adjust * maxRange * 5) / unit) {\n        unit = unit * 2;\n      }\n    }\n\n    let tier = maxRange / unit;\n    let current = tier * multiplier;\n    let ticks = 1;\n\n    while (true) {\n      if (max < adjust * current) {\n        maxRange = current;\n        break;\n      } else {\n        current = current + tier * multiplier;\n        ticks = ticks + 1;\n      }\n    }\n\n    if (maxTicks == 0) {\n      //control # of ticks to 7 or below\n      switch (ticks) {\n        case 10:\n          ticks = 5;\n          break;\n        case 9:\n          ticks = 3;\n          break;\n        case 8:\n          ticks = 4;\n          break;\n      }\n    } else {\n      let minTicks = maxTicks;\n      while (max < adjust * (maxRange - tier * ticks)) {\n        maxRange = maxRange - tier * ticks;\n        minTicks--;\n      }\n      ticks = minTicks;\n    }\n\n    if (maxLength < 0) {\n      let precision = Math.pow(10, -1 * maxLength + 2);\n      maxRange = Math.round(maxRange * precision) / precision;\n    }\n\n    return [min, maxRange, ticks];\n  }\n};\n\n// contains both positive and negative\nconst tickBothNegativeAndPositive = (range, ticks, tier) => {\n  let adjust = 0.9525;\n  let maxTicks = 0;\n\n  if (\n    typeof ticks == 'number' &&\n    !isNaN(parseInt(ticks)) &&\n    isFinite(ticks) &&\n    ticks > 0\n  ) {\n    maxTicks = ticks;\n  }\n  if (maxTicks == 1) {\n    return [range[0], range[1], 1];\n  }\n\n  if (\n    typeof tier == 'number' &&\n    !isNaN(parseFloat(tier)) &&\n    isFinite(tier) &&\n    tier > 0 &&\n    (Math.abs(range[0]) + Math.abs(range[1])) / tier <= maxTicks\n  ) {\n    let minRange = range[0];\n    let current = tier * -1;\n    let ticks = 1;\n    while (true) {\n      if (minRange > adjust * current) {\n        minRange = current;\n        break;\n      } else {\n        current = current - tier;\n        ticks = ticks + 1;\n      }\n    }\n\n    let maxRange = range[1];\n    current = tier;\n\n    while (true) {\n      if (range < adjust * current) {\n        maxRange = current;\n        break;\n      } else {\n        current = current + tier;\n        ticks = ticks + 1;\n      }\n    }\n    return [minRange, maxRange, ticks];\n  } else {\n    let absmin = Math.abs(range[0]);\n    let min = absmin < range[1] ? absmin : range[1];\n    let max = absmin > range[1] ? absmin : range[1];\n\n    let maxLength = _maxLength(max);\n    let maxRange = _judgeMax(maxLength);\n    let minRange = min;\n    let unit = 5;\n    let multiplier = 1;\n\n    if (maxTicks == 0) {\n      if (max < (adjust * maxRange) / 5) {\n        unit = 50;\n      } else if (max < (adjust * maxRange) / 2) {\n        unit = 20;\n      } else if (max < adjust * maxRange) {\n        unit = 10;\n      }\n    } else {\n      multiplier = maxTicks;\n      unit = Math.pow(10, maxTicks.toString().length);\n      if (max < (adjust * maxRange * 2) / unit) {\n        unit = unit * 5;\n      } else if (max < (adjust * maxRange * 5) / unit) {\n        unit = unit * 2;\n      }\n    }\n\n    let tier = maxRange / unit;\n    let current = tier * multiplier;\n    let ticks = 1;\n\n    while (true) {\n      if (max < adjust * current) {\n        maxRange = current;\n        break;\n      } else {\n        current = current + tier * multiplier;\n        ticks = ticks + 1;\n      }\n    }\n\n    //calculate min\n    current = tier * multiplier;\n    while (true) {\n      if (min < adjust * current) {\n        minRange = current;\n        break;\n      } else {\n        current = current + tier * multiplier;\n        ticks = ticks + 1;\n      }\n    }\n\n    if (maxTicks > 0) {\n      let minTicks = maxTicks;\n      while (max < adjust * (maxRange - tier * ticks)) {\n        maxRange = maxRange - tier * ticks;\n        minTicks--;\n      }\n      while (min < adjust * (minRange - tier * ticks)) {\n        minRange = minRange - tier * ticks;\n        minTicks--;\n      }\n      ticks = minTicks;\n    }\n\n    return absmin < range[1]\n      ? [minRange * -1, maxRange, ticks]\n      : [maxRange * -1, minRange, ticks];\n  }\n};\n\nconst tickRange = (range, ticks, tier) => {\n  if (\n    range.length == 0 ||\n    isUndefined(range[0]) ||\n    isNull(range[0]) ||\n    isNaN(range[0]) ||\n    isUndefined(range[1]) ||\n    isNull(range[1]) ||\n    isNaN(range[1])\n  ) {\n    return [0, 1];\n  } else if (range[0] >= 0) {\n    //positive chart, adjust max scale only\n    return _tickPositive(range, ticks, tier);\n  } else if (range[1] <= 0) {\n    //pure negative scale, we can use the position scale just reverse it\n    let scale = _tickPositive([range[1] * -1, range[0] * -1], ticks, tier);\n    return [scale[1] * -1, scale[0] * -1];\n  } else {\n    //mixed scale\n    return tickBothNegativeAndPositive(range, ticks, tier);\n  }\n};\n\nexport default tickRange;\n","import { scaleLinear } from 'd3-scale';\n\nimport { extent, max, min } from 'd3-array';\nimport isUndefined from 'lodash-es/isUndefined';\nimport isNull from 'lodash-es/isNull';\nimport isNumber from 'lodash-es/isNumber';\n\nimport tickRange from './ticks';\n\nconst isValid = d => !isUndefined(d) && !isNull(d) && isNumber(d);\n\nconst updateMetricScale = (data, opt) => {\n  for (const [i, x] of opt.yAxis.entries()) {\n    const yList = opt.data.y.filter(d => d.yAxis === i);\n    const rangeList = yList.map(d => extent(data, datum => datum[d.accessor]));\n\n    let universalMin = min(rangeList, d => d[0]);\n    let universalMax = max(rangeList, d => d[1]);\n\n    if (isValid(x.min)) {\n      if (x.min > universalMin) {\n        console.error('invalid yAxis min detected, auto scale will be used');\n      } else {\n        universalMin = x.min;\n      }\n    }\n\n    if (isValid(x.max)) {\n      if (x.max < universalMax) {\n        console.error('invalid yAxis max detected, auto scale will be used');\n      } else {\n        universalMax = x.max;\n      }\n    }\n\n    x.min = universalMin;\n    x.max = universalMax;\n  }\n\n  for (let m of opt.data.y) {\n    m.yAxis = m.yAxis || 0;\n\n    if (opt.yAxis.length < m.yAxis + 1) {\n      throw new Error('invalid yAxis definition for data y: ' + m.accessor);\n    }\n\n    const axisDef = opt.yAxis[m.yAxis];\n    const range = [axisDef.min, axisDef.max];\n\n    let _tickedRange = tickRange(\n      range,\n      opt.yAxis[m.yAxis].ticks,\n      opt.yAxis[m.yAxis].tier\n    );\n\n    m.ticksMin = _tickedRange[0];\n    m.ticksMax = _tickedRange[1];\n    m.ticksTier = _tickedRange[2];\n\n    m.min = range[0];\n    m.max = range[1];\n\n    m.scale = scaleLinear()\n      .domain([m.ticksMin, m.ticksMax])\n      .range([opt.chart.innerHeight, 0]);\n  }\n};\n\nexport default updateMetricScale;\n","import updateDimensionScale from './update-dim-scale';\nimport updateMetricScale from './update-metric-scale';\n\nconst updateOptionScales = (data, opt) => {\n  updateDimensionScale(data, opt);\n  updateMetricScale(data, opt);\n};\n\nexport default updateOptionScales;\n","import sortData from '../processor/sort';\nimport cleanse from '../processor/cleanse';\nimport updateOptionScales from '../update-scale/index';\n\n/**\n *\n * @param data is immutable\n * @param opt _options\n */\nconst processCartesianData = (data, opt, cleanseData = true) => {\n  const copy = data.slice();\n  // a cleansed copy of data.\n  let cleansed = cleanseData === true ? cleanse(copy, opt) : copy;\n\n  sortData(cleansed, opt);\n  updateOptionScales(cleansed, opt);\n\n  return cleansed;\n};\n\nexport default processCartesianData;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 â‰¥ r0, da1 â‰¥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectorâ€™s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and itâ€™s a circular sector?\n      // Or perhaps itâ€™s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectorâ€™s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export var slice = Array.prototype.slice;\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic BÃ©zier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {\n  stack,\n  stackOffsetExpand,\n  stackOffsetNone,\n  stackOffsetSilhouette,\n  stackOffsetWiggle,\n  stackOffsetDiverging,\n  stackOrderAscending,\n  stackOrderNone,\n  stackOrderReverse,\n  stackOrderDescending,\n  stackOrderInsideOut,\n} from 'd3-shape';\n\nimport Stacks from '../constant/stack-methods';\n\nconst getSeriesOrdering = opt => {\n  switch (opt.ordering.direction) {\n    case 'asc':\n      return stackOrderAscending;\n    case 'desc':\n      return stackOrderDescending;\n    case 'none':\n      return stackOrderNone;\n    case 'reverse':\n      return stackOrderReverse;\n    default:\n      return stackOrderNone;\n  }\n};\n\nconst getStack = opt => {\n  const stackLayout = stack();\n  const ordering = getSeriesOrdering(opt);\n\n  switch (opt.plots.stackMethod) {\n    case Stacks.Expand:\n      stackLayout.offset(stackOffsetExpand).order(ordering);\n      break;\n    case Stacks.Zero:\n      stackLayout.offset(stackOffsetNone).order(ordering);\n      break;\n    case Stacks.Silhouette:\n      stackLayout.offset(stackOffsetSilhouette).order(stackOrderInsideOut);\n      break;\n    case Stacks.Wiggle:\n      stackLayout.offset(stackOffsetWiggle).order(stackOrderInsideOut);\n      break;\n    case Stacks.Divergent:\n      stackLayout.offset(stackOffsetDiverging).order(stackOrderInsideOut);\n      break;\n\n    default:\n      stackLayout.offset(stackOffsetNone);\n      break;\n  }\n\n  return stackLayout;\n};\nexport default getStack;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nexport default groupBy;\n","import groupBy from 'lodash-es/groupBy';\n\nconst transformSeriesToMatrix = (data, opt) => {\n  const matrix = [];\n\n  const _getDimension = () => {\n    return opt.data.x;\n  };\n  const _getDimensionVal = d => d[_getDimension().accessor];\n  const _getMetric = () => opt.data.y[0];\n  const _getMetricValue = d => d[_getMetric().accessor];\n\n  let dimensionGroup = groupBy(data, d => _getDimensionVal(d));\n\n  for (let _dim of _getDimension().values) {\n    let _t = {};\n\n    _t[_getDimension().accessor] = _dim;\n\n    for (let _s of opt.data.s.values) {\n      _t[_s] = 0;\n    }\n\n    for (let _v of dimensionGroup[_dim]) {\n      _t[_v[opt.data.s.accessor]] = _getMetricValue(_v);\n    }\n\n    matrix.push(_t);\n  }\n\n  return matrix;\n};\n\nexport default transformSeriesToMatrix;\n","import getStack from './stack';\nimport transformSeriesToMatrix from './series-to-matrix';\nimport isSeriesDefined from '../helper/is-series-defined';\n\nconst generateStackLayout = (data, opt) => {\n  if (isSeriesDefined(opt)) {\n    opt.data.s.values = data\n      .map(d => d[opt.data.s.accessor])\n      .filter((ele, pos, arr) => arr.indexOf(ele) === pos);\n  } else {\n    opt.data.s.values = opt.data.y.map(d => d.accessor);\n  }\n\n  const matrix = isSeriesDefined(opt)\n    ? transformSeriesToMatrix(data, opt)\n    : data;\n\n  const stack = getStack(opt);\n  stack.keys(opt.data.s.values);\n  const layout = stack(matrix);\n\n  return layout.map(d => {\n    const metric = opt.data.y.find(e => e.accessor === d.key);\n\n    return {\n      label: metric ? metric.name : d.key,\n      key: d.key,\n      values: d.map(e => {\n        return {\n          y0: e[0],\n          y1: e[1],\n          y: metric\n            ? metric.scale(e.data[metric.accessor])\n            : opt.data.y[0].scale(e.data[d.key]),\n          _y: metric ? e.data[metric.accessor] : e.data[d.key],\n          data: e.data,\n        };\n      }),\n    };\n  });\n};\n\nexport default generateStackLayout;\n","import { max, min } from 'd3-array';\n\nimport tickRange from '../update-scale/ticks';\nimport Stacks from '../constant/stack-methods';\n\nconst rescaleStackedMetric = (nestedData, opt) => {\n  const _min = min(nestedData.map(d => min(d.values.map(e => e.y0))));\n  const _max = max(nestedData.map(d => max(d.values.map(e => e.y1))));\n\n  return opt.plots.stackMethod === Stacks.Expand\n    ? [0, 1, 5]\n    : tickRange([_min, _max], opt.yAxis[0].ticks, opt.yAxis[0].tier);\n};\n\nexport default rescaleStackedMetric;\n","import { scaleLinear } from 'd3-scale';\n\nimport generateStackLayout from './stacked-layout';\nimport rescaleStackedMetric from './scale-stacked-metric';\nimport processCartesianData from '../cartesian';\n\nconst processStackedData = (_data, opt, cleanse = true) => {\n  const data = _data.hasOwnProperty('original')\n    ? _data.original.slice()\n    : _data.slice();\n\n  let copy = processCartesianData(data, opt, cleanse);\n  let nestedData = generateStackLayout(copy, opt);\n\n  let minY = 0;\n  let maxY = 0;\n\n  if (opt.plots.stackLayout === true) {\n    let _range = rescaleStackedMetric(nestedData, opt);\n    minY = _range[0];\n    maxY = _range[1];\n\n    for (let m of opt.data.y) {\n      m.scale = scaleLinear()\n        .domain([minY, maxY])\n        .range([opt.chart.innerHeight, 0]);\n    }\n  } else {\n    for (let m of opt.data.y) {\n      minY = Math.min(minY, m.min);\n      maxY = Math.max(maxY, m.max);\n    }\n  }\n\n  return {\n    maxY: maxY,\n    minY: minY,\n    original: data,\n    nested: nestedData,\n  };\n};\n\nexport default processStackedData;\n","import { Globals, MetroRain3 } from 'vizart-core';\n\nconst CartesianOptions = {\n  color: {\n    scheme: MetroRain3,\n    type: Globals.ColorType.GRADIENT,\n  },\n  chart: {\n    margin: {\n      left: 20,\n      bottom: 20,\n      right: 20,\n      top: 20,\n    },\n  },\n  ordering: {\n    accessor: null,\n    direction: 'asc',\n  },\n\n  xAxis: {\n    showTicks: true,\n    allowDecimals: false,\n    scale: null,\n    ticks: 0,\n    tickFormat: null,\n    max: null,\n    min: null,\n    labelAngle: 0,\n\n    title: {\n      text: null,\n      style: null,\n      offset: 10,\n    },\n  },\n\n  yAxis: [\n    {\n      showTicks: true,\n      allowDecimals: false,\n      scale: null,\n      max: null,\n      min: null,\n      ticks: 0,\n      tier: 6,\n      title: {\n        text: null,\n        style: null,\n        offset: 10,\n      },\n    },\n  ],\n\n  data: {\n    x: {\n      accessor: null,\n      type: Globals.DataType.NUMBER,\n      formatter: null,\n    },\n    y: [\n      {\n        accessor: null,\n        type: Globals.DataType.NUMBER,\n        formatter: null,\n        yAxis: 0,\n        tooltip: {\n          valueSuffix: null,\n        },\n      },\n    ],\n  },\n};\n\nexport default CartesianOptions;\n","import { mergeOptions } from 'vizart-core';\n\nimport CartesianOptions from './CartesianOptions';\n\nconst createCartesianOpt = (chartOpt, userOpt) => {\n  const cartesianOpt = mergeOptions(CartesianOptions, chartOpt, userOpt);\n\n  if (!userOpt.hasOwnProperty('ordering')) {\n    cartesianOpt.ordering.accessor = cartesianOpt.data.x.accessor;\n  }\n\n  return cartesianOpt;\n};\n\nexport default createCartesianOpt;\n","import { genericColor, categoricalColor } from 'vizart-core';\n\nimport createCartesianStackedOpt from '../options/createCartesianStackedOpt';\nimport { processCartesianData, processStackedData } from '../data';\nimport createCartesianOpt from '../options/createCartesianOpt';\n\nconst stackedComposer = ChartOpt => ({\n  opt: opt => createCartesianStackedOpt(ChartOpt, opt),\n  data: processStackedData,\n  color: (colorOpt, data, opt) => {\n    const distinct = data && data.nested ? data.nested.length : 0;\n    return categoricalColor(opt.color.scheme, distinct);\n  },\n});\n\nconst standardComposer = ChartOpt => ({\n  opt: opt => createCartesianOpt(ChartOpt, opt),\n  data: processCartesianData,\n  color: (colorOpt, data, opt) =>\n    genericColor(colorOpt, data.map(d => d[opt.data.y[0].accessor])),\n});\n\nexport { stackedComposer, standardComposer };\n","import { apiRenderCanvas, apiUpdate, canvasLayer } from 'vizart-core';\nimport { renderAxis, updateAxis } from '../axis';\n\nimport { stackedComposer, standardComposer } from './composers';\n\nconst apiRender = (state, animate, hasAxis, stacked) => ({\n  render(data) {\n    apiRenderCanvas(state).render(data);\n    if (hasAxis === true) {\n      renderAxis(state, stacked);\n    }\n    animate(state);\n  },\n});\n\nconst apiUpdateChart = (state, animate, hasAxis, stacked) => ({\n  update() {\n    apiUpdate(state).update();\n    if (hasAxis === true) {\n      updateAxis(state, stacked);\n    }\n    animate(state);\n  },\n});\n\nconst apiColor = state => ({\n  color(colorOpt) {\n    state._options.color = colorOpt;\n    state.update();\n  },\n});\n\nconst addApi = (state, apis) => {\n  return apis.reduce((acc, cur) => {\n    acc = Object.assign(acc, cur(acc));\n    return acc;\n  }, state);\n};\n\nconst build = builderConfig => (ChartOpt, animate, apis = []) => (id, opt) => {\n  const { hasAxis = true, stacked = false } = builderConfig;\n  const compose = stacked === true ? stackedComposer : standardComposer;\n\n  const baseChart = canvasLayer(id, opt, compose(ChartOpt));\n\n  const chart = Object.assign(\n    baseChart,\n    apiRender(baseChart, animate, hasAxis, stacked),\n    apiUpdateChart(baseChart, animate, hasAxis, stacked)\n  );\n\n  return addApi(chart, [apiColor, ...apis]);\n};\n\nconst cartesian = build({ hasAxis: true, stacked: false });\nconst polar = build({ hasAxis: false, stacked: false });\nconst stacked = build({ hasAxis: true, stacked: true });\nconst polarStacked = build({ hasAxis: false, stacked: true });\n\nexport default build;\n\nexport { cartesian, polar, stacked, polarStacked };\n","const drawVerticalLabel = (context, node, opt) => {\n  if (node.attr('dimension')) {\n    context.save();\n\n    context.translate(node.attr('x'), opt.chart.innerHeight);\n    context.rotate(-Math.PI / 2);\n    context.textAlign = 'bottom';\n    context.textBaseline = 'middle';\n\n    context.strokeStyle = 'rgba(255,255,255, 0.7)';\n    context.lineWidth = 4;\n    context.strokeText(node.attr('dimension'), 5, node.attr('width') / 2);\n\n    context.fillStyle = opt.plots.barLabel.color;\n    context.fillText(node.attr('dimension'), 5, node.attr('width') / 2);\n\n    context.restore();\n  }\n};\n\nexport default drawVerticalLabel;\n","const drawMetricOntTop = (context, node, opt) => {\n  context.save();\n\n  context.translate(node.attr('x'), node.attr('y'));\n  context.textAlign = 'center';\n  // context.textBaseline = 'middle';\n\n  context.fillStyle = opt.plots.metricLabel.color;\n  context.fillText(\n    node.attr('metric'),\n    node.attr('width') / 2,\n    -opt.plots.metricLabel.offset\n  );\n\n  context.restore();\n};\n\nexport default drawMetricOntTop;\n","import { select } from 'd3-selection';\n\nimport drawVerticalLabel from './draw-vertical-label';\nimport drawMetricOntTop from './draw-metric-on-top';\n\nconst drawRects = (context, selection, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  selection.each(function(d) {\n    context.save();\n\n    const node = select(this);\n\n    context.beginPath();\n    context.fillStyle = node.attr('fill');\n    context.globalAlpha = node.attr('opacity');\n    context.rect(\n      node.attr('x'),\n      node.attr('y'),\n      node.attr('width'),\n      node.attr('height')\n    );\n    context.fill();\n\n    context.restore();\n\n    if (opt.plots.barLabel.enabled === true)\n      drawVerticalLabel(context, node, opt);\n    if (opt.plots.metricLabel.enabled === true)\n      drawMetricOntTop(context, node, opt);\n  });\n};\n\nexport default drawRects;\n","import { select } from 'd3-selection';\nimport { genColorByIndex } from 'vizart-core';\n\nconst drawHiddenRects = (context, selection) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const colorMap = new Map();\n\n  selection.each(function(d, i) {\n    context.save();\n\n    const node = select(this);\n    const color = genColorByIndex(i + 1);\n    context.beginPath();\n    context.fillStyle = color;\n    context.rect(\n      node.attr('x'),\n      node.attr('y'),\n      node.attr('width'),\n      node.attr('height')\n    );\n    context.fill();\n\n    context.restore();\n\n    colorMap.set(color, d);\n  });\n\n  return colorMap;\n};\n\nexport default drawHiddenRects;\n","const hasNegativeValue = (data, opt) => {\n  let hasNegative = false;\n\n  dataLoop: for (const d of data) {\n    for (const _y of opt.data.y) {\n      if (d[_y.accessor] < 0) {\n        hasNegative = true;\n        break dataLoop;\n      }\n    }\n  }\n\n  return hasNegative;\n};\n\nexport default hasNegativeValue;\n","import { Globals } from 'vizart-core';\n\nconst getDimension = state => state._options.data.x;\nconst getMetric = state => state._options.data.y[0];\nconst getDimensionVal = state => d => d[getDimension(state).accessor];\nconst getMetricVal = state => d => d[getMetric(state).accessor];\nconst x = state => d => getDimension(state).scale(getDimensionVal(state)(d));\nconst y = state => d => getMetric(state).scale(getMetricVal(state)(d));\nconst c = state => d => {\n  if (d.color !== null && d.color !== undefined) {\n    return d.color;\n  }\n\n  switch (state._options.color.type) {\n    case Globals.ColorType.CATEGORICAL:\n      return state._color(getDimensionVal(state)(d));\n    case Globals.ColorType.GRADIENT:\n    case Globals.ColorType.DISTINCT:\n      return state._color(getMetricVal(state)(d));\n    default:\n      return state._color(getMetricVal(state)(d));\n  }\n};\n\nexport { getMetric, getMetricVal, getDimension, getDimensionVal, x, y, c };\n","const isFunction = functionToCheck =>\n  functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n\nexport default isFunction;\n","import {\n  c,\n  getDimensionVal,\n  getMetric,\n  getMetricVal,\n} from '../helper/withCartesian';\n\nconst tooltipMarkup = (d, state) =>\n  `\n    <div class=\"tooltip-content\" style=\"border-color: ${c(state)(d)};\">\n        <div class=\"tooltip-header\">${getDimensionVal(state)(d)}</div>\n        <div class=\"tooltip-row\">\n            <div class=\"col\">${getMetric(state).name} </div>\n            <div class=\"col\">${getMetricVal(state)(d)} </div>\n        </div>\n    </div>\n    `;\n\nexport default tooltipMarkup;\n","import { mouse, select, selection } from 'd3-selection';\nimport 'd3-transition';\nimport drawRects from './draw-rects';\nimport drawHiddenRects from './draw-hidden-rects';\n\nimport hasNegativeValue from '../../util/has-negative';\n\nimport {\n  y,\n  c,\n  x,\n  getDimensionVal,\n  getMetricVal,\n  getDimension,\n  getMetric,\n} from '../../helper/withCartesian';\nimport isFunction from '../../util/isFunction';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _data,\n    _options,\n    _frontContext,\n    _detachedContainer,\n    _containerId,\n    _hiddenContext,\n    _canvasScale,\n  } = state;\n\n  const _y = y(state);\n  const _c = c(state);\n  const _x = x(state);\n\n  const _hasNegative = hasNegativeValue(_data, _options);\n  const _getDimensionVal = getDimensionVal(state);\n  const _getMetricVal = getMetricVal(state);\n\n  const _w = () => {\n    if (\n      getDimension(state).scale.bandwidth === undefined ||\n      !isFunction(getDimension(state).scale.bandwidth)\n    ) {\n      const evenWidth = Math.ceil(_options.chart.innerWidth / _data.length);\n\n      return evenWidth > 1 ? evenWidth - 1 : 0.1;\n    } else {\n      return getDimension(state).scale.bandwidth();\n    }\n  };\n  const _h = d => _options.chart.innerHeight - _y(d);\n  const _zero = () => getMetric(state).scale(0);\n\n  const drawCanvasInTransition = () => {\n    return t => {\n      drawRects(_frontContext, _detachedContainer.selectAll('.bar'), _options);\n    };\n  };\n\n  const dataUpdate = _detachedContainer.selectAll('.bar').data(_data);\n  const dataJoin = dataUpdate.enter();\n  const dataRemove = dataUpdate.exit();\n\n  const exitTransition = selection().transition()\n    .duration(_options.animation.duration.remove)\n    .each(() => {\n      dataRemove\n        .transition()\n        .attr('y', _hasNegative ? _y(0) : _options.chart.innerHeight)\n        .attr('height', 0)\n        .tween('remove.rects', drawCanvasInTransition);\n\n      dataRemove.remove();\n    });\n\n  const updateTransition = exitTransition\n    .transition()\n    .duration(_options.animation.duration.update)\n    .each(() => {\n      dataUpdate\n        .attr('dimension', _getDimensionVal)\n        .attr('metric', _getMetricVal)\n        .transition('update-rect-transition')\n        .delay(\n          (d, i) => (i / _data.length) * _options.animation.duration.update\n        )\n        .attr('fill', _c)\n        .attr('x', _x)\n        .attr('width', _w)\n        .attr('y', d => (_getMetricVal(d) > 0 ? _y(d) : _zero()))\n        .attr('height', d => (_hasNegative ? Math.abs(_y(d) - _zero()) : _h(d)))\n        .tween('update.rects', drawCanvasInTransition);\n    });\n\n  const enterTransition = updateTransition\n    .transition()\n    .duration(_options.animation.duration.add)\n    .each(() => {\n      dataJoin\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('fill', _c)\n        .attr('opacity', 1)\n        .attr('x', _x)\n        .attr('width', _w)\n        .attr('dimension', _getDimensionVal)\n        .attr('metric', _getMetricVal)\n        .attr('y', _hasNegative ? _zero(0) : _options.chart.innerHeight)\n        .attr('height', 0)\n        .transition()\n        .duration(_options.animation.duration.add)\n        .delay((d, i) => (i / _data.length) * _options.animation.duration.add)\n        .attr('y', d => (_getMetricVal(d) > 0 ? _y(d) : _zero()))\n        .attr('height', d => (_hasNegative ? Math.abs(_y(d) - _zero()) : _h(d)))\n        .tween('append.rects', drawCanvasInTransition);\n    });\n\n  const tooltip = select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  enterTransition.on('end', () => {\n    const colorMap = drawHiddenRects(\n      _hiddenContext,\n      _detachedContainer.selectAll('.bar')\n    );\n\n    // shadow color?\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      // This will return that pixel's color\n      const col = _hiddenContext.getImageData(\n        mx * _canvasScale,\n        my * _canvasScale,\n        1,\n        1\n      ).data;\n      //Our map uses these rgb strings as keys to nodes.\n      const colString = 'rgb(' + col[0] + ',' + col[1] + ',' + col[2] + ')';\n      const node = colorMap.get(colString);\n\n      if (node) {\n        tooltip\n          .html(tooltipMarkup(node, state))\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n    state._listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import { Globals } from 'vizart-core';\nimport getSortDef from './get-sort-def';\n\nconst sortSelector = (selector, opt) => {\n  const field = getSortDef(opt);\n  const accessor = opt.ordering.accessor;\n  const direction = opt.ordering.direction;\n\n  selector.sort((a, b) => {\n    if (field.type === Globals.DataType.STRING) {\n      return direction === 'asc'\n        ? a[accessor].localeCompare(b[accessor])\n        : b[accessor].localeCompare(a[accessor]);\n    } else {\n      return direction === 'asc'\n        ? a[accessor] - b[accessor]\n        : b[accessor] - a[accessor];\n    }\n  });\n};\n\nexport default sortSelector;\n","import sortSelector from '../../data/helper/sort-selector';\nimport drawRects from './draw-rects';\nimport { updateAxis } from '../../axis';\nimport { x } from '../../helper/withCartesian';\n\nconst apiSort = state => ({\n  sort: (field, direction) => {\n    const { _options, _detachedContainer, _frontContext, _data } = state;\n    const _x = x(state);\n\n    state._options.ordering = {\n      accessor: field,\n      direction: direction,\n    };\n\n    state.data(_data);\n    sortSelector(_detachedContainer.selectAll('.bar'), _options);\n\n    const drawCanvasInTransition = () => {\n      return t => {\n        drawRects(\n          _frontContext,\n          _detachedContainer.selectAll('.bar'),\n          _options\n        );\n      };\n    };\n\n    state._detachedContainer\n      .selectAll('.bar')\n      .transition()\n      .duration(_options.animation.duration.update)\n      .delay((d, i) => (i / _data.length) * _options.animation.duration.update)\n      .attr('x', _x)\n      .tween('append.rects', drawCanvasInTransition);\n\n    updateAxis(state, false);\n  },\n});\n\nexport default apiSort;\n","import { cartesian } from '../../helper/builder';\nimport animate from './animate';\nimport apiSort from './sort';\n\nconst BarOpt = {\n  chart: { type: 'bar' },\n  plots: {\n    barLabel: {\n      enabled: false,\n      color: 'black',\n    },\n    metricLabel: {\n      enabled: false,\n      color: 'black',\n      offset: 10,\n    },\n  },\n};\n\nconst bar = cartesian(BarOpt, animate, [apiSort]);\n\nexport default bar;\n","import { sum } from 'd3-array';\nimport { format } from 'd3-format';\n\nconst percentFormat = format('.00%');\n\nconst limitSliceValues = (data, opt, color) => {\n  const minPct = opt.plots.labelMinPercentage;\n  const total = sum(data, d => d.y);\n\n  let maxTicks = opt.xAxis.ticks > 0 ? opt.xAxis.ticks : 31;\n  let maxLength = data.length;\n  let lastSmall = false;\n  let noTwoSmalls = true;\n  let maxData;\n\n  if (minPct === 0) {\n    maxData = data;\n  }\n\n  if (maxLength > maxTicks) {\n    let maxIndividual = maxTicks - 1;\n    let etcTotal = 0;\n    let etcData = [];\n    let i;\n\n    maxData = new Array();\n\n    for (i = 0; i < maxIndividual; ++i) {\n      maxData[i] = data[i];\n\n      if (noTwoSmalls) {\n        if (data[i].y / total < minPct) {\n          if (lastSmall) {\n            noTwoSmalls = false;\n          }\n          lastSmall = true;\n        } else {\n          lastSmall = false;\n        }\n      }\n    }\n\n    for (i = maxIndividual; i < maxLength; ++i) {\n      etcTotal += data[i].y;\n      etcData.push(data[i]);\n    }\n\n    maxData[maxIndividual] = {\n      y: etcTotal,\n      c: color(etcTotal),\n      alpha: opt.plots.opacity,\n      data: etcData,\n      label: opt.plots.othersTitle,\n    };\n\n    if (lastSmall && etcTotal / total < minPct) {\n      noTwoSmalls = false;\n    }\n  } else {\n    for (let i = 0; i < maxLength; ++i) {\n      if (noTwoSmalls) {\n        if (data[i].y / total < minPct) {\n          if (lastSmall) {\n            noTwoSmalls = false;\n          }\n          lastSmall = true;\n        } else {\n          lastSmall = false;\n        }\n      }\n    }\n    maxData = data;\n  }\n\n  // this.consecutiveSmalls = !noTwoSmalls;\n\n  for (let d of maxData) {\n    d.p = percentFormat(d.y / total);\n  }\n\n  return maxData;\n};\n\nexport default limitSliceValues;\n","const centroidOnArc = (arc, context, radius, slice) => {\n  const [x, y] = arc.centroid(slice);\n  // pythagorean theorem for hypotenuse\n  const h = Math.sqrt(x * x + y * y);\n\n  return [(x / h) * radius, (y / h) * radius];\n};\n\nexport default centroidOnArc;\n","const drawControlPoint = (context, slice, centroid, opt) => {\n  context.save();\n\n  context.beginPath();\n  context.fillStyle = slice.data.c;\n  context.globalAlpha = slice.data.alpha;\n  context.arc(\n    centroid[0],\n    centroid[1],\n    opt.plots.labelControlPointRadius,\n    0,\n    2 * Math.PI,\n    false\n  );\n  context.fill();\n\n  context.strokeStyle = 'white';\n  context.strokeWidth = 4;\n  context.stroke();\n  context.closePath();\n\n  context.restore();\n};\n\nexport default drawControlPoint;\n","const midAngle = d => d.startAngle + (d.endAngle - d.startAngle) / 2;\n\nexport default midAngle;\n","import midAngle from './mid-angle';\n\nconst getLinePosition = (centroid, d2, offset = 30) => {\n  let pos = [];\n  const angle = (midAngle(d2) / Math.PI) * 180;\n\n  pos[0] = angle > 180 ? centroid[0] - offset : centroid[0] + offset;\n  pos[1] = centroid[1];\n\n  if (angle <= 0 || angle >= 360) {\n    pos[1] -= offset;\n  } else if (angle == 180) {\n    pos[1] += offset;\n  } else if (angle <= 30) {\n    pos[1] -= ((30 - angle) / 30) * offset;\n  } else if (angle >= 150) {\n    if (angle < 180) {\n      pos[1] += ((angle - 150) / 30) * offset;\n    } else if (angle <= 210) {\n      pos[1] += ((210 - angle) / 30) * offset;\n    } else if (angle >= 330) {\n      pos[1] -= ((angle - 330) / 30) * offset;\n    }\n  }\n  return pos;\n};\n\nexport default getLinePosition;\n","import getLinePosition from './get-line-position';\n\nconst drawPolyLine = (context, slice, centroid, opt) => {\n  const start = centroid;\n  const end = getLinePosition(centroid, slice, opt.plots.labelOffset);\n\n  context.save();\n  context.beginPath();\n  context.strokeStyle = slice.data.c;\n  context.strokeWidth = 4;\n\n  context.moveTo(start[0], start[1]);\n  context.lineTo(end[0], end[1]);\n  context.stroke();\n\n  context.translate(end[0], end[1]);\n  context.textAlign = end[0] > start[0] ? 'start' : 'end';\n  context.textBaseline = 'middle';\n  context.fillStyle = 'black';\n  context.fillText(\n    slice.data.label + ': ' + slice.data.p,\n    end[0] > start[0] ? 5 : -5,\n    0\n  );\n  context.restore();\n};\n\nexport default drawPolyLine;\n","import { pie, arc } from 'd3-shape';\n\nimport centroidOnArc from './centroid-on-arc';\nimport drawControlPoint from './draw-control-point';\nimport drawPolyLine from './draw-polyline-label';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const radius =\n    Math.min(opt.chart.innerWidth, opt.chart.innerHeight) / 2 -\n    opt.plots.outerRadiusMargin;\n  const arcDiagram = arc()\n    .outerRadius(radius)\n    .innerRadius(() =>\n      opt.plots.isDonut ? radius * opt.plots.innerRadiusRatio : 0\n    )\n    .context(context);\n\n  const pieDiagram = pie()\n    .sort(null)\n    .value(d => d.y);\n\n  const slices = pieDiagram(state);\n\n  context.save();\n  context.translate(opt.chart.innerWidth / 2, opt.chart.innerHeight / 2);\n\n  for (const s of slices) {\n    context.beginPath();\n    arcDiagram(s);\n    context.fillStyle = s.data.c;\n    context.fill();\n\n    const outerArc = arc()\n      .innerRadius(radius)\n      .outerRadius(radius)\n      .context(context);\n    const centroid = centroidOnArc(outerArc, context, radius, s);\n\n    drawControlPoint(context, s, centroid, opt);\n    drawPolyLine(context, s, centroid, opt);\n  }\n  context.restore();\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { pie, arc } from 'd3-shape';\nimport { genColorByIndex } from 'vizart-core';\n\nconst drawHiddenCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  const colorMap = new Map();\n\n  const radius = Math.min(opt.chart.innerWidth, opt.chart.innerHeight) / 2;\n  const arcDiagram = arc()\n    .outerRadius(radius * 0.8)\n    .innerRadius(() =>\n      opt.plots.isDonut ? radius * opt.plots.innerRadiusRatio : 0\n    )\n    .context(context);\n\n  const pieDiagram = pie()\n    .sort(null)\n    .value(d => d.y);\n\n  const slices = pieDiagram(state);\n\n  context.save();\n  context.translate(opt.chart.innerWidth / 2, opt.chart.innerHeight / 2);\n\n  for (const [i, s] of slices.entries()) {\n    context.beginPath();\n    arcDiagram(s);\n    const color = genColorByIndex(i + 1);\n    context.fillStyle = color;\n    context.fill();\n\n    colorMap.set(color, s);\n  }\n\n  context.restore();\n\n  return colorMap;\n};\n\nexport default drawHiddenCanvas;\n","const isArray = v => v instanceof Array && Array.isArray(v);\n\nexport default isArray;\n","import { mouse, select } from 'd3-selection';\nimport { sum } from 'd3-array';\n\nimport limitSliceValues from './limit-slice-values';\nimport animateStates from './tween-states';\nimport drawHiddenCanvas from './draw-hidden-canvas';\nimport tooltipMarkup from '../../tooltip/markup';\n\nimport {\n  y,\n  c,\n  getDimension,\n  getMetric,\n  getDimensionVal,\n  getMetricVal,\n} from '../../helper/withCartesian';\n\nimport isArray from '../../util/isArray';\n\nconst animate = state => {\n  const {\n    _data,\n    _animationState,\n    _frontContext,\n    _options,\n    _hiddenContext,\n    _canvasScale,\n    _containerId,\n    _color,\n  } = state;\n\n  getMetric(state).scale.range(\n    getMetric(state)\n      .scale.range()\n      .reverse()\n  );\n\n  const _y = y(state);\n  const _c = c(state);\n  const _getDimensionVal = getDimensionVal(state);\n  const _getMetricVal = getMetricVal(state);\n\n  const initialState = _animationState\n    ? _animationState\n    : _data.map(d => {\n        return {\n          y: 0,\n          c: _c(d),\n          alpha: 0,\n          data: d,\n          p: '0%',\n          label: _getDimensionVal(d),\n        };\n      });\n\n  const finalState = _data.map(d => {\n    return {\n      y: _y(d),\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      data: d,\n      label: _getDimensionVal(d),\n      p: '',\n    };\n  });\n\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  const transformedInitial = limitSliceValues(initialState, _options, _color);\n  const transformedFinal = limitSliceValues(finalState, _options, _color);\n\n  const tooltip = select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  animateStates(\n    transformedInitial,\n    transformedFinal,\n    _options.animation.duration.update,\n    _frontContext,\n    _options\n  ).then(res => {\n    const colorMap = drawHiddenCanvas(_hiddenContext, res, _options, state);\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const col = _hiddenContext.getImageData(\n        mx * _canvasScale,\n        my * _canvasScale,\n        1,\n        1\n      ).data;\n      const colString = 'rgb(' + col[0] + ',' + col[1] + ',' + col[2] + ')';\n      const node = colorMap.get(colString);\n\n      if (node) {\n        let html;\n        if (isArray(node.data.data)) {\n          let n = {};\n          n[getDimension(state).accessor] = node.data.label;\n          n[getMetric(state).accessor] = sum(\n            node.data.data.map(d => d.data),\n            _getMetricVal\n          );\n          html = tooltipMarkup(n, state);\n        } else {\n          html = tooltipMarkup(node.data.data, state);\n        }\n\n        tooltip\n          .html(html)\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n\n    state._listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import { polar } from '../../helper/builder';\nimport animate from './animate';\n\nconst PieOptions = {\n  chart: {\n    type: 'pie',\n  },\n  plots: {\n    othersTitle: 'Others',\n    isDonut: false,\n    opacity: 0.8,\n    innerRadiusRatio: 0.4,\n    outerRadiusMargin: 30,\n    labelOffset: 20,\n    labelControlPointRadius: 6,\n    labelPosition: 'auto',\n    labelMinPercentage: 0.01,\n  },\n};\n\nconst pie = polar(PieOptions, animate);\n\nexport default pie;\n","import { linearStops } from 'vizart-core';\n\nconst nodeColor = opt => {\n  const stops = linearStops(opt.color.scheme);\n  return stops[stops.length - 1].color;\n};\n\nexport default nodeColor;\n","import { genColorByIndex } from 'vizart-core';\nimport nodeColor from './node-color';\n\nconst drawPoints = (context, particles, opt, hidden) => {\n  for (const [i, p] of particles.entries()) {\n    context.save();\n\n    context.beginPath();\n    context.fillStyle = hidden === true ? genColorByIndex(i) : nodeColor(opt);\n    context.globalAlpha = p.alpha;\n    context.arc(p.x, p.y, p.r, 0, 2 * Math.PI, false);\n    context.fill();\n\n    context.restore();\n  }\n};\n\nexport default drawPoints;\n","import {\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBasis,\n  curveBundle,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCardinal,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveCatmullRom,\n  curveLinearClosed,\n  curveLinear,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  curveMonotoneX,\n  curveMonotoneY,\n} from 'd3-shape';\n\nconst Curves = {\n  LINEAR: 'linear',\n  LINEAR_CLOSED: 'linear-closed',\n  STEP: 'step',\n  STEP_BEFORE: 'step-before',\n  STEP_AFTER: 'step-after',\n  BASIS: 'basis',\n  BASIS_OPEN: 'basis-open',\n  BASIS_CLOSED: 'basis-closed',\n  BUNDLE: 'bundle',\n  CARDINAL: 'cardinal',\n  CARDINAL_OPEN: 'cardinal-open',\n  CARDINAL_CLOSED: 'cardinal-closed',\n  MONOTONE_X: 'monotoneX',\n  MONOTONE_Y: 'monotoneY',\n  NATURAL: 'natural',\n  CATMULL_ROM: 'catmull-rom',\n  CATMULL_ROM_CLOSED: 'catmull-rom-closed',\n  CATMULL_ROM_OPEN: 'catmull-rom-open',\n};\n\nconst interpolateCurve = (_curve, _shapes) => {\n  for (let _shape of _shapes) {\n    switch (_curve) {\n      case Curves.LINEAR:\n        _shape.curve(curveLinear);\n\n        break;\n      case Curves.LINEAR_CLOSED:\n        _shape.curve(curveLinearClosed);\n\n        break;\n      case Curves.STEP:\n        _shape.curve(curveStep);\n\n        break;\n      case Curves.STEP_BEFORE:\n        _shape.curve(curveStepBefore);\n\n        break;\n      case Curves.STEP_AFTER:\n        _shape.curve(curveStepAfter);\n\n        break;\n      case Curves.BASIS:\n        _shape.curve(curveBasis);\n\n        break;\n      case Curves.BASIS_OPEN:\n        _shape.curve(curveBasisOpen);\n\n        break;\n      case Curves.BASIS_CLOSED:\n        _shape.curve(curveBasisClosed);\n\n        break;\n      case Curves.BUNDLE:\n        _shape.curve(curveBundle);\n\n        break;\n      case Curves.CARDINAL:\n        _shape.curve(curveCardinal);\n\n        break;\n      case Curves.CARDINAL_OPEN:\n        _shape.curve(curveCardinalOpen);\n\n        break;\n      case Curves.CARDINAL_CLOSED:\n        _shape.curve(curveCardinalClosed);\n\n        break;\n      case Curves.MONOTONE_X:\n        _shape.curve(curveMonotoneX);\n        break;\n      case Curves.MONOTONE_Y:\n        _shape.curve(curveMonotoneY);\n        break;\n      case Curves.NATURAL:\n        _shape.curve(curveNatural);\n        break;\n\n      case Curves.CATMULL_ROM:\n        _shape.curve(curveCatmullRom);\n        break;\n\n      case Curves.CATMULL_ROM_CLOSED:\n        _shape.curve(curveCatmullRomClosed);\n        break;\n\n      case Curves.CATMULL_ROM_OPEN:\n        _shape.curve(curveCatmullRomOpen);\n        break;\n\n      default:\n        break;\n    }\n  }\n};\n\nexport default interpolateCurve;\n","import { verticalGradient } from 'vizart-core';\nimport { area } from 'd3-shape';\n\nimport interpolateCurve from '../../util/curve';\nimport nodeColor from './node-color';\n\nconst drawArea = (context, particles, opt) => {\n  context.save();\n\n  const curve = area()\n    .x(d => d.x)\n    .y0(context.canvas.height)\n    .y1(d => d.y)\n    .context(context);\n\n  interpolateCurve(opt.plots.curve, [curve]);\n  context.beginPath();\n  curve(particles);\n  context.lineWidth = opt.plots.strokeWidth;\n  const gradientStyle = verticalGradient(\n    context,\n    opt.color.scheme,\n    opt.plots.areaOpacity\n  );\n  context.fillStyle = gradientStyle;\n  context.strokeStyle = nodeColor(opt);\n  context.stroke();\n\n  context.fill();\n  context.closePath();\n\n  context.restore();\n};\n\nexport default drawArea;\n","import { line } from 'd3-shape';\nimport { verticalGradient } from 'vizart-core';\nimport interpolateCurve from '../../util/curve';\n\nconst drawLine = (context, particles, opt) => {\n  context.save();\n\n  const curve = line()\n    .x(d => d.x)\n    .y(d => d.y)\n    .context(context);\n  interpolateCurve(opt.plots.curve, [curve]);\n\n  context.beginPath();\n  curve(particles);\n  context.lineWidth = opt.plots.strokeWidth;\n  context.strokeStyle = verticalGradient(context, opt.color.scheme, 1);\n\n  context.stroke();\n  context.closePath();\n  context.restore();\n};\n\nexport default drawLine;\n","import drawPoints from './draw-points';\nimport drawArea from './draw-area';\nimport drawLine from './draw-line';\n\n/**\n * a particle contains x, y, r, c, alpha\n *\n * @param context\n * @param particles, particle colors may be defined in rgb string and thus cannot be recognized by\n * canvas. This is caused by d3's interpolation.\n */\nconst drawCanvas = (context, particles, opt, hidden = false) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  if (hidden === true) {\n    drawPoints(context, particles, opt, true);\n  } else {\n    if (opt.plots.drawArea === true) {\n      drawArea(context, particles, opt);\n    } else {\n      drawLine(context, particles, opt);\n    }\n\n    if (opt.plots.showDots === true) {\n      drawPoints(context, particles, opt, false);\n    }\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { getTransparentColor } from 'vizart-core';\n\nconst highlightNode = (context, opt, datum, x, y) => {\n  context.save();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.highlightNodeColor\n    ? opt.plots.highlightNodeColor\n    : getTransparentColor(datum.c, 0.9);\n  context.strokeStyle = 'white';\n  context.lineWidth = 2;\n  context.arc(x, y, 6, 2 * Math.PI, false);\n  context.fill();\n  context.stroke();\n\n  context.closePath();\n\n  context.restore();\n};\n\nexport default highlightNode;\n","import { select, mouse } from 'd3-selection';\nimport { linearStops, applyVoronoi } from 'vizart-core';\n\nimport { x, y } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nimport animateStates from './tween-states';\nimport drawCanvas from './draw-canvas';\nimport highlightNode from './highlight-node';\n\nconst animate = state => {\n  const {\n    _animationState: previousState,\n    _data: data,\n    _options: opt,\n    _containerId,\n    _frontCanvas: frontCanvas,\n    _frontContext: frontContext,\n    _listeners: listeners,\n  } = state;\n\n  const stops = linearStops(opt.color.scheme);\n  const nodeColor = stops[stops.length - 1].color;\n\n  const initialState = previousState\n    ? previousState\n    : data.map(d => {\n        return {\n          x: x(state)(d),\n          y: frontCanvas.node().height,\n          r: opt.plots.nodeRadius,\n          c: nodeColor,\n          alpha: 0,\n          data: d,\n        };\n      });\n\n  const finalState = data.map(d => {\n    return {\n      x: x(state)(d),\n      y: y(state)(d),\n      r: opt.plots.nodeRadius,\n      c: nodeColor,\n      alpha: 1,\n      data: d,\n    };\n  });\n\n  state._animationState = finalState;\n\n  const tooltip = select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  animateStates(\n    initialState,\n    finalState,\n    opt.animation.duration.update,\n    frontContext,\n    opt\n  ).then(res => {\n    state._voronoi = applyVoronoi(frontContext, opt, res);\n\n    // this._quadtree = applyQuadtree(ctx, opt, res);\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 100;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n\n      if (closest) {\n        tooltip\n          .html(tooltipMarkup(closest.data.data, state))\n          .style('left', mx + opt.tooltip.offset[0] + 'px')\n          .style('top', my + opt.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n\n        drawCanvas(frontContext, res, opt, false);\n        highlightNode(frontContext, opt, closest.data, closest[0], closest[1]);\n      } else {\n        tooltip\n          .transition()\n          .duration(opt.animation.duration.tooltip)\n          .style('opacity', 0);\n\n        drawCanvas(frontContext, res, opt, false);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip.style('opacity', 0);\n\n      drawCanvas(frontContext, res, opt, false);\n    }\n\n    frontCanvas.on('mousemove', mouseMoveHandler);\n    frontCanvas.on('mouseout', mouseOutHandler);\n\n    listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import animate from './animate';\nimport { cartesian } from '../../helper/builder';\n\nconst AreaOpt = {\n  chart: {\n    type: 'area_horizontal',\n  },\n  plots: {\n    areaOpacity: 0.3,\n    curve: 'basis',\n    strokeWidth: 2,\n    highlightNodeColor: '#F03E1E',\n    nodeRadius: 4,\n    drawArea: true,\n    showDots: false,\n  },\n};\n\nconst area = cartesian(AreaOpt, animate);\n\nexport default area;\n","import animate from '../area/animate';\nimport { cartesian } from '../../helper/builder';\n\nconst LineOptions = {\n  chart: {\n    type: 'line',\n  },\n  plots: {\n    curve: 'linear',\n    strokeWidth: 3,\n    nodeRadius: 4,\n    highlightNodeColor: '#F03E1E',\n    drawArea: false,\n    showDots: true,\n  },\n};\n\nconst line = cartesian(LineOptions, animate);\n\nexport default line;\n","const drawCanvas = (context, particles) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  for (const p of particles) {\n    context.save();\n\n    context.beginPath();\n    context.fillStyle = p.c;\n    context.globalAlpha = p.alpha;\n    context.arc(p.x, p.y, p.r, 0, 2 * Math.PI, false);\n    context.fill();\n\n    context.restore();\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { color } from 'd3-color';\n\nconst highlightNode = (context, p) => {\n  context.save();\n  context.beginPath();\n  context.fillStyle = color(p.c)\n    .brighter()\n    .toString();\n  context.globalAlpha = 1;\n  context.arc(p.x, p.y, p.r, 0, 2 * Math.PI, false);\n  context.fill();\n  context.restore();\n};\n\nexport default highlightNode;\n","import { scaleLinear } from 'd3-scale';\nimport { extent } from 'd3-array';\nimport isFunction from '../../util/isFunction';\n\nconst updateRadiusScale = state => {\n  const { _options, _data } = state;\n  const radiusDef = _options.r;\n\n  if (\n    radiusDef.scale !== undefined &&\n    radiusDef.scale !== null &&\n    isFunction(radiusDef.scale)\n  ) {\n    _options.data.r.scale = radiusDef.scale;\n  } else {\n    if (\n      _options.data.r !== undefined &&\n      _options.data.r !== null &&\n      _options.data.r.accessor !== undefined &&\n      _options.data.r.accessor !== null\n    ) {\n      const range = extent(_data, d => d[_options.data.r.accessor]);\n\n      _options.data.r.min = range[0];\n      _options.data.r.max = range[1];\n\n      _options.data.r.scale = scaleLinear()\n        .domain([_options.data.r.min, _options.data.r.max])\n        .range([radiusDef.min, radiusDef.max]);\n    } else {\n      _options.data.r.scale = null;\n    }\n  }\n};\n\nexport default updateRadiusScale;\n","import { mouse, select } from 'd3-selection';\nimport { applyVoronoi } from 'vizart-core';\n\nimport animateStates from './tween-states';\nimport drawCanvas from './draw-canvas';\nimport highlightNode from './highlight-node';\nimport updateRadiusScale from './update-radius-scale';\nimport { c, x, y } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _data,\n    _options,\n    _frontContext,\n    _containerId,\n    _frontCanvas,\n    _animationState,\n  } = state;\n\n  const _y = y(state);\n  const _c = c(state);\n  const _x = x(state);\n\n  const _getRadius = () => state._options.data.r;\n  const _getRadiusValue = d => d[_getRadius().accessor];\n  const _r = d =>\n    _getRadius().scale === null\n      ? _options.r.default\n      : _getRadius().scale(_getRadiusValue(d));\n\n  updateRadiusScale(state);\n\n  const initialState = _animationState\n    ? _animationState\n    : _data.map((d, i) => {\n        return {\n          id: i,\n          x: _x(d),\n          y: _frontCanvas.node().height,\n          r: _r(d),\n          c: _c(d),\n          alpha: 0,\n          data: d,\n        };\n      });\n\n  const finalState = _data.map((d, i) => {\n    return {\n      id: i,\n      x: _x(d),\n      y: _y(d),\n      r: _r(d),\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      data: d,\n    };\n  });\n\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  const tooltip = select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  animateStates(\n    initialState,\n    finalState,\n    _options.animation.duration.update,\n    _frontContext,\n    _options\n  ).then(res => {\n    state._voronoi = applyVoronoi(_frontContext, _options, res);\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 100;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n\n      if (closest) {\n        tooltip\n          .html(tooltipMarkup(closest.data.data, state))\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n\n        drawCanvas(_frontContext, finalState);\n        highlightNode(_frontContext, closest.data);\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n\n        drawCanvas(_frontContext, finalState);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n\n      drawCanvas(_frontContext, finalState);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n\n    state._listeners.call('rendered');\n  });\n};\nexport default animate;\n","import { Globals } from 'vizart-core';\nimport animate from './animate';\nimport { cartesian } from '../../helper/builder';\n\nconst ScatterOptions = {\n  chart: {\n    type: 'scatter',\n  },\n  plots: {\n    opacity: 1,\n  },\n\n  r: {\n    scale: null,\n    max: 20,\n    min: 6,\n    default: 8,\n  },\n\n  data: {\n    r: {\n      accessor: null,\n      type: Globals.DataType.NUMBER,\n      formatter: null,\n    },\n  },\n};\n\nconst scatter = cartesian(ScatterOptions, animate);\n\nexport default scatter;\n","import { Stacks } from '../data';\n\nconst apiGroup = state => ({\n  group: () => {\n    state._options.plots.stackLayout = false;\n    state.update();\n  },\n});\n\nconst toLayout = (state, layout) => () => {\n  state._options.plots.stackLayout = true;\n  state._options.plots.stackMethod = layout;\n  state.update();\n};\n\nconst apiStack = state => ({\n  stack: toLayout(state, Stacks.Zero),\n});\n\nconst apiExpand = state => ({\n  expand: toLayout(state, Stacks.Expand),\n});\n\nconst apiWiggle = state => ({\n  wiggle: toLayout(state, Stacks.Wiggle),\n});\n\nconst apiSilhouette = state => ({\n  silhouette: toLayout(state, Stacks.Silhouette),\n});\n\nconst apiDivergent = state => ({\n  divergent: toLayout(state, Stacks.Divergent),\n});\n\nexport {\n  apiGroup,\n  apiStack,\n  apiExpand,\n  apiWiggle,\n  apiSilhouette,\n  apiDivergent,\n};\n","import { area } from 'd3-shape';\nimport { hsl } from 'd3-color';\nimport interpolateCurve from '../../util/curve';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const curve =\n    opt.plots.stackLayout === true\n      ? area()\n          .x(d => d.x)\n          .y0(d => d.y0)\n          .y1(d => d.y1)\n          .context(context)\n      : area()\n          .x(d => d.x)\n          .y0(opt.chart.innerHeight)\n          .y1(d => d.y)\n          .context(context);\n\n  for (const n of state) {\n    context.save();\n\n    const color = n.c;\n    const hslColorSpace = hsl(color);\n    hslColorSpace.opacity = n.alpha;\n\n    interpolateCurve(opt.plots.curve, [curve]);\n    context.beginPath();\n    curve(n.values);\n    context.lineWidth = opt.plots.strokeWidth;\n    context.strokeStyle = color;\n    context.stroke();\n\n    context.fillStyle = hslColorSpace;\n\n    context.fill();\n    context.closePath();\n\n    context.restore();\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { getTransparentColor } from 'vizart-core';\n\nconst highlightNode = (context, opt, c, x, y) => {\n  context.save();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.highlightNodeColor\n    ? opt.plots.highlightNodeColor\n    : getTransparentColor(c, 0.9);\n  context.strokeStyle = 'white';\n  context.lineWidth = 2;\n  context.arc(x, y, 6, 2 * Math.PI, false);\n  context.fill();\n  context.stroke();\n\n  context.closePath();\n\n  context.restore();\n};\n\nexport default highlightNode;\n","import { area } from 'd3-shape';\nimport { hsl } from 'd3-color';\nimport interpolateCurve from '../../util/curve';\n\nconst highlightArea = (context, state, opt, highlighted) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const curve =\n    opt.plots.stackLayout === true\n      ? area()\n          .x(d => d.x)\n          .y0(d => d.y0)\n          .y1(d => d.y1)\n          .context(context)\n      : area()\n          .x(d => d.x)\n          .y0(opt.chart.innerHeight)\n          .y1(d => d.y)\n          .context(context);\n\n  for (const n of state) {\n    context.save();\n    const color = n.c;\n    const hslColorSpace = hsl(color);\n    hslColorSpace.opacity = n.key === highlighted.key ? 0.6 : 0.2;\n\n    interpolateCurve(opt.plots.curve, [curve]);\n    context.beginPath();\n    curve(n.values);\n    context.lineWidth = opt.plots.strokeWidth;\n    context.strokeStyle = n.key === highlighted.key ? color : hslColorSpace;\n    context.stroke();\n\n    context.fillStyle = hslColorSpace;\n\n    context.fill();\n    context.closePath();\n    context.restore();\n  }\n};\n\nexport default highlightArea;\n","import { getMetric } from './withCartesian';\n\nconst getSeries = state => state._options.data.s;\nconst s = state => d => d[getSeries(state).accessor];\nconst y1 = state => d => getMetric(state).scale(d.y1);\nconst y0 = state => d => getMetric(state).scale(d.y0);\nconst c = state => d =>\n  d.hasOwnProperty('key') ? state._color(d.key) : state._color(s(state)(d));\n\nexport { getSeries, s, y0, y1, c };\n","import animateStates from './tween-states';\nimport { mouse, select } from 'd3-selection';\nimport { applyVoronoi } from 'vizart-core';\n\nimport highlightNode from './highlight-node';\nimport drawCanvas from './draw-canvas';\nimport highlightArea from './highlight-area';\nimport { c, y0, y1 } from '../../helper/withStacked';\nimport { x, getMetric } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _animationState,\n    _data,\n    _options,\n    _frontContext,\n    _containerId,\n  } = state;\n\n  const _x = x(state);\n  const _c = c(state);\n  const _y0 = y0(state);\n  const _y1 = y1(state);\n\n  const initialState = _animationState\n    ? _animationState\n    : _data.nested.map(d => ({\n        key: d.key,\n        c: _c(d),\n        alpha: 0,\n        values: d.values.map(e => {\n          return {\n            key: d.key,\n            c: _c(d),\n            x: _x(e.data),\n            y: _options.chart.innerHeight,\n            y0: _y0(e),\n            y1: _y1(e),\n            data: e.data,\n          };\n        }),\n      }));\n\n  const finalState = _data.nested.map(d => ({\n    key: d.key,\n    c: _c(d),\n    alpha: _options.plots.opacityArea,\n    values: d.values.map(e => {\n      return {\n        key: d.key,\n        c: _c(d),\n        x: _x(e.data),\n        y: e.y,\n        y0: _y0(e),\n        y1: _y1(e),\n        data: e.data,\n      };\n    }),\n  }));\n\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  const tooltip = select(_containerId).select('.vizart-tooltip');\n\n  animateStates(\n    initialState,\n    finalState,\n    _options.animation.duration.update,\n    _frontContext,\n    _options\n  ).then(res => {\n    state._voronoi = applyVoronoi(\n      _frontContext,\n      _options,\n      res.reduce((acc, p) => {\n        acc = acc.concat(p.values);\n        return acc;\n      }, [])\n    );\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 40;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n\n      if (closest) {\n        closest.data.data[getMetric(state).accessor] =\n          closest.data.data[closest.data.key];\n\n        tooltip\n          .html(tooltipMarkup(closest.data.data, state))\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n\n        highlightArea(_frontContext, res, _options, closest.data);\n        highlightNode(\n          _frontContext,\n          _options,\n          closest.data.c,\n          closest[0],\n          closest[1]\n        );\n      } else {\n        drawCanvas(_frontContext, res, _options);\n\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n    }\n\n    function mouseOutHandler() {\n      drawCanvas(_frontContext, res, _options);\n\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n\n    state._listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import { Stacks } from '../../data';\n\nconst StackedOptions = {\n  chart: {\n    type: 'area_stacked',\n  },\n  animation: {\n    duration: {\n      curve: 500,\n    },\n  },\n  plots: {\n    stackLayout: true,\n    stackMethod: Stacks.Zero,\n    showDots: false,\n    curve: 'basis',\n    strokeWidth: 2,\n    highlightNodeColor: '#F03E1E',\n    opacityArea: 0.7,\n  },\n};\n\nexport default StackedOptions;\n","import { stacked } from '../../helper/builder';\nimport { apiGroup, apiStack, apiExpand } from '../../helper/api-layout';\n\nimport animate from './animate';\nimport StackedOptions from './options';\n\nconst stackedArea = stacked(StackedOptions, animate, [\n  apiGroup,\n  apiStack,\n  apiExpand,\n]);\n\nexport default stackedArea;\n","import { area, curveCardinal } from 'd3-shape';\nimport { hsl } from 'd3-color';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const curve = area()\n    .x(d => d.x)\n    .y0(d => d.y0)\n    .y1(d => d.y1)\n    .curve(curveCardinal)\n    .context(context);\n\n  for (const n of state) {\n    context.save();\n\n    const color = n.c;\n    const hslColorSpace = hsl(color);\n    hslColorSpace.opacity = n.alpha;\n\n    context.beginPath();\n    curve(n.values);\n    context.lineWidth = opt.plots.strokeWidth;\n    context.strokeStyle = color;\n    context.stroke();\n    context.fillStyle = hslColorSpace;\n    context.fill();\n    context.closePath();\n\n    context.restore();\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (initialState, finalState, duration, context, opt) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt);\n\n        if (t === 1) {\n          batchRendering.stop();\n          // final state as result\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { getTransparentColor } from 'vizart-core';\n\nconst highlightNode = (context, opt, datum, x, y) => {\n  context.save();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.highlightNodeColor\n    ? opt.plots.highlightNodeColor\n    : getTransparentColor(datum.c, 0.9);\n  context.strokeStyle = 'white';\n  context.lineWidth = 2;\n  context.arc(x, y, 6, 2 * Math.PI, false);\n  context.fill();\n  context.stroke();\n\n  context.closePath();\n\n  context.restore();\n};\n\nexport default highlightNode;\n","import { min } from 'd3-array';\nimport { mouse, select } from 'd3-selection';\nimport { applyVoronoi } from 'vizart-core';\n\nimport animateStates from './tween-states';\nimport drawCanvas from './draw-canvas';\nimport highlightNode from './highlight-node';\nimport { y0, y1, c } from '../../helper/withStacked';\n\nimport { x, getMetric } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _animationState: previousState,\n    _data: data,\n    _options: opt,\n    _frontCanvas: frontCanvas,\n    _frontContext: frontContext,\n    _containerId,\n    _listeners: listeners,\n  } = state;\n\n  const _x = x(state),\n    _c = c(state),\n    _y0 = y0(state),\n    _y1 = y1(state);\n\n  const minY0 = min(data.nested.map(d => min(d.values.map(e => e.y0))));\n  getMetric(state).scale.domain([minY0, data.maxY]);\n\n  const initialState = previousState\n    ? previousState\n    : data.nested.map(d => {\n        return {\n          key: d.key,\n          c: _c(d),\n          s: d.key,\n          alpha: 0,\n          values: d.values.map(e => {\n            return {\n              key: d.key,\n              x: _x(e.data),\n              y: e.y,\n              y0: opt.chart.innerHeight / 2,\n              y1: opt.chart.innerHeight / 2,\n              data: e.data,\n            };\n          }),\n        };\n      });\n\n  const finalState = data.nested.map(d => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: opt.plots.opacityArea,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data),\n          y: e.y,\n          y0: _y0(e),\n          y1: _y1(e),\n          data: e.data,\n        };\n      }),\n    };\n  });\n\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  const tooltip = select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  animateStates(\n    initialState,\n    finalState,\n    opt.animation.duration.update,\n    frontContext,\n    opt\n  ).then(res => {\n    state._voronoi = applyVoronoi(\n      frontContext,\n      opt,\n      res.reduce((acc, p) => {\n        acc = acc.concat(\n          p.values.map(d => {\n            let n = d;\n            n.y = d.y1;\n            return n;\n          })\n        );\n        return acc;\n      }, [])\n    );\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 40;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n\n      if (closest) {\n        closest.data.data[getMetric(state).accessor] =\n          closest.data.data[closest.data.key];\n        tooltip\n          .html(tooltipMarkup(closest.data.data, state))\n          .transition()\n          .duration(opt.animation.duration.tooltip)\n          .style('left', mx + opt.tooltip.offset[0] + 'px')\n          .style('top', my + opt.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n\n        drawCanvas(frontContext, res, opt);\n        highlightNode(\n          frontContext,\n          opt,\n          closest.data.c,\n          closest[0],\n          closest[1]\n        );\n      } else {\n        tooltip\n          .transition()\n          .duration(opt.animation.duration.tooltip)\n          .style('opacity', 0);\n        drawCanvas(frontContext, res, opt);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(opt.animation.duration.tooltip)\n        .style('opacity', 0);\n\n      drawCanvas(frontContext, res, opt);\n    }\n\n    frontCanvas.on('mousemove', mouseMoveHandler);\n    frontCanvas.on('mouseout', mouseOutHandler);\n\n    listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import { Stacks } from '../../data';\nimport animate from './animate';\nimport { stacked } from '../../helper/builder';\nimport {\n  apiWiggle,\n  apiSilhouette,\n  apiDivergent,\n} from '../../helper/api-layout';\n\nconst StreamOpt = {\n  chart: {\n    type: 'stream',\n  },\n  plots: {\n    stackLayout: true,\n    stackMethod: Stacks.Wiggle,\n    highlightNodeColor: '#F03E1E',\n    opacityArea: 0.7,\n    dotRadius: 8,\n  },\n};\n\nconst stream = stacked(StreamOpt, animate, [\n  apiWiggle,\n  apiSilhouette,\n  apiDivergent,\n]);\n\nexport default stream;\n","import { getTransparentColor } from 'vizart-core';\n\nconst highlightNode = (context, opt, datum, x, y) => {\n  context.save();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.highlightNodeColor\n    ? opt.plots.highlightNodeColor\n    : getTransparentColor(datum.c, 0.9);\n  context.strokeStyle = 'white';\n  context.lineWidth = 2;\n  context.arc(x, y, 6, 2 * Math.PI, false);\n  context.fill();\n  context.stroke();\n\n  context.closePath();\n\n  context.restore();\n};\n\nexport default highlightNode;\n","import { line } from 'd3-shape';\nimport { hsl } from 'd3-color';\nimport interpolateCurve from '../../util/curve';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const curve = line()\n    .x(d => d.x)\n    .y(d => d.y)\n    .context(context);\n\n  for (const n of state) {\n    context.save();\n    const color = n.c;\n    const hslColorSpace = hsl(color);\n    hslColorSpace.opacity = n.alpha;\n\n    interpolateCurve(opt.plots.curve, [curve]);\n    context.beginPath();\n    curve(n.values);\n    context.lineWidth = opt.plots.strokeWidth;\n    context.strokeStyle = color;\n    context.stroke();\n    context.restore();\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { line } from 'd3-shape';\nimport { hsl } from 'd3-color';\nimport interpolateCurve from '../../util/curve';\n\nconst highlightLine = (context, state, opt, highlighted) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  const curve = line()\n    .x(d => d.x)\n    .y(d => d.y)\n    .context(context);\n\n  for (const n of state) {\n    context.save();\n\n    const color = n.c;\n    const hslColorSpace = hsl(color);\n    hslColorSpace.opacity = n.key === highlighted.key ? n.alpha : 0.2;\n    context.strokeStyle = hslColorSpace;\n\n    interpolateCurve(opt.plots.curve, [curve]);\n    context.beginPath();\n    curve(n.values);\n    context.lineWidth = opt.plots.strokeWidth;\n    context.stroke();\n    context.restore();\n  }\n};\n\nexport default highlightLine;\n","import { mouse, select } from 'd3-selection';\nimport { applyVoronoi } from 'vizart-core';\n\nimport highlightNode from './highlight-node';\nimport animateStates from './tween-states';\nimport highlightLine from './highlight-line';\nimport drawCanvas from './draw-canvas';\n\nimport { c } from '../../helper/withStacked';\nimport { x, getMetric } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _data,\n    _animationState,\n    _frontContext,\n    _options,\n    _containerId,\n  } = state;\n  const _c = c(state);\n  const _x = x(state);\n\n  const initialState = _animationState\n    ? _animationState\n    : _data.nested.map(d => {\n        return {\n          key: d.key,\n          c: _c(d),\n          s: d.key,\n          alpha: 0,\n          values: d.values.map(e => {\n            return {\n              key: d.key,\n              x: _x(e.data),\n              y: _options.chart.innerHeight,\n              data: e.data,\n            };\n          }),\n        };\n      });\n\n  const finalState = _data.nested.map(d => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: 1,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data),\n          y: e.y,\n          data: e.data,\n        };\n      }),\n    };\n  });\n\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  const tooltip = select(_containerId).select('.vizart-tooltip');\n\n  animateStates(\n    initialState,\n    finalState,\n    _options.animation.duration.update,\n    _frontContext,\n    _options\n  ).then(res => {\n    state._voronoi = applyVoronoi(\n      _frontContext,\n      _options,\n      res.reduce((acc, p) => {\n        acc = acc.concat(p.values);\n        return acc;\n      }, [])\n    );\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 100;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n      if (closest) {\n        closest.data.data[getMetric(state).accessor] =\n          closest.data.data[closest.data.key];\n\n        tooltip\n          .html(tooltipMarkup(closest.data.data, state))\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n\n        highlightLine(_frontContext, res, _options, closest.data);\n        highlightNode(\n          _frontContext,\n          _options,\n          closest.data.c,\n          closest[0],\n          closest[1]\n        );\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n\n        drawCanvas(_frontContext, res, _options);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n\n      drawCanvas(_frontContext, res, _options);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n\n    state._listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import animate from './animate';\nimport { stacked } from '../../helper/builder';\n\nconst DefaultOptions = {\n  chart: {\n    type: 'line_multi',\n  },\n  plots: {\n    curve: 'linear',\n    highlightNodeColor: '#F03E1E',\n    strokeWidth: 3,\n    showDots: false,\n    dotRadius: 4,\n  },\n};\n\nconst multiLine = stacked(DefaultOptions, animate);\n\nexport default multiLine;\n","import { genColorByIndex } from 'vizart-core';\n\nconst drawHiddenCanvas = (context, state) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  const colorMap = new Map();\n\n  let i = 0;\n  for (const n of state) {\n    for (const b of n.values) {\n      const color = genColorByIndex(++i);\n\n      context.beginPath();\n      context.fillStyle = color;\n      context.rect(b.x, b.y, b.w, b.h);\n      context.fill();\n\n      colorMap.set(color, b);\n    }\n  }\n\n  return colorMap;\n};\n\nexport default drawHiddenCanvas;\n","import { getTransparentColor } from 'vizart-core';\n\nconst drawCanvas = (context, state) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  for (const n of state) {\n    const color = getTransparentColor(n.c, 1);\n\n    for (const b of n.values) {\n      context.save();\n      context.beginPath();\n      context.fillStyle = color;\n      context.rect(b.x, b.y, b.w, b.h);\n      context.fill();\n      context.restore();\n    }\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (initialState, finalState, duration, context, opt) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt);\n\n        if (t === 1) {\n          batchRendering.stop();\n          // final state as result\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import drawHiddenCanvas from './draw-hidden-canvas';\nimport { mouse, select } from 'd3-selection';\nimport animateStates from './tween-states';\nimport { c } from '../../helper/withStacked';\nimport { x, getMetric } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _animationState,\n    _data,\n    _options,\n    _frontContext,\n    _hiddenContext,\n    _canvasScale,\n    _containerId,\n  } = state;\n  const _x = x(state);\n  const _c = c(state);\n\n  const seriesNum = _data.nested.length;\n  const band = _options.data.x.scale.bandwidth();\n  const barWidth = band / seriesNum;\n\n  select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  const tooltip = select(_containerId).select('.vizart-tooltip');\n\n  const initialGroupLayout = (d, i) => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data) + barWidth * i,\n          y: _options.chart.innerHeight,\n          w: barWidth,\n          h: 0,\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  const initialStackLayout = d => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data),\n          y: getMetric(state).scale(e.y0),\n          w: band,\n          h: 0,\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  const mapGroupLayout = (d, i) => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data) + barWidth * i,\n          y: e.y,\n          w: barWidth,\n          h: _options.chart.innerHeight - e.y,\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  const mapStackLayout = d => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data),\n          y: getMetric(state).scale(e.y0),\n          w: band,\n          h: getMetric(state).scale(e.y1) - getMetric(state).scale(e.y0),\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  // stacked => x and width => grouped (y and height)\n  const stackToGroup = (d, i) => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data) + barWidth * i,\n          y: getMetric(state).scale(e.y0),\n          w: barWidth,\n          h: getMetric(state).scale(e.y1) - getMetric(state).scale(e.y0),\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  // grouped => y and height => stacked (x and width)\n  const groupToStack = (d, i) => {\n    return {\n      key: d.key,\n      c: _c(d),\n      alpha: _options.plots.opacity,\n      values: d.values.map(e => {\n        return {\n          key: d.key,\n          x: _x(e.data) + barWidth * i,\n          y: getMetric(state).scale(e.y0),\n          w: barWidth,\n          h: getMetric(state).scale(e.y1) - getMetric(state).scale(e.y0),\n          data: e.data,\n        };\n      }),\n    };\n  };\n\n  const initialState = _animationState\n    ? _animationState\n    : _options.plots.stackLayout === true\n    ? _data.nested.map(initialStackLayout)\n    : _data.nested.map(initialGroupLayout);\n\n  const finalState =\n    _options.plots.stackLayout === true\n      ? _data.nested.map(mapStackLayout)\n      : _data.nested.map(mapGroupLayout);\n\n  if (\n    state._alreadyStacked !== undefined &&\n    state._alreadyStacked !== null &&\n    state._alreadyStacked !== _options.plots.stackLayout\n  ) {\n    const intrimState =\n      _options.plots.stackLayout === false\n        ? _data.nested.map(groupToStack)\n        : _data.nested.map(stackToGroup);\n\n    animateStates(initialState, intrimState, 500, _frontContext, _options).then(\n      () => {\n        animate(state);\n      }\n    );\n\n    state._animationState = intrimState;\n    state._alreadyStacked = _options.plots.stackLayout;\n  } else {\n    animateStates(\n      initialState,\n      finalState,\n      _options.animation.duration.update,\n      _frontContext,\n      _options\n    ).then(res => {\n      const colorMap = drawHiddenCanvas(_hiddenContext, res);\n\n      // shadow color?\n      /**\n       * callback for when the mouse moves across the overlay\n       */\n      function mouseMoveHandler() {\n        // get the current mouse position\n        const [mx, my] = mouse(this);\n        // This will return that pixel's color\n        const col = _hiddenContext.getImageData(\n          mx * _canvasScale,\n          my * _canvasScale,\n          1,\n          1\n        ).data;\n        //Our map uses these rgb strings as keys to nodes.\n        const colString = 'rgb(' + col[0] + ',' + col[1] + ',' + col[2] + ')';\n        const closest = colorMap.get(colString);\n\n        if (closest) {\n          closest.data[getMetric(state).accessor] = closest.data[closest.key];\n\n          tooltip\n            .html(tooltipMarkup(closest.data, state))\n            .transition()\n            .duration(_options.animation.duration.tooltip)\n            .style('left', mx + _options.tooltip.offset[0] + 'px')\n            .style('top', my + _options.tooltip.offset[1] + 'px')\n            .style('opacity', 1);\n        } else {\n          tooltip\n            .transition()\n            .duration(_options.animation.duration.tooltip)\n            .style('opacity', 0);\n        }\n      }\n\n      function mouseOutHandler() {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n\n      state._frontCanvas.on('mousemove', mouseMoveHandler);\n      state._frontCanvas.on('mouseout', mouseOutHandler);\n\n      state._listeners.call('rendered');\n    });\n\n    // cache finalState as the initial state of next animation call\n    state._animationState = finalState;\n    state._alreadyStacked = _options.plots.stackLayout;\n  }\n};\n\nexport default animate;\n","import { Stacks } from '../../data';\n\nconst GroupedOptions = {\n  animation: {\n    duration: {\n      layout: 500,\n    },\n  },\n  chart: {\n    type: 'bar_grouped',\n  },\n  plots: {\n    stackLayout: false,\n    stackMethod: Stacks.Zero,\n    opacity: 1,\n    barLabel: {\n      enabled: true,\n      color: 'black',\n    },\n    metricLabel: {\n      enabled: true,\n      color: 'black',\n      offset: 10,\n    },\n  },\n};\n\nexport default GroupedOptions;\n","import { stacked } from '../../helper/builder';\nimport { apiGroup, apiStack, apiExpand } from '../../helper/api-layout';\n\nimport animate from './animate';\nimport GroupedOptions from './options';\n\nconst stackedBar = stacked(GroupedOptions, animate, [\n  apiGroup,\n  apiStack,\n  apiExpand,\n]);\n\nexport default stackedBar;\n","const getRadius = opt => {\n  const outerRadius =\n    Math.min(opt.chart.innerWidth / 2, opt.chart.innerHeight / 2) -\n    opt.plots.outerRadiusMargin;\n  const innerRadius = outerRadius * opt.plots.innerRadiusRatio;\n\n  return [innerRadius, outerRadius];\n};\n\nexport default getRadius;\n","import isNumber from 'lodash-es/isNumber';\nimport isFinite from 'lodash-es/isFinite';\n\nconst getGridLevels = opt => {\n  let levels = opt.data.y[0].ticksTier + 1;\n\n  if (\n    isNumber(opt.plots.levels) &&\n    isFinite(opt.plots.levels) &&\n    parseInt(opt.plots.levels) > 0\n  ) {\n    levels = parseInt(opt.plots.levels);\n  }\n\n  return levels;\n};\n\nexport default getGridLevels;\n","import { arc } from 'd3-shape';\nimport getLevels from './get-grid-levels';\nimport getRadius from './get-radius';\n\nconst drawGridArc = (context, opt) => {\n  const [innerRadius, outerRadius] = getRadius(opt);\n\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n  const levels = getLevels(opt);\n\n  const gridArc = arc()\n    .innerRadius(\n      d => ((outerRadius - innerRadius) / levels) * (d - 1) + innerRadius\n    )\n    .outerRadius(d => ((outerRadius - innerRadius) / levels) * d + innerRadius)\n    .startAngle(0)\n    .endAngle(2 * Math.PI)\n    .context(context);\n\n  for (let i = 1; i < levels + 1; i++) {\n    context.beginPath();\n    context.strokeStyle = opt.plots.levelColor;\n    gridArc(i);\n    context.stroke();\n  }\n\n  context.restore();\n};\n\nexport default drawGridArc;\n","import { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport isFunction from 'lodash-es/isFunction';\n\nimport getLevels from './get-grid-levels';\nimport getRadius from './get-radius';\n\nconst formatter = format('.1f');\n\nconst drawGridLabel = (context, state, opt) => {\n  if (state.length <= 0) {\n    return;\n  }\n\n  const [innerRadius, outerRadius] = getRadius(opt);\n\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n\n  const levels = getLevels(opt);\n\n  const labelScale = scaleLinear()\n    .domain([0, levels])\n    .range(state[0].range)\n    .nice();\n\n  const getLabel = i => {\n    const label =\n      labelScale(i) > 0 && labelScale(i) < 1\n        ? formatter(labelScale(i))\n        : Math.round(labelScale(i));\n\n    return opt.plots.levelLabel && isFunction(opt.plots.levelLabel)\n      ? opt.plots.levelLabel(label)\n      : label;\n  };\n\n  switch (opt.plots.levelLabelPosition) {\n    case 'bottom':\n      for (let i = 0; i <= levels; i++) {\n        context.textAlign = 'center';\n        context.textBaseline = 'top';\n        context.fillStyle = opt.plots.levelLabelColor;\n        context.fillText(\n          getLabel(i),\n          0,\n          i * ((outerRadius - innerRadius) / levels) + innerRadius\n        );\n      }\n\n      break;\n    case 'right':\n    case 'top':\n    default:\n      for (let i = 0; i <= levels; i++) {\n        context.textAlign = 'center';\n        context.textBaseline = 'ideographic';\n        context.fillStyle = opt.plots.levelLabelColor;\n        context.fillText(\n          getLabel(i),\n          0,\n          -i * ((outerRadius - innerRadius) / levels) - innerRadius\n        );\n      }\n\n      break;\n  }\n\n  context.restore();\n};\n\nexport default drawGridLabel;\n","import isFunction from 'lodash-es/isFunction';\n\nconst getAxisLabel = (opt, d, i) => {\n  return opt.plots.axisLabel && isFunction(opt.plots.axisLabel)\n    ? opt.plots.axisLabel(d, i)\n    : d;\n};\n\nexport default getAxisLabel;\n","import { scaleLinear } from 'd3-scale';\nimport { drawCircularText } from 'vizart-core';\n\nimport getAxisLabel from './get-axis-label';\nimport getRadius from './get-radius';\n\nconst drawAxisLabel = (context, opt) => {\n  let axisNum = 6;\n  const axisScale = scaleLinear()\n    .domain([0, axisNum])\n    .range([0, 2 * Math.PI]);\n  const [innerRadius, outerRadius] = getRadius(opt);\n\n  const axes = opt.data.x.values;\n  const axesLength = axes.length;\n\n  if (axesLength < axisNum) {\n    axisNum = axesLength;\n  }\n\n  const mapToAxis = scaleLinear()\n    .domain([0, axisNum])\n    .range([0, axesLength])\n    .nice();\n\n  const toText = i => Math.ceil(mapToAxis(i));\n\n  for (let i = 1; i < axisNum; i++) {\n    drawCircularText(\n      context,\n      getAxisLabel(opt, axes[toText(i)], toText(i)) + '',\n      14,\n      'Oswald',\n      opt.plots.axisLabelColor,\n      opt.chart.width / 2,\n      opt.chart.height / 2,\n      outerRadius + opt.plots.axisLabelOffset,\n      axisScale(i),\n      5\n    );\n  }\n};\n\nexport default drawAxisLabel;\n","import { arc } from 'd3-shape';\n\nimport getRadius from './get-radius';\n\nconst drawGradientBoundary = (context, state, opt) => {\n  if (opt.plots.drawBoundary === false) {\n    return;\n  }\n\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n  const [innerRadius, outerRadius] = getRadius(opt);\n  const Offset = opt.plots.boundaryOffset;\n\n  const boundary = arc()\n    .innerRadius(outerRadius)\n    .outerRadius(outerRadius + Offset)\n    .startAngle(0)\n    .endAngle(2 * Math.PI)\n    .context(context);\n\n  context.beginPath();\n\n  let gradient = context.createRadialGradient(\n    0,\n    0,\n    outerRadius,\n    0,\n    0,\n    outerRadius + Offset\n  );\n\n  gradient.addColorStop(0, opt.plots.boundaryGradient[0]);\n  gradient.addColorStop(1, opt.plots.boundaryGradient[1]);\n  context.fillStyle = gradient;\n  context.globalAlpha = opt.plots.boundaryOpacity;\n  boundary();\n  // context.arc(x, y, outerRadius, 0, 2 * Math.PI);\n  context.fill();\n  context.restore();\n};\n\nexport default drawGradientBoundary;\n","import { radialArea, curveCardinalClosed } from 'd3-shape';\n\nimport { radialGradient, getTransparentColor } from 'vizart-core';\n\nimport getRadius from './get-radius';\n\nconst drawArea = (context, state, opt) => {\n  const [innerRadius, outerRadius] = getRadius(opt);\n\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n\n  for (const n of state) {\n    const shape =\n      opt.plots.stackLayout === true\n        ? radialArea()\n            .curve(curveCardinalClosed)\n            .angle(d => d.angle)\n            .innerRadius(d => d.r0)\n            .outerRadius(d => d.r1)\n            .context(context)\n        : radialArea()\n            .curve(curveCardinalClosed)\n            .angle(d => d.angle)\n            .innerRadius(innerRadius)\n            .outerRadius(d => d.r)\n            .context(context);\n\n    context.beginPath();\n\n    if (opt.plots.gradientArea === true) {\n      context.fillStyle = radialGradient(\n        context,\n        n.c,\n        n.alpha,\n        opt.chart.width / 2,\n        opt.chart.height / 2,\n        innerRadius,\n        outerRadius\n      );\n    } else {\n      context.fillStyle = getTransparentColor(n.c, n.alpha);\n    }\n    shape(n.values);\n    context.fill();\n\n    context.lineWidth = opt.plots.strokeWidth;\n    context.strokeStyle = getTransparentColor(n.c, n.strokeAlpha);\n    context.stroke();\n  }\n\n  context.restore();\n};\n\nexport default drawArea;\n","import { radialLine, curveLinearClosed } from 'd3-shape';\n\nimport { getTransparentColor } from 'vizart-core';\n\nconst drawLine = (context, state, opt) => {\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n\n  for (const n of state) {\n    const shape =\n      opt.plots.stackLayout === true\n        ? radialLine()\n            .curve(curveLinearClosed)\n            .angle(d => d.angle)\n            .radius(d => d.r1)\n            .context(context)\n        : radialLine()\n            .curve(curveLinearClosed)\n            .angle(d => d.angle)\n            .radius(d => d.r)\n            .context(context);\n\n    context.beginPath();\n    context.strokeStyle = getTransparentColor(n.c, n.strokeAlpha);\n    context.lineWidth = opt.plots.strokeWidth;\n    shape(n.values);\n    context.stroke();\n  }\n\n  context.restore();\n};\n\nexport default drawLine;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\n","import drawGridArc from './draw-grid-arc';\nimport drawGridLabel from './draw-grid-label';\nimport drawAxisLabel from './draw-axis-label';\nimport drawGradientBoundary from './draw-gradient-bundary';\nimport drawArea from './draw-area';\nimport drawMonths from './draw-months';\nimport drawLine from './draw-line';\nimport drawChord from './draw-chord';\nimport drawHistogram from './draw-histogram';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  drawGridArc(context, opt);\n  drawGridLabel(context, state, opt);\n  drawAxisLabel(context, opt);\n\n  // drawMonths(context, opt);\n  // drawHistogram(context, state, opt);\n  // drawChord(context, state, opt);\n\n  if (opt.plots.isArea === true) {\n    drawArea(context, state, opt);\n  } else {\n    drawLine(context, state, opt);\n  }\n\n  drawGradientBoundary(context, state, opt);\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\n\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (\n  initialState,\n  finalState,\n  duration,\n  context,\n  opt,\n  dataRange\n) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt, dataRange);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt, dataRange);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { drawCircularText } from 'vizart-core';\nimport isFunction from 'lodash-es/isFunction';\n\nimport getAxisLabel from './get-axis-label';\n\nconst getLevelLabel = (opt, label) =>\n  opt.plots.levelLabel && isFunction(opt.plots.levelLabel)\n    ? opt.plots.levelLabel(label)\n    : label;\n\nconst highlight = (context, opt, datum) => {\n  context.save();\n  context.translate(opt.chart.width / 2, opt.chart.height / 2);\n\n  context.beginPath();\n  context.setLineDash([5, 5]);\n  context.strokeStyle = opt.plots.highlightStrokeColor;\n\n  context.arc(0, 0, datum.d.r, 0, 2 * Math.PI, false);\n\n  context.stroke();\n  context.restore();\n  context.closePath();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.highlightNodeColor\n    ? opt.plots.highlightNodeColor\n    : datum.c;\n  context.strokeStyle = 'white';\n  context.lineWidth = 3;\n  context.arc(datum.x, datum.y, 6, 2 * Math.PI, false);\n  context.fill();\n  context.stroke();\n\n  context.closePath();\n\n  context.restore();\n\n  context.save();\n  context.beginPath();\n  context.fillStyle = opt.plots.axisLabelColor;\n  drawCircularText(\n    context,\n    getAxisLabel(opt, datum.label, 1) + '',\n    14,\n    'Oswald',\n    opt.plots.highlightLabelColor,\n    opt.chart.width / 2,\n    opt.chart.height / 2,\n    datum.d.r + 10,\n    datum.d.angle,\n    5\n  );\n\n  context.restore();\n\n  const lineOffset = 8;\n  context.save();\n  context.beginPath();\n  context.textBaseline = 'alphabetic';\n  context.textAlign = 'center'; // Ensure we draw in exact center\n  context.fillStyle = opt.plots.highlightLabelColor;\n  context.fillText(\n    getLevelLabel(opt, datum.metric),\n    opt.chart.width / 2,\n    opt.chart.height / 2 - lineOffset\n  );\n  context.fillText(\n    datum.s,\n    opt.chart.width / 2,\n    opt.chart.height / 2 + lineOffset\n  );\n  context.restore();\n};\n\nexport default highlight;\n","import { applyVoronoi, getTransparentColor } from 'vizart-core';\nimport { mouse } from 'd3-selection';\nimport { getDimensionVal, getMetric } from '../../helper/withCartesian';\nimport getRadius from './get-radius';\nimport animateStates from './tween-states';\nimport drawCanvas from './draw-canvas';\nimport { scaleLinear } from 'd3-scale';\nimport highlight from './highlight';\nimport { c } from '../../helper/withStacked';\n\nconst animate = state => {\n  const { _options, _data, _animationState, _frontContext } = state;\n  const [innerRadius, outerRadius] = getRadius(_options);\n  const dataRange = [_data.minY, _data.maxY];\n  const radiusScale = scaleLinear()\n    .domain(dataRange.map(d => getMetric(state).scale(d)))\n    .range([innerRadius, outerRadius]);\n\n  const rawRadiusScale = radiusScale.copy().domain(dataRange);\n\n  const _c = c(state);\n  const _getDimensionVal = getDimensionVal(state);\n\n  const initialState = _animationState\n    ? _animationState\n    : _data.nested.map(d => {\n        return {\n          key: d.key,\n          c: _c(d),\n          s: d.key,\n          range: dataRange,\n          alpha: 0,\n          strokeAlpha: _options.plots.strokeOpacity,\n          values: d.values.map((e, i) => {\n            return {\n              key: d.key,\n              angle: (Math.PI * 2 * i) / d.values.length,\n              r: innerRadius,\n              r0: innerRadius,\n              r1: innerRadius,\n              data: e.data,\n              d: e,\n            };\n          }),\n        };\n      });\n\n  const finalState = _data.nested.map(d => {\n    return {\n      key: d.key,\n      c: _c(d),\n      s: d.key,\n      range: dataRange,\n      alpha: _options.plots.areaOpacity,\n      strokeAlpha: _options.plots.strokeOpacity,\n      values: d.values.map((e, i) => {\n        return {\n          key: d.key,\n          angle: (Math.PI * 2 * i) / d.values.length,\n          r: radiusScale(e.y),\n          r0: rawRadiusScale(e.y0),\n          r1: rawRadiusScale(e.y1),\n          data: e.data,\n          d: e,\n        };\n      }),\n    };\n  });\n  // cache finalState as the initial state of next animation call\n  state._animationState = finalState;\n\n  animateStates(\n    initialState,\n    finalState,\n    _options.animation.duration.update,\n    _frontContext,\n    _options\n  ).then(res => {\n    state._voronoi = applyVoronoi(\n      _frontContext,\n      _options,\n      res.reduce((acc, p) => {\n        acc = acc.concat(\n          p.values.map(d => {\n            return {\n              s: p.key,\n              label: _getDimensionVal(d.data),\n              metric: d.data[p.key],\n              x: d.r * Math.sin(d.angle) + _options.chart.width / 2,\n              y:\n                _options.chart.height -\n                (d.r * Math.cos(d.angle) + _options.chart.height / 2),\n              c: p.c,\n              d: d,\n              data: d.data,\n            };\n          })\n        );\n        return acc;\n      }, [])\n    );\n\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const QuadtreeRadius = 30;\n      // use the new diagram.find() function to find the Voronoi site\n      // closest to the mouse, limited by max distance voronoiRadius\n      const closest = state._voronoi.find(mx, my, QuadtreeRadius);\n      if (closest) {\n        const fadeOpacity = 0.1;\n\n        const optCopy = Object.assign({}, _options);\n        optCopy.plots.levelColor = getTransparentColor(\n          optCopy.plots.levelColor,\n          fadeOpacity\n        );\n        optCopy.plots.strokeOpacity = 0;\n\n        drawCanvas(\n          _frontContext,\n          res.map(d => {\n            const p = d;\n            p.alpha = d.key === closest.data.s ? 0.4 : fadeOpacity;\n\n            p.strokeAlpha = d.key === closest.data.s ? 1 : 0;\n\n            return p;\n          }),\n          optCopy\n        );\n\n        highlight(_frontContext, _options, closest.data);\n      } else {\n        drawCanvas(_frontContext, finalState, _options);\n      }\n    }\n\n    function mouseOutHandler() {\n      drawCanvas(_frontContext, finalState, _options);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n\n    state._listeners.call('rendered');\n  });\n};\n\nexport default animate;\n","import { Stacks } from '../../data';\n\nconst CoronaOptions = {\n  chart: {\n    type: 'corona',\n    margin: {\n      top: 10,\n      bottom: 10,\n      left: 10,\n      right: 10,\n    },\n  },\n  plots: {\n    levels: 0, //How many levels or inner circles should there be drawn\n    levelColor: '#CDCDCD',\n    levelLabelColor: '#737373',\n    levelLabelPosition: 'top', //'top', 'bottom', 'right'\n    levelLabel: null,\n\n    axisLabel: null,\n    axisLabelColor: '#737373',\n    axisLabelOffset: 15, //How much farther than the radius of the outer circle should the labels be placed\n\n    highlightStrokeColor: '#000000',\n    highlightNodeColor: '#F03E1E',\n    highlightLabelColor: '#000000',\n\n    strokeOpacity: 0,\n    strokeWidth: 4, //The width of the stroke around each blob\n\n    areaOpacity: 0.35, //The opacity of the area of the blob,\n    gradientArea: true,\n\n    drawBoundary: true,\n    boundaryOffset: 10,\n    boundaryOpacity: 0.5,\n    boundaryGradient: ['white', '#eb3ba6'],\n\n    innerRadiusRatio: 0.4,\n    outerRadiusMargin: 10,\n\n    stackLayout: false, // stack areas\n    stackMethod: Stacks.Zero,\n    isArea: true, //If true the area and stroke will follow a round path (cardinal-closed),\n  },\n};\n\nexport default CoronaOptions;\n","import { polarStacked } from '../../helper/builder';\nimport { apiGroup, apiStack, apiExpand } from '../../helper/api-layout';\n\nimport animate from './animate';\nimport CoronaOptions from './options';\n\nconst corona = polarStacked(CoronaOptions, animate, [\n  apiGroup,\n  apiStack,\n  apiExpand,\n]);\n\nexport default corona;\n","import { polarStacked } from '../../helper/builder';\nimport animate from '../corona/animate';\n\nconst RadarOptions = {\n  chart: {\n    type: 'radar',\n    margin: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n    },\n  },\n  plots: {\n    levels: 0, //How many levels or inner circles should there be drawn\n    levelColor: '#CDCDCD',\n    levelLabelColor: '#737373',\n    levelLabelPosition: 'top', //'top', 'bottom', 'right'\n    levelLabel: null,\n\n    axisLabel: null,\n    axisLabelColor: '#737373',\n    axisLabelOffset: 10, //How much farther than the radius of the outer circle should the labels be placed\n\n    highlightStrokeColor: '#000000',\n    highlightNodeColor: 'green',\n    highlightLabelColor: '#000000',\n\n    strokeOpacity: 1,\n    strokeWidth: 4, //The width of the stroke around each blob\n\n    drawBoundary: true,\n    boundaryOffset: 10,\n    boundaryOpacity: 0.5,\n    boundaryGradient: ['white', '#eb3ba6'],\n\n    innerRadiusRatio: 0.4,\n    outerRadiusMargin: 60,\n  },\n};\n\nconst radar = polarStacked(RadarOptions, animate);\n\nexport default radar;\n","const getRadius = opt => {\n  const outerRadius =\n    Math.min(opt.chart.innerWidth / 2, opt.chart.innerHeight / 2) -\n    opt.plots.outerRadiusMargin;\n  const innerRadius = outerRadius * opt.plots.innerRadiusRatio;\n\n  return [innerRadius, outerRadius];\n};\n\nexport default getRadius;\n","import getRadius from './get-radius';\n\nconst getLabelRadius = (opt, scale, maxR) => {\n  const radius = getRadius(opt)[1] * scale;\n\n  let textRadius;\n\n  if (opt.plots.axisLabelAlign === true) {\n    const threshold =\n      opt.plots.axisLabelAlignThreshold > 1\n        ? opt.plots.axisLabelAlignThreshold\n        : radius * opt.plots.axisLabelAlignThreshold;\n\n    textRadius = Math.max(maxR, threshold);\n  } else {\n    textRadius = radius;\n  }\n\n  return textRadius * scale + opt.plots.axisLabelOffset;\n};\n\nexport default getLabelRadius;\n","import getLabelRadius from './get-label-radius';\nimport { drawCircularText } from 'vizart-core';\n\nconst drawLabel = (context, opt, text, i, sliceNum, maxR, scale) => {\n  const radius = getLabelRadius(opt, scale, maxR);\n  const angle = (2 * Math.PI) / sliceNum;\n\n  drawCircularText(\n    context,\n    text + '',\n    14,\n    'Oswald',\n    opt.plots.axisLabelColor,\n    opt.chart.width / 2,\n    opt.chart.height / 2,\n    radius,\n    angle * i + angle / 2,\n    0\n  );\n};\n\nexport default drawLabel;\n","import { arc } from 'd3-shape';\nimport { getTransparentColor } from 'vizart-core';\nimport drawLabel from './draw-label';\n\nconst drawCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const gridArc = arc()\n    .startAngle(d => d.startAngle)\n    .endAngle(d => d.endAngle)\n    .innerRadius(d => d.r0)\n    .outerRadius(d => d.r)\n    .padAngle(opt.padAngle)\n    .context(context);\n\n  for (const d of state) {\n    context.shadowBlur = 10;\n    let maxR = 0;\n    for (let e of d.slice) {\n      context.save();\n      context.translate(opt.chart.width / 2, opt.chart.height / 2);\n      context.beginPath();\n      context.fillStyle = getTransparentColor(e.c, e.alpha);\n      context.strokeWidth = 1;\n      context.strokeStyle = e.c;\n      context.shadowColor = e.c;\n\n      gridArc(e);\n      context.fill();\n      context.stroke();\n      context.restore();\n\n      maxR = Math.max(maxR, e.r);\n    }\n\n    drawLabel(context, opt, d.dimension, d.i, state.length, maxR, 1);\n  }\n};\n\nexport default drawCanvas;\n","import { interpolateArray } from 'd3-interpolate';\nimport { timer } from 'd3-timer';\nimport { easeCubic } from 'd3-ease';\nimport drawCanvas from './draw-canvas';\n\nconst animateStates = (initialState, finalState, duration, context, opt) => {\n  if (opt.animation.enabled === false) {\n    return new Promise((resolve, reject) => {\n      drawCanvas(context, finalState, opt);\n\n      resolve(finalState);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      const interpolateParticles = interpolateArray(initialState, finalState);\n\n      const batchRendering = timer(elapsed => {\n        const t = Math.min(1, easeCubic(elapsed / duration));\n\n        drawCanvas(context, interpolateParticles(t), opt);\n\n        if (t === 1) {\n          batchRendering.stop();\n          resolve(finalState);\n        }\n      });\n    });\n  }\n};\n\nexport default animateStates;\n","import { select } from 'd3-selection';\nimport isNaN from 'lodash-es/isNaN';\nimport { getTransparentColor } from 'vizart-core';\nimport drawLabel from './draw-label';\n\nconst drawPetal = (context, selection, opt, sliceNum) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  selection.each(function(g) {\n    const group = select(this);\n    const scale = group.attr('scale');\n\n    let maxR = 0;\n    group.selectAll('.petal').each(function(d) {\n      context.save();\n      context.translate(opt.chart.width / 2, opt.chart.height / 2);\n\n      const petal = select(this);\n      const color = petal.attr('fill');\n\n      context.beginPath();\n      context.fillStyle = color;\n      context.fillStyle = getTransparentColor(color, petal.attr('opacity'));\n      context.strokeWidth = 1;\n      context.strokeStyle = color;\n      context.shadowColor = color;\n      context.shadowBlur = 10;\n\n      const p = new Path2D(petal.attr('d'));\n      context.scale(scale, scale);\n      context.fill(p);\n      context.stroke(p);\n      context.closePath();\n      context.restore();\n\n      if (!isNaN(+petal.attr('r'))) {\n        maxR = Math.max(maxR, +petal.attr('r'));\n      }\n    });\n\n    drawLabel(context, opt, g.dimension, g.i, sliceNum, maxR, scale);\n  });\n};\n\nexport default drawPetal;\n","import { arc } from 'd3-shape';\nimport { genColorByIndex } from 'vizart-core';\n\nconst drawHiddenCanvas = (context, state, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  const colorMap = new Map();\n\n  const gridArc = arc()\n    .startAngle(d => d.startAngle)\n    .endAngle(d => d.endAngle)\n    .innerRadius(d => d.r0)\n    .outerRadius(d => d.r)\n    .padAngle(opt.padAngle)\n    .context(context);\n\n  let i = 0;\n\n  for (const d of state) {\n    for (let e of d.slice) {\n      const color = genColorByIndex(++i);\n\n      context.save();\n      context.translate(opt.chart.width / 2, opt.chart.height / 2);\n      context.beginPath();\n      context.fillStyle = color;\n\n      gridArc(e);\n      context.fill();\n      context.restore();\n\n      colorMap.set(color, e);\n    }\n  }\n\n  return colorMap;\n};\n\nexport default drawHiddenCanvas;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseDifference;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nexport default difference;\n","import isFunction from 'lodash-es/isFunction';\nimport isArray from 'lodash-es/isArray';\nimport difference from 'lodash-es/difference';\n\nconst getOrderedDimensions = (opt, dimensions) => {\n  const orderDef = opt.plots.dimensionOrder;\n  if (orderDef !== null) {\n    if (isFunction(orderDef)) {\n      return dimensions.order(orderDef);\n    } else if (isArray(orderDef)) {\n      const diff = difference(dimensions, orderDef);\n      if (diff.length > 0) {\n        console.warn(\n          'rose options.plots.dimensionOrder contains inconsistent values: ' +\n            diff\n        );\n      }\n\n      return orderDef;\n    }\n  }\n\n  return dimensions;\n};\n\nexport default getOrderedDimensions;\n","import animateStates from './tween-states';\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport { mouse, select } from 'd3-selection';\nimport drawPetal from './draw-petal';\nimport { arc } from 'd3-shape';\nimport drawHiddenCanvas from './draw-hidden-canvas';\nimport getRadius from './get-radius';\nimport getOrderedDimensions from './get-ordered-dimensions';\n\nimport { getDimension, getDimensionVal } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst animate = state => {\n  const {\n    _data,\n    _color,\n    _options,\n    _frontContext,\n    _detachedContainer,\n    _containerId,\n    _hiddenContext,\n    _canvasScale,\n    _animationState,\n  } = state;\n\n  const _getDimensionVal = getDimensionVal(state);\n\n  const colorScale = scaleOrdinal().range(_color.range());\n  const c = d => colorScale(d);\n  const innerRadius = getRadius(_options)[0];\n  const outerRadius = getRadius(_options)[1];\n\n  // y is area\n  // https://understandinguncertainty.org/node/214\n  const area = r => (Math.PI * Math.pow(r, 2)) / 3;\n  const radiusOfArea = area => Math.sqrt((area * 3) / Math.PI);\n\n  const radiusScale = scaleLinear()\n    .domain([0, radiusOfArea(_data.maxY)])\n    .range([innerRadius, outerRadius]);\n\n  const r = d => radiusScale(radiusOfArea(d));\n\n  const sliceNum = getDimension(state).values.length;\n  const angleScale = scaleLinear()\n    .domain([0, sliceNum])\n    .range([0, 2 * Math.PI]);\n\n  const dimensions = getOrderedDimensions(_options, getDimension(state).values);\n  const finalState = dimensions.map((d, i) => {\n    const array = _data.nested.map(e => {\n      return {\n        key: e.key,\n        s: e.key,\n        c: _options.data.y.length > 1 ? c(e.key) : c(d),\n        alpha: _options.plots.opacity,\n        startAngle: angleScale(i),\n        endAngle: angleScale(i + 1),\n        r0: innerRadius,\n        r: r(e.values[i]._y),\n        data: e.values[i],\n      };\n    });\n\n    // larger slice are drawn first\n    array.sort((a, b) => b.r - a.r);\n\n    return {\n      dimension: d,\n      i: i,\n      slice: array,\n    };\n  });\n\n  select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  const tooltip = select(_containerId).select('.vizart-tooltip');\n\n  const enableMouse = () => {\n    const colorMap = drawHiddenCanvas(_hiddenContext, finalState, _options);\n\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      const col = _hiddenContext.getImageData(\n        mx * _canvasScale,\n        my * _canvasScale,\n        1,\n        1\n      ).data;\n      const colString = 'rgb(' + col[0] + ',' + col[1] + ',' + col[2] + ')';\n      const node = colorMap.get(colString);\n\n      if (node) {\n        const html = tooltipMarkup(node.data.data, state);\n\n        tooltip\n          .html(html)\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n    state._listeners.call('rendered');\n  };\n\n  if (!_animationState && finalState.length < 30) {\n    const drawCanvasInTransition = function(d, i) {\n      return t => {\n        drawPetal(\n          _frontContext,\n          _detachedContainer.selectAll('.petal-group'),\n          _options,\n          sliceNum\n        );\n      };\n    };\n\n    _detachedContainer.attr(\n      'transform',\n      'translate(' +\n        (_options.chart.margin.left + _options.chart.innerWidth / 2) +\n        ',' +\n        (_options.chart.margin.top + _options.chart.innerHeight / 2) +\n        ')'\n    );\n\n    const dataUpdate = _detachedContainer\n      .selectAll('.petal-group')\n      .data(finalState);\n    const dataJoin = dataUpdate.enter();\n\n    const arcDiagram = arc()\n      .startAngle(d => d.startAngle)\n      .endAngle(d => d.endAngle)\n      .innerRadius(d => d.r0)\n      .outerRadius(d => d.r)\n      .padAngle(0.04);\n\n    const groups = dataJoin\n      .append('g')\n      .attr('class', 'petal-group')\n      .attr('scale', 0)\n      .attr('transform', 'scale(0,0)');\n\n    groups\n      .selectAll('.petal')\n      .data(d => d.slice)\n      .enter()\n      .append('path')\n      .attr('class', 'petal')\n      .attr('series', d => d.s)\n      .attr('dimension', d => _getDimensionVal(d.data.data))\n      .attr('r', d => d.r)\n      .attr('d', arcDiagram)\n      .attr('fill', d => d.c)\n      .attr('opacity', d => d.alpha);\n\n    groups\n      .transition()\n      .delay(500)\n      .duration((d, i) => 150 * i)\n      .attr('scale', 1)\n      .attr('transform', 'scale(1,1)')\n      .tween('blooming.petal', drawCanvasInTransition)\n      .on('end', () => {\n        enableMouse();\n      });\n  } else {\n    animateStates(\n      _animationState,\n      finalState,\n      _options.animation.duration.update,\n      _frontContext,\n      _options\n    ).then(res => {\n      enableMouse();\n    });\n  }\n\n  state._animationState = finalState;\n};\n\nexport default animate;\n","import { polarStacked } from '../../helper/builder';\nimport animate from './animate';\n\nconst RoseOpt = {\n  chart: {\n    type: 'rose',\n  },\n\n  plots: {\n    innerRadiusRatio: 0.4,\n    opacity: 0.5,\n    outerRadiusMargin: 10,\n    padAngle: 0,\n    axisLabel: null,\n    axisLabelAlign: true,\n    axisLabelAlignThreshold: 0.5,\n    axisLabelOffset: 10,\n    axisLabelColor: 'black',\n    dimensionOrder: null,\n  },\n};\n\n/**\n *\n *\"Death is a great price to pay for a red rose,\" cried the Nightingale,\n * \"and Life is very dear to all. It is pleasant to sit in the green wood,\n * and to watch the Sun in his chariot of gold, and the Moon in her chariot of pearl.\n * Sweet is the scent of the hawthorn, and sweet are the bluebells that hide in the valley,\n * and the heather that blows on the hill. Yet love is better than Life, and what is the heart\n * of a bird compared to the heart of a man?\"\n *\n * @author Oscar Wilde <The Nightingale And The Rose>\n */\nconst rose = polarStacked(RoseOpt, animate);\n\nexport default rose;\n","import { select } from 'd3-selection';\nimport { genColorByIndex } from 'vizart-core';\n\nconst drawHiddenRects = (context, selection) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const colorMap = new Map();\n\n  selection.each(function(d, i) {\n    context.save();\n\n    const node = select(this);\n    const color = genColorByIndex(i + 1);\n    context.beginPath();\n    context.fillStyle = color;\n    context.rect(\n      node.attr('x'),\n      node.attr('y'),\n      node.attr('width'),\n      node.attr('height')\n    );\n    context.fill();\n\n    context.restore();\n\n    colorMap.set(color, d);\n  });\n\n  return colorMap;\n};\n\nexport default drawHiddenRects;\n","const TextOffset = 5;\n\nconst drawHorizontalLabel = (context, node, opt) => {\n  if (node.attr('dimension')) {\n    context.save();\n\n    context.translate(node.attr('x'), node.attr('y'));\n\n    context.textBaseline = 'middle';\n    context.strokeStyle = 'rgba(255,255,255, 0.7)';\n    context.fillStyle = opt.plots.barLabel.color;\n    context.lineWidth = 4;\n\n    if (+node.attr('metric') < 0) {\n      context.textAlign = 'end';\n\n      context.strokeText(\n        node.attr('dimension'),\n        node.attr('width') - TextOffset,\n        node.attr('height') / 2\n      );\n      context.fillText(\n        node.attr('dimension'),\n        node.attr('width') - TextOffset,\n        node.attr('height') / 2\n      );\n    } else {\n      context.textAlign = 'bottom';\n      context.strokeText(\n        node.attr('dimension'),\n        TextOffset,\n        node.attr('height') / 2\n      );\n      context.fillText(\n        node.attr('dimension'),\n        TextOffset,\n        node.attr('height') / 2\n      );\n    }\n\n    context.restore();\n  }\n};\n\nexport default drawHorizontalLabel;\n","const drawMetricLabel = (context, node, opt) => {\n  if (node.attr('metric')) {\n    context.save();\n\n    context.translate(node.attr('x'), node.attr('y'));\n\n    context.textBaseline = 'middle';\n    context.fillStyle = opt.plots.metricLabel.color;\n    context.lineWidth = 4;\n\n    if (+node.attr('metric') < 0) {\n      context.textAlign = 'end';\n      context.fillText(\n        node.attr('metric'),\n        -opt.plots.metricLabel.offset,\n        node.attr('height') / 2\n      );\n    } else {\n      context.textAlign = 'start';\n      context.fillText(\n        node.attr('metric'),\n        +node.attr('width') + opt.plots.metricLabel.offset,\n        +node.attr('height') / 2\n      );\n    }\n\n    context.restore();\n  }\n};\n\nexport default drawMetricLabel;\n","import { select } from 'd3-selection';\n\nimport drawHorizontalLabel from './draw-horizontal-label';\nimport drawMetricLabel from './draw-metric-label';\n\nconst drawCanvas = (context, selection, opt) => {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  selection.each(function(d) {\n    context.save();\n\n    const node = select(this);\n    context.beginPath();\n    context.fillStyle = node.attr('fill');\n    context.globalAlpha = node.attr('opacity');\n    context.rect(\n      node.attr('x'),\n      node.attr('y'),\n      node.attr('width'),\n      node.attr('height')\n    );\n    context.fill();\n\n    context.restore();\n\n    drawHorizontalLabel(context, node, opt);\n    if (opt.plots.metricLabel.enabled === true)\n      drawMetricLabel(context, node, opt);\n  });\n};\n\nexport default drawCanvas;\n","import { scaleLinear } from 'd3-scale';\nimport { extent } from 'd3-array';\nimport tickRange from '../../data/update-scale/ticks';\nimport { getMetricVal } from '../../helper/withCartesian';\n\nconst getMetricScale = (state, data) => {\n  const { _options } = state;\n  const _getMetricVal = getMetricVal(state);\n\n  const yExtent = extent(data, _getMetricVal);\n\n  let tickedRange;\n  if (yExtent[1] <= 0 || yExtent[0] >= 0) {\n    // only negative or only positive\n    tickedRange = tickRange(\n      yExtent,\n      _options.yAxis[0].ticks,\n      _options.yAxis[0].tier\n    );\n  } else {\n    // both positive and negative\n    const boundary = Math.max(Math.abs(yExtent[0]), yExtent[1]);\n    tickedRange = tickRange(\n      [-boundary, boundary],\n      _options.yAxis[0].ticks,\n      _options.yAxis[0].tier\n    );\n  }\n\n  const mainWidth = _options.chart.innerWidth - _options.plots.miniBarWidth;\n\n  return scaleLinear()\n    .domain([tickedRange[0], tickedRange[1]])\n    .range([0, mainWidth]);\n};\n\nexport default getMetricScale;\n","import { scaleBand } from 'd3-scale';\nimport { transition } from 'd3-transition';\nimport { mouse, select } from 'd3-selection';\nimport { extent } from 'd3-array';\n\nimport drawHiddenRects from './draw-hidden-rects';\nimport drawCanvas from './draw-canvas';\nimport getMetricScale from './get-metric-scale';\nimport { getDimensionVal, getMetricVal } from '../../helper/withCartesian';\nimport tooltipMarkup from '../../tooltip/markup';\n\nconst drawMainBars = (state, data) => {\n  const {\n    _frontContext,\n    _hiddenContext,\n    _detachedContainer,\n    _options,\n    _color,\n    _containerId,\n    _canvasScale,\n  } = state;\n  const _getDimensionVal = getDimensionVal(state);\n  const _getMetricVal = getMetricVal(state);\n\n  const drawCanvasInTransition = () => {\n    return t => {\n      drawCanvas(_frontContext, _detachedContainer.selectAll('.bar'), _options);\n    };\n  };\n\n  const xScale = scaleBand()\n    .domain(data.map(d => _getDimensionVal(d)))\n    .range([\n      0,\n      _options.chart.innerHeight - _options.plots.bottomAxisOffset - 5,\n    ])\n    .paddingInner(0.1);\n\n  const yScale = getMetricScale(state, data);\n  const mainWidth =\n    _options.plots.enableMiniBar === true\n      ? _options.chart.innerWidth - _options.plots.miniBarWidth\n      : _options.chart.innerWidth;\n\n  const h = xScale.bandwidth();\n  const x = d => xScale(_getDimensionVal(d));\n  let w;\n  let y;\n  const colorScale = _color.copy().domain(yScale.domain());\n\n  const yExtent = extent(data, _getMetricVal);\n\n  if (yExtent[0] >= 0) {\n    w = d => yScale(_getMetricVal(d));\n    y = d => yScale(0);\n\n    if (_options.color.type === 'divergent') {\n      colorScale.domain([-yScale.domain()[1], Math.abs(yScale.domain()[1])]);\n    }\n  } else if (yExtent[1] <= 0) {\n    w = d => mainWidth - yScale(_getMetricVal(d));\n    y = d => yScale(_getMetricVal(d));\n\n    if (_options.color.type === 'divergent') {\n      colorScale.domain([yScale.domain()[0], Math.abs(yScale.domain()[0])]);\n    }\n  } else {\n    w = d => Math.abs(mainWidth / 2 - yScale(_getMetricVal(d)));\n    y = d => (_getMetricVal(d) > 0 ? mainWidth / 2 : mainWidth / 2 - w(d));\n  }\n\n  const c = d => colorScale(_getMetricVal(d));\n\n  const dataUpdate = _detachedContainer.selectAll('.bar').data(data);\n  const dataJoin = dataUpdate.enter();\n  const dataRemove = dataUpdate.exit();\n\n  const exitTransition = transition()\n    .duration(_options.animation.duration.remove)\n    .each(() => {\n      dataRemove\n        .transition()\n        .attr('width', 0)\n        .tween('remove.rects', drawCanvasInTransition);\n\n      dataRemove.remove();\n    });\n\n  const updateTransition = exitTransition\n    .transition()\n    .duration(_options.animation.duration.update)\n    .each(() => {\n      dataUpdate\n        .attr('dimension', _getDimensionVal)\n        .attr('metric', _getMetricVal)\n        .transition('update-rect-transition')\n        .delay((d, i) => (i / data.length) * _options.animation.duration.update)\n        .attr('fill', c)\n        .attr('x', y)\n        .attr('width', w)\n        .attr('y', x)\n        .attr('height', h)\n        .tween('update.rects', drawCanvasInTransition);\n    });\n\n  const enterTransition = updateTransition\n    .transition()\n    .duration(_options.animation.duration.update)\n    .each(() => {\n      dataJoin\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('fill', c)\n        .attr('opacity', 1)\n        .attr('x', y)\n        .attr('y', x)\n        .attr('width', 0)\n        .attr('dimension', _getDimensionVal)\n        .attr('metric', _getMetricVal)\n        .attr('height', h)\n        .transition()\n        .delay((d, i) => (i / data.length) * _options.animation.duration.update)\n        .attr('width', w)\n        .tween('append.rects', drawCanvasInTransition);\n    });\n\n  select(_containerId)\n    .selectAll('.vizart-tooltip')\n    .data([1])\n    .enter()\n    .append('div')\n    .attr('class', 'vizart-tooltip')\n    .style('opacity', 0);\n\n  const tooltip = select(_containerId).select('.vizart-tooltip');\n\n  enterTransition.on('end', () => {\n    const colorMap = drawHiddenRects(\n      _hiddenContext,\n      _detachedContainer.selectAll('.bar')\n    );\n\n    // shadow color?\n    /**\n     * callback for when the mouse moves across the overlay\n     */\n    function mouseMoveHandler() {\n      // get the current mouse position\n      const [mx, my] = mouse(this);\n      // This will return that pixel's color\n      const col = _hiddenContext.getImageData(\n        mx * _canvasScale,\n        my * _canvasScale,\n        1,\n        1\n      ).data;\n      //Our map uses these rgb strings as keys to nodes.\n      const colString = 'rgb(' + col[0] + ',' + col[1] + ',' + col[2] + ')';\n      const node = colorMap.get(colString);\n\n      if (node) {\n        tooltip\n          .html(tooltipMarkup(node, state))\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('left', mx + _options.tooltip.offset[0] + 'px')\n          .style('top', my + _options.tooltip.offset[1] + 'px')\n          .style('opacity', 1);\n      } else {\n        tooltip\n          .transition()\n          .duration(_options.animation.duration.tooltip)\n          .style('opacity', 0);\n      }\n    }\n\n    function mouseOutHandler() {\n      tooltip\n        .transition()\n        .duration(_options.animation.duration.tooltip)\n        .style('opacity', 0);\n    }\n\n    state._frontCanvas.on('mousemove', mouseMoveHandler);\n    state._frontCanvas.on('mouseout', mouseOutHandler);\n    state._listeners.call('rendered');\n  });\n};\n\nexport default drawMainBars;\n","import { axisBottom } from 'd3-axis';\n\nimport getMetricScale from './get-metric-scale';\n\nconst updateMainAxis = (state, filteredData) => {\n  const { _options, _container } = state;\n  const bottomAxis = axisBottom().scale(getMetricScale(state, filteredData));\n\n  const domAxis = _container.select('id', 'bottom-axis').data([]);\n  domAxis\n    .enter()\n    .append('g')\n    .attr('class', 'x axis')\n    .attr(\n      'transform',\n      'translate(' +\n        _options.chart.margin.left +\n        ',' +\n        (_options.chart.innerHeight + _options.plots.bottomAxisOffset) +\n        ')'\n    );\n\n  domAxis.call(bottomAxis);\n  domAxis.select('.domain').style('opacity', 0);\n\n  _container\n    .select('.x.axis')\n    .transition()\n    .duration(50)\n    .call(bottomAxis);\n};\n\nexport default updateMainAxis;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name â€œ__brushâ€ rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","const brushResizePath = height => {\n  return d => {\n    const e = +(d.type == 'e'),\n      x = e ? 1 : -1,\n      y = height / 2;\n\n    return (\n      'M' +\n      0.5 * x +\n      ',' +\n      y +\n      'A6,6 0 0 ' +\n      e +\n      ' ' +\n      6.5 * x +\n      ',' +\n      (y + 6) +\n      'V' +\n      (2 * y - 6) +\n      'A6,6 0 0 ' +\n      e +\n      ' ' +\n      0.5 * x +\n      ',' +\n      2 * y +\n      'Z' +\n      'M' +\n      2.5 * x +\n      ',' +\n      (y + 8) +\n      'V' +\n      (2 * y - 8) +\n      'M' +\n      4.5 * x +\n      ',' +\n      (y + 8) +\n      'V' +\n      (2 * y - 8)\n    );\n  };\n};\n\nexport default brushResizePath;\n","import { scaleBand, scaleLinear } from 'd3-scale';\nimport { event } from 'd3-selection';\nimport { extent } from 'd3-array';\nimport { brushY } from 'd3-brush';\n\nimport brushResizePath from '../../util/brush-handle';\nimport { getDimensionVal, getMetricVal } from '../../helper/withCartesian';\n\nimport drawMainBars from './draw-main-bars';\nimport updateMainAxis from './update-main-axis';\n\nconst miniWidth = opt => opt.chart.width - opt.plots.miniBarWidth;\n\nconst drawMiniSvg = state => {\n  const { _options, _container, _data } = state;\n  const _getDimensionVal = getDimensionVal(state);\n  const _getMetricVal = getMetricVal(state);\n\n  const width = _options.plots.miniBarWidth;\n  const height = _options.chart.innerHeight;\n\n  const miniX = miniWidth(_options);\n  _container.select('.mini-group').remove();\n\n  const miniSvg = _container\n    .append('g')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('class', 'mini-group')\n    .attr(\n      'transform',\n      'translate(' + miniX + ',' + _options.chart.margin.top + ')'\n    );\n\n  const miniXScale = scaleBand()\n    .domain(_data.map(d => _getDimensionVal(d)))\n    .range([\n      0,\n      _options.chart.innerHeight - _options.plots.bottomAxisOffset - 5,\n    ])\n    .paddingInner(0.1);\n  const miniYScale = scaleLinear()\n    .domain(extent(_data, _getMetricVal))\n    .range([0, _options.plots.miniBarWidth]);\n\n  const h = miniXScale.bandwidth();\n  const y = d => miniYScale(_getMetricVal(d));\n  const x = d => miniXScale(_getDimensionVal(d));\n\n  const dataUpdate = miniSvg.selectAll('.mini').data(_data);\n  const dataJoin = dataUpdate.enter();\n  const dataRemove = dataUpdate.exit();\n\n  dataRemove.remove();\n  dataUpdate\n    .attr('width', y)\n    .attr('y', x)\n    .attr('height', h);\n  dataJoin\n    .append('rect')\n    .attr('class', 'mini')\n    .attr('fill', '#e0e0e0')\n    .attr('opacity', 1)\n    .attr('x', 0)\n    .attr('y', x)\n    .attr('height', h)\n    .attr('width', y);\n\n  const brushGroup = miniSvg.append('g').attr('class', 'brush');\n\n  const brush = brushY().extent([[0, 0], [miniX, _options.chart.innerHeight]]);\n\n  const handleOffset =\n    -_options.plots.miniBarWidth - _options.plots.miniBarWidth / 4;\n\n  const handle = brushGroup\n    .selectAll('.custom-handle')\n    .data([{ type: 'w' }, { type: 'e' }])\n    .enter()\n    .append('path')\n    .attr('class', 'custom-handle')\n    .attr('stroke', '#000')\n    .attr('stroke-width', 1)\n    .attr('cursor', 'ns-resize')\n    .attr('d', brushResizePath(_options.plots.miniBarWidth))\n    .attr('transform', 'rotate(90) translate(0,' + handleOffset + ')');\n\n  const brushMove = () => {\n    const s = event.selection;\n\n    if (s === null) {\n      handle.attr('display', 'none');\n    } else {\n      handle\n        .attr('display', null)\n        .attr(\n          'transform',\n          (d, i) => 'rotate(90) translate(' + [s[i], handleOffset] + ')'\n        );\n    }\n\n    miniSvg\n      .selectAll('.mini')\n      .attr('fill', d => {\n        const metric = _getMetricVal(d);\n\n        if (s[0] <= (d = x(d)) && d <= s[1]) {\n          return metric > 0 ? '#addd8e' : '#fdbb84';\n        } else {\n          return '#e0e0e0';\n        }\n      })\n      .classed('selected', d => s[0] <= (d = x(d)) && d <= s[1]);\n\n    const data = miniSvg.selectAll('.selected').data();\n\n    drawMainBars(state, data);\n    updateMainAxis(state, data);\n  };\n\n  brush.on('start brush end', brushMove);\n\n  brushGroup.call(brush);\n  brushGroup.call(brush.move, [0, _options.plots.initialBrushHeight]);\n};\n\nexport default drawMiniSvg;\n","import drawMainBars from './draw-main-bars';\nimport updateMainAxis from './update-main-axis';\nimport drawMiniSvg from './draw-mini-svg';\nimport { getDimension, x } from '../../helper/withCartesian';\n\nconst forceMetricDesc = state => {\n  state.ordering = {\n    accessor: state._options.data.y[0].accessor,\n    direction: 'desc',\n  };\n};\n\nconst animate = state => {\n  forceMetricDesc(state);\n\n  const { _options, _data } = state;\n  getDimension(state).scale.range([0, _options.chart.innerHeight]);\n\n  const data = _data.filter(\n    d => x(state)(d) < _options.plots.initialBrushHeight\n  );\n\n  if (_options.plots.enableMiniBar === true) {\n    drawMiniSvg(state);\n    drawMainBars(state, data);\n  } else {\n    drawMainBars(state, _data);\n    updateMainAxis(state, _data);\n  }\n};\n\nexport default animate;\n","import { cartesian } from '../../helper/builder';\nimport animate from './animate';\n\nconst DefaultOpt = {\n  chart: { type: 'row' },\n  plots: {\n    barLabel: {\n      enabled: false,\n      color: 'black',\n    },\n    metricLabel: {\n      enabled: false,\n      color: 'black',\n      offset: 10,\n    },\n\n    enableMiniBar: true,\n    miniBarWidth: 50,\n    bottomAxisOffset: 10,\n    initialBrushHeight: 200,\n  },\n};\n\nconst row = cartesian(DefaultOpt, animate);\n\nexport default row;\n"],"names":["a","b","NaN","compare","length","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascending","ascendingBisect","bisector","bisectRight","start","stop","step","n","arguments","i","Math","max","ceil","range","Array","e10","sqrt","e5","e2","count","reverse","ticks","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","values","p","valueof","number","i0","value0","value1","prefix","Map","prototype","map","constructor","has","key","get","set","value","remove","property","clear","keys","push","slice","entries","size","empty","each","object","isArray","o","Set","proto","add","array","implicit","name","ordinal","index","domain","unknown","call","scale","_","copy","band","undefined","ordinalRange","bandwidth","round","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","padding","min","pointish","point","factory","extend","parent","definition","Object","create","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","color","displayable","rgb","hex","toString","format","m","trim","toLowerCase","exec","parseInt","Rgb","rgbn","rgba","hsla","hasOwnProperty","r","g","rgbConvert","opacity","k","isNaN","h","s","l","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","deg2rad","PI","rad2deg","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","c","sin","rgb2lrgb","y","xyz2lab","z","lab","lab2xyz","lrgb2rgb","t","hclConvert","atan2","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","v0","v1","v2","v3","linear","exponential","hue","constant","gamma","nogamma","rgbGamma","end","colorRgb","rgbSpline","spline","colors","rgbBasis","nb","na","Date","setTime","reA","reB","source","zero","one","bi","lastIndex","am","bm","bs","q","join","string","date","valueOf","degrees","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","e","atan","cssNode","cssRoot","cssView","svgNode","parseCss","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","split","decompose","parseSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","cubehelixGamma","colorCubehelix","cubehelixLong","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","d1","r0","r1","polymap","j","bisect","target","interpolate","clamp","continuous","interpolateValue","piecewise","output","input","invert","interpolateRound","toExponential","indexOf","coefficient","formatDecimal","grouping","thousands","width","substring","numerals","replace","re","formatSpecifier","specifier","FormatSpecifier","match","Error","fill","sign","symbol","comma","precision","type","out","i1","prefixExponent","exponent","toFixed","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","locale","group","formatGroup","currency","decimal","formatNumerals","percent","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","formatPrefix","defaultLocale","formatLocale","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","interval","x0","x1","quantile","thresholds","threshold","invertExtent","sort","quantiles","newInterval","floori","offseti","field","offset","previous","filter","every","millisecond","milliseconds","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","seconds","minute","getMinutes","minutes","hour","getTimezoneOffset","getHours","hours","day","setHours","setDate","getDate","days","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","month","setMonth","getMonth","getFullYear","months","year","setFullYear","years","utcMinute","setUTCSeconds","getUTCMinutes","utcMinutes","utcHour","setUTCMinutes","getUTCHours","utcHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcDays","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcMonths","utcYear","setUTCFullYear","utcYears","localDate","H","M","S","L","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","newDate","parseSpecifier","week","Q","V","w","timeMonday","timeDay","u","W","U","Z","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","timeYear","getMilliseconds","getSeconds","timeSunday","timeThursday","getUTCMilliseconds","dow","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","sequential","interpolator","k10","scheme","interpolateRgbBasis","concat","ramp","interpolateCubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","sum","noop","dispatch","Dispatch","parseTypenames","typenames","types","on","typename","callback","T","that","args","apply","RedBlackTree","RedBlackNode","node","R","P","N","insert","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","sibling","next","tree","createEdge","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","y0","y1","ax","ay","bx","by","dx","dy","connectEdge","lx","ly","rx","ry","fx","fy","fm","fb","clipEdges","epsilon","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","splice","d2","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","arc","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","cx","epsilon2","ha","hc","circle","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","unshift","nArcs","iArc","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","extent","polygons","polygon","data","triangles","forEach","s0","e1","s1","links","find","radius","_found","v","vx","vy","pointX","pointY","voronoi","_x","_y","_root","leaf","_x0","_y0","_x1","_y1","xm","ym","xp","yp","bottom","addAll","xz","yz","visit","x2","y2","x3","y3","quads","Quad","retainer","removeAll","child","defaultX","defaultY","quadtree","nodes","Quadtree","leaf_copy","treeProto","tree_add","tree_addAll","tree_cover","tree_data","tree_extent","tree_find","tree_remove","tree_removeAll","root","tree_root","tree_size","tree_visit","visitAfter","tree_visitAfter","tree_x","tree_y","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","ownerDocument","uri","namespaceURI","creatorFixed","fullname","namespace","none","selector","querySelector","select","groups","_groups","subgroups","subgroup","subnode","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matcher","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","update","_enter","sparse","EnterNode","datum","_next","_parent","insertBefore","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","bind","enterGroup","updateGroup","exitGroup","_exit","selection","groups0","groups1","m0","merges","group0","group1","merge","nextSibling","parentNode","compareNode","sortgroups","sortgroup","order","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","contains","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","lower","previousSibling","firstChild","creator","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","append","selection_append","selection_insert","selection_remove","clone","selection_clone","selection_datum","selection_on","selection_dispatch","current","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","changedTouches","_typeof","Symbol","babelHelpers.typeof","iterator","obj","toConsumableArray","arr","arr2","from","freeGlobal","global","freeSelf","self","Function","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","result","objectProto$1","nativeObjectToString$1","objectToString","nullTag","undefinedTag","symToStringTag$1","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","isObjectLike","stringTag","isString","equalIntervalBreaks","nClasses","theMin","theMax","breaks","breakSize","SchemeReds","SchemeBlues","SchemeGreens","SchemeGreys","SchemeOranges","SchemePurples","SchemeBuGn","SchemeBuPu","SchemeGnBu","SchemeOrRd","SchemePuBuGn","SchemePuBu","SchemePuRd","SchemeRdPu","SchemeYlGnBu","SchemeYlGn","SchemeYlOrBr","SchemeYlOrRd","SchemeViridis","SchemeInferno","SchemeMagma","SchemePlasma","SchemeWarm","SchemeCool","SchemeRainbow","SchemeCubehelix","interpolateSequentialScheme","_scheme","interpolateBlues","interpolateGreens","interpolateGreys","interpolateOranges","interpolateReds","interpolatePurples","interpolateBuGn","interpolateBuPu","interpolateGnBu","interpolateOrRd","interpolatePuBuGn","interpolatePuBu","interpolatePuRd","interpolateRdPu","interpolateYlGnBu","interpolateYlGn","interpolateYlOrBr","interpolateYlOrRd","interpolateViridis","interpolateInferno","interpolateMagma","interpolatePlasma","interpolateWarm","interpolateCool","interpolateRainbow","interpolateCubehelixDefault","linearStops","offsets","seqScale","scaleSequential","_hsl","steps","console","SchemeAccent","SchemeDark2","SchemePaired","SchemePastel1","SchemePastel2","SchemeSet1","SchemeSet2","SchemeSet3","SchemeCategory10","SchemeBrBG","SchemePRGn","SchemePiYG","SchemePuOr","SchemeRdBu","SchemeRdGy","SchemeRdYlBu","SchemeRdYlGn","SchemeSpectral","MetroRain3","MetroRain8","uniqueCountSorted","uniqueValueCount","lastSeenValue","numericSort","makeMatrix","columns","rows","column","ssq","sums","sumsOfSquares","sji","muji","fillMatrixColumn","iMin","iMax","cluster","backtrackMatrix","jlow","jhigh","sjlowi","ssqjlow","ssqj","fillMatrices","nValues","shift","shiftedValue","ckmeans","nClusters","sorted","uniqueCount","clusters","clusterRight","clusterLeft","warn","msg","_smartSequential","_data","_scale","scaleLinear","schemeLen","dataLen","theDarkest","scaleOrdinal","_trimmed","breakpoints","_domain","gradientColor","_interpolated","_distinctStops","distinction","_color","distinctColor","_distinction","scaleQuantile","interpolateDivergentScheme","interpolateBrBG","interpolatePRGn","interpolatePiYG","interpolatePuOr","interpolateRdBu","interpolateRdGy","interpolateRdYlBu","interpolateRdYlGn","interpolateSpectral","divergentColor","interpolateCategoricalScheme","schemeAccent","schemeDark2","schemePaired","schemePastel1","schemePastel2","schemeSet1","schemeSet2","schemeSet3","schemeCategory10","_selectFromScheme","categoricalColor","selectNum","colorSet","Globals","DataType","DATE","NUMBER","STRING","ColorType","GRADIENT","DISTINCT","CATEGORICAL","DIVERGENT","genericColor","_type","_valMap","DefaultDataComposer","opt","cleanse","DefaultColorComposer","makeComposers","comp","apiOn","state","_listeners","apiColor","_options","listCacheClear","eq","other","assocIndexOf","arrayProto","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entry","stackClear","stackDelete","stackGet","stackHas","coreJsData","maskSrcKey","uid","IE_PROTO","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","funcProto$1","objectProto$2","funcToString$1","hasOwnProperty$1","reIsNative","baseIsNative","pattern","getValue","getNative","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","objectProto$3","hasOwnProperty$2","hashGet","objectProto$4","hasOwnProperty$3","hashHas","HASH_UNDEFINED$1","hashSet","Hash","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","defineProperty$1","baseAssignValue","assignMergeValue","createBaseFor","fromRight","iteratee","keysFunc","iterable","props","baseFor","freeExports","exports","nodeType","freeModule","module","moduleExports","Buffer","allocUnsafe","cloneBuffer","buffer","isDeep","Uint8Array","cloneArrayBuffer","arrayBuffer","byteLength","cloneTypedArray","typedArray","byteOffset","copyArray","objectCreate","baseCreate","overArg","arg","getPrototype","getPrototypeOf","objectProto$5","isPrototype","Ctor","initCloneObject","argsTag","baseIsArguments","objectProto$6","hasOwnProperty$4","propertyIsEnumerable","isArguments","MAX_SAFE_INTEGER","isLength","isArrayLike","isArrayLikeObject","stubFalse","freeExports$1","freeModule$1","moduleExports$1","Buffer$1","nativeIsBuffer","isBuffer","objectTag","funcProto$2","objectProto$7","funcToString$2","hasOwnProperty$5","objectCtorString","isPlainObject","argsTag$1","arrayTag","boolTag","dateTag","errorTag","funcTag$1","mapTag","numberTag","objectTag$1","regexpTag","setTag","stringTag$1","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeExports$2","freeModule$2","moduleExports$2","freeProcess","process","nodeUtil","require","binding","nodeIsTypedArray","isTypedArray","safeGet","objectProto$8","hasOwnProperty$6","assignValue","objValue","copyObject","customizer","isNew","newValue","baseTimes","MAX_SAFE_INTEGER$1","reIsUint","isIndex","objectProto$9","hasOwnProperty$7","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","nativeKeysIn","objectProto$a","hasOwnProperty$8","baseKeysIn","isProto","keysIn","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isTyped","baseMerge","thisArg","nativeMax","overRest","otherArgs","baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","now","shortOut","lastCalled","stamp","remaining","setToString","baseRest","isIterateeCall","createAssigner","assigner","sources","guard","mergeWith","MergeCustomizer","hasObjDef","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","done","err","return","_template","assign","_tep","merge$1","apiOptions","options","apiData","_composers","renderSVG","containerId","container","chart","height","margin","apiRender","render","_renderSVG","_containerId","_container","_svg","apiUpdate","s4","random","uuid","isMobile","navigator","userAgent","substr","containerWidth","containerHeight","sanitizeHeight","sanitizeWidth","isDefined","Number","assignContainerBound","_opt$chart","userWidth","userHeight","_opt$chart$margin","innerWidth","innerHeight","baseOpt","className","background","animation","enabled","duration","tooltip","quickUpdate","events","drilldown","drillup","drillupall","kmeans","plots","formatter","title","legend","mergeOptions","_len","opts","_key","base","StandardDispatchers","Rendered","initOpt","userOpt","composer","initState","composers","_isMobileSize","_id","apiRender$1","apiRender$$1","frontCanvasId","_frontCanvasId","hiddenCanvasId","_hiddenCanvasId","detachedContainer","devicePixelRatio","frontCanvas","hiddenCanvas","hiddenContext","getContext","frontContext","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","ratio","canvasScale","_frontCanvas","_hiddenCanvas","_frontContext","_hiddenContext","_canvasScale","_detachedContainer","drawCell","context","moveTo","lineTo","closePath","drawVoronoi","diagram","save","beginPath","lineWidth","strokeStyle","stroke","restore","applyVoronoi","finalState","voronoiDiagram","canvas","flattenQuadtree","quadtree$$1","drawQuadtree","rects","strokeRect","drawCircularText","ctx","fontSize","titleFont","centerX","centerY","startAngle","kerning","textBaseline","textAlign","font","fillStyle","charWid","measureText","_j","_charWid","fillText","genColorByIndex","dataIndex","ret","radialGradient","innerRadius","outerRadius","grd","createRadialGradient","stops","_ref2","addColorStop","verticalGradient","createLinearGradient","clientWidth","clientHeight","hslColor","apiRevealVoronoi","revealVoronoi","_voronoi","apiRevealQuadtree","revealQuadtree","_quadtree","CanvasState","_animationState","canvasLayer","transparent","alpha","hslColorSpace","center","entering","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","position","path","tick","tickExit","tickEnter","line","transition","tickSize","axisBottom","axisLeft","isNumber","nativeIsFinite","isTickDiv","units","updateXAxisTicks","xAxis","getDimensionVal","accessor","maxTicks","increment","rotateXTicks","_selector","angle","_rotate","_tickText","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","restart","delay","TypeError","sleep","timerFlush","wake","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","id","timing","schedules","__transition","tween","ease","init","schedule","active","interrupt","tweenRemove","tween0","tween1","tweenFunction","tweenValue","interpolateNumber","interpolateRgb","interpolateString","value00","interpolate0","value10","attrTween","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","Transition","_name","onFunction","on0","on1","sit","removeFunction","children","inherit","styleRemoveEnd","styleTween","id0","id1","newId","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","cubicInOut","pi","tau","defaultTiming","easeCubicInOut","selection_interrupt","selection_transition","transitionTicks","yAxis","_transition","showTicks","labelAngle","cnTimeFormat","CN","timeFormatLocale","isBar","updateAxis","nested","dimension","metric","xScale","yScale","ordering","ticksTier","renderAxis","_xAxis","_yAxis","CartesianStackedOptions","direction","series","allowDecimals","createCartesianStackedOpt","chartOpt","cartesianOpt","Stacks","Expand","Zero","Silhouette","Wiggle","Divergent","isSeriesDefined","getAllDataDef","allFields","getSortDef","_field","sortData","_accessor","localeCompare","arrayMap","symbolTag","isSymbol","INFINITY","symbolProto","symbolToString","baseToString","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","isBinary","isUndefined","isNull","baseIsDate","nodeIsDate","isDate","_allFields","getAllFields","_d","_dim","parser","isYSort","dims","dim","ele","pos","updateDimensionScale","scaleBand","scalePoint","_range","scaleTime","_rangeNm","_judgeMax","maxLength","_maxLength","_tickPositive","tier","adjust","parseFloat","maxRange","multiplier","minTicks","tickBothNegativeAndPositive","minRange","absmin","tickRange","isValid","updateMetricScale","yList","rangeList","universalMin","universalMax","axisDef","_tickedRange","ticksMin","ticksMax","updateOptionScales","processCartesianData","cleanseData","cleansed","tauEpsilon","Path","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a0","a1","ccw","cw","da","halfPi","asin","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","defined","curve","curveLinear","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","descending","pie","arcs","pa","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","custom","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","px","controlPoints","py","Step","_t","stepBefore","stepAfter","stackValue","orderNone","offsetNone","kz","sz","oz","ki","si","sij","yn","s2","sij0","sij1","s3","sk","skj0","skj1","tops","bottoms","getSeriesOrdering","stackOrderAscending","stackOrderDescending","stackOrderNone","stackOrderReverse","getStack","stackLayout","stackMethod","stackOffsetExpand","stackOffsetNone","stackOffsetSilhouette","stackOrderInsideOut","stackOffsetWiggle","stackOffsetDiverging","defineProperty","arrayAggregator","setter","accumulator","nativeKeys","baseKeys","baseForOwn","createBaseEach","eachFunc","collection","baseEach","baseAggregator","setCacheAdd","setCacheHas","SetCache","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","equalFunc","isPartial","arrLength","othLength","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolValueOf","equalByTag","message","convert","arrayPush","baseGetAllKeys","symbolsFunc","arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","getAllKeys","equalObjects","objProps","objLength","othProps","skipCtor","objCtor","othCtor","DataView","Promise","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","matchData","noCustomizer","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","reIsDeepProp","reIsPlainProp","isKey","FUNC_ERROR_TEXT","memoize","resolver","memoized","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","quote","subString","castPath","toKey","baseGet","defaultValue","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","baseProperty","basePropertyDeep","baseIteratee","createAggregator","initializer","groupBy","transformSeriesToMatrix","_getDimension","_getDimensionVal","_getMetric","_getMetricValue","dimensionGroup","_s","_v","generateStackLayout","layout","label","rescaleStackedMetric","nestedData","_min","_max","processStackedData","original","minY","maxY","CartesianOptions","createCartesianOpt","stackedComposer","ChartOpt","colorOpt","distinct","standardComposer","animate","hasAxis","apiRenderCanvas","apiUpdateChart","addApi","apis","reduce","acc","cur","build","builderConfig","compose","baseChart","cartesian","polar","polarStacked","drawVerticalLabel","strokeText","barLabel","drawMetricOntTop","metricLabel","drawRects","clearRect","globalAlpha","drawHiddenRects","colorMap","hasNegativeValue","hasNegative","dataLoop","getDimension","getMetric","getMetricVal","functionToCheck","tooltipMarkup","_c","_hasNegative","_getMetricVal","_w","evenWidth","_h","_zero","drawCanvasInTransition","dataUpdate","dataJoin","dataRemove","exitTransition","updateTransition","enterTransition","mouseMoveHandler","mouse","mx","my","col","getImageData","colString","mouseOutHandler","sortSelector","apiSort","BarOpt","bar","percentFormat","limitSliceValues","minPct","labelMinPercentage","total","lastSmall","noTwoSmalls","maxData","maxIndividual","etcTotal","etcData","othersTitle","centroidOnArc","drawControlPoint","labelControlPointRadius","strokeWidth","midAngle","getLinePosition","drawPolyLine","labelOffset","drawCanvas","outerRadiusMargin","arcDiagram","isDonut","innerRadiusRatio","pieDiagram","slices","outerArc","animateStates","initialState","dataRange","reject","interpolateParticles","interpolateArray","batchRendering","easeCubic","drawHiddenCanvas","transformedInitial","transformedFinal","then","res","PieOptions","labelPosition","nodeColor","drawPoints","particles","hidden","Curves","LINEAR","LINEAR_CLOSED","STEP","STEP_BEFORE","STEP_AFTER","BASIS","BASIS_OPEN","BASIS_CLOSED","BUNDLE","CARDINAL","CARDINAL_OPEN","CARDINAL_CLOSED","MONOTONE_X","MONOTONE_Y","NATURAL","CATMULL_ROM","CATMULL_ROM_CLOSED","CATMULL_ROM_OPEN","interpolateCurve","_shapes","_shape","curveLinearClosed","curveStep","curveStepBefore","curveStepAfter","curveBasis","curveBasisOpen","curveBasisClosed","curveBundle","curveCardinal","curveCardinalOpen","curveCardinalClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","drawArea","gradientStyle","areaOpacity","drawLine","showDots","highlightNode","highlightNodeColor","getTransparentColor","previousState","listeners","nodeRadius","QuadtreeRadius","closest","AreaOpt","LineOptions","updateRadiusScale","radiusDef","_getRadius","_getRadiusValue","_r","default","ScatterOptions","scatter","apiGroup","toLayout","apiStack","apiExpand","expand","apiWiggle","wiggle","apiSilhouette","silhouette","apiDivergent","divergent","highlightArea","highlighted","getSeries","opacityArea","StackedOptions","stackedArea","minY0","StreamOpt","dotRadius","stream","highlightLine","DefaultOptions","multiLine","seriesNum","barWidth","initialGroupLayout","initialStackLayout","mapGroupLayout","mapStackLayout","stackToGroup","groupToStack","_alreadyStacked","intrimState","GroupedOptions","stackedBar","getRadius","getGridLevels","levels","drawGridArc","getLevels","gridArc","levelColor","drawGridLabel","labelScale","getLabel","levelLabel","levelLabelPosition","levelLabelColor","getAxisLabel","axisLabel","drawAxisLabel","axisNum","axisScale","axes","axesLength","mapToAxis","toText","axisLabelColor","axisLabelOffset","drawGradientBoundary","drawBoundary","Offset","boundaryOffset","boundary","gradient","boundaryGradient","boundaryOpacity","shape","radialArea","gradientArea","strokeAlpha","radialLine","isArea","getLevelLabel","highlight","setLineDash","highlightStrokeColor","highlightLabelColor","lineOffset","radiusScale","rawRadiusScale","strokeOpacity","fadeOpacity","optCopy","CoronaOptions","corona","RadarOptions","radar","getLabelRadius","maxR","textRadius","axisLabelAlign","axisLabelAlignThreshold","drawLabel","sliceNum","shadowBlur","shadowColor","drawPetal","petal","Path2D","baseFindIndex","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayIncludes","arrayIncludesWith","comparator","baseDifference","includes","valuesLength","outer","computed","valuesIndex","spreadableSymbol","isConcatSpreadable","isFlattenable","baseFlatten","depth","isStrict","difference","getOrderedDimensions","dimensions","orderDef","dimensionOrder","diff","colorScale","radiusOfArea","angleScale","enableMouse","RoseOpt","rose","TextOffset","drawHorizontalLabel","drawMetricLabel","getMetricScale","yExtent","tickedRange","mainWidth","miniBarWidth","drawMainBars","bottomAxisOffset","enableMiniBar","updateMainAxis","filteredData","bottomAxis","domAxis","preventDefault","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","handles","xy","Y","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","button","defaultExtent","__brush","brushY","brush","handleSize","touchending","initialize","handle","redraw","started","move","emitter","beforestart","emit","selection0","selection1","Emitter","starting","BrushEvent","touches","mode","metaKey","altKey","signX","signY","w0","w1","n0","n1","e0","moving","shifting","shiftKey","lockX","lockY","point0","moved","ended","keydowned","keyupped","dragDisable","point1","dragEnable","keyCode","brushResizePath","miniWidth","drawMiniSvg","miniX","miniSvg","miniXScale","miniYScale","brushGroup","handleOffset","brushMove","initialBrushHeight","forceMetricDesc","DefaultOpt","row"],"mappings":";;;;;;;;;;EAAe,oBAASA,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAaC,GAA7C;EACD;;ECAc,mBAASC,OAAT,EAAkB;EAC/B,MAAIA,QAAQC,MAAR,KAAmB,CAAvB,EAA0BD,UAAUE,oBAAoBF,OAApB,CAAV;EAC1B,SAAO;EACLG,UAAM,cAASN,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC3B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BC,KAAKE,MAAM,CAAX,CAA5B,KACKD,KAAKC,GAAL;EACN;EACD,aAAOF,EAAP;EACD,KAVI;EAWLG,WAAO,eAASX,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC5B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BE,KAAKC,GAAL,CAA5B,KACKF,KAAKE,MAAM,CAAX;EACN;EACD,aAAOF,EAAP;EACD;EApBI,GAAP;EAsBD;;EAED,SAASH,mBAAT,CAA6BO,CAA7B,EAAgC;EAC9B,SAAO,UAASC,CAAT,EAAYN,CAAZ,EAAe;EACpB,WAAOO,UAAUF,EAAEC,CAAF,CAAV,EAAgBN,CAAhB,CAAP;EACD,GAFD;EAGD;;EC7BD,IAAIQ,kBAAkBC,SAASF,SAAT,CAAtB;AACA,EAAO,IAAIG,cAAcF,gBAAgBJ,KAAlC;;ECJQ,iBAASJ,CAAT,EAAY;EACzB,SAAOA,MAAM,IAAN,GAAaL,GAAb,GAAmB,CAACK,CAA3B;EACD;;ECFc,gBAASW,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;EACzCF,UAAQ,CAACA,KAAT,EAAgBC,OAAO,CAACA,IAAxB,EAA8BC,OAAO,CAACC,IAAIC,UAAUlB,MAAf,IAAyB,CAAzB,IAA8Be,OAAOD,KAAP,EAAcA,QAAQ,CAAtB,EAAyB,CAAvD,IAA4DG,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAACD,IAA9G;;EAEA,MAAIG,IAAI,CAAC,CAAT;EAAA,MACIF,IAAIG,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKE,IAAL,CAAU,CAACP,OAAOD,KAAR,IAAiBE,IAA3B,CAAZ,IAAgD,CADxD;EAAA,MAEIO,QAAQ,IAAIC,KAAJ,CAAUP,CAAV,CAFZ;;EAIA,SAAO,EAAEE,CAAF,GAAMF,CAAb,EAAgB;EACdM,UAAMJ,CAAN,IAAWL,QAAQK,IAAIH,IAAvB;EACD;;EAED,SAAOO,KAAP;EACD;;ECZD,IAAIE,MAAML,KAAKM,IAAL,CAAU,EAAV,CAAV;EAAA,IACIC,KAAKP,KAAKM,IAAL,CAAU,EAAV,CADT;EAAA,IAEIE,KAAKR,KAAKM,IAAL,CAAU,CAAV,CAFT;;AAIA,EAAe,gBAASZ,KAAT,EAAgBC,IAAhB,EAAsBc,KAAtB,EAA6B;EAC1C,QAAIC,OAAJ;EAAA,QACIX,IAAI,CAAC,CADT;EAAA,QAEIF,CAFJ;EAAA,QAGIc,KAHJ;EAAA,QAIIf,IAJJ;;EAMAD,WAAO,CAACA,IAAR,EAAcD,QAAQ,CAACA,KAAvB,EAA8Be,QAAQ,CAACA,KAAvC;EACA,QAAIf,UAAUC,IAAV,IAAkBc,QAAQ,CAA9B,EAAiC,OAAO,CAACf,KAAD,CAAP;EACjC,QAAIgB,UAAUf,OAAOD,KAArB,EAA4BG,IAAIH,KAAJ,EAAWA,QAAQC,IAAnB,EAAyBA,OAAOE,CAAhC;EAC5B,QAAI,CAACD,OAAOgB,cAAclB,KAAd,EAAqBC,IAArB,EAA2Bc,KAA3B,CAAR,MAA+C,CAA/C,IAAoD,CAACI,SAASjB,IAAT,CAAzD,EAAyE,OAAO,EAAP;;EAEzE,QAAIA,OAAO,CAAX,EAAc;EACZF,gBAAQM,KAAKE,IAAL,CAAUR,QAAQE,IAAlB,CAAR;EACAD,eAAOK,KAAKc,KAAL,CAAWnB,OAAOC,IAAlB,CAAP;EACAe,gBAAQ,IAAIP,KAAJ,CAAUP,IAAIG,KAAKE,IAAL,CAAUP,OAAOD,KAAP,GAAe,CAAzB,CAAd,CAAR;EACA,eAAO,EAAEK,CAAF,GAAMF,CAAb;EAAgBc,kBAAMZ,CAAN,IAAW,CAACL,QAAQK,CAAT,IAAcH,IAAzB;EAAhB;EACD,KALD,MAKO;EACLF,gBAAQM,KAAKc,KAAL,CAAWpB,QAAQE,IAAnB,CAAR;EACAD,eAAOK,KAAKE,IAAL,CAAUP,OAAOC,IAAjB,CAAP;EACAe,gBAAQ,IAAIP,KAAJ,CAAUP,IAAIG,KAAKE,IAAL,CAAUR,QAAQC,IAAR,GAAe,CAAzB,CAAd,CAAR;EACA,eAAO,EAAEI,CAAF,GAAMF,CAAb;EAAgBc,kBAAMZ,CAAN,IAAW,CAACL,QAAQK,CAAT,IAAcH,IAAzB;EAAhB;EACD;;EAED,QAAIc,OAAJ,EAAaC,MAAMD,OAAN;;EAEb,WAAOC,KAAP;EACD;;AAED,EAAO,SAASC,aAAT,CAAuBlB,KAAvB,EAA8BC,IAA9B,EAAoCc,KAApC,EAA2C;EAChD,QAAIb,OAAO,CAACD,OAAOD,KAAR,IAAiBM,KAAKC,GAAL,CAAS,CAAT,EAAYQ,KAAZ,CAA5B;EAAA,QACIM,QAAQf,KAAKc,KAAL,CAAWd,KAAKgB,GAAL,CAASpB,IAAT,IAAiBI,KAAKiB,IAAjC,CADZ;EAAA,QAEIC,QAAQtB,OAAOI,KAAKmB,GAAL,CAAS,EAAT,EAAaJ,KAAb,CAFnB;EAGA,WAAOA,SAAS,CAAT,GACD,CAACG,SAASb,GAAT,GAAe,EAAf,GAAoBa,SAASX,EAAT,GAAc,CAAd,GAAkBW,SAASV,EAAT,GAAc,CAAd,GAAkB,CAAzD,IAA8DR,KAAKmB,GAAL,CAAS,EAAT,EAAaJ,KAAb,CAD7D,GAED,CAACf,KAAKmB,GAAL,CAAS,EAAT,EAAa,CAACJ,KAAd,CAAD,IAAyBG,SAASb,GAAT,GAAe,EAAf,GAAoBa,SAASX,EAAT,GAAc,CAAd,GAAkBW,SAASV,EAAT,GAAc,CAAd,GAAkB,CAAjF,CAFN;EAGD;;AAED,EAAO,SAASY,QAAT,CAAkB1B,KAAlB,EAAyBC,IAAzB,EAA+Bc,KAA/B,EAAsC;EAC3C,QAAIY,QAAQrB,KAAKsB,GAAL,CAAS3B,OAAOD,KAAhB,IAAyBM,KAAKC,GAAL,CAAS,CAAT,EAAYQ,KAAZ,CAArC;EAAA,QACIc,QAAQvB,KAAKmB,GAAL,CAAS,EAAT,EAAanB,KAAKc,KAAL,CAAWd,KAAKgB,GAAL,CAASK,KAAT,IAAkBrB,KAAKiB,IAAlC,CAAb,CADZ;EAAA,QAEIC,QAAQG,QAAQE,KAFpB;EAGA,QAAIL,SAASb,GAAb,EAAkBkB,SAAS,EAAT,CAAlB,KACK,IAAIL,SAASX,EAAb,EAAiBgB,SAAS,CAAT,CAAjB,KACA,IAAIL,SAASV,EAAb,EAAiBe,SAAS,CAAT;EACtB,WAAO5B,OAAOD,KAAP,GAAe,CAAC6B,KAAhB,GAAwBA,KAA/B;EACD;;EChDc,mBAASC,MAAT,EAAiBC,CAAjB,EAAoBC,OAApB,EAA6B;EAC1C,MAAIA,WAAW,IAAf,EAAqBA,UAAUC,MAAV;EACrB,MAAI,EAAE9B,IAAI2B,OAAO5C,MAAb,CAAJ,EAA0B;EAC1B,MAAI,CAAC6C,IAAI,CAACA,CAAN,KAAY,CAAZ,IAAiB5B,IAAI,CAAzB,EAA4B,OAAO,CAAC6B,QAAQF,OAAO,CAAP,CAAR,EAAmB,CAAnB,EAAsBA,MAAtB,CAAR;EAC5B,MAAIC,KAAK,CAAT,EAAY,OAAO,CAACC,QAAQF,OAAO3B,IAAI,CAAX,CAAR,EAAuBA,IAAI,CAA3B,EAA8B2B,MAA9B,CAAR;EACZ,MAAI3B,CAAJ;EAAA,MACIE,IAAI,CAACF,IAAI,CAAL,IAAU4B,CADlB;EAAA,MAEIG,KAAK5B,KAAKc,KAAL,CAAWf,CAAX,CAFT;EAAA,MAGI8B,SAAS,CAACH,QAAQF,OAAOI,EAAP,CAAR,EAAoBA,EAApB,EAAwBJ,MAAxB,CAHd;EAAA,MAIIM,SAAS,CAACJ,QAAQF,OAAOI,KAAK,CAAZ,CAAR,EAAwBA,KAAK,CAA7B,EAAgCJ,MAAhC,CAJd;EAKA,SAAOK,SAAS,CAACC,SAASD,MAAV,KAAqB9B,IAAI6B,EAAzB,CAAhB;EACD;;ECbM,IAAIG,SAAS,GAAb;;EAEP,SAASC,KAAT,GAAe;;AAEfA,QAAIC,SAAJ,GAAgBC,MAAID,SAAJ,GAAgB;EAC9BE,eAAaH,KADiB;EAE9BI,OAAK,aAASC,GAAT,EAAc;EACjB,WAAQN,SAASM,GAAV,IAAkB,IAAzB;EACD,GAJ6B;EAK9BC,OAAK,aAASD,GAAT,EAAc;EACjB,WAAO,KAAKN,SAASM,GAAd,CAAP;EACD,GAP6B;EAQ9BE,OAAK,aAASF,GAAT,EAAcG,KAAd,EAAqB;EACxB,SAAKT,SAASM,GAAd,IAAqBG,KAArB;EACA,WAAO,IAAP;EACD,GAX6B;EAY9BC,UAAQ,gBAASJ,GAAT,EAAc;EACpB,QAAIK,WAAWX,SAASM,GAAxB;EACA,WAAOK,YAAY,IAAZ,IAAoB,OAAO,KAAKA,QAAL,CAAlC;EACD,GAf6B;EAgB9BC,SAAO,iBAAW;EAChB,SAAK,IAAID,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4B,OAAO,KAAKW,QAAL,CAAP;EAAvD;EACD,GAlB6B;EAmB9BE,QAAM,gBAAW;EACf,QAAIA,OAAO,EAAX;EACA,SAAK,IAAIF,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4Ba,KAAKC,IAAL,CAAUH,SAASI,KAAT,CAAe,CAAf,CAAV;EAAvD,KACA,OAAOF,IAAP;EACD,GAvB6B;EAwB9BpB,UAAQ,kBAAW;EACjB,QAAIA,SAAS,EAAb;EACA,SAAK,IAAIkB,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4BP,OAAOqB,IAAP,CAAY,KAAKH,QAAL,CAAZ;EAAvD,KACA,OAAOlB,MAAP;EACD,GA5B6B;EA6B9BuB,WAAS,mBAAW;EAClB,QAAIA,UAAU,EAAd;EACA,SAAK,IAAIL,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4BgB,QAAQF,IAAR,CAAa,EAACR,KAAKK,SAASI,KAAT,CAAe,CAAf,CAAN,EAAyBN,OAAO,KAAKE,QAAL,CAAhC,EAAb;EAAvD,KACA,OAAOK,OAAP;EACD,GAjC6B;EAkC9BC,QAAM,gBAAW;EACf,QAAIA,OAAO,CAAX;EACA,SAAK,IAAIN,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4B,EAAEiB,IAAF;EAAvD,KACA,OAAOA,IAAP;EACD,GAtC6B;EAuC9BC,SAAO,iBAAW;EAChB,SAAK,IAAIP,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4B,OAAO,KAAP;EAAvD,KACA,OAAO,IAAP;EACD,GA1C6B;EA2C9BmB,QAAM,cAAS9D,CAAT,EAAY;EAChB,SAAK,IAAIsD,QAAT,IAAqB,IAArB;EAA2B,UAAIA,SAAS,CAAT,MAAgBX,MAApB,EAA4B3C,EAAE,KAAKsD,QAAL,CAAF,EAAkBA,SAASI,KAAT,CAAe,CAAf,CAAlB,EAAqC,IAArC;EAAvD;EACD;EA7C6B,CAAhC;;EAgDA,SAASZ,KAAT,CAAaiB,MAAb,EAAqB/D,CAArB,EAAwB;EACtB,MAAI8C,MAAM,IAAIF,KAAJ,EAAV;;EAEA;EACA,MAAImB,kBAAkBnB,KAAtB,EAA2BmB,OAAOD,IAAP,CAAY,UAASV,KAAT,EAAgBH,GAAhB,EAAqB;EAAEH,QAAIK,GAAJ,CAAQF,GAAR,EAAaG,KAAb;EAAsB,GAAzD;;EAE3B;EAFA,OAGK,IAAIpC,MAAMgD,OAAN,CAAcD,MAAd,CAAJ,EAA2B;EAC9B,UAAIpD,IAAI,CAAC,CAAT;EAAA,UACIF,IAAIsD,OAAOvE,MADf;EAAA,UAEIyE,CAFJ;;EAIA,UAAIjE,KAAK,IAAT,EAAe,OAAO,EAAEW,CAAF,GAAMF,CAAb;EAAgBqC,YAAIK,GAAJ,CAAQxC,CAAR,EAAWoD,OAAOpD,CAAP,CAAX;EAAhB,OAAf,MACK,OAAO,EAAEA,CAAF,GAAMF,CAAb;EAAgBqC,YAAIK,GAAJ,CAAQnD,EAAEiE,IAAIF,OAAOpD,CAAP,CAAN,EAAiBA,CAAjB,EAAoBoD,MAApB,CAAR,EAAqCE,CAArC;EAAhB;EACN;;EAED;EATK,SAUA,IAAIF,MAAJ,EAAY,KAAK,IAAId,GAAT,IAAgBc,MAAhB;EAAwBjB,YAAIK,GAAJ,CAAQF,GAAR,EAAac,OAAOd,GAAP,CAAb;EAAxB,OAEjB,OAAOH,GAAP;EACD;;ECtED,SAASoB,GAAT,GAAe;;EAEf,IAAIC,QAAQrB,MAAID,SAAhB;;EAEAqB,IAAIrB,SAAJ,GAAgBM,IAAIN,SAAJ,GAAgB;EAC9BE,eAAamB,GADiB;EAE9BlB,OAAKmB,MAAMnB,GAFmB;EAG9BoB,OAAK,aAAShB,KAAT,EAAgB;EACnBA,aAAS,EAAT;EACA,SAAKT,SAASS,KAAd,IAAuBA,KAAvB;EACA,WAAO,IAAP;EACD,GAP6B;EAQ9BC,UAAQc,MAAMd,MARgB;EAS9BE,SAAOY,MAAMZ,KATiB;EAU9BnB,UAAQ+B,MAAMX,IAVgB;EAW9BI,QAAMO,MAAMP,IAXkB;EAY9BC,SAAOM,MAAMN,KAZiB;EAa9BC,QAAMK,MAAML;EAbkB,CAAhC;;EAgBA,SAASX,GAAT,CAAaY,MAAb,EAAqB/D,CAArB,EAAwB;EACtB,MAAImD,MAAM,IAAIe,GAAJ,EAAV;;EAEA;EACA,MAAIH,kBAAkBG,GAAtB,EAA2BH,OAAOD,IAAP,CAAY,UAASV,KAAT,EAAgB;EAAED,QAAIiB,GAAJ,CAAQhB,KAAR;EAAiB,GAA/C;;EAE3B;EAFA,OAGK,IAAIW,MAAJ,EAAY;EACf,UAAIpD,IAAI,CAAC,CAAT;EAAA,UAAYF,IAAIsD,OAAOvE,MAAvB;EACA,UAAIQ,KAAK,IAAT,EAAe,OAAO,EAAEW,CAAF,GAAMF,CAAb;EAAgB0C,YAAIiB,GAAJ,CAAQL,OAAOpD,CAAP,CAAR;EAAhB,OAAf,MACK,OAAO,EAAEA,CAAF,GAAMF,CAAb;EAAgB0C,YAAIiB,GAAJ,CAAQpE,EAAE+D,OAAOpD,CAAP,CAAF,EAAaA,CAAb,EAAgBoD,MAAhB,CAAR;EAAhB;EACN;;EAED,SAAOZ,GAAP;EACD;;ECpCD,IAAIkB,UAAQrD,MAAM6B,SAAlB;;AAEA,EAAO,IAAIC,QAAMuB,QAAMvB,GAAhB;AACP,EAAO,IAAIY,UAAQW,QAAMX,KAAlB;;ECAA,IAAIY,WAAW,EAACC,MAAM,UAAP,EAAf;;AAEP,EAAe,SAASC,OAAT,CAAiBzD,KAAjB,EAAwB;EACrC,MAAI0D,QAAQ3B,OAAZ;EAAA,MACI4B,SAAS,EADb;EAAA,MAEIC,UAAUL,QAFd;;EAIAvD,UAAQA,SAAS,IAAT,GAAgB,EAAhB,GAAqB2C,QAAMkB,IAAN,CAAW7D,KAAX,CAA7B;;EAEA,WAAS8D,KAAT,CAAe5E,CAAf,EAAkB;EAChB,QAAIgD,MAAMhD,IAAI,EAAd;EAAA,QAAkBU,IAAI8D,MAAMvB,GAAN,CAAUD,GAAV,CAAtB;EACA,QAAI,CAACtC,CAAL,EAAQ;EACN,UAAIgE,YAAYL,QAAhB,EAA0B,OAAOK,OAAP;EAC1BF,YAAMtB,GAAN,CAAUF,GAAV,EAAetC,IAAI+D,OAAOjB,IAAP,CAAYxD,CAAZ,CAAnB;EACD;EACD,WAAOc,MAAM,CAACJ,IAAI,CAAL,IAAUI,MAAMvB,MAAtB,CAAP;EACD;;EAEDqF,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,QAAI,CAACpE,UAAUlB,MAAf,EAAuB,OAAOkF,OAAOhB,KAAP,EAAP;EACvBgB,aAAS,EAAT,EAAaD,QAAQ3B,OAArB;EACA,QAAInC,IAAI,CAAC,CAAT;EAAA,QAAYF,IAAIqE,EAAEtF,MAAlB;EAAA,QAA0BS,CAA1B;EAAA,QAA6BgD,GAA7B;EACA,WAAO,EAAEtC,CAAF,GAAMF,CAAb;EAAgB,UAAI,CAACgE,MAAMzB,GAAN,CAAUC,MAAM,CAAChD,IAAI6E,EAAEnE,CAAF,CAAL,IAAa,EAA7B,CAAL,EAAuC8D,MAAMtB,GAAN,CAAUF,GAAV,EAAeyB,OAAOjB,IAAP,CAAYxD,CAAZ,CAAf;EAAvD,KACA,OAAO4E,KAAP;EACD,GAND;;EAQAA,QAAM9D,KAAN,GAAc,UAAS+D,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBuB,QAAQ2C,QAAMkB,IAAN,CAAWE,CAAX,CAAR,EAAuBD,KAA3C,IAAoD9D,MAAM2C,KAAN,EAA3D;EACD,GAFD;;EAIAmB,QAAMF,OAAN,GAAgB,UAASG,CAAT,EAAY;EAC1B,WAAOpE,UAAUlB,MAAV,IAAoBmF,UAAUG,CAAV,EAAaD,KAAjC,IAA0CF,OAAjD;EACD,GAFD;;EAIAE,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOP,UACFE,MADE,CACKA,MADL,EAEF3D,KAFE,CAEIA,KAFJ,EAGF4D,OAHE,CAGMA,OAHN,CAAP;EAID,GALD;;EAOA,SAAOE,KAAP;EACD;;EC1Cc,SAASG,IAAT,GAAgB;EAC7B,MAAIH,QAAQL,UAAUG,OAAV,CAAkBM,SAAlB,CAAZ;EAAA,MACIP,SAASG,MAAMH,MADnB;EAAA,MAEIQ,eAAeL,MAAM9D,KAFzB;EAAA,MAGIA,WAAQ,CAAC,CAAD,EAAI,CAAJ,CAHZ;EAAA,MAIIP,IAJJ;EAAA,MAKI2E,SALJ;EAAA,MAMIC,QAAQ,KANZ;EAAA,MAOIC,eAAe,CAPnB;EAAA,MAQIC,eAAe,CARnB;EAAA,MASIC,QAAQ,GATZ;;EAWA,SAAOV,MAAMF,OAAb;;EAEA,WAASa,OAAT,GAAmB;EACjB,QAAI/E,IAAIiE,SAASlF,MAAjB;EAAA,QACI8B,UAAUP,SAAM,CAAN,IAAWA,SAAM,CAAN,CADzB;EAAA,QAEIT,QAAQS,SAAMO,UAAU,CAAhB,CAFZ;EAAA,QAGIf,OAAOQ,SAAM,IAAIO,OAAV,CAHX;EAIAd,WAAO,CAACD,OAAOD,KAAR,IAAiBM,KAAKC,GAAL,CAAS,CAAT,EAAYJ,IAAI4E,YAAJ,GAAmBC,eAAe,CAA9C,CAAxB;EACA,QAAIF,KAAJ,EAAW5E,OAAOI,KAAKc,KAAL,CAAWlB,IAAX,CAAP;EACXF,aAAS,CAACC,OAAOD,KAAP,GAAeE,QAAQC,IAAI4E,YAAZ,CAAhB,IAA6CE,KAAtD;EACAJ,gBAAY3E,QAAQ,IAAI6E,YAAZ,CAAZ;EACA,QAAID,KAAJ,EAAW9E,QAAQM,KAAKwE,KAAL,CAAW9E,KAAX,CAAR,EAA2B6E,YAAYvE,KAAKwE,KAAL,CAAWD,SAAX,CAAvC;EACX,QAAI/C,SAASqD,MAAShF,CAAT,EAAYqC,GAAZ,CAAgB,UAASnC,CAAT,EAAY;EAAE,aAAOL,QAAQE,OAAOG,CAAtB;EAA0B,KAAxD,CAAb;EACA,WAAOuE,aAAa5D,UAAUc,OAAOd,OAAP,EAAV,GAA6Bc,MAA1C,CAAP;EACD;;EAEDyC,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBkF,OAAOI,CAAP,GAAWU,SAA/B,IAA4Cd,QAAnD;EACD,GAFD;;EAIAG,QAAM9D,KAAN,GAAc,UAAS+D,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBuB,WAAQ,CAAC,CAAC+D,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAR,EAAwBU,SAA5C,IAAyDzE,SAAM2C,KAAN,EAAhE;EACD,GAFD;;EAIAmB,QAAMa,UAAN,GAAmB,UAASZ,CAAT,EAAY;EAC7B,WAAO/D,WAAQ,CAAC,CAAC+D,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAR,EAAwBM,QAAQ,IAAhC,EAAsCI,SAA7C;EACD,GAFD;;EAIAX,QAAMM,SAAN,GAAkB,YAAW;EAC3B,WAAOA,SAAP;EACD,GAFD;;EAIAN,QAAMrE,IAAN,GAAa,YAAW;EACtB,WAAOA,IAAP;EACD,GAFD;;EAIAqE,QAAMO,KAAN,GAAc,UAASN,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoB4F,QAAQ,CAAC,CAACN,CAAV,EAAaU,SAAjC,IAA8CJ,KAArD;EACD,GAFD;;EAIAP,QAAMc,OAAN,GAAgB,UAASb,CAAT,EAAY;EAC1B,WAAOpE,UAAUlB,MAAV,IAAoB6F,eAAeC,eAAe1E,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYd,CAAZ,CAAZ,CAA9B,EAA2DU,SAA/E,IAA4FH,YAAnG;EACD,GAFD;;EAIAR,QAAMQ,YAAN,GAAqB,UAASP,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoB6F,eAAezE,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYd,CAAZ,CAAZ,CAAf,EAA4CU,SAAhE,IAA6EH,YAApF;EACD,GAFD;;EAIAR,QAAMS,YAAN,GAAqB,UAASR,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoB8F,eAAe1E,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYd,CAAZ,CAAZ,CAAf,EAA4CU,SAAhE,IAA6EF,YAApF;EACD,GAFD;;EAIAT,QAAMU,KAAN,GAAc,UAAST,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoB+F,QAAQ3E,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYd,CAAZ,CAAZ,CAAR,EAAqCU,SAAzD,IAAsED,KAA7E;EACD,GAFD;;EAIAV,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOC,OACFN,MADE,CACKA,QADL,EAEF3D,KAFE,CAEIA,QAFJ,EAGFqE,KAHE,CAGIA,KAHJ,EAIFC,YAJE,CAIWA,YAJX,EAKFC,YALE,CAKWA,YALX,EAMFC,KANE,CAMIA,KANJ,CAAP;EAOD,GARD;;EAUA,SAAOC,SAAP;EACD;;EAED,SAASK,QAAT,CAAkBhB,KAAlB,EAAyB;EACvB,MAAIE,OAAOF,MAAME,IAAjB;;EAEAF,QAAMc,OAAN,GAAgBd,MAAMS,YAAtB;EACA,SAAOT,MAAMQ,YAAb;EACA,SAAOR,MAAMS,YAAb;;EAEAT,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOc,SAASd,MAAT,CAAP;EACD,GAFD;;EAIA,SAAOF,KAAP;EACD;;AAED,EAAO,SAASiB,KAAT,GAAiB;EACtB,SAAOD,SAASb,OAAOK,YAAP,CAAoB,CAApB,CAAT,CAAP;EACD;;ECpGc,iBAAStC,WAAT,EAAsBgD,OAAtB,EAA+BlD,SAA/B,EAA0C;EACvDE,cAAYF,SAAZ,GAAwBkD,QAAQlD,SAAR,GAAoBA,SAA5C;EACAA,YAAUE,WAAV,GAAwBA,WAAxB;EACD;;AAED,EAAO,SAASiD,MAAT,CAAgBC,MAAhB,EAAwBC,UAAxB,EAAoC;EACzC,MAAIrD,YAAYsD,OAAOC,MAAP,CAAcH,OAAOpD,SAArB,CAAhB;EACA,OAAK,IAAII,GAAT,IAAgBiD,UAAhB;EAA4BrD,cAAUI,GAAV,IAAiBiD,WAAWjD,GAAX,CAAjB;EAA5B,GACA,OAAOJ,SAAP;EACD;;ECPM,SAASwD,KAAT,GAAiB;;EAEjB,IAAIC,UAAS,GAAb;EACA,IAAIC,YAAW,IAAID,OAAnB;EAEP,IAAIE,MAAM,qBAAV;EAAA,IACIC,MAAM,+CADV;EAAA,IAEIC,MAAM,gDAFV;EAAA,IAGIC,SAAS,kBAHb;EAAA,IAIIC,SAAS,kBAJb;EAAA,IAKIC,eAAe,IAAIC,MAAJ,CAAW,YAAY,CAACN,GAAD,EAAMA,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CALnB;EAAA,IAMIO,eAAe,IAAID,MAAJ,CAAW,YAAY,CAACJ,GAAD,EAAMA,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CANnB;EAAA,IAOIM,gBAAgB,IAAIF,MAAJ,CAAW,aAAa,CAACN,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgBC,GAAhB,CAAb,GAAoC,MAA/C,CAPpB;EAAA,IAQIQ,gBAAgB,IAAIH,MAAJ,CAAW,aAAa,CAACJ,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgBD,GAAhB,CAAb,GAAoC,MAA/C,CARpB;EAAA,IASIS,eAAe,IAAIJ,MAAJ,CAAW,YAAY,CAACL,GAAD,EAAMC,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CATnB;EAAA,IAUIS,gBAAgB,IAAIL,MAAJ,CAAW,aAAa,CAACL,GAAD,EAAMC,GAAN,EAAWA,GAAX,EAAgBD,GAAhB,CAAb,GAAoC,MAA/C,CAVpB;;EAYA,IAAIW,QAAQ;EACVC,aAAW,QADD;EAEVC,gBAAc,QAFJ;EAGVC,QAAM,QAHI;EAIVC,cAAY,QAJF;EAKVC,SAAO,QALG;EAMVC,SAAO,QANG;EAOVC,UAAQ,QAPE;EAQVC,SAAO,QARG;EASVC,kBAAgB,QATN;EAUVC,QAAM,QAVI;EAWVC,cAAY,QAXF;EAYVC,SAAO,QAZG;EAaVC,aAAW,QAbD;EAcVC,aAAW,QAdD;EAeVC,cAAY,QAfF;EAgBVC,aAAW,QAhBD;EAiBVC,SAAO,QAjBG;EAkBVC,kBAAgB,QAlBN;EAmBVC,YAAU,QAnBA;EAoBVC,WAAS,QApBC;EAqBVC,QAAM,QArBI;EAsBVC,YAAU,QAtBA;EAuBVC,YAAU,QAvBA;EAwBVC,iBAAe,QAxBL;EAyBVC,YAAU,QAzBA;EA0BVC,aAAW,QA1BD;EA2BVC,YAAU,QA3BA;EA4BVC,aAAW,QA5BD;EA6BVC,eAAa,QA7BH;EA8BVC,kBAAgB,QA9BN;EA+BVC,cAAY,QA/BF;EAgCVC,cAAY,QAhCF;EAiCVC,WAAS,QAjCC;EAkCVC,cAAY,QAlCF;EAmCVC,gBAAc,QAnCJ;EAoCVC,iBAAe,QApCL;EAqCVC,iBAAe,QArCL;EAsCVC,iBAAe,QAtCL;EAuCVC,iBAAe,QAvCL;EAwCVC,cAAY,QAxCF;EAyCVC,YAAU,QAzCA;EA0CVC,eAAa,QA1CH;EA2CVC,WAAS,QA3CC;EA4CVC,WAAS,QA5CC;EA6CVC,cAAY,QA7CF;EA8CVC,aAAW,QA9CD;EA+CVC,eAAa,QA/CH;EAgDVC,eAAa,QAhDH;EAiDVC,WAAS,QAjDC;EAkDVC,aAAW,QAlDD;EAmDVC,cAAY,QAnDF;EAoDVC,QAAM,QApDI;EAqDVC,aAAW,QArDD;EAsDVC,QAAM,QAtDI;EAuDVC,SAAO,QAvDG;EAwDVC,eAAa,QAxDH;EAyDVC,QAAM,QAzDI;EA0DVC,YAAU,QA1DA;EA2DVC,WAAS,QA3DC;EA4DVC,aAAW,QA5DD;EA6DVC,UAAQ,QA7DE;EA8DVC,SAAO,QA9DG;EA+DVC,SAAO,QA/DG;EAgEVC,YAAU,QAhEA;EAiEVC,iBAAe,QAjEL;EAkEVC,aAAW,QAlED;EAmEVC,gBAAc,QAnEJ;EAoEVC,aAAW,QApED;EAqEVC,cAAY,QArEF;EAsEVC,aAAW,QAtED;EAuEVC,wBAAsB,QAvEZ;EAwEVC,aAAW,QAxED;EAyEVC,cAAY,QAzEF;EA0EVC,aAAW,QA1ED;EA2EVC,aAAW,QA3ED;EA4EVC,eAAa,QA5EH;EA6EVC,iBAAe,QA7EL;EA8EVC,gBAAc,QA9EJ;EA+EVC,kBAAgB,QA/EN;EAgFVC,kBAAgB,QAhFN;EAiFVC,kBAAgB,QAjFN;EAkFVC,eAAa,QAlFH;EAmFVC,QAAM,QAnFI;EAoFVC,aAAW,QApFD;EAqFVC,SAAO,QArFG;EAsFVC,WAAS,QAtFC;EAuFVC,UAAQ,QAvFE;EAwFVC,oBAAkB,QAxFR;EAyFVC,cAAY,QAzFF;EA0FVC,gBAAc,QA1FJ;EA2FVC,gBAAc,QA3FJ;EA4FVC,kBAAgB,QA5FN;EA6FVC,mBAAiB,QA7FP;EA8FVC,qBAAmB,QA9FT;EA+FVC,mBAAiB,QA/FP;EAgGVC,mBAAiB,QAhGP;EAiGVC,gBAAc,QAjGJ;EAkGVC,aAAW,QAlGD;EAmGVC,aAAW,QAnGD;EAoGVC,YAAU,QApGA;EAqGVC,eAAa,QArGH;EAsGVC,QAAM,QAtGI;EAuGVC,WAAS,QAvGC;EAwGVC,SAAO,QAxGG;EAyGVC,aAAW,QAzGD;EA0GVC,UAAQ,QA1GE;EA2GVC,aAAW,QA3GD;EA4GVC,UAAQ,QA5GE;EA6GVC,iBAAe,QA7GL;EA8GVC,aAAW,QA9GD;EA+GVC,iBAAe,QA/GL;EAgHVC,iBAAe,QAhHL;EAiHVC,cAAY,QAjHF;EAkHVC,aAAW,QAlHD;EAmHVC,QAAM,QAnHI;EAoHVC,QAAM,QApHI;EAqHVC,QAAM,QArHI;EAsHVC,cAAY,QAtHF;EAuHVC,UAAQ,QAvHE;EAwHVC,iBAAe,QAxHL;EAyHVC,OAAK,QAzHK;EA0HVC,aAAW,QA1HD;EA2HVC,aAAW,QA3HD;EA4HVC,eAAa,QA5HH;EA6HVC,UAAQ,QA7HE;EA8HVC,cAAY,QA9HF;EA+HVC,YAAU,QA/HA;EAgIVC,YAAU,QAhIA;EAiIVC,UAAQ,QAjIE;EAkIVC,UAAQ,QAlIE;EAmIVC,WAAS,QAnIC;EAoIVC,aAAW,QApID;EAqIVC,aAAW,QArID;EAsIVC,aAAW,QAtID;EAuIVC,QAAM,QAvII;EAwIVC,eAAa,QAxIH;EAyIVC,aAAW,QAzID;EA0IVC,OAAK,QA1IK;EA2IVC,QAAM,QA3II;EA4IVC,WAAS,QA5IC;EA6IVC,UAAQ,QA7IE;EA8IVC,aAAW,QA9ID;EA+IVC,UAAQ,QA/IE;EAgJVC,SAAO,QAhJG;EAiJVC,SAAO,QAjJG;EAkJVC,cAAY,QAlJF;EAmJVC,UAAQ,QAnJE;EAoJVC,eAAa;EApJH,CAAZ;;EAuJAC,OAAOpK,KAAP,EAAcqK,KAAd,EAAqB;EACnBC,eAAa,uBAAW;EACtB,WAAO,KAAKC,GAAL,GAAWD,WAAX,EAAP;EACD,GAHkB;EAInBE,OAAK,eAAW;EACd,WAAO,KAAKD,GAAL,GAAWC,GAAX,EAAP;EACD,GANkB;EAOnBC,YAAU,oBAAW;EACnB,WAAO,KAAKF,GAAL,KAAa,EAApB;EACD;EATkB,CAArB;;AAYA,EAAe,SAASF,KAAT,CAAeK,MAAf,EAAuB;EACpC,MAAIC,CAAJ;EACAD,WAAS,CAACA,SAAS,EAAV,EAAcE,IAAd,GAAqBC,WAArB,EAAT;EACA,SAAO,CAACF,IAAIrK,OAAOwK,IAAP,CAAYJ,MAAZ,CAAL,KAA6BC,IAAII,SAASJ,EAAE,CAAF,CAAT,EAAe,EAAf,CAAJ,EAAwB,IAAIK,GAAJ,CAASL,KAAK,CAAL,GAAS,GAAV,GAAkBA,KAAK,CAAL,GAAS,KAAnC,EAA4CA,KAAK,CAAL,GAAS,GAAV,GAAkBA,IAAI,IAAjE,EAAyE,CAACA,IAAI,GAAL,KAAa,CAAd,GAAoBA,IAAI,GAAhG,EAAsG,CAAtG,CAArD;EAAA,MACD,CAACA,IAAIpK,OAAOuK,IAAP,CAAYJ,MAAZ,CAAL,IAA4BO,KAAKF,SAASJ,EAAE,CAAF,CAAT,EAAe,EAAf,CAAL,CAA5B;EAAA,IACA,CAACA,IAAInK,aAAasK,IAAb,CAAkBJ,MAAlB,CAAL,IAAkC,IAAIM,GAAJ,CAAQL,EAAE,CAAF,CAAR,EAAcA,EAAE,CAAF,CAAd,EAAoBA,EAAE,CAAF,CAApB,EAA0B,CAA1B,CAAlC;EAAA,IACA,CAACA,IAAIjK,aAAaoK,IAAb,CAAkBJ,MAAlB,CAAL,IAAkC,IAAIM,GAAJ,CAAQL,EAAE,CAAF,IAAO,GAAP,GAAa,GAArB,EAA0BA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAvC,EAA4CA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAzD,EAA8D,CAA9D,CAAlC;EAAA,IACA,CAACA,IAAIhK,cAAcmK,IAAd,CAAmBJ,MAAnB,CAAL,IAAmCQ,KAAKP,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,CAAX,EAAiBA,EAAE,CAAF,CAAjB,EAAuBA,EAAE,CAAF,CAAvB,CAAnC;EAAA,IACA,CAACA,IAAI/J,cAAckK,IAAd,CAAmBJ,MAAnB,CAAL,IAAmCQ,KAAKP,EAAE,CAAF,IAAO,GAAP,GAAa,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAAP,GAAa,GAApC,EAAyCA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAtD,EAA2DA,EAAE,CAAF,CAA3D,CAAnC;EAAA,IACA,CAACA,IAAI9J,aAAaiK,IAAb,CAAkBJ,MAAlB,CAAL,IAAkCS,KAAKR,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,IAAO,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAA9B,EAAmC,CAAnC,CAAlC;EAAA,IACA,CAACA,IAAI7J,cAAcgK,IAAd,CAAmBJ,MAAnB,CAAL,IAAmCS,KAAKR,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,IAAO,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAA9B,EAAmCA,EAAE,CAAF,CAAnC,CAAnC;EAAA,IACA5J,MAAMqK,cAAN,CAAqBV,MAArB,IAA+BO,KAAKlK,MAAM2J,MAAN,CAAL,CAA/B,GACAA,WAAW,aAAX,GAA2B,IAAIM,GAAJ,CAAQ/R,GAAR,EAAaA,GAAb,EAAkBA,GAAlB,EAAuB,CAAvB,CAA3B,GACA,IAVN;EAWD;;EAED,SAASgS,IAAT,CAAc7Q,CAAd,EAAiB;EACf,SAAO,IAAI4Q,GAAJ,CAAQ5Q,KAAK,EAAL,GAAU,IAAlB,EAAwBA,KAAK,CAAL,GAAS,IAAjC,EAAuCA,IAAI,IAA3C,EAAiD,CAAjD,CAAP;EACD;;EAED,SAAS8Q,IAAT,CAAcG,CAAd,EAAiBC,CAAjB,EAAoBtS,CAApB,EAAuBD,CAAvB,EAA0B;EACxB,MAAIA,KAAK,CAAT,EAAYsS,IAAIC,IAAItS,IAAIC,GAAZ;EACZ,SAAO,IAAI+R,GAAJ,CAAQK,CAAR,EAAWC,CAAX,EAActS,CAAd,EAAiBD,CAAjB,CAAP;EACD;;AAED,EAAO,SAASwS,UAAT,CAAoB3N,CAApB,EAAuB;EAC5B,MAAI,EAAEA,aAAaoC,KAAf,CAAJ,EAA2BpC,IAAIyM,MAAMzM,CAAN,CAAJ;EAC3B,MAAI,CAACA,CAAL,EAAQ,OAAO,IAAIoN,GAAJ,EAAP;EACRpN,MAAIA,EAAE2M,GAAF,EAAJ;EACA,SAAO,IAAIS,GAAJ,CAAQpN,EAAEyN,CAAV,EAAazN,EAAE0N,CAAf,EAAkB1N,EAAE5E,CAApB,EAAuB4E,EAAE4N,OAAzB,CAAP;EACD;;AAED,EAAO,SAASjB,GAAT,CAAac,CAAb,EAAgBC,CAAhB,EAAmBtS,CAAnB,EAAsBwS,OAAtB,EAA+B;EACpC,SAAOnR,UAAUlB,MAAV,KAAqB,CAArB,GAAyBoS,WAAWF,CAAX,CAAzB,GAAyC,IAAIL,GAAJ,CAAQK,CAAR,EAAWC,CAAX,EAActS,CAAd,EAAiBwS,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;EACD;;AAED,EAAO,SAASR,GAAT,CAAaK,CAAb,EAAgBC,CAAhB,EAAmBtS,CAAnB,EAAsBwS,OAAtB,EAA+B;EACpC,OAAKH,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKtS,CAAL,GAAS,CAACA,CAAV;EACA,OAAKwS,OAAL,GAAe,CAACA,OAAhB;EACD;;EAEDpB,OAAOY,GAAP,EAAYT,GAAZ,EAAiB5K,OAAOK,KAAP,EAAc;EAC7BE,YAAU,kBAASuL,CAAT,EAAY;EACpBA,QAAIA,KAAK,IAAL,GAAYvL,SAAZ,GAAuB3F,KAAKmB,GAAL,CAASwE,SAAT,EAAmBuL,CAAnB,CAA3B;EACA,WAAO,IAAIT,GAAJ,CAAQ,KAAKK,CAAL,GAASI,CAAjB,EAAoB,KAAKH,CAAL,GAASG,CAA7B,EAAgC,KAAKzS,CAAL,GAASyS,CAAzC,EAA4C,KAAKD,OAAjD,CAAP;EACD,GAJ4B;EAK7BvL,UAAQ,gBAASwL,CAAT,EAAY;EAClBA,QAAIA,KAAK,IAAL,GAAYxL,OAAZ,GAAqB1F,KAAKmB,GAAL,CAASuE,OAAT,EAAiBwL,CAAjB,CAAzB;EACA,WAAO,IAAIT,GAAJ,CAAQ,KAAKK,CAAL,GAASI,CAAjB,EAAoB,KAAKH,CAAL,GAASG,CAA7B,EAAgC,KAAKzS,CAAL,GAASyS,CAAzC,EAA4C,KAAKD,OAAjD,CAAP;EACD,GAR4B;EAS7BjB,OAAK,eAAW;EACd,WAAO,IAAP;EACD,GAX4B;EAY7BD,eAAa,uBAAW;EACtB,WAAQ,KAAK,KAAKe,CAAV,IAAe,KAAKA,CAAL,IAAU,GAA1B,IACC,KAAK,KAAKC,CAAV,IAAe,KAAKA,CAAL,IAAU,GAD1B,IAEC,KAAK,KAAKtS,CAAV,IAAe,KAAKA,CAAL,IAAU,GAF1B,IAGC,KAAK,KAAKwS,OAAV,IAAqB,KAAKA,OAAL,IAAgB,CAH7C;EAID,GAjB4B;EAkB7BhB,OAAK,eAAW;EACd,WAAO,MAAMA,KAAI,KAAKa,CAAT,CAAN,GAAoBb,KAAI,KAAKc,CAAT,CAApB,GAAkCd,KAAI,KAAKxR,CAAT,CAAzC;EACD,GApB4B;EAqB7ByR,YAAU,oBAAW;EACnB,QAAI1R,IAAI,KAAKyS,OAAb,CAAsBzS,IAAI2S,MAAM3S,CAAN,IAAW,CAAX,GAAewB,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYxG,CAAZ,CAAZ,CAAnB;EACtB,WAAO,CAACA,MAAM,CAAN,GAAU,MAAV,GAAmB,OAApB,IACDwB,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,GAAT,EAAchF,KAAKwE,KAAL,CAAW,KAAKsM,CAAhB,KAAsB,CAApC,CAAZ,CADC,GACqD,IADrD,GAED9Q,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,GAAT,EAAchF,KAAKwE,KAAL,CAAW,KAAKuM,CAAhB,KAAsB,CAApC,CAAZ,CAFC,GAEqD,IAFrD,GAGD/Q,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,GAAT,EAAchF,KAAKwE,KAAL,CAAW,KAAK/F,CAAhB,KAAsB,CAApC,CAAZ,CAHC,IAIAD,MAAM,CAAN,GAAU,GAAV,GAAgB,OAAOA,CAAP,GAAW,GAJ3B,CAAP;EAKD;EA5B4B,CAAd,CAAjB;;EA+BA,SAASyR,IAAT,CAAazN,KAAb,EAAoB;EAClBA,UAAQxC,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,GAAT,EAAchF,KAAKwE,KAAL,CAAWhC,KAAX,KAAqB,CAAnC,CAAZ,CAAR;EACA,SAAO,CAACA,QAAQ,EAAR,GAAa,GAAb,GAAmB,EAApB,IAA0BA,MAAM0N,QAAN,CAAe,EAAf,CAAjC;EACD;;EAED,SAASU,IAAT,CAAcQ,CAAd,EAAiBC,CAAjB,EAAoBC,CAApB,EAAuB9S,CAAvB,EAA0B;EACxB,MAAIA,KAAK,CAAT,EAAY4S,IAAIC,IAAIC,IAAI5S,GAAZ,CAAZ,KACK,IAAI4S,KAAK,CAAL,IAAUA,KAAK,CAAnB,EAAsBF,IAAIC,IAAI3S,GAAR,CAAtB,KACA,IAAI2S,KAAK,CAAT,EAAYD,IAAI1S,GAAJ;EACjB,SAAO,IAAI6S,GAAJ,CAAQH,CAAR,EAAWC,CAAX,EAAcC,CAAd,EAAiB9S,CAAjB,CAAP;EACD;;AAED,EAAO,SAASgT,UAAT,CAAoBnO,CAApB,EAAuB;EAC5B,MAAIA,aAAakO,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQlO,EAAE+N,CAAV,EAAa/N,EAAEgO,CAAf,EAAkBhO,EAAEiO,CAApB,EAAuBjO,EAAE4N,OAAzB,CAAP;EACtB,MAAI,EAAE5N,aAAaoC,KAAf,CAAJ,EAA2BpC,IAAIyM,MAAMzM,CAAN,CAAJ;EAC3B,MAAI,CAACA,CAAL,EAAQ,OAAO,IAAIkO,GAAJ,EAAP;EACR,MAAIlO,aAAakO,GAAjB,EAAsB,OAAOlO,CAAP;EACtBA,MAAIA,EAAE2M,GAAF,EAAJ;EACA,MAAIc,IAAIzN,EAAEyN,CAAF,GAAM,GAAd;EAAA,MACIC,IAAI1N,EAAE0N,CAAF,GAAM,GADd;EAAA,MAEItS,IAAI4E,EAAE5E,CAAF,GAAM,GAFd;EAAA,MAGIuG,MAAMhF,KAAKgF,GAAL,CAAS8L,CAAT,EAAYC,CAAZ,EAAetS,CAAf,CAHV;EAAA,MAIIwB,MAAMD,KAAKC,GAAL,CAAS6Q,CAAT,EAAYC,CAAZ,EAAetS,CAAf,CAJV;EAAA,MAKI2S,IAAI1S,GALR;EAAA,MAMI2S,IAAIpR,MAAM+E,GANd;EAAA,MAOIsM,IAAI,CAACrR,MAAM+E,GAAP,IAAc,CAPtB;EAQA,MAAIqM,CAAJ,EAAO;EACL,QAAIP,MAAM7Q,GAAV,EAAemR,IAAI,CAACL,IAAItS,CAAL,IAAU4S,CAAV,GAAc,CAACN,IAAItS,CAAL,IAAU,CAA5B,CAAf,KACK,IAAIsS,MAAM9Q,GAAV,EAAemR,IAAI,CAAC3S,IAAIqS,CAAL,IAAUO,CAAV,GAAc,CAAlB,CAAf,KACAD,IAAI,CAACN,IAAIC,CAAL,IAAUM,CAAV,GAAc,CAAlB;EACLA,SAAKC,IAAI,GAAJ,GAAUrR,MAAM+E,GAAhB,GAAsB,IAAI/E,GAAJ,GAAU+E,GAArC;EACAoM,SAAK,EAAL;EACD,GAND,MAMO;EACLC,QAAIC,IAAI,CAAJ,IAASA,IAAI,CAAb,GAAiB,CAAjB,GAAqBF,CAAzB;EACD;EACD,SAAO,IAAIG,GAAJ,CAAQH,CAAR,EAAWC,CAAX,EAAcC,CAAd,EAAiBjO,EAAE4N,OAAnB,CAAP;EACD;;AAED,EAAO,SAASQ,GAAT,CAAaL,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBL,OAAtB,EAA+B;EACpC,SAAOnR,UAAUlB,MAAV,KAAqB,CAArB,GAAyB4S,WAAWJ,CAAX,CAAzB,GAAyC,IAAIG,GAAJ,CAAQH,CAAR,EAAWC,CAAX,EAAcC,CAAd,EAAiBL,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;EACD;;EAED,SAASM,GAAT,CAAaH,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBL,OAAtB,EAA+B;EAC7B,OAAKG,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKL,OAAL,GAAe,CAACA,OAAhB;EACD;;EAEDpB,OAAO0B,GAAP,EAAYE,GAAZ,EAAiBrM,OAAOK,KAAP,EAAc;EAC7BE,YAAU,kBAASuL,CAAT,EAAY;EACpBA,QAAIA,KAAK,IAAL,GAAYvL,SAAZ,GAAuB3F,KAAKmB,GAAL,CAASwE,SAAT,EAAmBuL,CAAnB,CAA3B;EACA,WAAO,IAAIK,GAAJ,CAAQ,KAAKH,CAAb,EAAgB,KAAKC,CAArB,EAAwB,KAAKC,CAAL,GAASJ,CAAjC,EAAoC,KAAKD,OAAzC,CAAP;EACD,GAJ4B;EAK7BvL,UAAQ,gBAASwL,CAAT,EAAY;EAClBA,QAAIA,KAAK,IAAL,GAAYxL,OAAZ,GAAqB1F,KAAKmB,GAAL,CAASuE,OAAT,EAAiBwL,CAAjB,CAAzB;EACA,WAAO,IAAIK,GAAJ,CAAQ,KAAKH,CAAb,EAAgB,KAAKC,CAArB,EAAwB,KAAKC,CAAL,GAASJ,CAAjC,EAAoC,KAAKD,OAAzC,CAAP;EACD,GAR4B;EAS7BjB,OAAK,eAAW;EACd,QAAIoB,IAAI,KAAKA,CAAL,GAAS,GAAT,GAAe,CAAC,KAAKA,CAAL,GAAS,CAAV,IAAe,GAAtC;EAAA,QACIC,IAAIF,MAAMC,CAAN,KAAYD,MAAM,KAAKE,CAAX,CAAZ,GAA4B,CAA5B,GAAgC,KAAKA,CAD7C;EAAA,QAEIC,IAAI,KAAKA,CAFb;EAAA,QAGII,KAAKJ,IAAI,CAACA,IAAI,GAAJ,GAAUA,CAAV,GAAc,IAAIA,CAAnB,IAAwBD,CAHrC;EAAA,QAIIM,KAAK,IAAIL,CAAJ,GAAQI,EAJjB;EAKA,WAAO,IAAIjB,GAAJ,CACLmB,QAAQR,KAAK,GAAL,GAAWA,IAAI,GAAf,GAAqBA,IAAI,GAAjC,EAAsCO,EAAtC,EAA0CD,EAA1C,CADK,EAELE,QAAQR,CAAR,EAAWO,EAAX,EAAeD,EAAf,CAFK,EAGLE,QAAQR,IAAI,GAAJ,GAAUA,IAAI,GAAd,GAAoBA,IAAI,GAAhC,EAAqCO,EAArC,EAAyCD,EAAzC,CAHK,EAIL,KAAKT,OAJA,CAAP;EAMD,GArB4B;EAsB7BlB,eAAa,uBAAW;EACtB,WAAO,CAAC,KAAK,KAAKsB,CAAV,IAAe,KAAKA,CAAL,IAAU,CAAzB,IAA8BF,MAAM,KAAKE,CAAX,CAA/B,KACC,KAAK,KAAKC,CAAV,IAAe,KAAKA,CAAL,IAAU,CAD1B,IAEC,KAAK,KAAKL,OAAV,IAAqB,KAAKA,OAAL,IAAgB,CAF7C;EAGD;EA1B4B,CAAd,CAAjB;;EA6BA;EACA,SAASW,OAAT,CAAiBR,CAAjB,EAAoBO,EAApB,EAAwBD,EAAxB,EAA4B;EAC1B,SAAO,CAACN,IAAI,EAAJ,GAASO,KAAK,CAACD,KAAKC,EAAN,IAAYP,CAAZ,GAAgB,EAA9B,GACFA,IAAI,GAAJ,GAAUM,EAAV,GACAN,IAAI,GAAJ,GAAUO,KAAK,CAACD,KAAKC,EAAN,KAAa,MAAMP,CAAnB,IAAwB,EAAvC,GACAO,EAHC,IAGK,GAHZ;EAID;;ECpVM,IAAIE,UAAU7R,KAAK8R,EAAL,GAAU,GAAxB;AACP,EAAO,IAAIC,UAAU,MAAM/R,KAAK8R,EAAzB;;ECGP;EACA,IAAIE,IAAI,EAAR;EAAA,IACIC,KAAK,OADT;EAAA,IAEIC,KAAK,CAFT;EAAA,IAGIC,KAAK,OAHT;EAAA,IAIIC,KAAK,IAAI,EAJb;EAAA,IAKIC,KAAK,IAAI,EALb;EAAA,IAMIC,KAAK,IAAID,EAAJ,GAASA,EANlB;EAAA,IAOIE,KAAKF,KAAKA,EAAL,GAAUA,EAPnB;;EASA,SAASG,UAAT,CAAoBnP,CAApB,EAAuB;EACrB,MAAIA,aAAaoP,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQpP,EAAEiO,CAAV,EAAajO,EAAE7E,CAAf,EAAkB6E,EAAE5E,CAApB,EAAuB4E,EAAE4N,OAAzB,CAAP;EACtB,MAAI5N,aAAaqP,GAAjB,EAAsB;EACpB,QAAIvB,MAAM9N,EAAE+N,CAAR,CAAJ,EAAgB,OAAO,IAAIqB,GAAJ,CAAQpP,EAAEiO,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmBjO,EAAE4N,OAArB,CAAP;EAChB,QAAIG,IAAI/N,EAAE+N,CAAF,GAAMS,OAAd;EACA,WAAO,IAAIY,GAAJ,CAAQpP,EAAEiO,CAAV,EAAatR,KAAK2S,GAAL,CAASvB,CAAT,IAAc/N,EAAEuP,CAA7B,EAAgC5S,KAAK6S,GAAL,CAASzB,CAAT,IAAc/N,EAAEuP,CAAhD,EAAmDvP,EAAE4N,OAArD,CAAP;EACD;EACD,MAAI,EAAE5N,aAAaoN,GAAf,CAAJ,EAAyBpN,IAAI2N,WAAW3N,CAAX,CAAJ;EACzB,MAAIyN,IAAIgC,SAASzP,EAAEyN,CAAX,CAAR;EAAA,MACIC,IAAI+B,SAASzP,EAAE0N,CAAX,CADR;EAAA,MAEItS,IAAIqU,SAASzP,EAAE5E,CAAX,CAFR;EAAA,MAGIsU,IAAIC,QAAQ,CAAC,YAAYlC,CAAZ,GAAgB,YAAYC,CAA5B,GAAgC,YAAYtS,CAA7C,IAAkDyT,EAA1D,CAHR;EAAA,MAGuEnT,CAHvE;EAAA,MAG0EkU,CAH1E;EAIA,MAAInC,MAAMC,CAAN,IAAWA,MAAMtS,CAArB,EAAwBM,IAAIkU,IAAIF,CAAR,CAAxB,KAAwC;EACtChU,QAAIiU,QAAQ,CAAC,YAAYlC,CAAZ,GAAgB,YAAYC,CAA5B,GAAgC,YAAYtS,CAA7C,IAAkDwT,EAA1D,CAAJ;EACAgB,QAAID,QAAQ,CAAC,YAAYlC,CAAZ,GAAgB,YAAYC,CAA5B,GAAgC,YAAYtS,CAA7C,IAAkD0T,EAA1D,CAAJ;EACD;EACD,SAAO,IAAIM,GAAJ,CAAQ,MAAMM,CAAN,GAAU,EAAlB,EAAsB,OAAOhU,IAAIgU,CAAX,CAAtB,EAAqC,OAAOA,IAAIE,CAAX,CAArC,EAAoD5P,EAAE4N,OAAtD,CAAP;EACD;;AAMD,EAAe,SAASiC,GAAT,CAAa5B,CAAb,EAAgB9S,CAAhB,EAAmBC,CAAnB,EAAsBwS,OAAtB,EAA+B;EAC5C,SAAOnR,UAAUlB,MAAV,KAAqB,CAArB,GAAyB4T,WAAWlB,CAAX,CAAzB,GAAyC,IAAImB,GAAJ,CAAQnB,CAAR,EAAW9S,CAAX,EAAcC,CAAd,EAAiBwS,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;EACD;;AAED,EAAO,SAASwB,GAAT,CAAanB,CAAb,EAAgB9S,CAAhB,EAAmBC,CAAnB,EAAsBwS,OAAtB,EAA+B;EACpC,OAAKK,CAAL,GAAS,CAACA,CAAV;EACA,OAAK9S,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKwS,OAAL,GAAe,CAACA,OAAhB;EACD;;EAEDpB,OAAO4C,GAAP,EAAYS,GAAZ,EAAiB9N,OAAOK,KAAP,EAAc;EAC7BE,YAAU,kBAASuL,CAAT,EAAY;EACpB,WAAO,IAAIuB,GAAJ,CAAQ,KAAKnB,CAAL,GAASU,KAAKd,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjB,EAA0C,KAAK1S,CAA/C,EAAkD,KAAKC,CAAvD,EAA0D,KAAKwS,OAA/D,CAAP;EACD,GAH4B;EAI7BvL,UAAQ,gBAASwL,CAAT,EAAY;EAClB,WAAO,IAAIuB,GAAJ,CAAQ,KAAKnB,CAAL,GAASU,KAAKd,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjB,EAA0C,KAAK1S,CAA/C,EAAkD,KAAKC,CAAvD,EAA0D,KAAKwS,OAA/D,CAAP;EACD,GAN4B;EAO7BjB,OAAK,kBAAW;EACd,QAAI+C,IAAI,CAAC,KAAKzB,CAAL,GAAS,EAAV,IAAgB,GAAxB;EAAA,QACIvS,IAAIoS,MAAM,KAAK3S,CAAX,IAAgBuU,CAAhB,GAAoBA,IAAI,KAAKvU,CAAL,GAAS,GADzC;EAAA,QAEIyU,IAAI9B,MAAM,KAAK1S,CAAX,IAAgBsU,CAAhB,GAAoBA,IAAI,KAAKtU,CAAL,GAAS,GAFzC;EAGAM,QAAIkT,KAAKkB,QAAQpU,CAAR,CAAT;EACAgU,QAAIb,KAAKiB,QAAQJ,CAAR,CAAT;EACAE,QAAId,KAAKgB,QAAQF,CAAR,CAAT;EACA,WAAO,IAAIxC,GAAJ,CACL2C,SAAU,YAAYrU,CAAZ,GAAgB,YAAYgU,CAA5B,GAAgC,YAAYE,CAAtD,CADK,EAELG,SAAS,CAAC,SAAD,GAAarU,CAAb,GAAiB,YAAYgU,CAA7B,GAAiC,YAAYE,CAAtD,CAFK,EAGLG,SAAU,YAAYrU,CAAZ,GAAgB,YAAYgU,CAA5B,GAAgC,YAAYE,CAAtD,CAHK,EAIL,KAAKhC,OAJA,CAAP;EAMD;EApB4B,CAAd,CAAjB;;EAuBA,SAAS+B,OAAT,CAAiBK,CAAjB,EAAoB;EAClB,SAAOA,IAAId,EAAJ,GAASvS,KAAKmB,GAAL,CAASkS,CAAT,EAAY,IAAI,CAAhB,CAAT,GAA8BA,IAAIf,EAAJ,GAASF,EAA9C;EACD;;EAED,SAASe,OAAT,CAAiBE,CAAjB,EAAoB;EAClB,SAAOA,IAAIhB,EAAJ,GAASgB,IAAIA,CAAJ,GAAQA,CAAjB,GAAqBf,MAAMe,IAAIjB,EAAV,CAA5B;EACD;;EAED,SAASgB,QAAT,CAAkBrU,CAAlB,EAAqB;EACnB,SAAO,OAAOA,KAAK,SAAL,GAAiB,QAAQA,CAAzB,GAA6B,QAAQiB,KAAKmB,GAAL,CAASpC,CAAT,EAAY,IAAI,GAAhB,CAAR,GAA+B,KAAnE,CAAP;EACD;;EAED,SAAS+T,QAAT,CAAkB/T,CAAlB,EAAqB;EACnB,SAAO,CAACA,KAAK,GAAN,KAAc,OAAd,GAAwBA,IAAI,KAA5B,GAAoCiB,KAAKmB,GAAL,CAAS,CAACpC,IAAI,KAAL,IAAc,KAAvB,EAA8B,GAA9B,CAA3C;EACD;;EAED,SAASuU,UAAT,CAAoBjQ,CAApB,EAAuB;EACrB,MAAIA,aAAaqP,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQrP,EAAE+N,CAAV,EAAa/N,EAAEuP,CAAf,EAAkBvP,EAAEiO,CAApB,EAAuBjO,EAAE4N,OAAzB,CAAP;EACtB,MAAI,EAAE5N,aAAaoP,GAAf,CAAJ,EAAyBpP,IAAImP,WAAWnP,CAAX,CAAJ;EACzB,MAAIA,EAAE7E,CAAF,KAAQ,CAAR,IAAa6E,EAAE5E,CAAF,KAAQ,CAAzB,EAA4B,OAAO,IAAIiU,GAAJ,CAAQhU,GAAR,EAAa,CAAb,EAAgB2E,EAAEiO,CAAlB,EAAqBjO,EAAE4N,OAAvB,CAAP;EAC5B,MAAIG,IAAIpR,KAAKuT,KAAL,CAAWlQ,EAAE5E,CAAb,EAAgB4E,EAAE7E,CAAlB,IAAuBuT,OAA/B;EACA,SAAO,IAAIW,GAAJ,CAAQtB,IAAI,CAAJ,GAAQA,IAAI,GAAZ,GAAkBA,CAA1B,EAA6BpR,KAAKM,IAAL,CAAU+C,EAAE7E,CAAF,GAAM6E,EAAE7E,CAAR,GAAY6E,EAAE5E,CAAF,GAAM4E,EAAE5E,CAA9B,CAA7B,EAA+D4E,EAAEiO,CAAjE,EAAoEjO,EAAE4N,OAAtE,CAAP;EACD;;AAMD,EAAO,SAASuC,GAAT,CAAapC,CAAb,EAAgBwB,CAAhB,EAAmBtB,CAAnB,EAAsBL,OAAtB,EAA+B;EACpC,SAAOnR,UAAUlB,MAAV,KAAqB,CAArB,GAAyB0U,WAAWlC,CAAX,CAAzB,GAAyC,IAAIsB,GAAJ,CAAQtB,CAAR,EAAWwB,CAAX,EAActB,CAAd,EAAiBL,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;EACD;;AAED,EAAO,SAASyB,GAAT,CAAatB,CAAb,EAAgBwB,CAAhB,EAAmBtB,CAAnB,EAAsBL,OAAtB,EAA+B;EACpC,OAAKG,CAAL,GAAS,CAACA,CAAV;EACA,OAAKwB,CAAL,GAAS,CAACA,CAAV;EACA,OAAKtB,CAAL,GAAS,CAACA,CAAV;EACA,OAAKL,OAAL,GAAe,CAACA,OAAhB;EACD;;EAEDpB,OAAO6C,GAAP,EAAYc,GAAZ,EAAiBpO,OAAOK,KAAP,EAAc;EAC7BE,YAAU,kBAASuL,CAAT,EAAY;EACpB,WAAO,IAAIwB,GAAJ,CAAQ,KAAKtB,CAAb,EAAgB,KAAKwB,CAArB,EAAwB,KAAKtB,CAAL,GAASU,KAAKd,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjC,EAA0D,KAAKD,OAA/D,CAAP;EACD,GAH4B;EAI7BvL,UAAQ,gBAASwL,CAAT,EAAY;EAClB,WAAO,IAAIwB,GAAJ,CAAQ,KAAKtB,CAAb,EAAgB,KAAKwB,CAArB,EAAwB,KAAKtB,CAAL,GAASU,KAAKd,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjC,EAA0D,KAAKD,OAA/D,CAAP;EACD,GAN4B;EAO7BjB,OAAK,kBAAW;EACd,WAAOwC,WAAW,IAAX,EAAiBxC,GAAjB,EAAP;EACD;EAT4B,CAAd,CAAjB;;EC1GA,IAAIyD,IAAI,CAAC,OAAT;EAAA,IACIC,IAAI,CAAC,OADT;EAAA,IAEIC,IAAI,CAAC,OAFT;EAAA,IAGIC,IAAI,CAAC,OAHT;EAAA,IAIIC,IAAI,CAAC,OAJT;EAAA,IAKIC,KAAKD,IAAID,CALb;EAAA,IAMIG,KAAKF,IAAIH,CANb;EAAA,IAOIM,QAAQN,IAAIC,CAAJ,GAAQC,IAAIH,CAPxB;;EASA,SAASQ,gBAAT,CAA0B5Q,CAA1B,EAA6B;EAC3B,MAAIA,aAAa6Q,SAAjB,EAA4B,OAAO,IAAIA,SAAJ,CAAc7Q,EAAE+N,CAAhB,EAAmB/N,EAAEgO,CAArB,EAAwBhO,EAAEiO,CAA1B,EAA6BjO,EAAE4N,OAA/B,CAAP;EAC5B,MAAI,EAAE5N,aAAaoN,GAAf,CAAJ,EAAyBpN,IAAI2N,WAAW3N,CAAX,CAAJ;EACzB,MAAIyN,IAAIzN,EAAEyN,CAAF,GAAM,GAAd;EAAA,MACIC,IAAI1N,EAAE0N,CAAF,GAAM,GADd;EAAA,MAEItS,IAAI4E,EAAE5E,CAAF,GAAM,GAFd;EAAA,MAGI6S,IAAI,CAAC0C,QAAQvV,CAAR,GAAYqV,KAAKhD,CAAjB,GAAqBiD,KAAKhD,CAA3B,KAAiCiD,QAAQF,EAAR,GAAaC,EAA9C,CAHR;EAAA,MAIII,KAAK1V,IAAI6S,CAJb;EAAA,MAKIJ,IAAI,CAAC2C,KAAK9C,IAAIO,CAAT,IAAcqC,IAAIQ,EAAnB,IAAyBP,CALjC;EAAA,MAMIvC,IAAIrR,KAAKM,IAAL,CAAU4Q,IAAIA,CAAJ,GAAQiD,KAAKA,EAAvB,KAA8BN,IAAIvC,CAAJ,IAAS,IAAIA,CAAb,CAA9B,CANR;EAAA;EAOIF,MAAIC,IAAIrR,KAAKuT,KAAL,CAAWrC,CAAX,EAAciD,EAAd,IAAoBpC,OAApB,GAA8B,GAAlC,GAAwCrT,GAPhD;EAQA,SAAO,IAAIwV,SAAJ,CAAc9C,IAAI,CAAJ,GAAQA,IAAI,GAAZ,GAAkBA,CAAhC,EAAmCC,CAAnC,EAAsCC,CAAtC,EAAyCjO,EAAE4N,OAA3C,CAAP;EACD;;AAED,EAAe,SAASmD,SAAT,CAAmBhD,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4BL,OAA5B,EAAqC;EAClD,SAAOnR,UAAUlB,MAAV,KAAqB,CAArB,GAAyBqV,iBAAiB7C,CAAjB,CAAzB,GAA+C,IAAI8C,SAAJ,CAAc9C,CAAd,EAAiBC,CAAjB,EAAoBC,CAApB,EAAuBL,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAA7C,CAAtD;EACD;;AAED,EAAO,SAASiD,SAAT,CAAmB9C,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4BL,OAA5B,EAAqC;EAC1C,OAAKG,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKC,CAAL,GAAS,CAACA,CAAV;EACA,OAAKL,OAAL,GAAe,CAACA,OAAhB;EACD;;EAEDpB,OAAOqE,SAAP,EAAkBE,SAAlB,EAA6BhP,OAAOK,KAAP,EAAc;EACzCE,YAAU,qBAASuL,CAAT,EAAY;EACpBA,QAAIA,KAAK,IAAL,GAAYvL,SAAZ,GAAuB3F,KAAKmB,GAAL,CAASwE,SAAT,EAAmBuL,CAAnB,CAA3B;EACA,WAAO,IAAIgD,SAAJ,CAAc,KAAK9C,CAAnB,EAAsB,KAAKC,CAA3B,EAA8B,KAAKC,CAAL,GAASJ,CAAvC,EAA0C,KAAKD,OAA/C,CAAP;EACD,GAJwC;EAKzCvL,UAAQ,mBAASwL,CAAT,EAAY;EAClBA,QAAIA,KAAK,IAAL,GAAYxL,OAAZ,GAAqB1F,KAAKmB,GAAL,CAASuE,OAAT,EAAiBwL,CAAjB,CAAzB;EACA,WAAO,IAAIgD,SAAJ,CAAc,KAAK9C,CAAnB,EAAsB,KAAKC,CAA3B,EAA8B,KAAKC,CAAL,GAASJ,CAAvC,EAA0C,KAAKD,OAA/C,CAAP;EACD,GARwC;EASzCjB,OAAK,kBAAW;EACd,QAAIoB,IAAID,MAAM,KAAKC,CAAX,IAAgB,CAAhB,GAAoB,CAAC,KAAKA,CAAL,GAAS,GAAV,IAAiBS,OAA7C;EAAA,QACIP,IAAI,CAAC,KAAKA,CADd;EAAA,QAEI9S,IAAI2S,MAAM,KAAKE,CAAX,IAAgB,CAAhB,GAAoB,KAAKA,CAAL,GAASC,CAAT,IAAc,IAAIA,CAAlB,CAF5B;EAAA,QAGI+C,OAAOrU,KAAK2S,GAAL,CAASvB,CAAT,CAHX;EAAA,QAIIkD,OAAOtU,KAAK6S,GAAL,CAASzB,CAAT,CAJX;EAKA,WAAO,IAAIX,GAAJ,CACL,OAAOa,IAAI9S,KAAKiV,IAAIY,IAAJ,GAAWX,IAAIY,IAApB,CAAX,CADK,EAEL,OAAOhD,IAAI9S,KAAKmV,IAAIU,IAAJ,GAAWT,IAAIU,IAApB,CAAX,CAFK,EAGL,OAAOhD,IAAI9S,KAAKqV,IAAIQ,IAAT,CAAX,CAHK,EAIL,KAAKpD,OAJA,CAAP;EAMD;EArBwC,CAAd,CAA7B;;ECtCO,SAASsD,KAAT,CAAelC,EAAf,EAAmBmC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmC;EACxC,MAAIrC,KAAKD,KAAKA,EAAd;EAAA,MAAkBE,KAAKD,KAAKD,EAA5B;EACA,SAAO,CAAC,CAAC,IAAI,IAAIA,EAAR,GAAa,IAAIC,EAAjB,GAAsBC,EAAvB,IAA6BiC,EAA7B,GACF,CAAC,IAAI,IAAIlC,EAAR,GAAa,IAAIC,EAAlB,IAAwBkC,EADtB,GAEF,CAAC,IAAI,IAAIpC,EAAR,GAAa,IAAIC,EAAjB,GAAsB,IAAIC,EAA3B,IAAiCmC,EAF/B,GAGFnC,KAAKoC,EAHJ,IAGU,CAHjB;EAID;;AAED,EAAe,kBAASnT,MAAT,EAAiB;EAC9B,MAAI3B,IAAI2B,OAAO5C,MAAP,GAAgB,CAAxB;EACA,SAAO,UAASyU,CAAT,EAAY;EACjB,QAAItT,IAAIsT,KAAK,CAAL,GAAUA,IAAI,CAAd,GAAmBA,KAAK,CAAL,IAAUA,IAAI,CAAJ,EAAOxT,IAAI,CAArB,IAA0BG,KAAKc,KAAL,CAAWuS,IAAIxT,CAAf,CAArD;EAAA,QACI4U,KAAKjT,OAAOzB,CAAP,CADT;EAAA,QAEI2U,KAAKlT,OAAOzB,IAAI,CAAX,CAFT;EAAA,QAGIyU,KAAKzU,IAAI,CAAJ,GAAQyB,OAAOzB,IAAI,CAAX,CAAR,GAAwB,IAAI0U,EAAJ,GAASC,EAH1C;EAAA,QAIIC,KAAK5U,IAAIF,IAAI,CAAR,GAAY2B,OAAOzB,IAAI,CAAX,CAAZ,GAA4B,IAAI2U,EAAJ,GAASD,EAJ9C;EAKA,WAAOF,MAAM,CAAClB,IAAItT,IAAIF,CAAT,IAAcA,CAApB,EAAuB2U,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmCC,EAAnC,CAAP;EACD,GAPD;EAQD;;EClBc,qBAAS5V,CAAT,EAAY;EACzB,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;ECFD,SAAS6V,MAAT,CAAgBpW,CAAhB,EAAmBa,CAAnB,EAAsB;EACpB,SAAO,UAASgU,CAAT,EAAY;EACjB,WAAO7U,IAAI6U,IAAIhU,CAAf;EACD,GAFD;EAGD;;EAED,SAASwV,WAAT,CAAqBrW,CAArB,EAAwBC,CAAxB,EAA2BsU,CAA3B,EAA8B;EAC5B,SAAOvU,IAAIwB,KAAKmB,GAAL,CAAS3C,CAAT,EAAYuU,CAAZ,CAAJ,EAAoBtU,IAAIuB,KAAKmB,GAAL,CAAS1C,CAAT,EAAYsU,CAAZ,IAAiBvU,CAAzC,EAA4CuU,IAAI,IAAIA,CAApD,EAAuD,UAASM,CAAT,EAAY;EACxE,WAAOrT,KAAKmB,GAAL,CAAS3C,IAAI6U,IAAI5U,CAAjB,EAAoBsU,CAApB,CAAP;EACD,GAFD;EAGD;;AAED,EAAO,SAAS+B,GAAT,CAAatW,CAAb,EAAgBC,CAAhB,EAAmB;EACxB,MAAIY,IAAIZ,IAAID,CAAZ;EACA,SAAOa,IAAIuV,OAAOpW,CAAP,EAAUa,IAAI,GAAJ,IAAWA,IAAI,CAAC,GAAhB,GAAsBA,IAAI,MAAMW,KAAKwE,KAAL,CAAWnF,IAAI,GAAf,CAAhC,GAAsDA,CAAhE,CAAJ,GAAyE0V,WAAS5D,MAAM3S,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAAhF;EACD;;AAED,EAAO,SAASwW,KAAT,CAAejC,CAAf,EAAkB;EACvB,SAAO,CAACA,IAAI,CAACA,CAAN,MAAa,CAAb,GAAiBkC,OAAjB,GAA2B,UAASzW,CAAT,EAAYC,CAAZ,EAAe;EAC/C,WAAOA,IAAID,CAAJ,GAAQqW,YAAYrW,CAAZ,EAAeC,CAAf,EAAkBsU,CAAlB,CAAR,GAA+BgC,WAAS5D,MAAM3S,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAAtC;EACD,GAFD;EAGD;;AAED,EAAe,SAASyW,OAAT,CAAiBzW,CAAjB,EAAoBC,CAApB,EAAuB;EACpC,MAAIY,IAAIZ,IAAID,CAAZ;EACA,SAAOa,IAAIuV,OAAOpW,CAAP,EAAUa,CAAV,CAAJ,GAAmB0V,WAAS5D,MAAM3S,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAA1B;EACD;;ACvBD,uBAAe,CAAC,SAAS0W,QAAT,CAAkBnC,CAAlB,EAAqB;EACnC,MAAIjD,WAAQkF,MAAMjC,CAAN,CAAZ;;EAEA,WAAS/C,MAAT,CAAatQ,KAAb,EAAoByV,GAApB,EAAyB;EACvB,QAAIrE,IAAIhB,SAAM,CAACpQ,QAAQ0V,IAAS1V,KAAT,CAAT,EAA0BoR,CAAhC,EAAmC,CAACqE,MAAMC,IAASD,GAAT,CAAP,EAAsBrE,CAAzD,CAAR;EAAA,QACIC,IAAIjB,SAAMpQ,MAAMqR,CAAZ,EAAeoE,IAAIpE,CAAnB,CADR;EAAA,QAEItS,IAAIqR,SAAMpQ,MAAMjB,CAAZ,EAAe0W,IAAI1W,CAAnB,CAFR;EAAA,QAGIwS,UAAUgE,QAAQvV,MAAMuR,OAAd,EAAuBkE,IAAIlE,OAA3B,CAHd;EAIA,WAAO,UAASoC,CAAT,EAAY;EACjB3T,YAAMoR,CAAN,GAAUA,EAAEuC,CAAF,CAAV;EACA3T,YAAMqR,CAAN,GAAUA,EAAEsC,CAAF,CAAV;EACA3T,YAAMjB,CAAN,GAAUA,EAAE4U,CAAF,CAAV;EACA3T,YAAMuR,OAAN,GAAgBA,QAAQoC,CAAR,CAAhB;EACA,aAAO3T,QAAQ,EAAf;EACD,KAND;EAOD;;EAEDsQ,SAAIgF,KAAJ,GAAYE,QAAZ;;EAEA,SAAOlF,MAAP;EACD,CApBc,EAoBZ,CApBY,CAAf;;EAsBA,SAASqF,SAAT,CAAmBC,MAAnB,EAA2B;EACzB,SAAO,UAASC,MAAT,EAAiB;EACtB,QAAI1V,IAAI0V,OAAO3W,MAAf;EAAA,QACIkS,IAAI,IAAI1Q,KAAJ,CAAUP,CAAV,CADR;EAAA,QAEIkR,IAAI,IAAI3Q,KAAJ,CAAUP,CAAV,CAFR;EAAA,QAGIpB,IAAI,IAAI2B,KAAJ,CAAUP,CAAV,CAHR;EAAA,QAIIE,CAJJ;EAAA,QAIO+P,QAJP;EAKA,SAAK/P,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtB+P,iBAAQsF,IAASG,OAAOxV,CAAP,CAAT,CAAR;EACA+Q,QAAE/Q,CAAF,IAAO+P,SAAMgB,CAAN,IAAW,CAAlB;EACAC,QAAEhR,CAAF,IAAO+P,SAAMiB,CAAN,IAAW,CAAlB;EACAtS,QAAEsB,CAAF,IAAO+P,SAAMrR,CAAN,IAAW,CAAlB;EACD;EACDqS,QAAIwE,OAAOxE,CAAP,CAAJ;EACAC,QAAIuE,OAAOvE,CAAP,CAAJ;EACAtS,QAAI6W,OAAO7W,CAAP,CAAJ;EACAqR,aAAMmB,OAAN,GAAgB,CAAhB;EACA,WAAO,UAASoC,CAAT,EAAY;EACjBvD,eAAMgB,CAAN,GAAUA,EAAEuC,CAAF,CAAV;EACAvD,eAAMiB,CAAN,GAAUA,EAAEsC,CAAF,CAAV;EACAvD,eAAMrR,CAAN,GAAUA,EAAE4U,CAAF,CAAV;EACA,aAAOvD,WAAQ,EAAf;EACD,KALD;EAMD,GAtBD;EAuBD;;AAED,EAAO,IAAI0F,WAAWH,UAAUd,OAAV,CAAf;;ECnDQ,kBAAS/V,CAAT,EAAYC,CAAZ,EAAe;EAC5B,MAAIgX,KAAKhX,IAAIA,EAAEG,MAAN,GAAe,CAAxB;EAAA,MACI8W,KAAKlX,IAAIwB,KAAKgF,GAAL,CAASyQ,EAAT,EAAajX,EAAEI,MAAf,CAAJ,GAA6B,CADtC;EAAA,MAEIG,IAAI,IAAIqB,KAAJ,CAAUsV,EAAV,CAFR;EAAA,MAGI9C,IAAI,IAAIxS,KAAJ,CAAUqV,EAAV,CAHR;EAAA,MAII1V,CAJJ;;EAMA,OAAKA,IAAI,CAAT,EAAYA,IAAI2V,EAAhB,EAAoB,EAAE3V,CAAtB;EAAyBhB,MAAEgB,CAAF,IAAOyC,YAAMhE,EAAEuB,CAAF,CAAN,EAAYtB,EAAEsB,CAAF,CAAZ,CAAP;EAAzB,GACA,OAAOA,IAAI0V,EAAX,EAAe,EAAE1V,CAAjB;EAAoB6S,MAAE7S,CAAF,IAAOtB,EAAEsB,CAAF,CAAP;EAApB,GAEA,OAAO,UAASsT,CAAT,EAAY;EACjB,SAAKtT,IAAI,CAAT,EAAYA,IAAI2V,EAAhB,EAAoB,EAAE3V,CAAtB;EAAyB6S,QAAE7S,CAAF,IAAOhB,EAAEgB,CAAF,EAAKsT,CAAL,CAAP;EAAzB,KACA,OAAOT,CAAP;EACD,GAHD;EAID;;EChBc,eAASpU,CAAT,EAAYC,CAAZ,EAAe;EAC5B,MAAIY,IAAI,IAAIsW,IAAJ,EAAR;EACA,SAAOnX,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAAS6U,CAAT,EAAY;EACjC,WAAOhU,EAAEuW,OAAF,CAAUpX,IAAIC,IAAI4U,CAAlB,GAAsBhU,CAA7B;EACD,GAFD;EAGD;;ECLc,4BAASb,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOD,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAAS6U,CAAT,EAAY;EACjC,WAAO7U,IAAIC,IAAI4U,CAAf;EACD,GAFD;EAGD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECFc,iBAAS7U,CAAT,EAAYC,CAAZ,EAAe;EAC5B,MAAIsB,IAAI,EAAR;EAAA,MACI6S,IAAI,EADR;EAAA,MAEI1B,CAFJ;;EAIA,MAAI1S,MAAM,IAAN,IAAc,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAA/B,EAAyCA,IAAI,EAAJ;EACzC,MAAIC,MAAM,IAAN,IAAc,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAA/B,EAAyCA,IAAI,EAAJ;;EAEzC,OAAKyS,CAAL,IAAUzS,CAAV,EAAa;EACX,QAAIyS,KAAK1S,CAAT,EAAY;EACVuB,QAAEmR,CAAF,IAAO1O,YAAMhE,EAAE0S,CAAF,CAAN,EAAYzS,EAAEyS,CAAF,CAAZ,CAAP;EACD,KAFD,MAEO;EACL0B,QAAE1B,CAAF,IAAOzS,EAAEyS,CAAF,CAAP;EACD;EACF;;EAED,SAAO,UAASmC,CAAT,EAAY;EACjB,SAAKnC,CAAL,IAAUnR,CAAV;EAAa6S,QAAE1B,CAAF,IAAOnR,EAAEmR,CAAF,EAAKmC,CAAL,CAAP;EAAb,KACA,OAAOT,CAAP;EACD,GAHD;EAID;;ECpBD,IAAIiD,MAAM,6CAAV;EAAA,IACIC,MAAM,IAAI5P,MAAJ,CAAW2P,IAAIE,MAAf,EAAuB,GAAvB,CADV;;EAGA,SAASC,IAAT,CAAcvX,CAAd,EAAiB;EACf,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;EAED,SAASwX,GAAT,CAAaxX,CAAb,EAAgB;EACd,SAAO,UAAS4U,CAAT,EAAY;EACjB,WAAO5U,EAAE4U,CAAF,IAAO,EAAd;EACD,GAFD;EAGD;;AAED,EAAe,4BAAS7U,CAAT,EAAYC,CAAZ,EAAe;EAC5B,MAAIyX,KAAKL,IAAIM,SAAJ,GAAgBL,IAAIK,SAAJ,GAAgB,CAAzC;EAAA;EACIC,IADJ;EAAA;EAEIC,IAFJ;EAAA;EAGIC,IAHJ;EAAA;EAIIvW,MAAI,CAAC,CAJT;EAAA;EAKIsR,MAAI,EALR;EAAA;EAMIkF,MAAI,EANR,CAD4B;;EAS5B;EACA/X,MAAIA,IAAI,EAAR,EAAYC,IAAIA,IAAI,EAApB;;EAEA;EACA,SAAO,CAAC2X,KAAKP,IAAItF,IAAJ,CAAS/R,CAAT,CAAN,MACC6X,KAAKP,IAAIvF,IAAJ,CAAS9R,CAAT,CADN,CAAP,EAC2B;EACzB,QAAI,CAAC6X,KAAKD,GAAGxS,KAAT,IAAkBqS,EAAtB,EAA0B;EAAE;EAC1BI,WAAK7X,EAAEqE,KAAF,CAAQoT,EAAR,EAAYI,EAAZ,CAAL;EACA,UAAIjF,EAAEtR,CAAF,CAAJ,EAAUsR,EAAEtR,CAAF,KAAQuW,EAAR,CAAV;EAAA,WACKjF,EAAE,EAAEtR,CAAJ,IAASuW,EAAT;EACN;EACD,QAAI,CAACF,KAAKA,GAAG,CAAH,CAAN,OAAkBC,KAAKA,GAAG,CAAH,CAAvB,CAAJ,EAAmC;EAAE;EACnC,UAAIhF,EAAEtR,CAAF,CAAJ,EAAUsR,EAAEtR,CAAF,KAAQsW,EAAR,CAAV;EAAA,WACKhF,EAAE,EAAEtR,CAAJ,IAASsW,EAAT;EACN,KAHD,MAGO;EAAE;EACPhF,QAAE,EAAEtR,CAAJ,IAAS,IAAT;EACAwW,QAAE1T,IAAF,CAAO,EAAC9C,GAAGA,CAAJ,EAAOhB,GAAG4C,kBAAOyU,EAAP,EAAWC,EAAX,CAAV,EAAP;EACD;EACDH,SAAKJ,IAAIK,SAAT;EACD;;EAED;EACA,MAAID,KAAKzX,EAAEG,MAAX,EAAmB;EACjB0X,SAAK7X,EAAEqE,KAAF,CAAQoT,EAAR,CAAL;EACA,QAAI7E,EAAEtR,CAAF,CAAJ,EAAUsR,EAAEtR,CAAF,KAAQuW,EAAR,CAAV;EAAA,SACKjF,EAAE,EAAEtR,CAAJ,IAASuW,EAAT;EACN;;EAED;EACA;EACA,SAAOjF,EAAEzS,MAAF,GAAW,CAAX,GAAgB2X,EAAE,CAAF,IACjBN,IAAIM,EAAE,CAAF,EAAKxX,CAAT,CADiB,GAEjBiX,KAAKvX,CAAL,CAFC,IAGAA,IAAI8X,EAAE3X,MAAN,EAAc,UAASyU,CAAT,EAAY;EACzB,SAAK,IAAItT,IAAI,CAAR,EAAWsD,CAAhB,EAAmBtD,IAAItB,CAAvB,EAA0B,EAAEsB,CAA5B;EAA+BsR,QAAE,CAAChO,IAAIkT,EAAExW,CAAF,CAAL,EAAWA,CAAb,IAAkBsD,EAAEtE,CAAF,CAAIsU,CAAJ,CAAlB;EAA/B,KACA,OAAOhC,EAAEmF,IAAF,CAAO,EAAP,CAAP;EACD,GANA,CAAP;EAOD;;ECtDc,sBAAShY,CAAT,EAAYC,CAAZ,EAAe;EAC5B,QAAI4U,WAAW5U,CAAX,yCAAWA,CAAX,CAAJ;EAAA,QAAkBmU,CAAlB;EACA,WAAOnU,KAAK,IAAL,IAAa4U,MAAM,SAAnB,GAA+B0B,WAAStW,CAAT,CAA/B,GACD,CAAC4U,MAAM,QAAN,GAAiB1R,iBAAjB,GACD0R,MAAM,QAAN,GAAkB,CAACT,IAAI9C,MAAMrR,CAAN,CAAL,KAAkBA,IAAImU,CAAJ,EAAO5C,cAAzB,IAAgCyG,iBAAlD,GACAhY,aAAaqR,KAAb,GAAqBE,cAArB,GACAvR,aAAakX,IAAb,GAAoBe,IAApB,GACAtW,MAAMgD,OAAN,CAAc3E,CAAd,IAAmBgF,OAAnB,GACA,OAAOhF,EAAEkY,OAAT,KAAqB,UAArB,IAAmC,OAAOlY,EAAEyR,QAAT,KAAsB,UAAzD,IAAuEiB,MAAM1S,CAAN,CAAvE,GAAkF0E,MAAlF,GACAxB,iBANA,EAMQnD,CANR,EAMWC,CANX,CADN;EAQD;;ECnBc,2BAASD,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOD,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAAS6U,CAAT,EAAY;EACjC,WAAOrT,KAAKwE,KAAL,CAAWhG,IAAIC,IAAI4U,CAAnB,CAAP;EACD,GAFD;EAGD;;ECJD,IAAIuD,UAAU,MAAM5W,KAAK8R,EAAzB;;AAEA,EAAO,IAAI+E,aAAW;EACpBC,cAAY,CADQ;EAEpBC,cAAY,CAFQ;EAGpBC,UAAQ,CAHY;EAIpBC,SAAO,CAJa;EAKpBC,UAAQ,CALY;EAMpBC,UAAQ;EANY,CAAf;;AASP,EAAe,oBAAS3Y,CAAT,EAAYC,CAAZ,EAAemU,CAAf,EAAkBvT,CAAlB,EAAqB+X,CAArB,EAAwBhY,CAAxB,EAA2B;EACxC,MAAI8X,MAAJ,EAAYC,MAAZ,EAAoBF,KAApB;EACA,MAAIC,SAASlX,KAAKM,IAAL,CAAU9B,IAAIA,CAAJ,GAAQC,IAAIA,CAAtB,CAAb,EAAuCD,KAAK0Y,MAAL,EAAazY,KAAKyY,MAAlB;EACvC,MAAID,QAAQzY,IAAIoU,CAAJ,GAAQnU,IAAIY,CAAxB,EAA2BuT,KAAKpU,IAAIyY,KAAT,EAAgB5X,KAAKZ,IAAIwY,KAAzB;EAC3B,MAAIE,SAASnX,KAAKM,IAAL,CAAUsS,IAAIA,CAAJ,GAAQvT,IAAIA,CAAtB,CAAb,EAAuCuT,KAAKuE,MAAL,EAAa9X,KAAK8X,MAAlB,EAA0BF,SAASE,MAAnC;EACvC,MAAI3Y,IAAIa,CAAJ,GAAQZ,IAAImU,CAAhB,EAAmBpU,IAAI,CAACA,CAAL,EAAQC,IAAI,CAACA,CAAb,EAAgBwY,QAAQ,CAACA,KAAzB,EAAgCC,SAAS,CAACA,MAA1C;EACnB,SAAO;EACLJ,gBAAYM,CADP;EAELL,gBAAY3X,CAFP;EAGL4X,YAAQhX,KAAKuT,KAAL,CAAW9U,CAAX,EAAcD,CAAd,IAAmBoY,OAHtB;EAILK,WAAOjX,KAAKqX,IAAL,CAAUJ,KAAV,IAAmBL,OAJrB;EAKLM,YAAQA,MALH;EAMLC,YAAQA;EANH,GAAP;EAQD;;ECvBD,IAAIG,OAAJ,EACIC,OADJ,EAEIC,OAFJ,EAGIC,OAHJ;;AAKA,EAAO,SAASC,QAAT,CAAkBlV,KAAlB,EAAyB;EAC9B,MAAIA,UAAU,MAAd,EAAsB,OAAOqU,UAAP;EACtB,MAAI,CAACS,OAAL,EAAcA,UAAUK,SAASC,aAAT,CAAuB,KAAvB,CAAV,EAAyCL,UAAUI,SAASE,eAA5D,EAA6EL,UAAUG,SAASG,WAAhG;EACdR,UAAQS,KAAR,CAAcC,SAAd,GAA0BxV,KAA1B;EACAA,UAAQgV,QAAQS,gBAAR,CAAyBV,QAAQW,WAAR,CAAoBZ,OAApB,CAAzB,EAAuD,IAAvD,EAA6Da,gBAA7D,CAA8E,WAA9E,CAAR;EACAZ,UAAQa,WAAR,CAAoBd,OAApB;EACA9U,UAAQA,MAAMM,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,EAAmBuV,KAAnB,CAAyB,GAAzB,CAAR;EACA,SAAOC,UAAU,CAAC9V,MAAM,CAAN,CAAX,EAAqB,CAACA,MAAM,CAAN,CAAtB,EAAgC,CAACA,MAAM,CAAN,CAAjC,EAA2C,CAACA,MAAM,CAAN,CAA5C,EAAsD,CAACA,MAAM,CAAN,CAAvD,EAAiE,CAACA,MAAM,CAAN,CAAlE,CAAP;EACD;;AAED,EAAO,SAAS+V,QAAT,CAAkB/V,KAAlB,EAAyB;EAC9B,MAAIA,SAAS,IAAb,EAAmB,OAAOqU,UAAP;EACnB,MAAI,CAACY,OAAL,EAAcA,UAAUE,SAASa,eAAT,CAAyB,4BAAzB,EAAuD,GAAvD,CAAV;EACdf,UAAQgB,YAAR,CAAqB,WAArB,EAAkCjW,KAAlC;EACA,MAAI,EAAEA,QAAQiV,QAAQO,SAAR,CAAkBU,OAAlB,CAA0BC,WAA1B,EAAV,CAAJ,EAAwD,OAAO9B,UAAP;EACxDrU,UAAQA,MAAMoW,MAAd;EACA,SAAON,UAAU9V,MAAMhE,CAAhB,EAAmBgE,MAAM/D,CAAzB,EAA4B+D,MAAMoQ,CAAlC,EAAqCpQ,MAAMnD,CAA3C,EAA8CmD,MAAM4U,CAApD,EAAuD5U,MAAMpD,CAA7D,CAAP;EACD;;ECrBD,SAASyZ,oBAAT,CAA8BC,KAA9B,EAAqCC,OAArC,EAA8CC,OAA9C,EAAuDC,QAAvD,EAAiE;;EAE/D,WAASC,GAAT,CAAa7H,CAAb,EAAgB;EACd,WAAOA,EAAEzS,MAAF,GAAWyS,EAAE6H,GAAF,KAAU,GAArB,GAA2B,EAAlC;EACD;;EAED,WAASC,SAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmClI,CAAnC,EAAsCkF,CAAtC,EAAyC;EACvC,QAAI6C,OAAOE,EAAP,IAAaD,OAAOE,EAAxB,EAA4B;EAC1B,UAAIxZ,IAAIsR,EAAExO,IAAF,CAAO,YAAP,EAAqB,IAArB,EAA2BkW,OAA3B,EAAoC,IAApC,EAA0CC,OAA1C,CAAR;EACAzC,QAAE1T,IAAF,CAAO,EAAC9C,GAAGA,IAAI,CAAR,EAAWhB,GAAG4C,kBAAOyX,EAAP,EAAWE,EAAX,CAAd,EAAP,EAAsC,EAACvZ,GAAGA,IAAI,CAAR,EAAWhB,GAAG4C,kBAAO0X,EAAP,EAAWE,EAAX,CAAd,EAAtC;EACD,KAHD,MAGO,IAAID,MAAMC,EAAV,EAAc;EACnBlI,QAAExO,IAAF,CAAO,eAAeyW,EAAf,GAAoBP,OAApB,GAA8BQ,EAA9B,GAAmCP,OAA1C;EACD;EACF;;EAED,WAAShC,MAAT,CAAgBxY,CAAhB,EAAmBC,CAAnB,EAAsB4S,CAAtB,EAAyBkF,CAAzB,EAA4B;EAC1B,QAAI/X,MAAMC,CAAV,EAAa;EACX,UAAID,IAAIC,CAAJ,GAAQ,GAAZ,EAAiBA,KAAK,GAAL,CAAjB,KAAgC,IAAIA,IAAID,CAAJ,GAAQ,GAAZ,EAAiBA,KAAK,GAAL,CADtC;EAEX+X,QAAE1T,IAAF,CAAO,EAAC9C,GAAGsR,EAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,SAAhB,EAA2B,IAA3B,EAAiC4H,QAAjC,IAA6C,CAAjD,EAAoDla,GAAG4C,kBAAOnD,CAAP,EAAUC,CAAV,CAAvD,EAAP;EACD,KAHD,MAGO,IAAIA,CAAJ,EAAO;EACZ4S,QAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,SAAT,GAAqB5S,CAArB,GAAyBwa,QAAhC;EACD;EACF;;EAED,WAAShC,KAAT,CAAezY,CAAf,EAAkBC,CAAlB,EAAqB4S,CAArB,EAAwBkF,CAAxB,EAA2B;EACzB,QAAI/X,MAAMC,CAAV,EAAa;EACX8X,QAAE1T,IAAF,CAAO,EAAC9C,GAAGsR,EAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,QAAhB,EAA0B,IAA1B,EAAgC4H,QAAhC,IAA4C,CAAhD,EAAmDla,GAAG4C,kBAAOnD,CAAP,EAAUC,CAAV,CAAtD,EAAP;EACD,KAFD,MAEO,IAAIA,CAAJ,EAAO;EACZ4S,QAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,QAAT,GAAoB5S,CAApB,GAAwBwa,QAA/B;EACD;EACF;;EAED,WAAShV,KAAT,CAAemV,EAAf,EAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BlI,CAA/B,EAAkCkF,CAAlC,EAAqC;EACnC,QAAI6C,OAAOE,EAAP,IAAaD,OAAOE,EAAxB,EAA4B;EAC1B,UAAIxZ,IAAIsR,EAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,QAAhB,EAA0B,IAA1B,EAAgC,GAAhC,EAAqC,IAArC,EAA2C,GAA3C,CAAR;EACAkF,QAAE1T,IAAF,CAAO,EAAC9C,GAAGA,IAAI,CAAR,EAAWhB,GAAG4C,kBAAOyX,EAAP,EAAWE,EAAX,CAAd,EAAP,EAAsC,EAACvZ,GAAGA,IAAI,CAAR,EAAWhB,GAAG4C,kBAAO0X,EAAP,EAAWE,EAAX,CAAd,EAAtC;EACD,KAHD,MAGO,IAAID,OAAO,CAAP,IAAYC,OAAO,CAAvB,EAA0B;EAC/BlI,QAAExO,IAAF,CAAOqW,IAAI7H,CAAJ,IAAS,QAAT,GAAoBiI,EAApB,GAAyB,GAAzB,GAA+BC,EAA/B,GAAoC,GAA3C;EACD;EACF;;EAED,SAAO,UAAS/a,CAAT,EAAYC,CAAZ,EAAe;EACpB,QAAI4S,IAAI,EAAR;EAAA;EACIkF,QAAI,EADR,CADoB;EAGpB/X,QAAIsa,MAAMta,CAAN,CAAJ,EAAcC,IAAIqa,MAAMra,CAAN,CAAlB;EACA0a,cAAU3a,EAAEsY,UAAZ,EAAwBtY,EAAEuY,UAA1B,EAAsCtY,EAAEqY,UAAxC,EAAoDrY,EAAEsY,UAAtD,EAAkE1F,CAAlE,EAAqEkF,CAArE;EACAS,WAAOxY,EAAEwY,MAAT,EAAiBvY,EAAEuY,MAAnB,EAA2B3F,CAA3B,EAA8BkF,CAA9B;EACAU,UAAMzY,EAAEyY,KAAR,EAAexY,EAAEwY,KAAjB,EAAwB5F,CAAxB,EAA2BkF,CAA3B;EACAtS,UAAMzF,EAAE0Y,MAAR,EAAgB1Y,EAAE2Y,MAAlB,EAA0B1Y,EAAEyY,MAA5B,EAAoCzY,EAAE0Y,MAAtC,EAA8C9F,CAA9C,EAAiDkF,CAAjD;EACA/X,QAAIC,IAAI,IAAR,CARoB;EASpB,WAAO,UAAS4U,CAAT,EAAY;EACjB,UAAItT,IAAI,CAAC,CAAT;EAAA,UAAYF,IAAI0W,EAAE3X,MAAlB;EAAA,UAA0ByE,CAA1B;EACA,aAAO,EAAEtD,CAAF,GAAMF,CAAb;EAAgBwR,UAAE,CAAChO,IAAIkT,EAAExW,CAAF,CAAL,EAAWA,CAAb,IAAkBsD,EAAEtE,CAAF,CAAIsU,CAAJ,CAAlB;EAAhB,OACA,OAAOhC,EAAEmF,IAAF,CAAO,EAAP,CAAP;EACD,KAJD;EAKD,GAdD;EAeD;;AAED,EAAO,IAAIgD,0BAA0BX,qBAAqBnB,QAArB,EAA+B,MAA/B,EAAuC,KAAvC,EAA8C,MAA9C,CAA9B;AACP,EAAO,IAAI+B,0BAA0BZ,qBAAqBN,QAArB,EAA+B,IAA/B,EAAqC,GAArC,EAA0C,GAA1C,CAA9B;;MC9DHmB,MAAM1Z,KAAK2Z,KAAf;;ECGA,SAASvF,WAAT,CAAmBU,MAAnB,EAAwB;EACtB,SAAQ,SAAS8E,cAAT,CAAwB7G,CAAxB,EAA2B;EACjCA,QAAI,CAACA,CAAL;;EAEA,aAASqB,YAAT,CAAmB1U,KAAnB,EAA0ByV,GAA1B,EAA+B;EAC7B,UAAI/D,IAAI0D,OAAI,CAACpV,QAAQma,UAAena,KAAf,CAAT,EAAgC0R,CAApC,EAAuC,CAAC+D,MAAM0E,UAAe1E,GAAf,CAAP,EAA4B/D,CAAnE,CAAR;EAAA,UACIC,IAAIvB,QAAMpQ,MAAM2R,CAAZ,EAAe8D,IAAI9D,CAAnB,CADR;EAAA,UAEIC,IAAIxB,QAAMpQ,MAAM4R,CAAZ,EAAe6D,IAAI7D,CAAnB,CAFR;EAAA,UAGIL,UAAUnB,QAAMpQ,MAAMuR,OAAZ,EAAqBkE,IAAIlE,OAAzB,CAHd;EAIA,aAAO,UAASoC,CAAT,EAAY;EACjB3T,cAAM0R,CAAN,GAAUA,EAAEiC,CAAF,CAAV;EACA3T,cAAM2R,CAAN,GAAUA,EAAEgC,CAAF,CAAV;EACA3T,cAAM4R,CAAN,GAAUA,EAAEtR,KAAKmB,GAAL,CAASkS,CAAT,EAAYN,CAAZ,CAAF,CAAV;EACArT,cAAMuR,OAAN,GAAgBA,QAAQoC,CAAR,CAAhB;EACA,eAAO3T,QAAQ,EAAf;EACD,OAND;EAOD;;EAED0U,iBAAUY,KAAV,GAAkB4E,cAAlB;;EAEA,WAAOxF,YAAP;EACD,GApBM,CAoBJ,CApBI,CAAP;EAqBD;;AAED,AAAeA,cAAUU,GAAV,CAAf;AACA,EAAO,IAAIgF,gBAAgB1F,YAAUtE,OAAV,CAApB;;EC5BQ,qBAAS/Q,CAAT,EAAY;EACzB,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;ECJc,mBAASA,CAAT,EAAY;EACzB,SAAO,CAACA,CAAR;EACD;;ECID,IAAIgb,OAAO,CAAC,CAAD,EAAI,CAAJ,CAAX;;AAEA,EAAO,SAASC,mBAAT,CAA6Bxb,CAA7B,EAAgCC,CAAhC,EAAmC;EACxC,SAAO,CAACA,KAAMD,IAAI,CAACA,CAAZ,IACD,UAASO,CAAT,EAAY;EAAE,WAAO,CAACA,IAAIP,CAAL,IAAUC,CAAjB;EAAqB,GADlC,GAEDsW,WAAStW,CAAT,CAFN;EAGD;;EAED,SAASwb,kBAAT,CAA4BC,aAA5B,EAA2C;EACzC,SAAO,UAAS1b,CAAT,EAAYC,CAAZ,EAAe;EACpB,QAAIY,IAAI6a,cAAc1b,IAAI,CAACA,CAAnB,EAAsBC,IAAI,CAACA,CAA3B,CAAR;EACA,WAAO,UAASM,CAAT,EAAY;EAAE,aAAOA,KAAKP,CAAL,GAAS,CAAT,GAAaO,KAAKN,CAAL,GAAS,CAAT,GAAaY,EAAEN,CAAF,CAAjC;EAAwC,KAA7D;EACD,GAHD;EAID;;EAED,SAASob,kBAAT,CAA4BC,aAA5B,EAA2C;EACzC,SAAO,UAAS5b,CAAT,EAAYC,CAAZ,EAAe;EACpB,QAAIqS,IAAIsJ,cAAc5b,IAAI,CAACA,CAAnB,EAAsBC,IAAI,CAACA,CAA3B,CAAR;EACA,WAAO,UAAS4U,CAAT,EAAY;EAAE,aAAOA,KAAK,CAAL,GAAS7U,CAAT,GAAa6U,KAAK,CAAL,GAAS5U,CAAT,GAAaqS,EAAEuC,CAAF,CAAjC;EAAwC,KAA7D;EACD,GAHD;EAID;;EAED,SAASgH,KAAT,CAAevW,MAAf,EAAuB3D,QAAvB,EAA8B+Z,aAA9B,EAA6CE,aAA7C,EAA4D;EAC1D,MAAIE,KAAKxW,OAAO,CAAP,CAAT;EAAA,MAAoByW,KAAKzW,OAAO,CAAP,CAAzB;EAAA,MAAoC0W,KAAKra,SAAM,CAAN,CAAzC;EAAA,MAAmDsa,KAAKta,SAAM,CAAN,CAAxD;EACA,MAAIoa,KAAKD,EAAT,EAAaA,KAAKJ,cAAcK,EAAd,EAAkBD,EAAlB,CAAL,EAA4BE,KAAKJ,cAAcK,EAAd,EAAkBD,EAAlB,CAAjC,CAAb,KACKF,KAAKJ,cAAcI,EAAd,EAAkBC,EAAlB,CAAL,EAA4BC,KAAKJ,cAAcI,EAAd,EAAkBC,EAAlB,CAAjC;EACL,SAAO,UAAS1b,CAAT,EAAY;EAAE,WAAOyb,GAAGF,GAAGvb,CAAH,CAAH,CAAP;EAAmB,GAAxC;EACD;;EAED,SAAS2b,OAAT,CAAiB5W,MAAjB,EAAyB3D,QAAzB,EAAgC+Z,aAAhC,EAA+CE,aAA/C,EAA8D;EAC5D,MAAIO,IAAI3a,KAAKgF,GAAL,CAASlB,OAAOlF,MAAhB,EAAwBuB,SAAMvB,MAA9B,IAAwC,CAAhD;EAAA,MACIS,IAAI,IAAIe,KAAJ,CAAUua,CAAV,CADR;EAAA,MAEI7J,IAAI,IAAI1Q,KAAJ,CAAUua,CAAV,CAFR;EAAA,MAGI5a,IAAI,CAAC,CAHT;;EAKA;EACA,MAAI+D,OAAO6W,CAAP,IAAY7W,OAAO,CAAP,CAAhB,EAA2B;EACzBA,aAASA,OAAOhB,KAAP,GAAepC,OAAf,EAAT;EACAP,eAAQA,SAAM2C,KAAN,GAAcpC,OAAd,EAAR;EACD;;EAED,SAAO,EAAEX,CAAF,GAAM4a,CAAb,EAAgB;EACdtb,MAAEU,CAAF,IAAOma,cAAcpW,OAAO/D,CAAP,CAAd,EAAyB+D,OAAO/D,IAAI,CAAX,CAAzB,CAAP;EACA+Q,MAAE/Q,CAAF,IAAOqa,cAAcja,SAAMJ,CAAN,CAAd,EAAwBI,SAAMJ,IAAI,CAAV,CAAxB,CAAP;EACD;;EAED,SAAO,UAAShB,CAAT,EAAY;EACjB,QAAIgB,IAAI6a,YAAO9W,MAAP,EAAe/E,CAAf,EAAkB,CAAlB,EAAqB4b,CAArB,IAA0B,CAAlC;EACA,WAAO7J,EAAE/Q,CAAF,EAAKV,EAAEU,CAAF,EAAKhB,CAAL,CAAL,CAAP;EACD,GAHD;EAID;;AAED,EAAO,SAASoF,IAAT,CAAc4R,MAAd,EAAsB8E,MAAtB,EAA8B;EACnC,SAAOA,OACF/W,MADE,CACKiS,OAAOjS,MAAP,EADL,EAEF3D,KAFE,CAEI4V,OAAO5V,KAAP,EAFJ,EAGF2a,WAHE,CAGU/E,OAAO+E,WAAP,EAHV,EAIFC,KAJE,CAIIhF,OAAOgF,KAAP,EAJJ,CAAP;EAKD;;EAED;EACA;AACA,EAAe,SAASC,UAAT,CAAoBd,aAApB,EAAmCE,aAAnC,EAAkD;EAC/D,MAAItW,SAASiW,IAAb;EAAA,MACI5Z,WAAQ4Z,IADZ;EAAA,MAEIe,iBAAcG,WAFlB;EAAA,MAGIF,QAAQ,KAHZ;EAAA,MAIIG,YAJJ;EAAA,MAKIC,MALJ;EAAA,MAMIC,KANJ;;EAQA,WAASxW,OAAT,GAAmB;EACjBsW,mBAAYlb,KAAKgF,GAAL,CAASlB,OAAOlF,MAAhB,EAAwBuB,SAAMvB,MAA9B,IAAwC,CAAxC,GAA4C8b,OAA5C,GAAsDL,KAAlE;EACAc,aAASC,QAAQ,IAAjB;EACA,WAAOnX,KAAP;EACD;;EAED,WAASA,KAAT,CAAelF,CAAf,EAAkB;EAChB,WAAO,CAACoc,WAAWA,SAASD,aAAUpX,MAAV,EAAkB3D,QAAlB,EAAyB4a,QAAQd,mBAAmBC,aAAnB,CAAR,GAA4CA,aAArE,EAAoFY,cAApF,CAApB,CAAD,EAAwH,CAAC/b,CAAzH,CAAP;EACD;;EAEDkF,QAAMoX,MAAN,GAAe,UAAStI,CAAT,EAAY;EACzB,WAAO,CAACqI,UAAUA,QAAQF,aAAU/a,QAAV,EAAiB2D,MAAjB,EAAyBkW,mBAAzB,EAA8Ce,QAAQZ,mBAAmBC,aAAnB,CAAR,GAA4CA,aAA1F,CAAlB,CAAD,EAA8H,CAACrH,CAA/H,CAAP;EACD,GAFD;;EAIA9O,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBkF,SAAS5B,MAAI8B,IAAJ,CAASE,CAAT,EAAYvC,QAAZ,CAAT,EAA8BiD,SAAlD,IAA+Dd,OAAOhB,KAAP,EAAtE;EACD,GAFD;;EAIAmB,QAAM9D,KAAN,GAAc,UAAS+D,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBuB,WAAQ2C,QAAMkB,IAAN,CAAWE,CAAX,CAAR,EAAuBU,SAA3C,IAAwDzE,SAAM2C,KAAN,EAA/D;EACD,GAFD;;EAIAmB,QAAMa,UAAN,GAAmB,UAASZ,CAAT,EAAY;EAC7B,WAAO/D,WAAQ2C,QAAMkB,IAAN,CAAWE,CAAX,CAAR,EAAuB4W,iBAAcQ,gBAArC,EAAuD1W,SAA9D;EACD,GAFD;;EAIAX,QAAM8W,KAAN,GAAc,UAAS7W,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBmc,QAAQ,CAAC,CAAC7W,CAAV,EAAaU,SAAjC,IAA8CmW,KAArD;EACD,GAFD;;EAIA9W,QAAM6W,WAAN,GAAoB,UAAS5W,CAAT,EAAY;EAC9B,WAAOpE,UAAUlB,MAAV,IAAoBkc,iBAAc5W,CAAd,EAAiBU,SAArC,IAAkDkW,cAAzD;EACD,GAFD;;EAIA,SAAOlW,SAAP;EACD;;EChHD;EACA;EACA;AACA,EAAe,wBAAS7F,CAAT,EAAY0C,CAAZ,EAAe;EAC5B,MAAI,CAAC1B,IAAI,CAAChB,IAAI0C,IAAI1C,EAAEwc,aAAF,CAAgB9Z,IAAI,CAApB,CAAJ,GAA6B1C,EAAEwc,aAAF,EAAlC,EAAqDC,OAArD,CAA6D,GAA7D,CAAL,IAA0E,CAA9E,EAAiF,OAAO,IAAP,CADrD;EAE5B,MAAIzb,CAAJ;EAAA,MAAO0b,cAAc1c,EAAE+D,KAAF,CAAQ,CAAR,EAAW/C,CAAX,CAArB;;EAEA;EACA;EACA,SAAO,CACL0b,YAAY7c,MAAZ,GAAqB,CAArB,GAAyB6c,YAAY,CAAZ,IAAiBA,YAAY3Y,KAAZ,CAAkB,CAAlB,CAA1C,GAAiE2Y,WAD5D,EAEL,CAAC1c,EAAE+D,KAAF,CAAQ/C,IAAI,CAAZ,CAFI,CAAP;EAID;;ECXc,mBAAShB,CAAT,EAAY;EACzB,SAAOA,IAAI2c,cAAc1b,KAAKsB,GAAL,CAASvC,CAAT,CAAd,CAAJ,EAAgCA,IAAIA,EAAE,CAAF,CAAJ,GAAWL,GAAlD;EACD;;ECJc,sBAASid,QAAT,EAAmBC,SAAnB,EAA8B;EAC3C,SAAO,UAASpZ,KAAT,EAAgBqZ,KAAhB,EAAuB;EAC5B,QAAI9b,IAAIyC,MAAM5D,MAAd;EAAA,QACIyU,IAAI,EADR;EAAA,QAEIsH,IAAI,CAFR;EAAA,QAGI5J,IAAI4K,SAAS,CAAT,CAHR;EAAA,QAII/c,SAAS,CAJb;;EAMA,WAAOmB,IAAI,CAAJ,IAASgR,IAAI,CAApB,EAAuB;EACrB,UAAInS,SAASmS,CAAT,GAAa,CAAb,GAAiB8K,KAArB,EAA4B9K,IAAI/Q,KAAKC,GAAL,CAAS,CAAT,EAAY4b,QAAQjd,MAApB,CAAJ;EAC5ByU,QAAExQ,IAAF,CAAOL,MAAMsZ,SAAN,CAAgB/b,KAAKgR,CAArB,EAAwBhR,IAAIgR,CAA5B,CAAP;EACA,UAAI,CAACnS,UAAUmS,IAAI,CAAf,IAAoB8K,KAAxB,EAA+B;EAC/B9K,UAAI4K,SAAShB,IAAI,CAACA,IAAI,CAAL,IAAUgB,SAAS/c,MAAhC,CAAJ;EACD;;EAED,WAAOyU,EAAE3S,OAAF,GAAY8V,IAAZ,CAAiBoF,SAAjB,CAAP;EACD,GAfD;EAgBD;;ECjBc,yBAASG,QAAT,EAAmB;EAChC,SAAO,UAASvZ,KAAT,EAAgB;EACrB,WAAOA,MAAMwZ,OAAN,CAAc,QAAd,EAAwB,UAASjc,CAAT,EAAY;EACzC,aAAOgc,SAAS,CAAChc,CAAV,CAAP;EACD,KAFM,CAAP;EAGD,GAJD;EAKD;;ECND;EACA,IAAIkc,KAAK,0EAAT;;AAEA,EAAe,SAASC,eAAT,CAAyBC,SAAzB,EAAoC;EACjD,SAAO,IAAIC,eAAJ,CAAoBD,SAApB,CAAP;EACD;;EAEDD,gBAAgBja,SAAhB,GAA4Bma,gBAAgBna,SAA5C;;EAEA,SAASma,eAAT,CAAyBD,SAAzB,EAAoC;EAClC,MAAI,EAAEE,QAAQJ,GAAG1L,IAAH,CAAQ4L,SAAR,CAAV,CAAJ,EAAmC,MAAM,IAAIG,KAAJ,CAAU,qBAAqBH,SAA/B,CAAN;EACnC,MAAIE,KAAJ;EACA,OAAKE,IAAL,GAAYF,MAAM,CAAN,KAAY,GAAxB;EACA,OAAK1X,KAAL,GAAa0X,MAAM,CAAN,KAAY,GAAzB;EACA,OAAKG,IAAL,GAAYH,MAAM,CAAN,KAAY,GAAxB;EACA,OAAKI,MAAL,GAAcJ,MAAM,CAAN,KAAY,EAA1B;EACA,OAAKrG,IAAL,GAAY,CAAC,CAACqG,MAAM,CAAN,CAAd;EACA,OAAKR,KAAL,GAAaQ,MAAM,CAAN,KAAY,CAACA,MAAM,CAAN,CAA1B;EACA,OAAKK,KAAL,GAAa,CAAC,CAACL,MAAM,CAAN,CAAf;EACA,OAAKM,SAAL,GAAiBN,MAAM,CAAN,KAAY,CAACA,MAAM,CAAN,EAASvZ,KAAT,CAAe,CAAf,CAA9B;EACA,OAAKuN,IAAL,GAAY,CAAC,CAACgM,MAAM,CAAN,CAAd;EACA,OAAKO,IAAL,GAAYP,MAAM,EAAN,KAAa,EAAzB;EACD;;EAEDD,gBAAgBna,SAAhB,CAA0BiO,QAA1B,GAAqC,YAAW;EAC9C,SAAO,KAAKqM,IAAL,GACD,KAAK5X,KADJ,GAED,KAAK6X,IAFJ,GAGD,KAAKC,MAHJ,IAIA,KAAKzG,IAAL,GAAY,GAAZ,GAAkB,EAJlB,KAKA,KAAK6F,KAAL,IAAc,IAAd,GAAqB,EAArB,GAA0B7b,KAAKC,GAAL,CAAS,CAAT,EAAY,KAAK4b,KAAL,GAAa,CAAzB,CAL1B,KAMA,KAAKa,KAAL,GAAa,GAAb,GAAmB,EANnB,KAOA,KAAKC,SAAL,IAAkB,IAAlB,GAAyB,EAAzB,GAA8B,MAAM3c,KAAKC,GAAL,CAAS,CAAT,EAAY,KAAK0c,SAAL,GAAiB,CAA7B,CAPpC,KAQA,KAAKtM,IAAL,GAAY,GAAZ,GAAkB,EARlB,IASD,KAAKuM,IATX;EAUD,CAXD;;ECxBA;AACA,EAAe,qBAASvL,CAAT,EAAY;EACzBwL,OAAK,KAAK,IAAIhd,IAAIwR,EAAEzS,MAAV,EAAkBmB,IAAI,CAAtB,EAAyB6B,KAAK,CAAC,CAA/B,EAAkCkb,EAAvC,EAA2C/c,IAAIF,CAA/C,EAAkD,EAAEE,CAApD,EAAuD;EAC1D,YAAQsR,EAAEtR,CAAF,CAAR;EACE,WAAK,GAAL;EAAU6B,aAAKkb,KAAK/c,CAAV,CAAa;EACvB,WAAK,GAAL;EAAU,YAAI6B,OAAO,CAAX,EAAcA,KAAK7B,CAAL,CAAQ+c,KAAK/c,CAAL,CAAQ;EACxC;EAAS,YAAI6B,KAAK,CAAT,EAAY;EAAE,cAAI,CAAC,CAACyP,EAAEtR,CAAF,CAAN,EAAY,MAAM8c,GAAN,CAAWjb,KAAK,CAAL;EAAS,SAAC;EAH1D;EAKD;EACD,SAAOA,KAAK,CAAL,GAASyP,EAAEvO,KAAF,CAAQ,CAAR,EAAWlB,EAAX,IAAiByP,EAAEvO,KAAF,CAAQga,KAAK,CAAb,CAA1B,GAA4CzL,CAAnD;EACD;;ECRM,IAAI0L,cAAJ;;AAEP,EAAe,2BAAShe,CAAT,EAAY0C,CAAZ,EAAe;EAC5B,QAAIpC,IAAIqc,cAAc3c,CAAd,EAAiB0C,CAAjB,CAAR;EACA,QAAI,CAACpC,CAAL,EAAQ,OAAON,IAAI,EAAX;EACR,QAAI0c,cAAcpc,EAAE,CAAF,CAAlB;EAAA,QACI2d,WAAW3d,EAAE,CAAF,CADf;EAAA,QAEIU,IAAIid,YAAYD,iBAAiB/c,KAAKC,GAAL,CAAS,CAAC,CAAV,EAAaD,KAAKgF,GAAL,CAAS,CAAT,EAAYhF,KAAKc,KAAL,CAAWkc,WAAW,CAAtB,CAAZ,CAAb,IAAsD,CAAnF,IAAwF,CAFhG;EAAA,QAGInd,IAAI4b,YAAY7c,MAHpB;EAIA,WAAOmB,MAAMF,CAAN,GAAU4b,WAAV,GACD1b,IAAIF,CAAJ,GAAQ4b,cAAc,IAAIrb,KAAJ,CAAUL,IAAIF,CAAJ,GAAQ,CAAlB,EAAqB2W,IAArB,CAA0B,GAA1B,CAAtB,GACAzW,IAAI,CAAJ,GAAQ0b,YAAY3Y,KAAZ,CAAkB,CAAlB,EAAqB/C,CAArB,IAA0B,GAA1B,GAAgC0b,YAAY3Y,KAAZ,CAAkB/C,CAAlB,CAAxC,GACA,OAAO,IAAIK,KAAJ,CAAU,IAAIL,CAAd,EAAiByW,IAAjB,CAAsB,GAAtB,CAAP,GAAoCkF,cAAc3c,CAAd,EAAiBiB,KAAKC,GAAL,CAAS,CAAT,EAAYwB,IAAI1B,CAAJ,GAAQ,CAApB,CAAjB,EAAyC,CAAzC,CAH1C,CAP4B;EAW7B;;ECbc,wBAAShB,CAAT,EAAY0C,CAAZ,EAAe;EAC5B,QAAIpC,IAAIqc,cAAc3c,CAAd,EAAiB0C,CAAjB,CAAR;EACA,QAAI,CAACpC,CAAL,EAAQ,OAAON,IAAI,EAAX;EACR,QAAI0c,cAAcpc,EAAE,CAAF,CAAlB;EAAA,QACI2d,WAAW3d,EAAE,CAAF,CADf;EAEA,WAAO2d,WAAW,CAAX,GAAe,OAAO,IAAI5c,KAAJ,CAAU,CAAC4c,QAAX,EAAqBxG,IAArB,CAA0B,GAA1B,CAAP,GAAwCiF,WAAvD,GACDA,YAAY7c,MAAZ,GAAqBoe,WAAW,CAAhC,GAAoCvB,YAAY3Y,KAAZ,CAAkB,CAAlB,EAAqBka,WAAW,CAAhC,IAAqC,GAArC,GAA2CvB,YAAY3Y,KAAZ,CAAkBka,WAAW,CAA7B,CAA/E,GACAvB,cAAc,IAAIrb,KAAJ,CAAU4c,WAAWvB,YAAY7c,MAAvB,GAAgC,CAA1C,EAA6C4X,IAA7C,CAAkD,GAAlD,CAFpB;EAGD;;ACPD,oBAAe;EACb,OAAK,WAASzX,CAAT,EAAY0C,CAAZ,EAAe;EAAE,WAAO,CAAC1C,IAAI,GAAL,EAAUke,OAAV,CAAkBxb,CAAlB,CAAP;EAA8B,GADvC;EAEb,OAAK,WAAS1C,CAAT,EAAY;EAAE,WAAOiB,KAAKwE,KAAL,CAAWzF,CAAX,EAAcmR,QAAd,CAAuB,CAAvB,CAAP;EAAmC,GAFzC;EAGb,OAAK,WAASnR,CAAT,EAAY;EAAE,WAAOA,IAAI,EAAX;EAAgB,GAHtB;EAIb,OAAK,WAASA,CAAT,EAAY;EAAE,WAAOiB,KAAKwE,KAAL,CAAWzF,CAAX,EAAcmR,QAAd,CAAuB,EAAvB,CAAP;EAAoC,GAJ1C;EAKb,OAAK,WAASnR,CAAT,EAAY0C,CAAZ,EAAe;EAAE,WAAO1C,EAAEwc,aAAF,CAAgB9Z,CAAhB,CAAP;EAA4B,GALrC;EAMb,OAAK,WAAS1C,CAAT,EAAY0C,CAAZ,EAAe;EAAE,WAAO1C,EAAEke,OAAF,CAAUxb,CAAV,CAAP;EAAsB,GAN/B;EAOb,OAAK,WAAS1C,CAAT,EAAY0C,CAAZ,EAAe;EAAE,WAAO1C,EAAEme,WAAF,CAAczb,CAAd,CAAP;EAA0B,GAPnC;EAQb,OAAK,WAAS1C,CAAT,EAAY;EAAE,WAAOiB,KAAKwE,KAAL,CAAWzF,CAAX,EAAcmR,QAAd,CAAuB,CAAvB,CAAP;EAAmC,GARzC;EASb,OAAK,WAASnR,CAAT,EAAY0C,EAAZ,EAAe;EAAE,WAAO0b,cAAcpe,IAAI,GAAlB,EAAuB0C,EAAvB,CAAP;EAAmC,GAT5C;EAUb,OAAK0b,aAVQ;EAWb,OAAKC,gBAXQ;EAYb,OAAK,WAASre,CAAT,EAAY;EAAE,WAAOiB,KAAKwE,KAAL,CAAWzF,CAAX,EAAcmR,QAAd,CAAuB,EAAvB,EAA2BmN,WAA3B,EAAP;EAAkD,GAZxD;EAab,OAAK,WAASte,EAAT,EAAY;EAAE,WAAOiB,KAAKwE,KAAL,CAAWzF,EAAX,EAAcmR,QAAd,CAAuB,EAAvB,CAAP;EAAoC;EAb1C,CAAf;;ECHe,qBAASnR,CAAT,EAAY;EACzB,SAAOA,CAAP;EACD;;ECOD,IAAIue,WAAW,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB,EAA6B,GAA7B,EAAiC,EAAjC,EAAoC,GAApC,EAAwC,GAAxC,EAA4C,GAA5C,EAAgD,GAAhD,EAAoD,GAApD,EAAwD,GAAxD,EAA4D,GAA5D,EAAgE,GAAhE,CAAf;;AAEA,EAAe,uBAASC,MAAT,EAAiB;EAC9B,MAAIC,QAAQD,OAAO5B,QAAP,IAAmB4B,OAAO3B,SAA1B,GAAsC6B,YAAYF,OAAO5B,QAAnB,EAA6B4B,OAAO3B,SAApC,CAAtC,GAAuF/E,UAAnG;EAAA,MACI6G,WAAWH,OAAOG,QADtB;EAAA,MAEIC,UAAUJ,OAAOI,OAFrB;EAAA,MAGI5B,WAAWwB,OAAOxB,QAAP,GAAkB6B,eAAeL,OAAOxB,QAAtB,CAAlB,GAAoDlF,UAHnE;EAAA,MAIIgH,UAAUN,OAAOM,OAAP,IAAkB,GAJhC;;EAMA,WAASC,SAAT,CAAmB3B,SAAnB,EAA8B;EAC5BA,gBAAYD,gBAAgBC,SAAhB,CAAZ;;EAEA,QAAII,OAAOJ,UAAUI,IAArB;EAAA,QACI5X,QAAQwX,UAAUxX,KADtB;EAAA,QAEI6X,OAAOL,UAAUK,IAFrB;EAAA,QAGIC,SAASN,UAAUM,MAHvB;EAAA,QAIIzG,OAAOmG,UAAUnG,IAJrB;EAAA,QAKI6F,QAAQM,UAAUN,KALtB;EAAA,QAMIa,QAAQP,UAAUO,KANtB;EAAA,QAOIC,YAAYR,UAAUQ,SAP1B;EAAA,QAQItM,OAAO8L,UAAU9L,IARrB;EAAA,QASIuM,OAAOT,UAAUS,IATrB;;EAWA;EACA,QAAIA,SAAS,GAAb,EAAkBF,QAAQ,IAAR,EAAcE,OAAO,GAArB;;EAElB;EAFA,SAGK,IAAI,CAACmB,YAAYnB,IAAZ,CAAL,EAAwBD,aAAa,IAAb,KAAsBA,YAAY,EAAlC,GAAuCtM,OAAO,IAA9C,EAAoDuM,OAAO,GAA3D;;EAE7B;EACA,QAAI5G,QAASuG,SAAS,GAAT,IAAgB5X,UAAU,GAAvC,EAA6CqR,OAAO,IAAP,EAAauG,OAAO,GAApB,EAAyB5X,QAAQ,GAAjC;;EAE7C;EACA;EACA,QAAI5C,SAAS0a,WAAW,GAAX,GAAiBiB,SAAS,CAAT,CAAjB,GAA+BjB,WAAW,GAAX,IAAkB,SAASuB,IAAT,CAAcpB,IAAd,CAAlB,GAAwC,MAAMA,KAAKtM,WAAL,EAA9C,GAAmE,EAA/G;EAAA,QACI2N,SAASxB,WAAW,GAAX,GAAiBiB,SAAS,CAAT,CAAjB,GAA+B,OAAOM,IAAP,CAAYpB,IAAZ,IAAoBiB,OAApB,GAA8B,EAD1E;;EAGA;EACA;EACA;EACA,QAAIK,aAAaH,YAAYnB,IAAZ,CAAjB;EAAA,QACIuB,cAAc,aAAaH,IAAb,CAAkBpB,IAAlB,CADlB;;EAGA;EACA;EACA;EACA;EACAD,gBAAYA,aAAa,IAAb,GAAoB,CAApB,GACN,SAASqB,IAAT,CAAcpB,IAAd,IAAsB5c,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,EAAT,EAAa2X,SAAb,CAAZ,CAAtB,GACA3c,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,EAAT,EAAa2X,SAAb,CAAZ,CAFN;;EAIA,aAASxM,MAAT,CAAgB3N,KAAhB,EAAuB;EACrB,UAAI4b,cAAcrc,MAAlB;EAAA,UACIsc,cAAcJ,MADlB;EAAA,UAEIle,CAFJ;EAAA,UAEOF,CAFP;EAAA,UAEU+S,CAFV;;EAIA,UAAIgK,SAAS,GAAb,EAAkB;EAChByB,sBAAcH,WAAW1b,KAAX,IAAoB6b,WAAlC;EACA7b,gBAAQ,EAAR;EACD,OAHD,MAGO;EACLA,gBAAQ,CAACA,KAAT;;EAEA;EACA,YAAI8b,gBAAgB9b,QAAQ,CAA5B;EACAA,gBAAQ0b,WAAWle,KAAKsB,GAAL,CAASkB,KAAT,CAAX,EAA4Bma,SAA5B,CAAR;;EAEA;EACA,YAAItM,IAAJ,EAAU7N,QAAQ+b,WAAW/b,KAAX,CAAR;;EAEV;EACA,YAAI8b,iBAAiB,CAAC9b,KAAD,KAAW,CAAhC,EAAmC8b,gBAAgB,KAAhB;;EAEnC;EACAF,sBAAc,CAACE,gBAAiB9B,SAAS,GAAT,GAAeA,IAAf,GAAsB,GAAvC,GAA8CA,SAAS,GAAT,IAAgBA,SAAS,GAAzB,GAA+B,EAA/B,GAAoCA,IAAnF,IAA2F4B,WAAzG;EACAC,sBAAc,CAACzB,SAAS,GAAT,GAAeU,SAAS,IAAIP,iBAAiB,CAA9B,CAAf,GAAkD,EAAnD,IAAyDsB,WAAzD,IAAwEC,iBAAiB9B,SAAS,GAA1B,GAAgC,GAAhC,GAAsC,EAA9G,CAAd;;EAEA;EACA;EACA,YAAI2B,WAAJ,EAAiB;EACfpe,cAAI,CAAC,CAAL,EAAQF,IAAI2C,MAAM5D,MAAlB;EACA,iBAAO,EAAEmB,CAAF,GAAMF,CAAb,EAAgB;EACd,gBAAI+S,IAAIpQ,MAAMgc,UAAN,CAAiBze,CAAjB,CAAJ,EAAyB,KAAK6S,CAAL,IAAUA,IAAI,EAA3C,EAA+C;EAC7CyL,4BAAc,CAACzL,MAAM,EAAN,GAAW+K,UAAUnb,MAAMM,KAAN,CAAY/C,IAAI,CAAhB,CAArB,GAA0CyC,MAAMM,KAAN,CAAY/C,CAAZ,CAA3C,IAA6Dse,WAA3E;EACA7b,sBAAQA,MAAMM,KAAN,CAAY,CAAZ,EAAe/C,CAAf,CAAR;EACA;EACD;EACF;EACF;EACF;;EAED;EACA,UAAI2c,SAAS,CAAC1G,IAAd,EAAoBxT,QAAQgb,MAAMhb,KAAN,EAAaic,QAAb,CAAR;;EAEpB;EACA,UAAI7f,SAASwf,YAAYxf,MAAZ,GAAqB4D,MAAM5D,MAA3B,GAAoCyf,YAAYzf,MAA7D;EAAA,UACImG,UAAUnG,SAASid,KAAT,GAAiB,IAAIzb,KAAJ,CAAUyb,QAAQjd,MAAR,GAAiB,CAA3B,EAA8B4X,IAA9B,CAAmC+F,IAAnC,CAAjB,GAA4D,EAD1E;;EAGA;EACA,UAAIG,SAAS1G,IAAb,EAAmBxT,QAAQgb,MAAMzY,UAAUvC,KAAhB,EAAuBuC,QAAQnG,MAAR,GAAiBid,QAAQwC,YAAYzf,MAArC,GAA8C6f,QAArE,CAAR,EAAwF1Z,UAAU,EAAlG;;EAEnB;EACA,cAAQJ,KAAR;EACE,aAAK,GAAL;EAAUnC,kBAAQ4b,cAAc5b,KAAd,GAAsB6b,WAAtB,GAAoCtZ,OAA5C,CAAqD;EAC/D,aAAK,GAAL;EAAUvC,kBAAQ4b,cAAcrZ,OAAd,GAAwBvC,KAAxB,GAAgC6b,WAAxC,CAAqD;EAC/D,aAAK,GAAL;EAAU7b,kBAAQuC,QAAQjC,KAAR,CAAc,CAAd,EAAiBlE,SAASmG,QAAQnG,MAAR,IAAkB,CAA5C,IAAiDwf,WAAjD,GAA+D5b,KAA/D,GAAuE6b,WAAvE,GAAqFtZ,QAAQjC,KAAR,CAAclE,MAAd,CAA7F,CAAoH;EAC9H;EAAS4D,kBAAQuC,UAAUqZ,WAAV,GAAwB5b,KAAxB,GAAgC6b,WAAxC,CAAqD;EAJhE;;EAOA,aAAOtC,SAASvZ,KAAT,CAAP;EACD;;EAED2N,WAAOD,QAAP,GAAkB,YAAW;EAC3B,aAAOiM,YAAY,EAAnB;EACD,KAFD;;EAIA,WAAOhM,MAAP;EACD;;EAED,WAASuO,YAAT,CAAsBvC,SAAtB,EAAiC3Z,KAAjC,EAAwC;EACtC,QAAIpD,IAAI0e,WAAW3B,YAAYD,gBAAgBC,SAAhB,CAAZ,EAAwCA,UAAUS,IAAV,GAAiB,GAAzD,EAA8DT,SAAzE,EAAR;EAAA,QACI/E,IAAIpX,KAAKC,GAAL,CAAS,CAAC,CAAV,EAAaD,KAAKgF,GAAL,CAAS,CAAT,EAAYhF,KAAKc,KAAL,CAAWkc,SAASxa,KAAT,IAAkB,CAA7B,CAAZ,CAAb,IAA6D,CADrE;EAAA,QAEI0O,IAAIlR,KAAKmB,GAAL,CAAS,EAAT,EAAa,CAACiW,CAAd,CAFR;EAAA,QAGIrV,SAASub,SAAS,IAAIlG,IAAI,CAAjB,CAHb;EAIA,WAAO,UAAS5U,KAAT,EAAgB;EACrB,aAAOpD,EAAE8R,IAAI1O,KAAN,IAAeT,MAAtB;EACD,KAFD;EAGD;;EAED,SAAO;EACLoO,YAAQ2N,SADH;EAELY,kBAAcA;EAFT,GAAP;EAID;;EC3ID,IAAInB,MAAJ;AACA,EAAO,IAAIpN,MAAJ;AACP,EAAO,IAAIuO,YAAJ;;EAEPC,cAAc;EACZhB,WAAS,GADG;EAEZ/B,aAAW,GAFC;EAGZD,YAAU,CAAC,CAAD,CAHE;EAIZ+B,YAAU,CAAC,GAAD,EAAM,EAAN;EAJE,CAAd;;AAOA,EAAe,SAASiB,aAAT,CAAuBrZ,UAAvB,EAAmC;EAChDiY,WAASqB,aAAatZ,UAAb,CAAT;EACA6K,WAASoN,OAAOpN,MAAhB;EACAuO,iBAAenB,OAAOmB,YAAtB;EACA,SAAOnB,MAAP;EACD;;EChBc,yBAAS3d,IAAT,EAAe;EAC5B,SAAOI,KAAKC,GAAL,CAAS,CAAT,EAAY,CAAC+c,SAAShd,KAAKsB,GAAL,CAAS1B,IAAT,CAAT,CAAb,CAAP;EACD;;ECFc,0BAASA,IAAT,EAAe4C,KAAf,EAAsB;EACnC,SAAOxC,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKC,GAAL,CAAS,CAAC,CAAV,EAAaD,KAAKgF,GAAL,CAAS,CAAT,EAAYhF,KAAKc,KAAL,CAAWkc,SAASxa,KAAT,IAAkB,CAA7B,CAAZ,CAAb,IAA6D,CAA7D,GAAiEwa,SAAShd,KAAKsB,GAAL,CAAS1B,IAAT,CAAT,CAA7E,CAAP;EACD;;ECFc,yBAASA,IAAT,EAAeK,GAAf,EAAoB;EACjCL,SAAOI,KAAKsB,GAAL,CAAS1B,IAAT,CAAP,EAAuBK,MAAMD,KAAKsB,GAAL,CAASrB,GAAT,IAAgBL,IAA7C;EACA,SAAOI,KAAKC,GAAL,CAAS,CAAT,EAAY+c,SAAS/c,GAAT,IAAgB+c,SAASpd,IAAT,CAA5B,IAA8C,CAArD;EACD;;ECFc,qBAASkE,MAAT,EAAiBrD,KAAjB,EAAwB0b,SAAxB,EAAmC;EAChD,MAAIzc,QAAQoE,OAAO,CAAP,CAAZ;EAAA,MACInE,OAAOmE,OAAOA,OAAOlF,MAAP,GAAgB,CAAvB,CADX;EAAA,MAEIgB,OAAOwB,SAAS1B,KAAT,EAAgBC,IAAhB,EAAsBc,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAA3C,CAFX;EAAA,MAGIkc,SAHJ;EAIAR,cAAYD,gBAAgBC,aAAa,IAAb,GAAoB,IAApB,GAA2BA,SAA3C,CAAZ;EACA,UAAQA,UAAUS,IAAlB;EACE,SAAK,GAAL;EAAU;EACR,YAAIpa,QAAQxC,KAAKC,GAAL,CAASD,KAAKsB,GAAL,CAAS5B,KAAT,CAAT,EAA0BM,KAAKsB,GAAL,CAAS3B,IAAT,CAA1B,CAAZ;EACA,YAAIwc,UAAUQ,SAAV,IAAuB,IAAvB,IAA+B,CAACxL,MAAMwL,YAAYkC,gBAAgBjf,IAAhB,EAAsB4C,KAAtB,CAAlB,CAApC,EAAqF2Z,UAAUQ,SAAV,GAAsBA,SAAtB;EACrF,eAAO+B,aAAavC,SAAb,EAAwB3Z,KAAxB,CAAP;EACD;EACD,SAAK,EAAL;EACA,SAAK,GAAL;EACA,SAAK,GAAL;EACA,SAAK,GAAL;EACA,SAAK,GAAL;EAAU;EACR,YAAI2Z,UAAUQ,SAAV,IAAuB,IAAvB,IAA+B,CAACxL,MAAMwL,YAAYmC,eAAelf,IAAf,EAAqBI,KAAKC,GAAL,CAASD,KAAKsB,GAAL,CAAS5B,KAAT,CAAT,EAA0BM,KAAKsB,GAAL,CAAS3B,IAAT,CAA1B,CAArB,CAAlB,CAApC,EAAwHwc,UAAUQ,SAAV,GAAsBA,aAAaR,UAAUS,IAAV,KAAmB,GAAhC,CAAtB;EACxH;EACD;EACD,SAAK,GAAL;EACA,SAAK,GAAL;EAAU;EACR,YAAIT,UAAUQ,SAAV,IAAuB,IAAvB,IAA+B,CAACxL,MAAMwL,YAAYoC,eAAenf,IAAf,CAAlB,CAApC,EAA6Euc,UAAUQ,SAAV,GAAsBA,YAAY,CAACR,UAAUS,IAAV,KAAmB,GAApB,IAA2B,CAA7D;EAC7E;EACD;EAlBH;EAoBA,SAAOzM,OAAOgM,SAAP,CAAP;EACD;;ECzBM,SAAS6C,SAAT,CAAmB/a,KAAnB,EAA0B;EAC/B,MAAIH,SAASG,MAAMH,MAAnB;;EAEAG,QAAMtD,KAAN,GAAc,UAASF,KAAT,EAAgB;EAC5B,QAAIpB,IAAIyE,QAAR;EACA,WAAOnD,MAAMtB,EAAE,CAAF,CAAN,EAAYA,EAAEA,EAAET,MAAF,GAAW,CAAb,CAAZ,EAA6B6B,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAAlD,CAAP;EACD,GAHD;;EAKAwD,QAAMgb,UAAN,GAAmB,UAASxe,KAAT,EAAgB0b,SAAhB,EAA2B;EAC5C,WAAO8C,WAAWnb,QAAX,EAAqBrD,KAArB,EAA4B0b,SAA5B,CAAP;EACD,GAFD;;EAIAlY,QAAMib,IAAN,GAAa,UAASze,KAAT,EAAgB;EAC3B,QAAIA,SAAS,IAAb,EAAmBA,QAAQ,EAAR;;EAEnB,QAAIpB,IAAIyE,QAAR;EAAA,QACIlC,KAAK,CADT;EAAA,QAEIkb,KAAKzd,EAAET,MAAF,GAAW,CAFpB;EAAA,QAGIc,QAAQL,EAAEuC,EAAF,CAHZ;EAAA,QAIIjC,OAAON,EAAEyd,EAAF,CAJX;EAAA,QAKIld,IALJ;;EAOA,QAAID,OAAOD,KAAX,EAAkB;EAChBE,aAAOF,KAAP,EAAcA,QAAQC,IAAtB,EAA4BA,OAAOC,IAAnC;EACAA,aAAOgC,EAAP,EAAWA,KAAKkb,EAAhB,EAAoBA,KAAKld,IAAzB;EACD;;EAEDA,WAAOgB,cAAclB,KAAd,EAAqBC,IAArB,EAA2Bc,KAA3B,CAAP;;EAEA,QAAIb,OAAO,CAAX,EAAc;EACZF,cAAQM,KAAKc,KAAL,CAAWpB,QAAQE,IAAnB,IAA2BA,IAAnC;EACAD,aAAOK,KAAKE,IAAL,CAAUP,OAAOC,IAAjB,IAAyBA,IAAhC;EACAA,aAAOgB,cAAclB,KAAd,EAAqBC,IAArB,EAA2Bc,KAA3B,CAAP;EACD,KAJD,MAIO,IAAIb,OAAO,CAAX,EAAc;EACnBF,cAAQM,KAAKE,IAAL,CAAUR,QAAQE,IAAlB,IAA0BA,IAAlC;EACAD,aAAOK,KAAKc,KAAL,CAAWnB,OAAOC,IAAlB,IAA0BA,IAAjC;EACAA,aAAOgB,cAAclB,KAAd,EAAqBC,IAArB,EAA2Bc,KAA3B,CAAP;EACD;;EAED,QAAIb,OAAO,CAAX,EAAc;EACZP,QAAEuC,EAAF,IAAQ5B,KAAKc,KAAL,CAAWpB,QAAQE,IAAnB,IAA2BA,IAAnC;EACAP,QAAEyd,EAAF,IAAQ9c,KAAKE,IAAL,CAAUP,OAAOC,IAAjB,IAAyBA,IAAjC;EACAkE,aAAOzE,CAAP;EACD,KAJD,MAIO,IAAIO,OAAO,CAAX,EAAc;EACnBP,QAAEuC,EAAF,IAAQ5B,KAAKE,IAAL,CAAUR,QAAQE,IAAlB,IAA0BA,IAAlC;EACAP,QAAEyd,EAAF,IAAQ9c,KAAKc,KAAL,CAAWnB,OAAOC,IAAlB,IAA0BA,IAAlC;EACAkE,aAAOzE,CAAP;EACD;;EAED,WAAO4E,KAAP;EACD,GAtCD;;EAwCA,SAAOA,KAAP;EACD;;AAED,EAAe,SAAS2Q,QAAT,GAAkB;EAC/B,MAAI3Q,QAAQ+W,WAAWd,mBAAX,EAA0BE,iBAA1B,CAAZ;;EAEAnW,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOA,KAAKF,KAAL,EAAY2Q,UAAZ,CAAP;EACD,GAFD;;EAIA,SAAOoK,UAAU/a,KAAV,CAAP;EACD;;ECpEc,eAASH,MAAT,EAAiBqb,QAAjB,EAA2B;EACxCrb,WAASA,OAAOhB,KAAP,EAAT;;EAEA,MAAIlB,KAAK,CAAT;EAAA,MACIkb,KAAKhZ,OAAOlF,MAAP,GAAgB,CADzB;EAAA,MAEIwgB,KAAKtb,OAAOlC,EAAP,CAFT;EAAA,MAGIyd,KAAKvb,OAAOgZ,EAAP,CAHT;EAAA,MAIIzJ,CAJJ;;EAMA,MAAIgM,KAAKD,EAAT,EAAa;EACX/L,QAAIzR,EAAJ,EAAQA,KAAKkb,EAAb,EAAiBA,KAAKzJ,CAAtB;EACAA,QAAI+L,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAKhM,CAAtB;EACD;;EAEDvP,SAAOlC,EAAP,IAAaud,SAASre,KAAT,CAAese,EAAf,CAAb;EACAtb,SAAOgZ,EAAP,IAAaqC,SAASjf,IAAT,CAAcmf,EAAd,CAAb;EACA,SAAOvb,MAAP;EACD;;ECdc,SAASwb,UAAT,GAAoB;EACjC,MAAIxb,SAAS,EAAb;EAAA,MACI3D,WAAQ,EADZ;EAAA,MAEIof,aAAa,EAFjB;;EAIA,WAAS3a,OAAT,GAAmB;EACjB,QAAI7E,IAAI,CAAR;EAAA,QAAWF,IAAIG,KAAKC,GAAL,CAAS,CAAT,EAAYE,SAAMvB,MAAlB,CAAf;EACA2gB,iBAAa,IAAInf,KAAJ,CAAUP,IAAI,CAAd,CAAb;EACA,WAAO,EAAEE,CAAF,GAAMF,CAAb;EAAgB0f,iBAAWxf,IAAI,CAAf,IAAoByf,SAAU1b,MAAV,EAAkB/D,IAAIF,CAAtB,CAApB;EAAhB,KACA,OAAOoE,KAAP;EACD;;EAED,WAASA,KAAT,CAAelF,CAAf,EAAkB;EAChB,QAAI,CAACoS,MAAMpS,IAAI,CAACA,CAAX,CAAL,EAAoB,OAAOoB,SAAMya,YAAO2E,UAAP,EAAmBxgB,CAAnB,CAAN,CAAP;EACrB;;EAEDkF,QAAMwb,YAAN,GAAqB,UAAS1M,CAAT,EAAY;EAC/B,QAAIhT,IAAII,SAAMqb,OAAN,CAAczI,CAAd,CAAR;EACA,WAAOhT,IAAI,CAAJ,GAAQ,CAACrB,GAAD,EAAMA,GAAN,CAAR,GAAqB,CAC1BqB,IAAI,CAAJ,GAAQwf,WAAWxf,IAAI,CAAf,CAAR,GAA4B+D,OAAO,CAAP,CADF,EAE1B/D,IAAIwf,WAAW3gB,MAAf,GAAwB2gB,WAAWxf,CAAX,CAAxB,GAAwC+D,OAAOA,OAAOlF,MAAP,GAAgB,CAAvB,CAFd,CAA5B;EAID,GAND;;EAQAqF,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,QAAI,CAACpE,UAAUlB,MAAf,EAAuB,OAAOkF,OAAOhB,KAAP,EAAP;EACvBgB,aAAS,EAAT;EACA,SAAK,IAAI/D,IAAI,CAAR,EAAWF,IAAIqE,EAAEtF,MAAjB,EAAyBS,CAA9B,EAAiCU,IAAIF,CAArC,EAAwC,EAAEE,CAA1C;EAA6C,UAAIV,IAAI6E,EAAEnE,CAAF,CAAJ,EAAUV,KAAK,IAAL,IAAa,CAAC8R,MAAM9R,IAAI,CAACA,CAAX,CAA5B,EAA2CyE,OAAOjB,IAAP,CAAYxD,CAAZ;EAAxF,KACAyE,OAAO4b,IAAP,CAAYpgB,SAAZ;EACA,WAAOsF,SAAP;EACD,GAND;;EAQAX,QAAM9D,KAAN,GAAc,UAAS+D,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBuB,WAAQ2C,QAAMkB,IAAN,CAAWE,CAAX,CAAR,EAAuBU,SAA3C,IAAwDzE,SAAM2C,KAAN,EAA/D;EACD,GAFD;;EAIAmB,QAAM0b,SAAN,GAAkB,YAAW;EAC3B,WAAOJ,WAAWzc,KAAX,EAAP;EACD,GAFD;;EAIAmB,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOmb,aACFxb,MADE,CACKA,MADL,EAEF3D,KAFE,CAEIA,QAFJ,CAAP;EAGD,GAJD;;EAMA,SAAO8D,KAAP;EACD;;EClDD,IAAImO,OAAK,IAAIuD,IAAJ,EAAT;EAAA,IACItD,OAAK,IAAIsD,IAAJ,EADT;;AAGA,EAAe,SAASiK,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsCrf,KAAtC,EAA6Csf,KAA7C,EAAoD;;EAEjE,WAASZ,QAAT,CAAkBzI,IAAlB,EAAwB;EACtB,WAAOmJ,OAAOnJ,OAAO,IAAIf,IAAJ,CAAS,CAACe,IAAV,CAAd,GAAgCA,IAAvC;EACD;;EAEDyI,WAASre,KAAT,GAAiBqe,QAAjB;;EAEAA,WAASjf,IAAT,GAAgB,UAASwW,IAAT,EAAe;EAC7B,WAAOmJ,OAAOnJ,OAAO,IAAIf,IAAJ,CAASe,OAAO,CAAhB,CAAd,GAAmCoJ,QAAQpJ,IAAR,EAAc,CAAd,CAAnC,EAAqDmJ,OAAOnJ,IAAP,CAArD,EAAmEA,IAA1E;EACD,GAFD;;EAIAyI,WAAS3a,KAAT,GAAiB,UAASkS,IAAT,EAAe;EAC9B,QAAI4D,KAAK6E,SAASzI,IAAT,CAAT;EAAA,QACI6D,KAAK4E,SAASjf,IAAT,CAAcwW,IAAd,CADT;EAEA,WAAOA,OAAO4D,EAAP,GAAYC,KAAK7D,IAAjB,GAAwB4D,EAAxB,GAA6BC,EAApC;EACD,GAJD;;EAMA4E,WAASa,MAAT,GAAkB,UAAStJ,IAAT,EAAe9W,IAAf,EAAqB;EACrC,WAAOkgB,QAAQpJ,OAAO,IAAIf,IAAJ,CAAS,CAACe,IAAV,CAAf,EAAgC9W,QAAQ,IAAR,GAAe,CAAf,GAAmBI,KAAKc,KAAL,CAAWlB,IAAX,CAAnD,GAAsE8W,IAA7E;EACD,GAFD;;EAIAyI,WAAShf,KAAT,GAAiB,UAAST,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;EAC3C,QAAIO,QAAQ,EAAZ;EAAA,QAAgB8f,QAAhB;EACAvgB,YAAQyf,SAASjf,IAAT,CAAcR,KAAd,CAAR;EACAE,WAAOA,QAAQ,IAAR,GAAe,CAAf,GAAmBI,KAAKc,KAAL,CAAWlB,IAAX,CAA1B;EACA,QAAI,EAAEF,QAAQC,IAAV,KAAmB,EAAEC,OAAO,CAAT,CAAvB,EAAoC,OAAOO,KAAP,CAJO;EAK3C;EAAGA,YAAM0C,IAAN,CAAWod,WAAW,IAAItK,IAAJ,CAAS,CAACjW,KAAV,CAAtB,GAAyCogB,QAAQpgB,KAAR,EAAeE,IAAf,CAAzC,EAA+DigB,OAAOngB,KAAP,CAA/D;EAAH,aACOugB,WAAWvgB,KAAX,IAAoBA,QAAQC,IADnC;EAEA,WAAOQ,KAAP;EACD,GARD;;EAUAgf,WAASe,MAAT,GAAkB,UAASlC,IAAT,EAAe;EAC/B,WAAO4B,YAAY,UAASlJ,IAAT,EAAe;EAChC,UAAIA,QAAQA,IAAZ,EAAkB,OAAOmJ,OAAOnJ,IAAP,GAAc,CAACsH,KAAKtH,IAAL,CAAtB;EAAkCA,aAAKd,OAAL,CAAac,OAAO,CAApB;EAAlC;EACnB,KAFM,EAEJ,UAASA,IAAT,EAAe9W,IAAf,EAAqB;EACtB,UAAI8W,QAAQA,IAAZ,EAAkB;EAChB,YAAI9W,OAAO,CAAX,EAAc,OAAO,EAAEA,IAAF,IAAU,CAAjB,EAAoB;EAChC,iBAAOkgB,QAAQpJ,IAAR,EAAc,CAAC,CAAf,GAAmB,CAACsH,KAAKtH,IAAL,CAA3B,EAAuC,EADP;EAEjC,SAFD,MAEO,OAAO,EAAE9W,IAAF,IAAU,CAAjB,EAAoB;EACzB,iBAAOkgB,QAAQpJ,IAAR,EAAc,CAAC,CAAf,GAAmB,CAACsH,KAAKtH,IAAL,CAA3B,EAAuC,EADd;EAE1B;EACF;EACF,KAVM,CAAP;EAWD,GAZD;;EAcA,MAAIjW,KAAJ,EAAW;EACT0e,aAAS1e,KAAT,GAAiB,UAASf,KAAT,EAAgByV,GAAhB,EAAqB;EACpC/C,WAAGwD,OAAH,CAAW,CAAClW,KAAZ,GAAoB2S,KAAGuD,OAAH,CAAW,CAACT,GAAZ,CAApB;EACA0K,aAAOzN,IAAP,GAAYyN,OAAOxN,IAAP,CAAZ;EACA,aAAOrS,KAAKc,KAAL,CAAWL,MAAM2R,IAAN,EAAUC,IAAV,CAAX,CAAP;EACD,KAJD;;EAMA8M,aAASgB,KAAT,GAAiB,UAASvgB,IAAT,EAAe;EAC9BA,aAAOI,KAAKc,KAAL,CAAWlB,IAAX,CAAP;EACA,aAAO,CAACiB,SAASjB,IAAT,CAAD,IAAmB,EAAEA,OAAO,CAAT,CAAnB,GAAiC,IAAjC,GACD,EAAEA,OAAO,CAAT,IAAcuf,QAAd,GACAA,SAASe,MAAT,CAAgBH,QACZ,UAAS1gB,CAAT,EAAY;EAAE,eAAO0gB,MAAM1gB,CAAN,IAAWO,IAAX,KAAoB,CAA3B;EAA+B,OADjC,GAEZ,UAASP,CAAT,EAAY;EAAE,eAAO8f,SAAS1e,KAAT,CAAe,CAAf,EAAkBpB,CAAlB,IAAuBO,IAAvB,KAAgC,CAAvC;EAA2C,OAF7D,CAFN;EAKD,KAPD;EAQD;;EAED,SAAOuf,QAAP;EACD;;ECjED,IAAIiB,cAAcjB,YAAS,YAAW;EACpC;EACD,CAFiB,EAEf,UAASzI,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,IAArB;EACD,CAJiB,EAIf,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAOA,MAAMzV,KAAb;EACD,CANiB,CAAlB;;EAQA;EACA0gB,YAAYD,KAAZ,GAAoB,UAASjP,CAAT,EAAY;EAC9BA,MAAIlR,KAAKc,KAAL,CAAWoQ,CAAX,CAAJ;EACA,MAAI,CAACrQ,SAASqQ,CAAT,CAAD,IAAgB,EAAEA,IAAI,CAAN,CAApB,EAA8B,OAAO,IAAP;EAC9B,MAAI,EAAEA,IAAI,CAAN,CAAJ,EAAc,OAAOkP,WAAP;EACd,SAAOjB,YAAS,UAASzI,IAAT,EAAe;EAC7BA,SAAKd,OAAL,CAAa5V,KAAKc,KAAL,CAAW4V,OAAOxF,CAAlB,IAAuBA,CAApC;EACD,GAFM,EAEJ,UAASwF,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,SAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAOsR,CAA5B;EACD,GAJM,EAIJ,UAASxR,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,WAAO,CAACA,MAAMzV,KAAP,IAAgBwR,CAAvB;EACD,GANM,CAAP;EAOD,CAXD;EAcO,IAAImP,eAAeD,YAAYjgB,KAA/B;;ECzBA,IAAImgB,iBAAiB,GAArB;AACP,EAAO,IAAIC,iBAAiB,GAArB;AACP,EAAO,IAAIC,eAAe,IAAnB;AACP,EAAO,IAAIC,cAAc,KAAlB;AACP,EAAO,IAAIC,eAAe,MAAnB;;ECDP,IAAIC,SAASxB,YAAS,UAASzI,IAAT,EAAe;EACnCA,OAAKd,OAAL,CAAa5V,KAAKc,KAAL,CAAW4V,OAAO4J,cAAlB,IAAoCA,cAAjD;EACD,CAFY,EAEV,UAAS5J,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAO0gB,cAA5B;EACD,CAJY,EAIV,UAAS5gB,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB4gB,cAAvB;EACD,CANY,EAMV,UAAS5J,IAAT,EAAe;EAChB,SAAOA,KAAKkK,aAAL,EAAP;EACD,CARY,CAAb;EAWO,IAAIC,UAAUF,OAAOxgB,KAArB;;ECXP,IAAI2gB,SAAS3B,YAAS,UAASzI,IAAT,EAAe;EACnCA,OAAKd,OAAL,CAAa5V,KAAKc,KAAL,CAAW4V,OAAO6J,cAAlB,IAAoCA,cAAjD;EACD,CAFY,EAEV,UAAS7J,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAO2gB,cAA5B;EACD,CAJY,EAIV,UAAS7gB,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB6gB,cAAvB;EACD,CANY,EAMV,UAAS7J,IAAT,EAAe;EAChB,SAAOA,KAAKqK,UAAL,EAAP;EACD,CARY,CAAb;EAWO,IAAIC,UAAUF,OAAO3gB,KAArB;;ECXP,IAAI8gB,OAAO9B,YAAS,UAASzI,IAAT,EAAe;EACjC,MAAIsJ,SAAStJ,KAAKwK,iBAAL,KAA2BX,cAA3B,GAA4CC,YAAzD;EACA,MAAIR,SAAS,CAAb,EAAgBA,UAAUQ,YAAV;EAChB9J,OAAKd,OAAL,CAAa5V,KAAKc,KAAL,CAAW,CAAC,CAAC4V,IAAD,GAAQsJ,MAAT,IAAmBQ,YAA9B,IAA8CA,YAA9C,GAA6DR,MAA1E;EACD,CAJU,EAIR,UAAStJ,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAO4gB,YAA5B;EACD,CANU,EAMR,UAAS9gB,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB8gB,YAAvB;EACD,CARU,EAQR,UAAS9J,IAAT,EAAe;EAChB,SAAOA,KAAKyK,QAAL,EAAP;EACD,CAVU,CAAX;EAaO,IAAIC,QAAQH,KAAK9gB,KAAjB;;ECbP,IAAIkhB,MAAMlC,YAAS,UAASzI,IAAT,EAAe;EAChCA,OAAK4K,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;EACD,CAFS,EAEP,UAAS5K,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAK6K,OAAL,CAAa7K,KAAK8K,OAAL,KAAiB5hB,IAA9B;EACD,CAJS,EAIP,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAN,GAAc,CAACyV,IAAI+L,iBAAJ,KAA0BxhB,MAAMwhB,iBAAN,EAA3B,IAAwDX,cAAvE,IAAyFE,WAAhG;EACD,CANS,EAMP,UAAS/J,IAAT,EAAe;EAChB,SAAOA,KAAK8K,OAAL,KAAiB,CAAxB;EACD,CARS,CAAV;EAWO,IAAIC,OAAOJ,IAAIlhB,KAAf;;ECXP,SAASuhB,OAAT,CAAiB3hB,CAAjB,EAAoB;EAClB,SAAOof,YAAS,UAASzI,IAAT,EAAe;EAC7BA,SAAK6K,OAAL,CAAa7K,KAAK8K,OAAL,KAAiB,CAAC9K,KAAKiL,MAAL,KAAgB,CAAhB,GAAoB5hB,CAArB,IAA0B,CAAxD;EACA2W,SAAK4K,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;EACD,GAHM,EAGJ,UAAS5K,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,SAAK6K,OAAL,CAAa7K,KAAK8K,OAAL,KAAiB5hB,OAAO,CAArC;EACD,GALM,EAKJ,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,WAAO,CAACA,MAAMzV,KAAN,GAAc,CAACyV,IAAI+L,iBAAJ,KAA0BxhB,MAAMwhB,iBAAN,EAA3B,IAAwDX,cAAvE,IAAyFG,YAAhG;EACD,GAPM,CAAP;EAQD;;AAED,EAAO,IAAIkB,SAASF,QAAQ,CAAR,CAAb;AACP,EAAO,IAAIG,SAASH,QAAQ,CAAR,CAAb;AACP,EAAO,IAAII,UAAUJ,QAAQ,CAAR,CAAd;AACP,EAAO,IAAIK,YAAYL,QAAQ,CAAR,CAAhB;AACP,EAAO,IAAIM,WAAWN,QAAQ,CAAR,CAAf;AACP,EAAO,IAAIO,SAASP,QAAQ,CAAR,CAAb;AACP,EAAO,IAAIQ,WAAWR,QAAQ,CAAR,CAAf;;AAEP,EAAO,IAAIS,UAAUP,OAAOzhB,KAArB;;ECpBP,IAAIiiB,QAAQjD,YAAS,UAASzI,IAAT,EAAe;EAClCA,OAAK6K,OAAL,CAAa,CAAb;EACA7K,OAAK4K,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;EACD,CAHW,EAGT,UAAS5K,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAK2L,QAAL,CAAc3L,KAAK4L,QAAL,KAAkB1iB,IAAhC;EACD,CALW,EAKT,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAOA,IAAImN,QAAJ,KAAiB5iB,MAAM4iB,QAAN,EAAjB,GAAoC,CAACnN,IAAIoN,WAAJ,KAAoB7iB,MAAM6iB,WAAN,EAArB,IAA4C,EAAvF;EACD,CAPW,EAOT,UAAS7L,IAAT,EAAe;EAChB,SAAOA,KAAK4L,QAAL,EAAP;EACD,CATW,CAAZ;EAYO,IAAIE,SAASJ,MAAMjiB,KAAnB;;ECZP,IAAIsiB,OAAOtD,YAAS,UAASzI,IAAT,EAAe;EACjCA,OAAK2L,QAAL,CAAc,CAAd,EAAiB,CAAjB;EACA3L,OAAK4K,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;EACD,CAHU,EAGR,UAAS5K,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKgM,WAAL,CAAiBhM,KAAK6L,WAAL,KAAqB3iB,IAAtC;EACD,CALU,EAKR,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAOA,IAAIoN,WAAJ,KAAoB7iB,MAAM6iB,WAAN,EAA3B;EACD,CAPU,EAOR,UAAS7L,IAAT,EAAe;EAChB,SAAOA,KAAK6L,WAAL,EAAP;EACD,CATU,CAAX;;EAWA;EACAE,KAAKtC,KAAL,GAAa,UAASjP,CAAT,EAAY;EACvB,SAAO,CAACrQ,SAASqQ,IAAIlR,KAAKc,KAAL,CAAWoQ,CAAX,CAAb,CAAD,IAAgC,EAAEA,IAAI,CAAN,CAAhC,GAA2C,IAA3C,GAAkDiO,YAAS,UAASzI,IAAT,EAAe;EAC/EA,SAAKgM,WAAL,CAAiB1iB,KAAKc,KAAL,CAAW4V,KAAK6L,WAAL,KAAqBrR,CAAhC,IAAqCA,CAAtD;EACAwF,SAAK2L,QAAL,CAAc,CAAd,EAAiB,CAAjB;EACA3L,SAAK4K,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;EACD,GAJwD,EAItD,UAAS5K,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,SAAKgM,WAAL,CAAiBhM,KAAK6L,WAAL,KAAqB3iB,OAAOsR,CAA7C;EACD,GANwD,CAAzD;EAOD,CARD;EAWO,IAAIyR,QAAQF,KAAKtiB,KAAjB;;ECtBP,IAAIyiB,YAAYzD,YAAS,UAASzI,IAAT,EAAe;EACtCA,OAAKmM,aAAL,CAAmB,CAAnB,EAAsB,CAAtB;EACD,CAFe,EAEb,UAASnM,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAO2gB,cAA5B;EACD,CAJe,EAIb,UAAS7gB,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB6gB,cAAvB;EACD,CANe,EAMb,UAAS7J,IAAT,EAAe;EAChB,SAAOA,KAAKoM,aAAL,EAAP;EACD,CARe,CAAhB;EAWO,IAAIC,aAAaH,UAAUziB,KAA3B;;ECXP,IAAI6iB,UAAU7D,YAAS,UAASzI,IAAT,EAAe;EACpCA,OAAKuM,aAAL,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;EACD,CAFa,EAEX,UAASvM,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAKd,OAAL,CAAa,CAACc,IAAD,GAAQ9W,OAAO4gB,YAA5B;EACD,CAJa,EAIX,UAAS9gB,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB8gB,YAAvB;EACD,CANa,EAMX,UAAS9J,IAAT,EAAe;EAChB,SAAOA,KAAKwM,WAAL,EAAP;EACD,CARa,CAAd;EAWO,IAAIC,WAAWH,QAAQ7iB,KAAvB;;ECXP,IAAIijB,SAASjE,YAAS,UAASzI,IAAT,EAAe;EACnCA,OAAK2M,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;EACD,CAFY,EAEV,UAAS3M,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAK4M,UAAL,CAAgB5M,KAAK6M,UAAL,KAAoB3jB,IAApC;EACD,CAJY,EAIV,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAO,CAACA,MAAMzV,KAAP,IAAgB+gB,WAAvB;EACD,CANY,EAMV,UAAS/J,IAAT,EAAe;EAChB,SAAOA,KAAK6M,UAAL,KAAoB,CAA3B;EACD,CARY,CAAb;EAWO,IAAIC,UAAUJ,OAAOjjB,KAArB;;ECXP,SAASsjB,UAAT,CAAoB1jB,CAApB,EAAuB;EACrB,SAAOof,YAAS,UAASzI,IAAT,EAAe;EAC7BA,SAAK4M,UAAL,CAAgB5M,KAAK6M,UAAL,KAAoB,CAAC7M,KAAKgN,SAAL,KAAmB,CAAnB,GAAuB3jB,CAAxB,IAA6B,CAAjE;EACA2W,SAAK2M,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;EACD,GAHM,EAGJ,UAAS3M,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,SAAK4M,UAAL,CAAgB5M,KAAK6M,UAAL,KAAoB3jB,OAAO,CAA3C;EACD,GALM,EAKJ,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,WAAO,CAACA,MAAMzV,KAAP,IAAgBghB,YAAvB;EACD,GAPM,CAAP;EAQD;;AAED,EAAO,IAAIiD,YAAYF,WAAW,CAAX,CAAhB;AACP,EAAO,IAAIG,YAAYH,WAAW,CAAX,CAAhB;AACP,EAAO,IAAII,aAAaJ,WAAW,CAAX,CAAjB;AACP,EAAO,IAAIK,eAAeL,WAAW,CAAX,CAAnB;AACP,EAAO,IAAIM,cAAcN,WAAW,CAAX,CAAlB;AACP,EAAO,IAAIO,YAAYP,WAAW,CAAX,CAAhB;AACP,EAAO,IAAIQ,cAAcR,WAAW,CAAX,CAAlB;;AAEP,EAAO,IAAIS,aAAaP,UAAUxjB,KAA3B;;ECpBP,IAAIgkB,WAAWhF,YAAS,UAASzI,IAAT,EAAe;EACrCA,OAAK4M,UAAL,CAAgB,CAAhB;EACA5M,OAAK2M,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;EACD,CAHc,EAGZ,UAAS3M,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAK0N,WAAL,CAAiB1N,KAAK2N,WAAL,KAAqBzkB,IAAtC;EACD,CALc,EAKZ,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAOA,IAAIkP,WAAJ,KAAoB3kB,MAAM2kB,WAAN,EAApB,GAA0C,CAAClP,IAAImP,cAAJ,KAAuB5kB,MAAM4kB,cAAN,EAAxB,IAAkD,EAAnG;EACD,CAPc,EAOZ,UAAS5N,IAAT,EAAe;EAChB,SAAOA,KAAK2N,WAAL,EAAP;EACD,CATc,CAAf;EAYO,IAAIE,YAAYJ,SAAShkB,KAAzB;;ECZP,IAAIqkB,UAAUrF,YAAS,UAASzI,IAAT,EAAe;EACpCA,OAAK0N,WAAL,CAAiB,CAAjB,EAAoB,CAApB;EACA1N,OAAK2M,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;EACD,CAHa,EAGX,UAAS3M,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,OAAK+N,cAAL,CAAoB/N,KAAK4N,cAAL,KAAwB1kB,IAA5C;EACD,CALa,EAKX,UAASF,KAAT,EAAgByV,GAAhB,EAAqB;EACtB,SAAOA,IAAImP,cAAJ,KAAuB5kB,MAAM4kB,cAAN,EAA9B;EACD,CAPa,EAOX,UAAS5N,IAAT,EAAe;EAChB,SAAOA,KAAK4N,cAAL,EAAP;EACD,CATa,CAAd;;EAWA;EACAE,QAAQrE,KAAR,GAAgB,UAASjP,CAAT,EAAY;EAC1B,SAAO,CAACrQ,SAASqQ,IAAIlR,KAAKc,KAAL,CAAWoQ,CAAX,CAAb,CAAD,IAAgC,EAAEA,IAAI,CAAN,CAAhC,GAA2C,IAA3C,GAAkDiO,YAAS,UAASzI,IAAT,EAAe;EAC/EA,SAAK+N,cAAL,CAAoBzkB,KAAKc,KAAL,CAAW4V,KAAK4N,cAAL,KAAwBpT,CAAnC,IAAwCA,CAA5D;EACAwF,SAAK0N,WAAL,CAAiB,CAAjB,EAAoB,CAApB;EACA1N,SAAK2M,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;EACD,GAJwD,EAItD,UAAS3M,IAAT,EAAe9W,IAAf,EAAqB;EACtB8W,SAAK+N,cAAL,CAAoB/N,KAAK4N,cAAL,KAAwB1kB,OAAOsR,CAAnD;EACD,GANwD,CAAzD;EAOD,CARD;EAWO,IAAIwT,WAAWF,QAAQrkB,KAAvB;;ECZP,SAASwkB,SAAT,CAAmBtlB,CAAnB,EAAsB;EACpB,MAAI,KAAKA,EAAE0T,CAAP,IAAY1T,EAAE0T,CAAF,GAAM,GAAtB,EAA2B;EACzB,QAAI2D,OAAO,IAAIf,IAAJ,CAAS,CAAC,CAAV,EAAatW,EAAE+Q,CAAf,EAAkB/Q,EAAEA,CAApB,EAAuBA,EAAEulB,CAAzB,EAA4BvlB,EAAEwlB,CAA9B,EAAiCxlB,EAAEylB,CAAnC,EAAsCzlB,EAAE0lB,CAAxC,CAAX;EACArO,SAAKgM,WAAL,CAAiBrjB,EAAE0T,CAAnB;EACA,WAAO2D,IAAP;EACD;EACD,SAAO,IAAIf,IAAJ,CAAStW,EAAE0T,CAAX,EAAc1T,EAAE+Q,CAAhB,EAAmB/Q,EAAEA,CAArB,EAAwBA,EAAEulB,CAA1B,EAA6BvlB,EAAEwlB,CAA/B,EAAkCxlB,EAAEylB,CAApC,EAAuCzlB,EAAE0lB,CAAzC,CAAP;EACD;;EAED,SAASC,OAAT,CAAiB3lB,CAAjB,EAAoB;EAClB,MAAI,KAAKA,EAAE0T,CAAP,IAAY1T,EAAE0T,CAAF,GAAM,GAAtB,EAA2B;EACzB,QAAI2D,OAAO,IAAIf,IAAJ,CAASA,KAAKsP,GAAL,CAAS,CAAC,CAAV,EAAa5lB,EAAE+Q,CAAf,EAAkB/Q,EAAEA,CAApB,EAAuBA,EAAEulB,CAAzB,EAA4BvlB,EAAEwlB,CAA9B,EAAiCxlB,EAAEylB,CAAnC,EAAsCzlB,EAAE0lB,CAAxC,CAAT,CAAX;EACArO,SAAK+N,cAAL,CAAoBplB,EAAE0T,CAAtB;EACA,WAAO2D,IAAP;EACD;EACD,SAAO,IAAIf,IAAJ,CAASA,KAAKsP,GAAL,CAAS5lB,EAAE0T,CAAX,EAAc1T,EAAE+Q,CAAhB,EAAmB/Q,EAAEA,CAArB,EAAwBA,EAAEulB,CAA1B,EAA6BvlB,EAAEwlB,CAA/B,EAAkCxlB,EAAEylB,CAApC,EAAuCzlB,EAAE0lB,CAAzC,CAAT,CAAP;EACD;;EAED,SAASG,OAAT,CAAiBnS,CAAjB,EAAoB;EAClB,SAAO,EAACA,GAAGA,CAAJ,EAAO3C,GAAG,CAAV,EAAa/Q,GAAG,CAAhB,EAAmBulB,GAAG,CAAtB,EAAyBC,GAAG,CAA5B,EAA+BC,GAAG,CAAlC,EAAqCC,GAAG,CAAxC,EAAP;EACD;;AAED,EAAe,SAASnG,cAAT,CAAsBrB,MAAtB,EAA8B;EAC3C,MAAI4H,kBAAkB5H,OAAO6H,QAA7B;EAAA,MACIC,cAAc9H,OAAO7G,IADzB;EAAA,MAEI4O,cAAc/H,OAAOgI,IAFzB;EAAA,MAGIC,iBAAiBjI,OAAOkI,OAH5B;EAAA,MAIIC,kBAAkBnI,OAAOkE,IAJ7B;EAAA,MAKIkE,uBAAuBpI,OAAOqI,SALlC;EAAA,MAMIC,gBAAgBtI,OAAOiF,MAN3B;EAAA,MAOIsD,qBAAqBvI,OAAOwI,WAPhC;;EASA,MAAIC,WAAWC,SAAST,cAAT,CAAf;EAAA,MACIU,eAAeC,aAAaX,cAAb,CADnB;EAAA,MAEIY,YAAYH,SAASP,eAAT,CAFhB;EAAA,MAGIW,gBAAgBF,aAAaT,eAAb,CAHpB;EAAA,MAIIY,iBAAiBL,SAASN,oBAAT,CAJrB;EAAA,MAKIY,qBAAqBJ,aAAaR,oBAAb,CALzB;EAAA,MAMIa,UAAUP,SAASJ,aAAT,CANd;EAAA,MAOIY,cAAcN,aAAaN,aAAb,CAPlB;EAAA,MAQIa,eAAeT,SAASH,kBAAT,CARnB;EAAA,MASIa,mBAAmBR,aAAaL,kBAAb,CATvB;;EAWA,MAAIc,UAAU;EACZ,SAAKC,kBADO;EAEZ,SAAKC,aAFO;EAGZ,SAAKC,gBAHO;EAIZ,SAAKC,WAJO;EAKZ,SAAK,IALO;EAMZ,SAAKC,gBANO;EAOZ,SAAKA,gBAPO;EAQZ,SAAKC,kBARO;EASZ,SAAKC,YATO;EAUZ,SAAKC,YAVO;EAWZ,SAAKC,eAXO;EAYZ,SAAKC,kBAZO;EAaZ,SAAKC,iBAbO;EAcZ,SAAKC,aAdO;EAeZ,SAAKC,YAfO;EAgBZ,SAAKC,mBAhBO;EAiBZ,SAAKC,0BAjBO;EAkBZ,SAAKC,aAlBO;EAmBZ,SAAKC,yBAnBO;EAoBZ,SAAKC,sBApBO;EAqBZ,SAAKC,mBArBO;EAsBZ,SAAKC,yBAtBO;EAuBZ,SAAKC,sBAvBO;EAwBZ,SAAK,IAxBO;EAyBZ,SAAK,IAzBO;EA0BZ,SAAKC,UA1BO;EA2BZ,SAAKC,cA3BO;EA4BZ,SAAKC,UA5BO;EA6BZ,SAAKC;EA7BO,GAAd;;EAgCA,MAAIC,aAAa;EACf,SAAKC,qBADU;EAEf,SAAKC,gBAFU;EAGf,SAAKC,mBAHU;EAIf,SAAKC,cAJU;EAKf,SAAK,IALU;EAMf,SAAKC,mBANU;EAOf,SAAKA,mBAPU;EAQf,SAAKC,qBARU;EASf,SAAKC,eATU;EAUf,SAAKC,eAVU;EAWf,SAAKC,kBAXU;EAYf,SAAKC,qBAZU;EAaf,SAAKC,oBAbU;EAcf,SAAKC,gBAdU;EAef,SAAKC,eAfU;EAgBf,SAAKzB,mBAhBU;EAiBf,SAAKC,0BAjBU;EAkBf,SAAKyB,gBAlBU;EAmBf,SAAKC,4BAnBU;EAoBf,SAAKC,yBApBU;EAqBf,SAAKC,sBArBU;EAsBf,SAAKC,4BAtBU;EAuBf,SAAKC,yBAvBU;EAwBf,SAAK,IAxBU;EAyBf,SAAK,IAzBU;EA0Bf,SAAKC,aA1BU;EA2Bf,SAAKC,iBA3BU;EA4Bf,SAAKC,aA5BU;EA6Bf,SAAKvB;EA7BU,GAAjB;;EAgCA,MAAIwB,SAAS;EACX,SAAKC,iBADM;EAEX,SAAKC,YAFM;EAGX,SAAKC,eAHM;EAIX,SAAKC,UAJM;EAKX,SAAKC,mBALM;EAMX,SAAKC,eANM;EAOX,SAAKA,eAPM;EAQX,SAAKC,iBARM;EASX,SAAKC,WATM;EAUX,SAAKA,WAVM;EAWX,SAAKC,cAXM;EAYX,SAAKC,iBAZM;EAaX,SAAKC,gBAbM;EAcX,SAAKC,YAdM;EAeX,SAAKC,WAfM;EAgBX,SAAKC,kBAhBM;EAiBX,SAAKC,yBAjBM;EAkBX,SAAKC,YAlBM;EAmBX,SAAKC,wBAnBM;EAoBX,SAAKC,qBApBM;EAqBX,SAAKC,kBArBM;EAsBX,SAAKC,wBAtBM;EAuBX,SAAKC,qBAvBM;EAwBX,SAAKC,eAxBM;EAyBX,SAAKC,eAzBM;EA0BX,SAAKC,SA1BM;EA2BX,SAAKC,aA3BM;EA4BX,SAAKC,SA5BM;EA6BX,SAAKC;EA7BM,GAAb;;EAgCA;EACA5E,UAAQ7nB,CAAR,GAAY+e,UAAUuH,WAAV,EAAuBuB,OAAvB,CAAZ;EACAA,UAAQ6E,CAAR,GAAY3N,UAAUwH,WAAV,EAAuBsB,OAAvB,CAAZ;EACAA,UAAQhU,CAAR,GAAYkL,UAAUqH,eAAV,EAA2ByB,OAA3B,CAAZ;EACA0B,aAAWvpB,CAAX,GAAe+e,UAAUuH,WAAV,EAAuBiD,UAAvB,CAAf;EACAA,aAAWmD,CAAX,GAAe3N,UAAUwH,WAAV,EAAuBgD,UAAvB,CAAf;EACAA,aAAW1V,CAAX,GAAekL,UAAUqH,eAAV,EAA2BmD,UAA3B,CAAf;;EAEA,WAASxK,SAAT,CAAmB3B,SAAnB,EAA8ByK,OAA9B,EAAuC;EACrC,WAAO,UAASlQ,IAAT,EAAe;EACpB,UAAID,SAAS,EAAb;EAAA,UACI1W,IAAI,CAAC,CADT;EAAA,UAEI4a,IAAI,CAFR;EAAA,UAGI9a,IAAIsc,UAAUvd,MAHlB;EAAA,UAIIgU,CAJJ;EAAA,UAKI8Y,GALJ;EAAA,UAMIvb,MANJ;;EAQA,UAAI,EAAEuG,gBAAgBf,IAAlB,CAAJ,EAA6Be,OAAO,IAAIf,IAAJ,CAAS,CAACe,IAAV,CAAP;;EAE7B,aAAO,EAAE3W,CAAF,GAAMF,CAAb,EAAgB;EACd,YAAIsc,UAAUqC,UAAV,CAAqBze,CAArB,MAA4B,EAAhC,EAAoC;EAClC0W,iBAAO5T,IAAP,CAAYsZ,UAAUrZ,KAAV,CAAgB6X,CAAhB,EAAmB5a,CAAnB,CAAZ;EACA,cAAI,CAAC2rB,MAAMC,KAAK/Y,IAAIuJ,UAAUyP,MAAV,CAAiB,EAAE7rB,CAAnB,CAAT,CAAP,KAA2C,IAA/C,EAAqD6S,IAAIuJ,UAAUyP,MAAV,CAAiB,EAAE7rB,CAAnB,CAAJ,CAArD,KACK2rB,MAAM9Y,MAAM,GAAN,GAAY,GAAZ,GAAkB,GAAxB;EACL,cAAIzC,SAASyW,QAAQhU,CAAR,CAAb,EAAyBA,IAAIzC,OAAOuG,IAAP,EAAagV,GAAb,CAAJ;EACzBjV,iBAAO5T,IAAP,CAAY+P,CAAZ;EACA+H,cAAI5a,IAAI,CAAR;EACD;EACF;;EAED0W,aAAO5T,IAAP,CAAYsZ,UAAUrZ,KAAV,CAAgB6X,CAAhB,EAAmB5a,CAAnB,CAAZ;EACA,aAAO0W,OAAOD,IAAP,CAAY,EAAZ,CAAP;EACD,KAxBD;EAyBD;;EAED,WAASqV,QAAT,CAAkB1P,SAAlB,EAA6B2P,OAA7B,EAAsC;EACpC,WAAO,UAASrV,MAAT,EAAiB;EACtB,UAAIpX,IAAI6lB,QAAQ,IAAR,CAAR;EAAA,UACInlB,IAAIgsB,eAAe1sB,CAAf,EAAkB8c,SAAlB,EAA6B1F,UAAU,EAAvC,EAA2C,CAA3C,CADR;EAAA,UAEIuV,IAFJ;EAAA,UAEU3K,MAFV;EAGA,UAAIthB,KAAK0W,OAAO7X,MAAhB,EAAwB,OAAO,IAAP;;EAExB;EACA,UAAI,OAAOS,CAAX,EAAc,OAAO,IAAIsW,IAAJ,CAAStW,EAAE4sB,CAAX,CAAP;;EAEd;EACA,UAAI,OAAO5sB,CAAX,EAAcA,EAAEulB,CAAF,GAAMvlB,EAAEulB,CAAF,GAAM,EAAN,GAAWvlB,EAAEoC,CAAF,GAAM,EAAvB;;EAEd;EACA,UAAI,OAAOpC,CAAX,EAAc;EACZ,YAAIA,EAAE6sB,CAAF,GAAM,CAAN,IAAW7sB,EAAE6sB,CAAF,GAAM,EAArB,EAAyB,OAAO,IAAP;EACzB,YAAI,EAAE,OAAO7sB,CAAT,CAAJ,EAAiBA,EAAE8sB,CAAF,GAAM,CAAN;EACjB,YAAI,OAAO9sB,CAAX,EAAc;EACZ2sB,iBAAOhH,QAAQE,QAAQ7lB,EAAE0T,CAAV,CAAR,CAAP,EAA8BsO,SAAM2K,KAAKtI,SAAL,EAApC;EACAsI,iBAAO3K,SAAM,CAAN,IAAWA,WAAQ,CAAnB,GAAuBuC,UAAU1jB,IAAV,CAAe8rB,IAAf,CAAvB,GAA8CpI,UAAUoI,IAAV,CAArD;EACAA,iBAAO5I,OAAOpD,MAAP,CAAcgM,IAAd,EAAoB,CAAC3sB,EAAE6sB,CAAF,GAAM,CAAP,IAAY,CAAhC,CAAP;EACA7sB,YAAE0T,CAAF,GAAMiZ,KAAK1H,cAAL,EAAN;EACAjlB,YAAE+Q,CAAF,GAAM4b,KAAK3H,WAAL,EAAN;EACAhlB,YAAEA,CAAF,GAAM2sB,KAAKzI,UAAL,KAAoB,CAAClkB,EAAE8sB,CAAF,GAAM,CAAP,IAAY,CAAtC;EACD,SAPD,MAOO;EACLH,iBAAOF,QAAQ5G,QAAQ7lB,EAAE0T,CAAV,CAAR,CAAP,EAA8BsO,SAAM2K,KAAKrK,MAAL,EAApC;EACAqK,iBAAO3K,SAAM,CAAN,IAAWA,WAAQ,CAAnB,GAAuB+K,OAAWlsB,IAAX,CAAgB8rB,IAAhB,CAAvB,GAA+CI,OAAWJ,IAAX,CAAtD;EACAA,iBAAOK,IAAQrM,MAAR,CAAegM,IAAf,EAAqB,CAAC3sB,EAAE6sB,CAAF,GAAM,CAAP,IAAY,CAAjC,CAAP;EACA7sB,YAAE0T,CAAF,GAAMiZ,KAAKzJ,WAAL,EAAN;EACAljB,YAAE+Q,CAAF,GAAM4b,KAAK1J,QAAL,EAAN;EACAjjB,YAAEA,CAAF,GAAM2sB,KAAKxK,OAAL,KAAiB,CAACniB,EAAE8sB,CAAF,GAAM,CAAP,IAAY,CAAnC;EACD;EACF,OAlBD,MAkBO,IAAI,OAAO9sB,CAAP,IAAY,OAAOA,CAAvB,EAA0B;EAC/B,YAAI,EAAE,OAAOA,CAAT,CAAJ,EAAiBA,EAAE8sB,CAAF,GAAM,OAAO9sB,CAAP,GAAWA,EAAEitB,CAAF,GAAM,CAAjB,GAAqB,OAAOjtB,CAAP,GAAW,CAAX,GAAe,CAA1C;EACjBgiB,iBAAM,OAAOhiB,CAAP,GAAW2lB,QAAQE,QAAQ7lB,EAAE0T,CAAV,CAAR,EAAsB2Q,SAAtB,EAAX,GAA+CoI,QAAQ5G,QAAQ7lB,EAAE0T,CAAV,CAAR,EAAsB4O,MAAtB,EAArD;EACAtiB,UAAE+Q,CAAF,GAAM,CAAN;EACA/Q,UAAEA,CAAF,GAAM,OAAOA,CAAP,GAAW,CAACA,EAAE8sB,CAAF,GAAM,CAAP,IAAY,CAAZ,GAAgB9sB,EAAEktB,CAAF,GAAM,CAAtB,GAA0B,CAAClL,SAAM,CAAP,IAAY,CAAjD,GAAqDhiB,EAAE8sB,CAAF,GAAM9sB,EAAEmtB,CAAF,GAAM,CAAZ,GAAgB,CAACnL,SAAM,CAAP,IAAY,CAAvF;EACD;;EAED;EACA;EACA,UAAI,OAAOhiB,CAAX,EAAc;EACZA,UAAEulB,CAAF,IAAOvlB,EAAEotB,CAAF,GAAM,GAAN,GAAY,CAAnB;EACAptB,UAAEwlB,CAAF,IAAOxlB,EAAEotB,CAAF,GAAM,GAAb;EACA,eAAOzH,QAAQ3lB,CAAR,CAAP;EACD;;EAED;EACA,aAAOysB,QAAQzsB,CAAR,CAAP;EACD,KAhDD;EAiDD;;EAED,WAAS0sB,cAAT,CAAwB1sB,CAAxB,EAA2B8c,SAA3B,EAAsC1F,MAAtC,EAA8CkE,CAA9C,EAAiD;EAC/C,QAAI5a,IAAI,CAAR;EAAA,QACIF,IAAIsc,UAAUvd,MADlB;EAAA,QAEIwR,IAAIqG,OAAO7X,MAFf;EAAA,QAGIgU,CAHJ;EAAA,QAIIkG,KAJJ;;EAMA,WAAO/Y,IAAIF,CAAX,EAAc;EACZ,UAAI8a,KAAKvK,CAAT,EAAY,OAAO,CAAC,CAAR;EACZwC,UAAIuJ,UAAUqC,UAAV,CAAqBze,GAArB,CAAJ;EACA,UAAI6S,MAAM,EAAV,EAAc;EACZA,YAAIuJ,UAAUyP,MAAV,CAAiB7rB,GAAjB,CAAJ;EACA+Y,gBAAQ+Q,OAAOjX,KAAK+Y,IAAL,GAAYxP,UAAUyP,MAAV,CAAiB7rB,GAAjB,CAAZ,GAAoC6S,CAA3C,CAAR;EACA,YAAI,CAACkG,KAAD,IAAW,CAAC6B,IAAI7B,MAAMzZ,CAAN,EAASoX,MAAT,EAAiBkE,CAAjB,CAAL,IAA4B,CAA3C,EAA+C,OAAO,CAAC,CAAR;EAChD,OAJD,MAIO,IAAI/H,KAAK6D,OAAO+H,UAAP,CAAkB7D,GAAlB,CAAT,EAAiC;EACtC,eAAO,CAAC,CAAR;EACD;EACF;;EAED,WAAOA,CAAP;EACD;;EAED,WAAS+P,WAAT,CAAqBrrB,CAArB,EAAwBoX,MAAxB,EAAgC1W,CAAhC,EAAmC;EACjC,QAAIF,IAAImmB,SAASzV,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,CAAd,CAAR;EACA,WAAOF,KAAKR,EAAEoC,CAAF,GAAMykB,aAAarmB,EAAE,CAAF,EAAKyQ,WAAL,EAAb,CAAN,EAAwCvQ,IAAIF,EAAE,CAAF,EAAKjB,MAAtD,IAAgE,CAAC,CAAxE;EACD;;EAED,WAASkrB,iBAAT,CAA2BzqB,CAA3B,EAA8BoX,MAA9B,EAAsC1W,CAAtC,EAAyC;EACvC,QAAIF,IAAIymB,eAAe/V,IAAf,CAAoBkG,OAAO3T,KAAP,CAAa/C,CAAb,CAApB,CAAR;EACA,WAAOF,KAAKR,EAAE8sB,CAAF,GAAM5F,mBAAmB1mB,EAAE,CAAF,EAAKyQ,WAAL,EAAnB,CAAN,EAA8CvQ,IAAIF,EAAE,CAAF,EAAKjB,MAA5D,IAAsE,CAAC,CAA9E;EACD;;EAED,WAASmrB,YAAT,CAAsB1qB,CAAtB,EAAyBoX,MAAzB,EAAiC1W,CAAjC,EAAoC;EAClC,QAAIF,IAAIumB,UAAU7V,IAAV,CAAekG,OAAO3T,KAAP,CAAa/C,CAAb,CAAf,CAAR;EACA,WAAOF,KAAKR,EAAE8sB,CAAF,GAAM9F,cAAcxmB,EAAE,CAAF,EAAKyQ,WAAL,EAAd,CAAN,EAAyCvQ,IAAIF,EAAE,CAAF,EAAKjB,MAAvD,IAAiE,CAAC,CAAzE;EACD;;EAED,WAASorB,eAAT,CAAyB3qB,CAAzB,EAA4BoX,MAA5B,EAAoC1W,CAApC,EAAuC;EACrC,QAAIF,IAAI6mB,aAAanW,IAAb,CAAkBkG,OAAO3T,KAAP,CAAa/C,CAAb,CAAlB,CAAR;EACA,WAAOF,KAAKR,EAAE+Q,CAAF,GAAMuW,iBAAiB9mB,EAAE,CAAF,EAAKyQ,WAAL,EAAjB,CAAN,EAA4CvQ,IAAIF,EAAE,CAAF,EAAKjB,MAA1D,IAAoE,CAAC,CAA5E;EACD;;EAED,WAASqrB,UAAT,CAAoB5qB,CAApB,EAAuBoX,MAAvB,EAA+B1W,CAA/B,EAAkC;EAChC,QAAIF,IAAI2mB,QAAQjW,IAAR,CAAakG,OAAO3T,KAAP,CAAa/C,CAAb,CAAb,CAAR;EACA,WAAOF,KAAKR,EAAE+Q,CAAF,GAAMqW,YAAY5mB,EAAE,CAAF,EAAKyQ,WAAL,EAAZ,CAAN,EAAuCvQ,IAAIF,EAAE,CAAF,EAAKjB,MAArD,IAA+D,CAAC,CAAvE;EACD;;EAED,WAASsrB,mBAAT,CAA6B7qB,CAA7B,EAAgCoX,MAAhC,EAAwC1W,CAAxC,EAA2C;EACzC,WAAOgsB,eAAe1sB,CAAf,EAAkB8lB,eAAlB,EAAmC1O,MAAnC,EAA2C1W,CAA3C,CAAP;EACD;;EAED,WAASorB,eAAT,CAAyB9rB,CAAzB,EAA4BoX,MAA5B,EAAoC1W,CAApC,EAAuC;EACrC,WAAOgsB,eAAe1sB,CAAf,EAAkBgmB,WAAlB,EAA+B5O,MAA/B,EAAuC1W,CAAvC,CAAP;EACD;;EAED,WAASqrB,eAAT,CAAyB/rB,CAAzB,EAA4BoX,MAA5B,EAAoC1W,CAApC,EAAuC;EACrC,WAAOgsB,eAAe1sB,CAAf,EAAkBimB,WAAlB,EAA+B7O,MAA/B,EAAuC1W,CAAvC,CAAP;EACD;;EAED,WAAS8mB,kBAAT,CAA4BxnB,CAA5B,EAA+B;EAC7B,WAAOsmB,qBAAqBtmB,EAAEsiB,MAAF,EAArB,CAAP;EACD;;EAED,WAASmF,aAAT,CAAuBznB,CAAvB,EAA0B;EACxB,WAAOqmB,gBAAgBrmB,EAAEsiB,MAAF,EAAhB,CAAP;EACD;;EAED,WAASoF,gBAAT,CAA0B1nB,CAA1B,EAA6B;EAC3B,WAAOymB,mBAAmBzmB,EAAEijB,QAAF,EAAnB,CAAP;EACD;;EAED,WAAS0E,WAAT,CAAqB3nB,CAArB,EAAwB;EACtB,WAAOwmB,cAAcxmB,EAAEijB,QAAF,EAAd,CAAP;EACD;;EAED,WAASmF,YAAT,CAAsBpoB,CAAtB,EAAyB;EACvB,WAAOmmB,eAAe,EAAEnmB,EAAE8hB,QAAF,MAAgB,EAAlB,CAAf,CAAP;EACD;;EAED,WAASoH,qBAAT,CAA+BlpB,CAA/B,EAAkC;EAChC,WAAOsmB,qBAAqBtmB,EAAEqkB,SAAF,EAArB,CAAP;EACD;;EAED,WAAS8E,gBAAT,CAA0BnpB,CAA1B,EAA6B;EAC3B,WAAOqmB,gBAAgBrmB,EAAEqkB,SAAF,EAAhB,CAAP;EACD;;EAED,WAAS+E,mBAAT,CAA6BppB,CAA7B,EAAgC;EAC9B,WAAOymB,mBAAmBzmB,EAAEglB,WAAF,EAAnB,CAAP;EACD;;EAED,WAASqE,cAAT,CAAwBrpB,CAAxB,EAA2B;EACzB,WAAOwmB,cAAcxmB,EAAEglB,WAAF,EAAd,CAAP;EACD;;EAED,WAAS8E,eAAT,CAAyB9pB,CAAzB,EAA4B;EAC1B,WAAOmmB,eAAe,EAAEnmB,EAAE6jB,WAAF,MAAmB,EAArB,CAAf,CAAP;EACD;;EAED,SAAO;EACL/S,YAAQ,gBAASgM,SAAT,EAAoB;EAC1B,UAAI/c,IAAI0e,UAAU3B,aAAa,EAAvB,EAA2ByK,OAA3B,CAAR;EACAxnB,QAAE8Q,QAAF,GAAa,YAAW;EAAE,eAAOiM,SAAP;EAAmB,OAA7C;EACA,aAAO/c,CAAP;EACD,KALI;EAML0Z,WAAO,eAASqD,SAAT,EAAoB;EACzB,UAAI1a,IAAIoqB,SAAS1P,aAAa,EAAtB,EAA0BwI,SAA1B,CAAR;EACAljB,QAAEyO,QAAF,GAAa,YAAW;EAAE,eAAOiM,SAAP;EAAmB,OAA7C;EACA,aAAO1a,CAAP;EACD,KAVI;EAWLirB,eAAW,mBAASvQ,SAAT,EAAoB;EAC7B,UAAI/c,IAAI0e,UAAU3B,aAAa,EAAvB,EAA2BmM,UAA3B,CAAR;EACAlpB,QAAE8Q,QAAF,GAAa,YAAW;EAAE,eAAOiM,SAAP;EAAmB,OAA7C;EACA,aAAO/c,CAAP;EACD,KAfI;EAgBLutB,cAAU,kBAASxQ,SAAT,EAAoB;EAC5B,UAAI1a,IAAIoqB,SAAS1P,SAAT,EAAoB6I,OAApB,CAAR;EACAvjB,QAAEyO,QAAF,GAAa,YAAW;EAAE,eAAOiM,SAAP;EAAmB,OAA7C;EACA,aAAO1a,CAAP;EACD;EApBI,GAAP;EAsBD;;EAED,IAAIkqB,OAAO,EAAC,KAAK,EAAN,EAAU,KAAK,GAAf,EAAoB,KAAK,GAAzB,EAAX;EAAA,IACIiB,WAAW,SADf;EAAA;EAEIC,YAAY,IAFhB;EAAA,IAGIC,YAAY,qBAHhB;;EAKA,SAASpB,GAAT,CAAalpB,KAAb,EAAoB+Z,IAApB,EAA0BV,KAA1B,EAAiC;EAC/B,MAAIW,OAAOha,QAAQ,CAAR,GAAY,GAAZ,GAAkB,EAA7B;EAAA,MACIiU,SAAS,CAAC+F,OAAO,CAACha,KAAR,GAAgBA,KAAjB,IAA0B,EADvC;EAAA,MAEI5D,SAAS6X,OAAO7X,MAFpB;EAGA,SAAO4d,QAAQ5d,SAASid,KAAT,GAAiB,IAAIzb,KAAJ,CAAUyb,QAAQjd,MAAR,GAAiB,CAA3B,EAA8B4X,IAA9B,CAAmC+F,IAAnC,IAA2C9F,MAA5D,GAAqEA,MAA7E,CAAP;EACD;;EAED,SAASsW,OAAT,CAAiB1b,CAAjB,EAAoB;EAClB,SAAOA,EAAE2K,OAAF,CAAU8Q,SAAV,EAAqB,MAArB,CAAP;EACD;;EAED,SAAS7G,QAAT,CAAkB+G,KAAlB,EAAyB;EACvB,SAAO,IAAI9mB,MAAJ,CAAW,SAAS8mB,MAAM9qB,GAAN,CAAU6qB,OAAV,EAAmBvW,IAAnB,CAAwB,GAAxB,CAAT,GAAwC,GAAnD,EAAwD,GAAxD,CAAP;EACD;;EAED,SAAS2P,YAAT,CAAsB6G,KAAtB,EAA6B;EAC3B,MAAI9qB,MAAM,EAAV;EAAA,MAAcnC,IAAI,CAAC,CAAnB;EAAA,MAAsBF,IAAImtB,MAAMpuB,MAAhC;EACA,SAAO,EAAEmB,CAAF,GAAMF,CAAb;EAAgBqC,QAAI8qB,MAAMjtB,CAAN,EAASuQ,WAAT,EAAJ,IAA8BvQ,CAA9B;EAAhB,GACA,OAAOmC,GAAP;EACD;;EAED,SAAS+oB,wBAAT,CAAkC5rB,CAAlC,EAAqCoX,MAArC,EAA6C1W,CAA7C,EAAgD;EAC9C,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE8sB,CAAF,GAAM,CAACtsB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASksB,wBAAT,CAAkCzrB,CAAlC,EAAqCoX,MAArC,EAA6C1W,CAA7C,EAAgD;EAC9C,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEitB,CAAF,GAAM,CAACzsB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASmsB,qBAAT,CAA+B1rB,CAA/B,EAAkCoX,MAAlC,EAA0C1W,CAA1C,EAA6C;EAC3C,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEmtB,CAAF,GAAM,CAAC3sB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASosB,kBAAT,CAA4B3rB,CAA5B,EAA+BoX,MAA/B,EAAuC1W,CAAvC,EAA0C;EACxC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE6sB,CAAF,GAAM,CAACrsB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASssB,qBAAT,CAA+B7rB,CAA/B,EAAkCoX,MAAlC,EAA0C1W,CAA1C,EAA6C;EAC3C,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEktB,CAAF,GAAM,CAAC1sB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAAS0sB,aAAT,CAAuBjsB,CAAvB,EAA0BoX,MAA1B,EAAkC1W,CAAlC,EAAqC;EACnC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE0T,CAAF,GAAM,CAAClT,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASysB,SAAT,CAAmBhsB,CAAnB,EAAsBoX,MAAtB,EAA8B1W,CAA9B,EAAiC;EAC/B,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE0T,CAAF,GAAM,CAAClT,EAAE,CAAF,CAAD,IAAS,CAACA,EAAE,CAAF,CAAD,GAAQ,EAAR,GAAa,IAAb,GAAoB,IAA7B,CAAN,EAA0CE,IAAIF,EAAE,CAAF,EAAKjB,MAAxD,IAAkE,CAAC,CAA1E;EACD;;EAED,SAAS2sB,SAAT,CAAmBlsB,CAAnB,EAAsBoX,MAAtB,EAA8B1W,CAA9B,EAAiC;EAC/B,MAAIF,IAAI,+BAA+B0Q,IAA/B,CAAoCkG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAApC,CAAR;EACA,SAAOF,KAAKR,EAAEotB,CAAF,GAAM5sB,EAAE,CAAF,IAAO,CAAP,GAAW,EAAEA,EAAE,CAAF,KAAQA,EAAE,CAAF,KAAQ,IAAhB,CAAF,CAAjB,EAA2CE,IAAIF,EAAE,CAAF,EAAKjB,MAAzD,IAAmE,CAAC,CAA3E;EACD;;EAED,SAAS4rB,gBAAT,CAA0BnrB,CAA1B,EAA6BoX,MAA7B,EAAqC1W,CAArC,EAAwC;EACtC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE+Q,CAAF,GAAMvQ,EAAE,CAAF,IAAO,CAAb,EAAgBE,IAAIF,EAAE,CAAF,EAAKjB,MAA9B,IAAwC,CAAC,CAAhD;EACD;;EAED,SAASurB,eAAT,CAAyB9qB,CAAzB,EAA4BoX,MAA5B,EAAoC1W,CAApC,EAAuC;EACrC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEA,CAAF,GAAM,CAACQ,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAAS0rB,cAAT,CAAwBjrB,CAAxB,EAA2BoX,MAA3B,EAAmC1W,CAAnC,EAAsC;EACpC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE+Q,CAAF,GAAM,CAAN,EAAS/Q,EAAEA,CAAF,GAAM,CAACQ,EAAE,CAAF,CAAhB,EAAsBE,IAAIF,EAAE,CAAF,EAAKjB,MAApC,IAA8C,CAAC,CAAtD;EACD;;EAED,SAASyrB,WAAT,CAAqBhrB,CAArB,EAAwBoX,MAAxB,EAAgC1W,CAAhC,EAAmC;EACjC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEulB,CAAF,GAAM,CAAC/kB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAAS6rB,YAAT,CAAsBprB,CAAtB,EAAyBoX,MAAzB,EAAiC1W,CAAjC,EAAoC;EAClC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEwlB,CAAF,GAAM,CAAChlB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASisB,YAAT,CAAsBxrB,CAAtB,EAAyBoX,MAAzB,EAAiC1W,CAAjC,EAAoC;EAClC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAEylB,CAAF,GAAM,CAACjlB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAAS2rB,iBAAT,CAA2BlrB,CAA3B,EAA8BoX,MAA9B,EAAsC1W,CAAtC,EAAyC;EACvC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE0lB,CAAF,GAAM,CAACllB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASwrB,iBAAT,CAA2B/qB,CAA3B,EAA8BoX,MAA9B,EAAsC1W,CAAtC,EAAyC;EACvC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE0lB,CAAF,GAAM/kB,KAAKc,KAAL,CAAWjB,EAAE,CAAF,IAAO,IAAlB,CAAN,EAA+BE,IAAIF,EAAE,CAAF,EAAKjB,MAA7C,IAAuD,CAAC,CAA/D;EACD;;EAED,SAAS4sB,mBAAT,CAA6BnsB,CAA7B,EAAgCoX,MAAhC,EAAwC1W,CAAxC,EAA2C;EACzC,MAAIF,IAAIgtB,UAAUtc,IAAV,CAAekG,OAAO3T,KAAP,CAAa/C,CAAb,EAAgBA,IAAI,CAApB,CAAf,CAAR;EACA,SAAOF,IAAIE,IAAIF,EAAE,CAAF,EAAKjB,MAAb,GAAsB,CAAC,CAA9B;EACD;;EAED,SAAS+rB,kBAAT,CAA4BtrB,CAA5B,EAA+BoX,MAA/B,EAAuC1W,CAAvC,EAA0C;EACxC,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE4sB,CAAF,GAAM,CAACpsB,EAAE,CAAF,CAAP,EAAaE,IAAIF,EAAE,CAAF,EAAKjB,MAA3B,IAAqC,CAAC,CAA7C;EACD;;EAED,SAASgsB,yBAAT,CAAmCvrB,CAAnC,EAAsCoX,MAAtC,EAA8C1W,CAA9C,EAAiD;EAC/C,MAAIF,IAAI+sB,SAASrc,IAAT,CAAckG,OAAO3T,KAAP,CAAa/C,CAAb,CAAd,CAAR;EACA,SAAOF,KAAKR,EAAE4sB,CAAF,GAAO,CAACpsB,EAAE,CAAF,CAAF,GAAU,IAAhB,EAAsBE,IAAIF,EAAE,CAAF,EAAKjB,MAApC,IAA8C,CAAC,CAAtD;EACD;;EAED,SAASqoB,gBAAT,CAA0B5nB,CAA1B,EAA6BoC,CAA7B,EAAgC;EAC9B,SAAOiqB,IAAIrsB,EAAEmiB,OAAF,EAAJ,EAAiB/f,CAAjB,EAAoB,CAApB,CAAP;EACD;;EAED,SAAS0lB,YAAT,CAAsB9nB,CAAtB,EAAyBoC,CAAzB,EAA4B;EAC1B,SAAOiqB,IAAIrsB,EAAE8hB,QAAF,EAAJ,EAAkB1f,CAAlB,EAAqB,CAArB,CAAP;EACD;;EAED,SAAS2lB,YAAT,CAAsB/nB,CAAtB,EAAyBoC,CAAzB,EAA4B;EAC1B,SAAOiqB,IAAIrsB,EAAE8hB,QAAF,KAAe,EAAf,IAAqB,EAAzB,EAA6B1f,CAA7B,EAAgC,CAAhC,CAAP;EACD;;EAED,SAAS4lB,eAAT,CAAyBhoB,CAAzB,EAA4BoC,CAA5B,EAA+B;EAC7B,SAAOiqB,IAAI,IAAIW,IAAQ5rB,KAAR,CAAcwsB,KAAS5tB,CAAT,CAAd,EAA2BA,CAA3B,CAAR,EAAuCoC,CAAvC,EAA0C,CAA1C,CAAP;EACD;;EAED,SAAS6lB,kBAAT,CAA4BjoB,CAA5B,EAA+BoC,CAA/B,EAAkC;EAChC,SAAOiqB,IAAIrsB,EAAE6tB,eAAF,EAAJ,EAAyBzrB,CAAzB,EAA4B,CAA5B,CAAP;EACD;;EAED,SAASylB,kBAAT,CAA4B7nB,CAA5B,EAA+BoC,CAA/B,EAAkC;EAChC,SAAO6lB,mBAAmBjoB,CAAnB,EAAsBoC,CAAtB,IAA2B,KAAlC;EACD;;EAED,SAAS8lB,iBAAT,CAA2BloB,CAA3B,EAA8BoC,CAA9B,EAAiC;EAC/B,SAAOiqB,IAAIrsB,EAAEijB,QAAF,KAAe,CAAnB,EAAsB7gB,CAAtB,EAAyB,CAAzB,CAAP;EACD;;EAED,SAAS+lB,aAAT,CAAuBnoB,CAAvB,EAA0BoC,CAA1B,EAA6B;EAC3B,SAAOiqB,IAAIrsB,EAAE0hB,UAAF,EAAJ,EAAoBtf,CAApB,EAAuB,CAAvB,CAAP;EACD;;EAED,SAASmmB,aAAT,CAAuBvoB,CAAvB,EAA0BoC,CAA1B,EAA6B;EAC3B,SAAOiqB,IAAIrsB,EAAE8tB,UAAF,EAAJ,EAAoB1rB,CAApB,EAAuB,CAAvB,CAAP;EACD;;EAED,SAASomB,yBAAT,CAAmCxoB,CAAnC,EAAsC;EACpC,MAAIgiB,SAAMhiB,EAAEsiB,MAAF,EAAV;EACA,SAAON,WAAQ,CAAR,GAAY,CAAZ,GAAgBA,MAAvB;EACD;;EAED,SAASyG,sBAAT,CAAgCzoB,CAAhC,EAAmCoC,CAAnC,EAAsC;EACpC,SAAOiqB,IAAI0B,OAAW3sB,KAAX,CAAiBwsB,KAAS5tB,CAAT,CAAjB,EAA8BA,CAA9B,CAAJ,EAAsCoC,CAAtC,EAAyC,CAAzC,CAAP;EACD;;EAED,SAASsmB,mBAAT,CAA6B1oB,CAA7B,EAAgCoC,CAAhC,EAAmC;EACjC,MAAI4f,SAAMhiB,EAAEsiB,MAAF,EAAV;EACAtiB,MAAKgiB,UAAO,CAAP,IAAYA,WAAQ,CAArB,GAA0BgM,SAAahuB,CAAb,CAA1B,GAA4CguB,SAAantB,IAAb,CAAkBb,CAAlB,CAAhD;EACA,SAAOqsB,IAAI2B,SAAa5sB,KAAb,CAAmBwsB,KAAS5tB,CAAT,CAAnB,EAAgCA,CAAhC,KAAsC4tB,KAAS5tB,CAAT,EAAYsiB,MAAZ,OAAyB,CAA/D,CAAJ,EAAuElgB,CAAvE,EAA0E,CAA1E,CAAP;EACD;;EAED,SAASumB,yBAAT,CAAmC3oB,CAAnC,EAAsC;EACpC,SAAOA,EAAEsiB,MAAF,EAAP;EACD;;EAED,SAASsG,sBAAT,CAAgC5oB,CAAhC,EAAmCoC,CAAnC,EAAsC;EACpC,SAAOiqB,IAAIU,OAAW3rB,KAAX,CAAiBwsB,KAAS5tB,CAAT,CAAjB,EAA8BA,CAA9B,CAAJ,EAAsCoC,CAAtC,EAAyC,CAAzC,CAAP;EACD;;EAED,SAASymB,UAAT,CAAoB7oB,CAApB,EAAuBoC,CAAvB,EAA0B;EACxB,SAAOiqB,IAAIrsB,EAAEkjB,WAAF,KAAkB,GAAtB,EAA2B9gB,CAA3B,EAA8B,CAA9B,CAAP;EACD;;EAED,SAAS0mB,cAAT,CAAwB9oB,CAAxB,EAA2BoC,CAA3B,EAA8B;EAC5B,SAAOiqB,IAAIrsB,EAAEkjB,WAAF,KAAkB,KAAtB,EAA6B9gB,CAA7B,EAAgC,CAAhC,CAAP;EACD;;EAED,SAAS2mB,UAAT,CAAoB/oB,CAApB,EAAuB;EACrB,MAAI4T,IAAI5T,EAAE6hB,iBAAF,EAAR;EACA,SAAO,CAACjO,IAAI,CAAJ,GAAQ,GAAR,IAAeA,KAAK,CAAC,CAAN,EAAS,GAAxB,CAAD,IACDyY,IAAIzY,IAAI,EAAJ,GAAS,CAAb,EAAgB,GAAhB,EAAqB,CAArB,CADC,GAEDyY,IAAIzY,IAAI,EAAR,EAAY,GAAZ,EAAiB,CAAjB,CAFN;EAGD;;EAED,SAAS0V,mBAAT,CAA6BtpB,CAA7B,EAAgCoC,CAAhC,EAAmC;EACjC,SAAOiqB,IAAIrsB,EAAEkkB,UAAF,EAAJ,EAAoB9hB,CAApB,EAAuB,CAAvB,CAAP;EACD;;EAED,SAASonB,eAAT,CAAyBxpB,CAAzB,EAA4BoC,CAA5B,EAA+B;EAC7B,SAAOiqB,IAAIrsB,EAAE6jB,WAAF,EAAJ,EAAqBzhB,CAArB,EAAwB,CAAxB,CAAP;EACD;;EAED,SAASqnB,eAAT,CAAyBzpB,CAAzB,EAA4BoC,CAA5B,EAA+B;EAC7B,SAAOiqB,IAAIrsB,EAAE6jB,WAAF,KAAkB,EAAlB,IAAwB,EAA5B,EAAgCzhB,CAAhC,EAAmC,CAAnC,CAAP;EACD;;EAED,SAASsnB,kBAAT,CAA4B1pB,CAA5B,EAA+BoC,CAA/B,EAAkC;EAChC,SAAOiqB,IAAI,IAAItI,OAAO3iB,KAAP,CAAa+jB,QAAQnlB,CAAR,CAAb,EAAyBA,CAAzB,CAAR,EAAqCoC,CAArC,EAAwC,CAAxC,CAAP;EACD;;EAED,SAASunB,qBAAT,CAA+B3pB,CAA/B,EAAkCoC,CAAlC,EAAqC;EACnC,SAAOiqB,IAAIrsB,EAAEiuB,kBAAF,EAAJ,EAA4B7rB,CAA5B,EAA+B,CAA/B,CAAP;EACD;;EAED,SAASmnB,qBAAT,CAA+BvpB,CAA/B,EAAkCoC,CAAlC,EAAqC;EACnC,SAAOunB,sBAAsB3pB,CAAtB,EAAyBoC,CAAzB,IAA8B,KAArC;EACD;;EAED,SAASwnB,oBAAT,CAA8B5pB,CAA9B,EAAiCoC,CAAjC,EAAoC;EAClC,SAAOiqB,IAAIrsB,EAAEglB,WAAF,KAAkB,CAAtB,EAAyB5iB,CAAzB,EAA4B,CAA5B,CAAP;EACD;;EAED,SAASynB,gBAAT,CAA0B7pB,CAA1B,EAA6BoC,CAA7B,EAAgC;EAC9B,SAAOiqB,IAAIrsB,EAAEyjB,aAAF,EAAJ,EAAuBrhB,CAAvB,EAA0B,CAA1B,CAAP;EACD;;EAED,SAAS2nB,gBAAT,CAA0B/pB,CAA1B,EAA6BoC,CAA7B,EAAgC;EAC9B,SAAOiqB,IAAIrsB,EAAEuhB,aAAF,EAAJ,EAAuBnf,CAAvB,EAA0B,CAA1B,CAAP;EACD;;EAED,SAAS4nB,4BAAT,CAAsChqB,CAAtC,EAAyC;EACvC,MAAIkuB,MAAMluB,EAAEqkB,SAAF,EAAV;EACA,SAAO6J,QAAQ,CAAR,GAAY,CAAZ,GAAgBA,GAAvB;EACD;;EAED,SAASjE,yBAAT,CAAmCjqB,CAAnC,EAAsCoC,CAAtC,EAAyC;EACvC,SAAOiqB,IAAI/H,UAAUljB,KAAV,CAAgB+jB,QAAQnlB,CAAR,CAAhB,EAA4BA,CAA5B,CAAJ,EAAoCoC,CAApC,EAAuC,CAAvC,CAAP;EACD;;EAED,SAAS8nB,sBAAT,CAAgClqB,CAAhC,EAAmCoC,CAAnC,EAAsC;EACpC,MAAI4f,SAAMhiB,EAAEqkB,SAAF,EAAV;EACArkB,MAAKgiB,UAAO,CAAP,IAAYA,WAAQ,CAArB,GAA0B0C,YAAY1kB,CAAZ,CAA1B,GAA2C0kB,YAAY7jB,IAAZ,CAAiBb,CAAjB,CAA/C;EACA,SAAOqsB,IAAI3H,YAAYtjB,KAAZ,CAAkB+jB,QAAQnlB,CAAR,CAAlB,EAA8BA,CAA9B,KAAoCmlB,QAAQnlB,CAAR,EAAWqkB,SAAX,OAA2B,CAA/D,CAAJ,EAAuEjiB,CAAvE,EAA0E,CAA1E,CAAP;EACD;;EAED,SAAS+nB,4BAAT,CAAsCnqB,CAAtC,EAAyC;EACvC,SAAOA,EAAEqkB,SAAF,EAAP;EACD;;EAED,SAAS+F,yBAAT,CAAmCpqB,CAAnC,EAAsCoC,CAAtC,EAAyC;EACvC,SAAOiqB,IAAI9H,UAAUnjB,KAAV,CAAgB+jB,QAAQnlB,CAAR,CAAhB,EAA4BA,CAA5B,CAAJ,EAAoCoC,CAApC,EAAuC,CAAvC,CAAP;EACD;;EAED,SAASioB,aAAT,CAAuBrqB,CAAvB,EAA0BoC,CAA1B,EAA6B;EAC3B,SAAOiqB,IAAIrsB,EAAEilB,cAAF,KAAqB,GAAzB,EAA8B7iB,CAA9B,EAAiC,CAAjC,CAAP;EACD;;EAED,SAASkoB,iBAAT,CAA2BtqB,CAA3B,EAA8BoC,CAA9B,EAAiC;EAC/B,SAAOiqB,IAAIrsB,EAAEilB,cAAF,KAAqB,KAAzB,EAAgC7iB,CAAhC,EAAmC,CAAnC,CAAP;EACD;;EAED,SAASmoB,aAAT,GAAyB;EACvB,SAAO,OAAP;EACD;;EAED,SAASvB,oBAAT,GAAgC;EAC9B,SAAO,GAAP;EACD;;EAED,SAASX,mBAAT,CAA6BroB,CAA7B,EAAgC;EAC9B,SAAO,CAACA,CAAR;EACD;;EAED,SAASsoB,0BAAT,CAAoCtoB,CAApC,EAAuC;EACrC,SAAOW,KAAKc,KAAL,CAAW,CAACzB,CAAD,GAAK,IAAhB,CAAP;EACD;;EC7nBD,IAAIke,QAAJ;AACA,EAAO,IAAIiQ,UAAJ;AACP,EAAO,IAAIC,SAAJ;AACP,EAAO,IAAIf,SAAJ;AACP,EAAO,IAAIC,QAAJ;;AAEPhO,kBAAc;EACZyG,YAAU,QADE;EAEZ1O,QAAM,YAFM;EAGZ6O,QAAM,cAHM;EAIZE,WAAS,CAAC,IAAD,EAAO,IAAP,CAJG;EAKZhE,QAAM,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CALM;EAMZmE,aAAW,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CANC;EAOZpD,UAAQ,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAPI;EAQZuD,eAAa,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E;EARD,CAAd;;AAWA,EAAe,SAASpH,eAAT,CAAuBrZ,UAAvB,EAAmC;EAChDiY,aAASqB,eAAatZ,UAAb,CAAT;EACAkoB,eAAajQ,SAAOpN,MAApB;EACAsd,cAAYlQ,SAAOzE,KAAnB;EACA4T,cAAYnP,SAAOmP,SAAnB;EACAC,aAAWpP,SAAOoP,QAAlB;EACA,SAAOpP,QAAP;EACD;;ECxBM,IAAImQ,eAAe,uBAAnB;;EAEP,SAASC,eAAT,CAAyBjX,IAAzB,EAA+B;EAC7B,WAAOA,KAAKkX,WAAL,EAAP;EACD;;EAED,IAAIC,YAAYlY,KAAK1T,SAAL,CAAe2rB,WAAf,GACVD,eADU,GAEVjB,UAAUgB,YAAV,CAFN;;ECLA,SAASI,cAAT,CAAwBrX,MAAxB,EAAgC;EAC9B,MAAIC,OAAO,IAAIf,IAAJ,CAASc,MAAT,CAAX;EACA,SAAOtF,MAAMuF,IAAN,IAAc,IAAd,GAAqBA,IAA5B;EACD;;EAED,IAAIqX,WAAW,CAAC,IAAIpY,IAAJ,CAAS,0BAAT,CAAD,GACTmY,cADS,GAETnB,SAASe,YAAT,CAFN;;ECAA,IAAIpN,mBAAiB,IAArB;EAAA,IACIC,mBAAiBD,mBAAiB,EADtC;EAAA,IAEIE,iBAAeD,mBAAiB,EAFpC;EAAA,IAGIE,gBAAcD,iBAAe,EAHjC;EAAA,IAIIE,iBAAeD,gBAAc,CAJjC;EAAA,IAKIuN,gBAAgBvN,gBAAc,EALlC;EAAA,IAMIwN,eAAexN,gBAAc,GANjC;;EAQA,SAAS/J,MAAT,CAAcrD,CAAd,EAAiB;EACf,SAAO,IAAIsC,IAAJ,CAAStC,CAAT,CAAP;EACD;;EAED,SAAS1R,QAAT,CAAgB0R,CAAhB,EAAmB;EACjB,SAAOA,aAAasC,IAAb,GAAoB,CAACtC,CAArB,GAAyB,CAAC,IAAIsC,IAAJ,CAAS,CAACtC,CAAV,CAAjC;EACD;;AAED,EAAO,SAAS6a,QAAT,CAAkBzL,OAAlB,EAAwBL,QAAxB,EAA+B4J,IAA/B,EAAqC3K,MAArC,EAA0CJ,OAA1C,EAAgDH,SAAhD,EAAwDH,SAAxD,EAAgEP,cAAhE,EAA6EjQ,MAA7E,EAAqF;EAC1F,MAAIlM,QAAQ+W,WAAWd,mBAAX,EAA0BE,iBAA1B,CAAZ;EAAA,MACIiB,SAASpX,MAAMoX,MADnB;EAAA,MAEIvX,SAASG,MAAMH,MAFnB;;EAIA,MAAIqqB,oBAAoBhe,OAAO,KAAP,CAAxB;EAAA,MACIie,eAAeje,OAAO,KAAP,CADnB;EAAA,MAEIke,eAAele,OAAO,OAAP,CAFnB;EAAA,MAGIme,aAAane,OAAO,OAAP,CAHjB;EAAA,MAIIoe,YAAYpe,OAAO,OAAP,CAJhB;EAAA,MAKIqe,aAAare,OAAO,OAAP,CALjB;EAAA,MAMI6W,cAAc7W,OAAO,IAAP,CANlB;EAAA,MAOI+X,aAAa/X,OAAO,IAAP,CAPjB;;EASA,MAAIse,gBAAgB,CAClB,CAAC9N,SAAD,EAAU,CAAV,EAAkBL,gBAAlB,CADkB,EAElB,CAACK,SAAD,EAAU,CAAV,EAAc,IAAIL,gBAAlB,CAFkB,EAGlB,CAACK,SAAD,EAAS,EAAT,EAAa,KAAKL,gBAAlB,CAHkB,EAIlB,CAACK,SAAD,EAAS,EAAT,EAAa,KAAKL,gBAAlB,CAJkB,EAKlB,CAACQ,SAAD,EAAU,CAAV,EAAkBP,gBAAlB,CALkB,EAMlB,CAACO,SAAD,EAAU,CAAV,EAAc,IAAIP,gBAAlB,CANkB,EAOlB,CAACO,SAAD,EAAS,EAAT,EAAa,KAAKP,gBAAlB,CAPkB,EAQlB,CAACO,SAAD,EAAS,EAAT,EAAa,KAAKP,gBAAlB,CARkB,EASlB,CAAGU,OAAH,EAAU,CAAV,EAAkBT,cAAlB,CATkB,EAUlB,CAAGS,OAAH,EAAU,CAAV,EAAc,IAAIT,cAAlB,CAVkB,EAWlB,CAAGS,OAAH,EAAU,CAAV,EAAc,IAAIT,cAAlB,CAXkB,EAYlB,CAAGS,OAAH,EAAS,EAAT,EAAa,KAAKT,cAAlB,CAZkB,EAalB,CAAIa,MAAJ,EAAU,CAAV,EAAkBZ,aAAlB,CAbkB,EAclB,CAAIY,MAAJ,EAAU,CAAV,EAAc,IAAIZ,aAAlB,CAdkB,EAelB,CAAGuL,IAAH,EAAU,CAAV,EAAkBtL,cAAlB,CAfkB,EAgBlB,CAAE0B,QAAF,EAAU,CAAV,EAAkB4L,aAAlB,CAhBkB,EAiBlB,CAAE5L,QAAF,EAAU,CAAV,EAAc,IAAI4L,aAAlB,CAjBkB,EAkBlB,CAAGvL,OAAH,EAAU,CAAV,EAAkBwL,YAAlB,CAlBkB,CAApB;;EAqBA,WAAShP,UAAT,CAAoBvI,OAApB,EAA0B;EACxB,WAAO,CAACiK,UAAOjK,OAAP,IAAeA,OAAf,GAAsByX,iBAAtB,GACFrN,UAAOpK,OAAP,IAAeA,OAAf,GAAsB0X,YAAtB,GACAnN,QAAKvK,OAAL,IAAaA,OAAb,GAAoB2X,YAApB,GACAhN,OAAI3K,OAAJ,IAAYA,OAAZ,GAAmB4X,UAAnB,GACAlM,SAAM1L,OAAN,IAAcA,OAAd,GAAsBsV,KAAKtV,OAAL,IAAaA,OAAb,GAAoB6X,SAApB,GAAgCC,UAAtD,GACA/L,QAAK/L,OAAL,IAAaA,OAAb,GAAoBsQ,WAApB,GACAkB,UANC,EAMWxR,OANX,CAAP;EAOD;;EAED,WAASgY,YAAT,CAAsBvP,QAAtB,EAAgCzf,KAAhC,EAAuCC,IAAvC,EAA6CC,IAA7C,EAAmD;EACjD,QAAIuf,YAAY,IAAhB,EAAsBA,WAAW,EAAX;;EAEtB;EACA;EACA;EACA,QAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;EAChC,UAAItE,SAAS7a,KAAKsB,GAAL,CAAS3B,OAAOD,KAAhB,IAAyByf,QAAtC;EAAA,UACIpf,IAAIP,SAAS,UAASO,CAAT,EAAY;EAAE,eAAOA,EAAE,CAAF,CAAP;EAAc,OAArC,EAAuCZ,KAAvC,CAA6CsvB,aAA7C,EAA4D5T,MAA5D,CADR;EAEA,UAAI9a,MAAM0uB,cAAc7vB,MAAxB,EAAgC;EAC9BgB,eAAOwB,SAAS1B,QAAQuuB,YAAjB,EAA+BtuB,OAAOsuB,YAAtC,EAAoD9O,QAApD,CAAP;EACAA,mBAAWsD,OAAX;EACD,OAHD,MAGO,IAAI1iB,CAAJ,EAAO;EACZA,YAAI0uB,cAAc5T,SAAS4T,cAAc1uB,IAAI,CAAlB,EAAqB,CAArB,CAAT,GAAmC0uB,cAAc1uB,CAAd,EAAiB,CAAjB,IAAsB8a,MAAzD,GAAkE9a,IAAI,CAAtE,GAA0EA,CAAxF,CAAJ;EACAH,eAAOG,EAAE,CAAF,CAAP;EACAof,mBAAWpf,EAAE,CAAF,CAAX;EACD,OAJM,MAIA;EACLH,eAAOI,KAAKC,GAAL,CAASmB,SAAS1B,KAAT,EAAgBC,IAAhB,EAAsBwf,QAAtB,CAAT,EAA0C,CAA1C,CAAP;EACAA,mBAAWiB,cAAX;EACD;EACF;;EAED,WAAOxgB,QAAQ,IAAR,GAAeuf,QAAf,GAA0BA,SAASgB,KAAT,CAAevgB,IAAf,CAAjC;EACD;;EAEDqE,QAAMoX,MAAN,GAAe,UAAStI,CAAT,EAAY;EACzB,WAAO,IAAI4C,IAAJ,CAAS0F,OAAOtI,CAAP,CAAT,CAAP;EACD,GAFD;;EAIA9O,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,GAAmBkF,OAAO5B,MAAI8B,IAAJ,CAASE,CAAT,EAAYvC,QAAZ,CAAP,CAAnB,GAAiDmC,SAAS5B,GAAT,CAAawU,MAAb,CAAxD;EACD,GAFD;;EAIAzS,QAAMtD,KAAN,GAAc,UAASwe,QAAT,EAAmBvf,IAAnB,EAAyB;EACrC,QAAIP,IAAIyE,QAAR;EAAA,QACIsO,KAAK/S,EAAE,CAAF,CADT;EAAA,QAEIgT,KAAKhT,EAAEA,EAAET,MAAF,GAAW,CAAb,CAFT;EAAA,QAGIkS,IAAIuB,KAAKD,EAHb;EAAA,QAIIiB,CAJJ;EAKA,QAAIvC,CAAJ,EAAOuC,IAAIjB,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAKgB,CAAtB;EACPA,QAAIqb,aAAavP,QAAb,EAAuB/M,EAAvB,EAA2BC,EAA3B,EAA+BzS,IAA/B,CAAJ;EACAyT,QAAIA,IAAIA,EAAElT,KAAF,CAAQiS,EAAR,EAAYC,KAAK,CAAjB,CAAJ,GAA0B,EAA9B,CARqC;EASrC,WAAOvB,IAAIuC,EAAE3S,OAAF,EAAJ,GAAkB2S,CAAzB;EACD,GAVD;;EAYApP,QAAMgb,UAAN,GAAmB,UAASxe,KAAT,EAAgB0b,SAAhB,EAA2B;EAC5C,WAAOA,aAAa,IAAb,GAAoB8C,UAApB,GAAiC9O,OAAOgM,SAAP,CAAxC;EACD,GAFD;;EAIAlY,QAAMib,IAAN,GAAa,UAASC,QAAT,EAAmBvf,IAAnB,EAAyB;EACpC,QAAIP,IAAIyE,QAAR;EACA,WAAO,CAACqb,WAAWuP,aAAavP,QAAb,EAAuB9f,EAAE,CAAF,CAAvB,EAA6BA,EAAEA,EAAET,MAAF,GAAW,CAAb,CAA7B,EAA8CgB,IAA9C,CAAZ,IACDkE,OAAOob,KAAK7f,CAAL,EAAQ8f,QAAR,CAAP,CADC,GAEDlb,KAFN;EAGD,GALD;;EAOAA,QAAME,IAAN,GAAa,YAAW;EACtB,WAAOA,KAAKF,KAAL,EAAYiqB,SAASzL,OAAT,EAAeL,QAAf,EAAsB4J,IAAtB,EAA4B3K,MAA5B,EAAiCJ,OAAjC,EAAuCH,SAAvC,EAA+CH,SAA/C,EAAuDP,cAAvD,EAAoEjQ,MAApE,CAAZ,CAAP;EACD,GAFD;;EAIA,SAAOlM,KAAP;EACD;;AAED,EAAe,sBAAW;EACxB,SAAOiqB,SAASjB,IAAT,EAAmB0B,KAAnB,EAA8BC,MAA9B,EAAwCvC,GAAxC,EAAiDwC,IAAjD,EAA2DC,MAA3D,EAAuEC,MAAvE,EAAmFC,WAAnF,EAAoGxB,UAApG,EAAgH1pB,MAAhH,CAAuH,CAAC,IAAI6R,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB,IAAIA,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAvB,CAAvH,CAAP;EACD;;ECpIc,SAASsZ,UAAT,CAAoBC,YAApB,EAAkC;EAC/C,MAAI9P,KAAK,CAAT;EAAA,MACIC,KAAK,CADT;EAAA,MAEI8P,MAAM,CAFV;EAAA,MAGIpU,QAAQ,KAHZ;;EAKA,WAAS9W,KAAT,CAAelF,CAAf,EAAkB;EAChB,QAAIsU,IAAI,CAACtU,IAAIqgB,EAAL,IAAW+P,GAAnB;EACA,WAAOD,aAAanU,QAAQ/a,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAAS,CAAT,EAAYqO,CAAZ,CAAZ,CAAR,GAAsCA,CAAnD,CAAP;EACD;;EAEDpP,QAAMH,MAAN,GAAe,UAASI,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBwgB,KAAK,CAAClb,EAAE,CAAF,CAAN,EAAYmb,KAAK,CAACnb,EAAE,CAAF,CAAlB,EAAwBirB,MAAM/P,OAAOC,EAAP,GAAY,CAAZ,GAAgB,KAAKA,KAAKD,EAAV,CAA9C,EAA6Dnb,KAAjF,IAA0F,CAACmb,EAAD,EAAKC,EAAL,CAAjG;EACD,GAFD;;EAIApb,QAAM8W,KAAN,GAAc,UAAS7W,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoBmc,QAAQ,CAAC,CAAC7W,CAAV,EAAaD,KAAjC,IAA0C8W,KAAjD;EACD,GAFD;;EAIA9W,QAAMirB,YAAN,GAAqB,UAAShrB,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoBswB,eAAehrB,CAAf,EAAkBD,KAAtC,IAA+CirB,YAAtD;EACD,GAFD;;EAIAjrB,QAAME,IAAN,GAAa,YAAW;EACtB,WAAO8qB,WAAWC,YAAX,EAAyBprB,MAAzB,CAAgC,CAACsb,EAAD,EAAKC,EAAL,CAAhC,EAA0CtE,KAA1C,CAAgDA,KAAhD,CAAP;EACD,GAFD;;EAIA,SAAOiE,UAAU/a,KAAV,CAAP;EACD;;EC9Bc,iBAASkY,SAAT,EAAoB;EACjC,MAAItc,IAAIsc,UAAUvd,MAAV,GAAmB,CAAnB,GAAuB,CAA/B;EAAA,MAAkC2W,SAAS,IAAInV,KAAJ,CAAUP,CAAV,CAA3C;EAAA,MAAyDE,IAAI,CAA7D;EACA,SAAOA,IAAIF,CAAX;EAAc0V,WAAOxV,CAAP,IAAY,MAAMoc,UAAUrZ,KAAV,CAAgB/C,IAAI,CAApB,EAAuB,EAAEA,CAAF,GAAM,CAA7B,CAAlB;EAAd,GACA,OAAOwV,MAAP;EACD;;ACFD,yBAAeA,OAAO,8DAAP,CAAf;;ACAA,qBAAeA,OAAO,kDAAP,CAAf;;ACAA,oBAAeA,OAAO,kDAAP,CAAf;;ACAA,qBAAeA,OAAO,0EAAP,CAAf;;ACAA,sBAAeA,OAAO,wDAAP,CAAf;;ACAA,sBAAeA,OAAO,kDAAP,CAAf;;ACAA,mBAAeA,OAAO,wDAAP,CAAf;;ACAA,mBAAeA,OAAO,kDAAP,CAAf;;ACAA,mBAAeA,OAAO,0EAAP,CAAf;;ECAe,eAAS6Z,MAAT,EAAiB;EAC9B,SAAOC,SAAoBD,OAAOA,OAAOxwB,MAAP,GAAgB,CAAvB,CAApB,CAAP;EACD;;ECDM,IAAIwwB,SAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,MAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,wBAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,0BAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,0BAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlBptB,GAVkB,CAUdqT,MAVc,CAAb;;AAYP,4BAAega,KAAKH,QAAL,CAAf;;ECZO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,0BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,0BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,0BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,0BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,yBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,0BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,yBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,2BAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,wBAAega,KAAKH,QAAL,CAAf;;ECVO,IAAIA,WAAS,IAAIhvB,KAAJ,CAAU,CAAV,EAAakvB,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlBptB,GARkB,CAQdqT,MARc,CAAb;;AAUP,2BAAega,KAAKH,QAAL,CAAf;;ACVA,oCAAeI,cAAyBpb,UAAU,GAAV,EAAe,GAAf,EAAoB,GAApB,CAAzB,EAAmDA,UAAU,CAAC,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAnD,CAAf;;ECAO,IAAIqb,OAAOD,cAAyBpb,UAAU,CAAC,GAAX,EAAgB,IAAhB,EAAsB,IAAtB,CAAzB,EAAsDA,UAAU,EAAV,EAAc,IAAd,EAAoB,GAApB,CAAtD,CAAX;;AAEP,EAAO,IAAIsb,OAAOF,cAAyBpb,UAAU,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAzB,EAAqDA,UAAU,EAAV,EAAc,IAAd,EAAoB,GAApB,CAArD,CAAX;;EAEP,IAAIxB,IAAIwB,WAAR;;AAEA,EAAe,6BAASf,CAAT,EAAY;EACzB,MAAIA,IAAI,CAAJ,IAASA,IAAI,CAAjB,EAAoBA,KAAKrT,KAAKc,KAAL,CAAWuS,CAAX,CAAL;EACpB,MAAIsc,KAAK3vB,KAAKsB,GAAL,CAAS+R,IAAI,GAAb,CAAT;EACAT,IAAExB,CAAF,GAAM,MAAMiC,CAAN,GAAU,GAAhB;EACAT,IAAEvB,CAAF,GAAM,MAAM,MAAMse,EAAlB;EACA/c,IAAEtB,CAAF,GAAM,MAAM,MAAMqe,EAAlB;EACA,SAAO/c,IAAI,EAAX;EACD;;ECdD,IAAIA,MAAI5C,KAAR;EAAA,IACI4f,SAAS5vB,KAAK8R,EAAL,GAAU,CADvB;EAAA,IAEI+d,SAAS7vB,KAAK8R,EAAL,GAAU,CAAV,GAAc,CAF3B;;ECAA,SAASyd,MAAT,CAAcpvB,KAAd,EAAqB;EACnB,MAAIN,IAAIM,MAAMvB,MAAd;EACA,SAAO,UAASyU,CAAT,EAAY;EACjB,WAAOlT,MAAMH,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKgF,GAAL,CAASnF,IAAI,CAAb,EAAgBG,KAAKc,KAAL,CAAWuS,IAAIxT,CAAf,CAAhB,CAAZ,CAAN,CAAP;EACD,GAFD;EAGD;;AAED,2BAAe0vB,OAAKha,OAAO,kgDAAP,CAAL,CAAf;;AAEA,EAAO,IAAIua,QAAQP,OAAKha,OAAO,kgDAAP,CAAL,CAAZ;;AAEP,EAAO,IAAIwa,UAAUR,OAAKha,OAAO,kgDAAP,CAAL,CAAd;;AAEP,EAAO,IAAIya,SAAST,OAAKha,OAAO,kgDAAP,CAAL,CAAb;;ECfQ,sBAAS/W,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAaC,GAA7C;EACD;;ECAc,qBAASC,OAAT,EAAkB;EAC/B,MAAIA,QAAQC,MAAR,KAAmB,CAAvB,EAA0BD,UAAUE,sBAAoBF,OAApB,CAAV;EAC1B,SAAO;EACLG,UAAM,cAASN,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC3B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BC,KAAKE,MAAM,CAAX,CAA5B,KACKD,KAAKC,GAAL;EACN;EACD,aAAOF,EAAP;EACD,KAVI;EAWLG,WAAO,eAASX,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC5B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BE,KAAKC,GAAL,CAA5B,KACKF,KAAKE,MAAM,CAAX;EACN;EACD,aAAOF,EAAP;EACD;EApBI,GAAP;EAsBD;;EAED,SAASH,qBAAT,CAA6BO,CAA7B,EAAgC;EAC9B,SAAO,UAASC,CAAT,EAAYN,CAAZ,EAAe;EACpB,WAAOO,YAAUF,EAAEC,CAAF,CAAV,EAAgBN,CAAhB,CAAP;EACD,GAFD;EAGD;;EC7BD,IAAIQ,oBAAkBC,WAASF,WAAT,CAAtB;;ECHe,mBAASkC,MAAT,EAAiBE,OAAjB,EAA0B;EACvC,MAAI7B,IAAI2B,OAAO5C,MAAf;EAAA,MACImB,IAAI,CAAC,CADT;EAAA,MAEIyC,KAFJ;EAAA,MAGIwC,GAHJ;EAAA,MAII/E,GAJJ;;EAMA,MAAIyB,WAAW,IAAf,EAAqB;EACnB,WAAO,EAAE3B,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAAvB,IAA+ByC,SAASA,KAA5C,EAAmD;EACjDwC,cAAM/E,MAAMuC,KAAZ;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAA3B,EAAiC;EAC/B,gBAAIiF,MAAMxC,KAAV,EAAiBwC,MAAMxC,KAAN;EACjB,gBAAIvC,MAAMuC,KAAV,EAAiBvC,MAAMuC,KAAN;EAClB;EACF;EACF;EACF;EACF,GAZD,MAcK;EACH,WAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDgB,SAASA,KAAhE,EAAuE;EACrEwC,cAAM/E,MAAMuC,KAAZ;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA/C,EAAqD;EACnD,gBAAIwD,MAAMxC,KAAV,EAAiBwC,MAAMxC,KAAN;EACjB,gBAAIvC,MAAMuC,KAAV,EAAiBvC,MAAMuC,KAAN;EAClB;EACF;EACF;EACF;EACF;;EAED,SAAO,CAACwC,GAAD,EAAM/E,GAAN,CAAP;EACD;;ECpCc,kBAASP,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;EACzCF,UAAQ,CAACA,KAAT,EAAgBC,OAAO,CAACA,IAAxB,EAA8BC,OAAO,CAACC,IAAIC,UAAUlB,MAAf,IAAyB,CAAzB,IAA8Be,OAAOD,KAAP,EAAcA,QAAQ,CAAtB,EAAyB,CAAvD,IAA4DG,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAACD,IAA9G;;EAEA,MAAIG,IAAI,CAAC,CAAT;EAAA,MACIF,IAAIG,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKE,IAAL,CAAU,CAACP,OAAOD,KAAR,IAAiBE,IAA3B,CAAZ,IAAgD,CADxD;EAAA,MAEIO,QAAQ,IAAIC,KAAJ,CAAUP,CAAV,CAFZ;;EAIA,SAAO,EAAEE,CAAF,GAAMF,CAAb,EAAgB;EACdM,UAAMJ,CAAN,IAAWL,QAAQK,IAAIH,IAAvB;EACD;;EAED,SAAOO,KAAP;EACD;;ECZc,gBAASqB,MAAT,EAAiBE,OAAjB,EAA0B;EACvC,MAAI7B,IAAI2B,OAAO5C,MAAf;EAAA,MACImB,IAAI,CAAC,CADT;EAAA,MAEIyC,KAFJ;EAAA,MAGIvC,GAHJ;;EAKA,MAAIyB,WAAW,IAAf,EAAqB;EACnB,WAAO,EAAE3B,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAAvB,IAA+ByC,SAASA,KAA5C,EAAmD;EACjDvC,cAAMuC,KAAN;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAAvB,IAA+ByC,QAAQvC,GAA3C,EAAgD;EAC9CA,kBAAMuC,KAAN;EACD;EACF;EACF;EACF;EACF,GAXD,MAaK;EACH,WAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDgB,SAASA,KAAhE,EAAuE;EACrEvC,cAAMuC,KAAN;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDgB,QAAQvC,GAA/D,EAAoE;EAClEA,kBAAMuC,KAAN;EACD;EACF;EACF;EACF;EACF;;EAED,SAAOvC,GAAP;EACD;;ECjCc,gBAASuB,MAAT,EAAiBE,OAAjB,EAA0B;EACvC,MAAI7B,IAAI2B,OAAO5C,MAAf;EAAA,MACImB,IAAI,CAAC,CADT;EAAA,MAEIyC,KAFJ;EAAA,MAGIwC,GAHJ;;EAKA,MAAItD,WAAW,IAAf,EAAqB;EACnB,WAAO,EAAE3B,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAAvB,IAA+ByC,SAASA,KAA5C,EAAmD;EACjDwC,cAAMxC,KAAN;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQhB,OAAOzB,CAAP,CAAT,KAAuB,IAAvB,IAA+BiF,MAAMxC,KAAzC,EAAgD;EAC9CwC,kBAAMxC,KAAN;EACD;EACF;EACF;EACF;EACF,GAXD,MAaK;EACH,WAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,UAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDgB,SAASA,KAAhE,EAAuE;EACrEwC,cAAMxC,KAAN;EACA,eAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EAAE;EAChB,cAAI,CAAC2C,QAAQd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDwD,MAAMxC,KAA7D,EAAoE;EAClEwC,kBAAMxC,KAAN;EACD;EACF;EACF;EACF;EACF;;EAED,SAAOwC,GAAP;EACD;;ECjCc,gBAASxD,MAAT,EAAiBE,OAAjB,EAA0B;EACvC,MAAI7B,IAAI2B,OAAO5C,MAAf;EAAA,MACImB,IAAI,CAAC,CADT;EAAA,MAEIyC,KAFJ;EAAA,MAGIytB,MAAM,CAHV;;EAKA,MAAIvuB,WAAW,IAAf,EAAqB;EACnB,WAAO,EAAE3B,CAAF,GAAMF,CAAb,EAAgB;EACd,UAAI2C,QAAQ,CAAChB,OAAOzB,CAAP,CAAb,EAAwBkwB,OAAOztB,KAAP,CADV;EAEf;EACF,GAJD,MAMK;EACH,WAAO,EAAEzC,CAAF,GAAMF,CAAb,EAAgB;EACd,UAAI2C,QAAQ,CAACd,QAAQF,OAAOzB,CAAP,CAAR,EAAmBA,CAAnB,EAAsByB,MAAtB,CAAb,EAA4CyuB,OAAOztB,KAAP;EAC7C;EACF;;EAED,SAAOytB,GAAP;EACD;;ECnBD,IAAIC,OAAO,EAAC1tB,OAAO,iBAAW,EAAnB,EAAX;;EAEA,SAAS2tB,QAAT,GAAoB;EAClB,OAAK,IAAIpwB,IAAI,CAAR,EAAWF,IAAIC,UAAUlB,MAAzB,EAAiCsF,IAAI,EAArC,EAAyCmP,CAA9C,EAAiDtT,IAAIF,CAArD,EAAwD,EAAEE,CAA1D,EAA6D;EAC3D,QAAI,EAAEsT,IAAIvT,UAAUC,CAAV,IAAe,EAArB,KAA6BsT,KAAKnP,CAAtC,EAA0C,MAAM,IAAIoY,KAAJ,CAAU,mBAAmBjJ,CAA7B,CAAN;EAC1CnP,MAAEmP,CAAF,IAAO,EAAP;EACD;EACD,SAAO,IAAI+c,QAAJ,CAAalsB,CAAb,CAAP;EACD;;EAED,SAASksB,QAAT,CAAkBlsB,CAAlB,EAAqB;EACnB,OAAKA,CAAL,GAASA,CAAT;EACD;;EAED,SAASmsB,cAAT,CAAwBC,SAAxB,EAAmCC,KAAnC,EAA0C;EACxC,SAAOD,UAAUjgB,IAAV,GAAiBgI,KAAjB,CAAuB,OAAvB,EAAgCnW,GAAhC,CAAoC,UAASmR,CAAT,EAAY;EACrD,QAAI1P,OAAO,EAAX;EAAA,QAAe5D,IAAIsT,EAAEmI,OAAF,CAAU,GAAV,CAAnB;EACA,QAAIzb,KAAK,CAAT,EAAY4D,OAAO0P,EAAEvQ,KAAF,CAAQ/C,IAAI,CAAZ,CAAP,EAAuBsT,IAAIA,EAAEvQ,KAAF,CAAQ,CAAR,EAAW/C,CAAX,CAA3B;EACZ,QAAIsT,KAAK,CAACkd,MAAM1f,cAAN,CAAqBwC,CAArB,CAAV,EAAmC,MAAM,IAAIiJ,KAAJ,CAAU,mBAAmBjJ,CAA7B,CAAN;EACnC,WAAO,EAACuJ,MAAMvJ,CAAP,EAAU1P,MAAMA,IAAhB,EAAP;EACD,GALM,CAAP;EAMD;;EAEDysB,SAASnuB,SAAT,GAAqBkuB,SAASluB,SAAT,GAAqB;EACxCE,eAAaiuB,QAD2B;EAExCI,MAAI,YAASC,QAAT,EAAmBC,QAAnB,EAA6B;EAC/B,QAAIxsB,IAAI,KAAKA,CAAb;EAAA,QACIysB,IAAIN,eAAeI,WAAW,EAA1B,EAA8BvsB,CAA9B,CADR;EAAA,QAEImP,CAFJ;EAAA,QAGItT,IAAI,CAAC,CAHT;EAAA,QAIIF,IAAI8wB,EAAE/xB,MAJV;;EAMA;EACA,QAAIkB,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B;EACxB,aAAO,EAAEmB,CAAF,GAAMF,CAAb;EAAgB,YAAI,CAACwT,IAAI,CAACod,WAAWE,EAAE5wB,CAAF,CAAZ,EAAkB6c,IAAvB,MAAiCvJ,IAAI/Q,MAAI4B,EAAEmP,CAAF,CAAJ,EAAUod,SAAS9sB,IAAnB,CAArC,CAAJ,EAAoE,OAAO0P,CAAP;EAApF,OACA;EACD;;EAED;EACA;EACA,QAAIqd,YAAY,IAAZ,IAAoB,OAAOA,QAAP,KAAoB,UAA5C,EAAwD,MAAM,IAAIpU,KAAJ,CAAU,uBAAuBoU,QAAjC,CAAN;EACxD,WAAO,EAAE3wB,CAAF,GAAMF,CAAb,EAAgB;EACd,UAAIwT,IAAI,CAACod,WAAWE,EAAE5wB,CAAF,CAAZ,EAAkB6c,IAA1B,EAAgC1Y,EAAEmP,CAAF,IAAO9Q,MAAI2B,EAAEmP,CAAF,CAAJ,EAAUod,SAAS9sB,IAAnB,EAAyB+sB,QAAzB,CAAP,CAAhC,KACK,IAAIA,YAAY,IAAhB,EAAsB,KAAKrd,CAAL,IAAUnP,CAAV;EAAaA,UAAEmP,CAAF,IAAO9Q,MAAI2B,EAAEmP,CAAF,CAAJ,EAAUod,SAAS9sB,IAAnB,EAAyB,IAAzB,CAAP;EAAb;EAC5B;;EAED,WAAO,IAAP;EACD,GAxBuC;EAyBxCQ,QAAM,gBAAW;EACf,QAAIA,OAAO,EAAX;EAAA,QAAeD,IAAI,KAAKA,CAAxB;EACA,SAAK,IAAImP,CAAT,IAAcnP,CAAd;EAAiBC,WAAKkP,CAAL,IAAUnP,EAAEmP,CAAF,EAAKvQ,KAAL,EAAV;EAAjB,KACA,OAAO,IAAIstB,QAAJ,CAAajsB,IAAb,CAAP;EACD,GA7BuC;EA8BxCH,QAAM,cAAS4Y,IAAT,EAAegU,IAAf,EAAqB;EACzB,QAAI,CAAC/wB,IAAIC,UAAUlB,MAAV,GAAmB,CAAxB,IAA6B,CAAjC,EAAoC,KAAK,IAAIiyB,OAAO,IAAIzwB,KAAJ,CAAUP,CAAV,CAAX,EAAyBE,IAAI,CAA7B,EAAgCF,CAAhC,EAAmCwT,CAAxC,EAA2CtT,IAAIF,CAA/C,EAAkD,EAAEE,CAApD;EAAuD8wB,WAAK9wB,CAAL,IAAUD,UAAUC,IAAI,CAAd,CAAV;EAAvD,KACpC,IAAI,CAAC,KAAKmE,CAAL,CAAO2M,cAAP,CAAsB+L,IAAtB,CAAL,EAAkC,MAAM,IAAIN,KAAJ,CAAU,mBAAmBM,IAA7B,CAAN;EAClC,SAAKvJ,IAAI,KAAKnP,CAAL,CAAO0Y,IAAP,CAAJ,EAAkB7c,IAAI,CAAtB,EAAyBF,IAAIwT,EAAEzU,MAApC,EAA4CmB,IAAIF,CAAhD,EAAmD,EAAEE,CAArD;EAAwDsT,QAAEtT,CAAF,EAAKyC,KAAL,CAAWsuB,KAAX,CAAiBF,IAAjB,EAAuBC,IAAvB;EAAxD;EACD,GAlCuC;EAmCxCC,SAAO,eAASlU,IAAT,EAAegU,IAAf,EAAqBC,IAArB,EAA2B;EAChC,QAAI,CAAC,KAAK3sB,CAAL,CAAO2M,cAAP,CAAsB+L,IAAtB,CAAL,EAAkC,MAAM,IAAIN,KAAJ,CAAU,mBAAmBM,IAA7B,CAAN;EAClC,SAAK,IAAIvJ,IAAI,KAAKnP,CAAL,CAAO0Y,IAAP,CAAR,EAAsB7c,IAAI,CAA1B,EAA6BF,IAAIwT,EAAEzU,MAAxC,EAAgDmB,IAAIF,CAApD,EAAuD,EAAEE,CAAzD;EAA4DsT,QAAEtT,CAAF,EAAKyC,KAAL,CAAWsuB,KAAX,CAAiBF,IAAjB,EAAuBC,IAAvB;EAA5D;EACD;EAtCuC,CAA1C;;EAyCA,SAASvuB,KAAT,CAAasa,IAAb,EAAmBjZ,IAAnB,EAAyB;EACvB,OAAK,IAAI5D,IAAI,CAAR,EAAWF,IAAI+c,KAAKhe,MAApB,EAA4BgU,CAAjC,EAAoC7S,IAAIF,CAAxC,EAA2C,EAAEE,CAA7C,EAAgD;EAC9C,QAAI,CAAC6S,IAAIgK,KAAK7c,CAAL,CAAL,EAAc4D,IAAd,KAAuBA,IAA3B,EAAiC;EAC/B,aAAOiP,EAAEpQ,KAAT;EACD;EACF;EACF;;EAED,SAASD,KAAT,CAAaqa,IAAb,EAAmBjZ,IAAnB,EAAyB+sB,QAAzB,EAAmC;EACjC,OAAK,IAAI3wB,IAAI,CAAR,EAAWF,IAAI+c,KAAKhe,MAAzB,EAAiCmB,IAAIF,CAArC,EAAwC,EAAEE,CAA1C,EAA6C;EAC3C,QAAI6c,KAAK7c,CAAL,EAAQ4D,IAAR,KAAiBA,IAArB,EAA2B;EACzBiZ,WAAK7c,CAAL,IAAUmwB,IAAV,EAAgBtT,OAAOA,KAAK9Z,KAAL,CAAW,CAAX,EAAc/C,CAAd,EAAiBuvB,MAAjB,CAAwB1S,KAAK9Z,KAAL,CAAW/C,IAAI,CAAf,CAAxB,CAAvB;EACA;EACD;EACF;EACD,MAAI2wB,YAAY,IAAhB,EAAsB9T,KAAK/Z,IAAL,CAAU,EAACc,MAAMA,IAAP,EAAanB,OAAOkuB,QAApB,EAAV;EACtB,SAAO9T,IAAP;EACD;;ECjFc,qBAAS7d,CAAT,EAAY;EACzB,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;ECJM,SAASA,CAAT,CAAWM,CAAX,EAAc;EACnB,SAAOA,EAAE,CAAF,CAAP;EACD;;AAED,EAAO,SAAS0T,CAAT,CAAW1T,CAAX,EAAc;EACnB,SAAOA,EAAE,CAAF,CAAP;EACD;;ECND,SAAS0xB,YAAT,GAAwB;EACtB,OAAK7sB,CAAL,GAAS,IAAT,CADsB;EAEvB;;AAED,EAAO,SAAS8sB,YAAT,CAAsBC,IAAtB,EAA4B;EACjCA,OAAKzE,CAAL;EACAyE,OAAKtd,CAAL;EACAsd,OAAKlM,CAAL;EACAkM,OAAKC,CAAL;EACAD,OAAKE,CAAL;EACAF,OAAKG,CAAL,GAAS,IALT,CADiC;EAOlC;;EAEDL,aAAa9uB,SAAb,GAAyB;EACvBE,eAAa4uB,YADU;;EAGvBM,UAAQ,gBAASC,KAAT,EAAgBL,IAAhB,EAAsB;EAC5B,QAAI5rB,MAAJ,EAAYksB,OAAZ,EAAqBC,KAArB;;EAEA,QAAIF,KAAJ,EAAW;EACTL,WAAKE,CAAL,GAASG,KAAT;EACAL,WAAKG,CAAL,GAASE,MAAMF,CAAf;EACA,UAAIE,MAAMF,CAAV,EAAaE,MAAMF,CAAN,CAAQD,CAAR,GAAYF,IAAZ;EACbK,YAAMF,CAAN,GAAUH,IAAV;EACA,UAAIK,MAAMJ,CAAV,EAAa;EACXI,gBAAQA,MAAMJ,CAAd;EACA,eAAOI,MAAMvM,CAAb;EAAgBuM,kBAAQA,MAAMvM,CAAd;EAAhB,SACAuM,MAAMvM,CAAN,GAAUkM,IAAV;EACD,OAJD,MAIO;EACLK,cAAMJ,CAAN,GAAUD,IAAV;EACD;EACD5rB,eAASisB,KAAT;EACD,KAbD,MAaO,IAAI,KAAKptB,CAAT,EAAY;EACjBotB,cAAQG,cAAc,KAAKvtB,CAAnB,CAAR;EACA+sB,WAAKE,CAAL,GAAS,IAAT;EACAF,WAAKG,CAAL,GAASE,KAAT;EACAA,YAAMH,CAAN,GAAUG,MAAMvM,CAAN,GAAUkM,IAApB;EACA5rB,eAASisB,KAAT;EACD,KANM,MAMA;EACLL,WAAKE,CAAL,GAASF,KAAKG,CAAL,GAAS,IAAlB;EACA,WAAKltB,CAAL,GAAS+sB,IAAT;EACA5rB,eAAS,IAAT;EACD;EACD4rB,SAAKlM,CAAL,GAASkM,KAAKC,CAAL,GAAS,IAAlB;EACAD,SAAKzE,CAAL,GAASnnB,MAAT;EACA4rB,SAAKtd,CAAL,GAAS,IAAT;;EAEA2d,YAAQL,IAAR;EACA,WAAO5rB,UAAUA,OAAOsO,CAAxB,EAA2B;EACzB4d,gBAAUlsB,OAAOmnB,CAAjB;EACA,UAAInnB,WAAWksB,QAAQxM,CAAvB,EAA0B;EACxByM,gBAAQD,QAAQL,CAAhB;EACA,YAAIM,SAASA,MAAM7d,CAAnB,EAAsB;EACpBtO,iBAAOsO,CAAP,GAAW6d,MAAM7d,CAAN,GAAU,KAArB;EACA4d,kBAAQ5d,CAAR,GAAY,IAAZ;EACA2d,kBAAQC,OAAR;EACD,SAJD,MAIO;EACL,cAAID,UAAUjsB,OAAO6rB,CAArB,EAAwB;EACtBQ,+BAAmB,IAAnB,EAAyBrsB,MAAzB;EACAisB,oBAAQjsB,MAAR;EACAA,qBAASisB,MAAM9E,CAAf;EACD;EACDnnB,iBAAOsO,CAAP,GAAW,KAAX;EACA4d,kBAAQ5d,CAAR,GAAY,IAAZ;EACAge,8BAAoB,IAApB,EAA0BJ,OAA1B;EACD;EACF,OAhBD,MAgBO;EACLC,gBAAQD,QAAQxM,CAAhB;EACA,YAAIyM,SAASA,MAAM7d,CAAnB,EAAsB;EACpBtO,iBAAOsO,CAAP,GAAW6d,MAAM7d,CAAN,GAAU,KAArB;EACA4d,kBAAQ5d,CAAR,GAAY,IAAZ;EACA2d,kBAAQC,OAAR;EACD,SAJD,MAIO;EACL,cAAID,UAAUjsB,OAAO0f,CAArB,EAAwB;EACtB4M,gCAAoB,IAApB,EAA0BtsB,MAA1B;EACAisB,oBAAQjsB,MAAR;EACAA,qBAASisB,MAAM9E,CAAf;EACD;EACDnnB,iBAAOsO,CAAP,GAAW,KAAX;EACA4d,kBAAQ5d,CAAR,GAAY,IAAZ;EACA+d,6BAAmB,IAAnB,EAAyBH,OAAzB;EACD;EACF;EACDlsB,eAASisB,MAAM9E,CAAf;EACD;EACD,SAAKtoB,CAAL,CAAOyP,CAAP,GAAW,KAAX;EACD,GAzEsB;;EA2EvBlR,UAAQ,gBAASwuB,IAAT,EAAe;EACrB,QAAIA,KAAKG,CAAT,EAAYH,KAAKG,CAAL,CAAOD,CAAP,GAAWF,KAAKE,CAAhB;EACZ,QAAIF,KAAKE,CAAT,EAAYF,KAAKE,CAAL,CAAOC,CAAP,GAAWH,KAAKG,CAAhB;EACZH,SAAKG,CAAL,GAASH,KAAKE,CAAL,GAAS,IAAlB;;EAEA,QAAI9rB,SAAS4rB,KAAKzE,CAAlB;EAAA,QACIoF,OADJ;EAAA,QAEI9yB,OAAOmyB,KAAKlM,CAFhB;EAAA,QAGI5lB,QAAQ8xB,KAAKC,CAHjB;EAAA,QAIIW,IAJJ;EAAA,QAKI5jB,GALJ;;EAOA,QAAI,CAACnP,IAAL,EAAW+yB,OAAO1yB,KAAP,CAAX,KACK,IAAI,CAACA,KAAL,EAAY0yB,OAAO/yB,IAAP,CAAZ,KACA+yB,OAAOJ,cAActyB,KAAd,CAAP;;EAEL,QAAIkG,MAAJ,EAAY;EACV,UAAIA,OAAO0f,CAAP,KAAakM,IAAjB,EAAuB5rB,OAAO0f,CAAP,GAAW8M,IAAX,CAAvB,KACKxsB,OAAO6rB,CAAP,GAAWW,IAAX;EACN,KAHD,MAGO;EACL,WAAK3tB,CAAL,GAAS2tB,IAAT;EACD;;EAED,QAAI/yB,QAAQK,KAAZ,EAAmB;EACjB8O,YAAM4jB,KAAKle,CAAX;EACAke,WAAKle,CAAL,GAASsd,KAAKtd,CAAd;EACAke,WAAK9M,CAAL,GAASjmB,IAAT;EACAA,WAAK0tB,CAAL,GAASqF,IAAT;EACA,UAAIA,SAAS1yB,KAAb,EAAoB;EAClBkG,iBAASwsB,KAAKrF,CAAd;EACAqF,aAAKrF,CAAL,GAASyE,KAAKzE,CAAd;EACAyE,eAAOY,KAAKX,CAAZ;EACA7rB,eAAO0f,CAAP,GAAWkM,IAAX;EACAY,aAAKX,CAAL,GAAS/xB,KAAT;EACAA,cAAMqtB,CAAN,GAAUqF,IAAV;EACD,OAPD,MAOO;EACLA,aAAKrF,CAAL,GAASnnB,MAAT;EACAA,iBAASwsB,IAAT;EACAZ,eAAOY,KAAKX,CAAZ;EACD;EACF,KAjBD,MAiBO;EACLjjB,YAAMgjB,KAAKtd,CAAX;EACAsd,aAAOY,IAAP;EACD;;EAED,QAAIZ,IAAJ,EAAUA,KAAKzE,CAAL,GAASnnB,MAAT;EACV,QAAI4I,GAAJ,EAAS;EACT,QAAIgjB,QAAQA,KAAKtd,CAAjB,EAAoB;EAAEsd,WAAKtd,CAAL,GAAS,KAAT,CAAgB;EAAS;;EAE/C,OAAG;EACD,UAAIsd,SAAS,KAAK/sB,CAAlB,EAAqB;EACrB,UAAI+sB,SAAS5rB,OAAO0f,CAApB,EAAuB;EACrB6M,kBAAUvsB,OAAO6rB,CAAjB;EACA,YAAIU,QAAQje,CAAZ,EAAe;EACbie,kBAAQje,CAAR,GAAY,KAAZ;EACAtO,iBAAOsO,CAAP,GAAW,IAAX;EACA+d,6BAAmB,IAAnB,EAAyBrsB,MAAzB;EACAusB,oBAAUvsB,OAAO6rB,CAAjB;EACD;EACD,YAAKU,QAAQ7M,CAAR,IAAa6M,QAAQ7M,CAAR,CAAUpR,CAAxB,IACIie,QAAQV,CAAR,IAAaU,QAAQV,CAAR,CAAUvd,CAD/B,EACmC;EACjC,cAAI,CAACie,QAAQV,CAAT,IAAc,CAACU,QAAQV,CAAR,CAAUvd,CAA7B,EAAgC;EAC9Bie,oBAAQ7M,CAAR,CAAUpR,CAAV,GAAc,KAAd;EACAie,oBAAQje,CAAR,GAAY,IAAZ;EACAge,gCAAoB,IAApB,EAA0BC,OAA1B;EACAA,sBAAUvsB,OAAO6rB,CAAjB;EACD;EACDU,kBAAQje,CAAR,GAAYtO,OAAOsO,CAAnB;EACAtO,iBAAOsO,CAAP,GAAWie,QAAQV,CAAR,CAAUvd,CAAV,GAAc,KAAzB;EACA+d,6BAAmB,IAAnB,EAAyBrsB,MAAzB;EACA4rB,iBAAO,KAAK/sB,CAAZ;EACA;EACD;EACF,OAtBD,MAsBO;EACL0tB,kBAAUvsB,OAAO0f,CAAjB;EACA,YAAI6M,QAAQje,CAAZ,EAAe;EACbie,kBAAQje,CAAR,GAAY,KAAZ;EACAtO,iBAAOsO,CAAP,GAAW,IAAX;EACAge,8BAAoB,IAApB,EAA0BtsB,MAA1B;EACAusB,oBAAUvsB,OAAO0f,CAAjB;EACD;EACD,YAAK6M,QAAQ7M,CAAR,IAAa6M,QAAQ7M,CAAR,CAAUpR,CAAxB,IACEie,QAAQV,CAAR,IAAaU,QAAQV,CAAR,CAAUvd,CAD7B,EACiC;EAC/B,cAAI,CAACie,QAAQ7M,CAAT,IAAc,CAAC6M,QAAQ7M,CAAR,CAAUpR,CAA7B,EAAgC;EAC9Bie,oBAAQV,CAAR,CAAUvd,CAAV,GAAc,KAAd;EACAie,oBAAQje,CAAR,GAAY,IAAZ;EACA+d,+BAAmB,IAAnB,EAAyBE,OAAzB;EACAA,sBAAUvsB,OAAO0f,CAAjB;EACD;EACD6M,kBAAQje,CAAR,GAAYtO,OAAOsO,CAAnB;EACAtO,iBAAOsO,CAAP,GAAWie,QAAQ7M,CAAR,CAAUpR,CAAV,GAAc,KAAzB;EACAge,8BAAoB,IAApB,EAA0BtsB,MAA1B;EACA4rB,iBAAO,KAAK/sB,CAAZ;EACA;EACD;EACF;EACD0tB,cAAQje,CAAR,GAAY,IAAZ;EACAsd,aAAO5rB,MAAP;EACAA,eAASA,OAAOmnB,CAAhB;EACD,KAlDD,QAkDS,CAACyE,KAAKtd,CAlDf;;EAoDA,QAAIsd,IAAJ,EAAUA,KAAKtd,CAAL,GAAS,KAAT;EACX;EAjLsB,CAAzB;;EAoLA,SAAS+d,kBAAT,CAA4BI,IAA5B,EAAkCb,IAAlC,EAAwC;EACtC,MAAIxvB,IAAIwvB,IAAR;EAAA,MACI1a,IAAI0a,KAAKC,CADb;EAAA,MAEI7rB,SAAS5D,EAAE+qB,CAFf;;EAIA,MAAInnB,MAAJ,EAAY;EACV,QAAIA,OAAO0f,CAAP,KAAatjB,CAAjB,EAAoB4D,OAAO0f,CAAP,GAAWxO,CAAX,CAApB,KACKlR,OAAO6rB,CAAP,GAAW3a,CAAX;EACN,GAHD,MAGO;EACLub,SAAK5tB,CAAL,GAASqS,CAAT;EACD;;EAEDA,IAAEiW,CAAF,GAAMnnB,MAAN;EACA5D,IAAE+qB,CAAF,GAAMjW,CAAN;EACA9U,IAAEyvB,CAAF,GAAM3a,EAAEwO,CAAR;EACA,MAAItjB,EAAEyvB,CAAN,EAASzvB,EAAEyvB,CAAF,CAAI1E,CAAJ,GAAQ/qB,CAAR;EACT8U,IAAEwO,CAAF,GAAMtjB,CAAN;EACD;;EAED,SAASkwB,mBAAT,CAA6BG,IAA7B,EAAmCb,IAAnC,EAAyC;EACvC,MAAIxvB,IAAIwvB,IAAR;EAAA,MACI1a,IAAI0a,KAAKlM,CADb;EAAA,MAEI1f,SAAS5D,EAAE+qB,CAFf;;EAIA,MAAInnB,MAAJ,EAAY;EACV,QAAIA,OAAO0f,CAAP,KAAatjB,CAAjB,EAAoB4D,OAAO0f,CAAP,GAAWxO,CAAX,CAApB,KACKlR,OAAO6rB,CAAP,GAAW3a,CAAX;EACN,GAHD,MAGO;EACLub,SAAK5tB,CAAL,GAASqS,CAAT;EACD;;EAEDA,IAAEiW,CAAF,GAAMnnB,MAAN;EACA5D,IAAE+qB,CAAF,GAAMjW,CAAN;EACA9U,IAAEsjB,CAAF,GAAMxO,EAAE2a,CAAR;EACA,MAAIzvB,EAAEsjB,CAAN,EAAStjB,EAAEsjB,CAAF,CAAIyH,CAAJ,GAAQ/qB,CAAR;EACT8U,IAAE2a,CAAF,GAAMzvB,CAAN;EACD;;EAED,SAASgwB,aAAT,CAAuBR,IAAvB,EAA6B;EAC3B,SAAOA,KAAKlM,CAAZ;EAAekM,WAAOA,KAAKlM,CAAZ;EAAf,GACA,OAAOkM,IAAP;EACD;;ECxOM,SAASc,UAAT,CAAoBjzB,IAApB,EAA0BK,KAA1B,EAAiCqV,EAAjC,EAAqCC,EAArC,EAAyC;EAC9C,MAAIud,OAAO,CAAC,IAAD,EAAO,IAAP,CAAX;EAAA,MACInuB,QAAQouB,MAAMpvB,IAAN,CAAWmvB,IAAX,IAAmB,CAD/B;EAEAA,OAAKlzB,IAAL,GAAYA,IAAZ;EACAkzB,OAAK7yB,KAAL,GAAaA,KAAb;EACA,MAAIqV,EAAJ,EAAQ0d,WAAWF,IAAX,EAAiBlzB,IAAjB,EAAuBK,KAAvB,EAA8BqV,EAA9B;EACR,MAAIC,EAAJ,EAAQyd,WAAWF,IAAX,EAAiB7yB,KAAjB,EAAwBL,IAAxB,EAA8B2V,EAA9B;EACR0d,QAAMrzB,KAAK+E,KAAX,EAAkBuuB,SAAlB,CAA4BvvB,IAA5B,CAAiCgB,KAAjC;EACAsuB,QAAMhzB,MAAM0E,KAAZ,EAAmBuuB,SAAnB,CAA6BvvB,IAA7B,CAAkCgB,KAAlC;EACA,SAAOmuB,IAAP;EACD;;AAED,EAAO,SAASK,gBAAT,CAA0BvzB,IAA1B,EAAgC0V,EAAhC,EAAoCC,EAApC,EAAwC;EAC7C,MAAIud,OAAO,CAACxd,EAAD,EAAKC,EAAL,CAAX;EACAud,OAAKlzB,IAAL,GAAYA,IAAZ;EACA,SAAOkzB,IAAP;EACD;;AAED,EAAO,SAASE,UAAT,CAAoBF,IAApB,EAA0BlzB,IAA1B,EAAgCK,KAAhC,EAAuCmzB,MAAvC,EAA+C;EACpD,MAAI,CAACN,KAAK,CAAL,CAAD,IAAY,CAACA,KAAK,CAAL,CAAjB,EAA0B;EACxBA,SAAK,CAAL,IAAUM,MAAV;EACAN,SAAKlzB,IAAL,GAAYA,IAAZ;EACAkzB,SAAK7yB,KAAL,GAAaA,KAAb;EACD,GAJD,MAIO,IAAI6yB,KAAKlzB,IAAL,KAAcK,KAAlB,EAAyB;EAC9B6yB,SAAK,CAAL,IAAUM,MAAV;EACD,GAFM,MAEA;EACLN,SAAK,CAAL,IAAUM,MAAV;EACD;EACF;;EAED;EACA,SAASC,QAAT,CAAkBP,IAAlB,EAAwB5S,EAAxB,EAA4BoT,EAA5B,EAAgCnT,EAAhC,EAAoCoT,EAApC,EAAwC;EACtC,MAAIj0B,IAAIwzB,KAAK,CAAL,CAAR;EAAA,MACIvzB,IAAIuzB,KAAK,CAAL,CADR;EAAA,MAEIU,KAAKl0B,EAAE,CAAF,CAFT;EAAA,MAGIm0B,KAAKn0B,EAAE,CAAF,CAHT;EAAA,MAIIo0B,KAAKn0B,EAAE,CAAF,CAJT;EAAA,MAKIo0B,KAAKp0B,EAAE,CAAF,CALT;EAAA,MAMI2T,KAAK,CANT;EAAA,MAOIC,KAAK,CAPT;EAAA,MAQIygB,KAAKF,KAAKF,EARd;EAAA,MASIK,KAAKF,KAAKF,EATd;EAAA,MAUI7hB,CAVJ;;EAYAA,MAAIsO,KAAKsT,EAAT;EACA,MAAI,CAACI,EAAD,IAAOhiB,IAAI,CAAf,EAAkB;EAClBA,OAAKgiB,EAAL;EACA,MAAIA,KAAK,CAAT,EAAY;EACV,QAAIhiB,IAAIsB,EAAR,EAAY;EACZ,QAAItB,IAAIuB,EAAR,EAAYA,KAAKvB,CAAL;EACb,GAHD,MAGO,IAAIgiB,KAAK,CAAT,EAAY;EACjB,QAAIhiB,IAAIuB,EAAR,EAAY;EACZ,QAAIvB,IAAIsB,EAAR,EAAYA,KAAKtB,CAAL;EACb;;EAEDA,MAAIuO,KAAKqT,EAAT;EACA,MAAI,CAACI,EAAD,IAAOhiB,IAAI,CAAf,EAAkB;EAClBA,OAAKgiB,EAAL;EACA,MAAIA,KAAK,CAAT,EAAY;EACV,QAAIhiB,IAAIuB,EAAR,EAAY;EACZ,QAAIvB,IAAIsB,EAAR,EAAYA,KAAKtB,CAAL;EACb,GAHD,MAGO,IAAIgiB,KAAK,CAAT,EAAY;EACjB,QAAIhiB,IAAIsB,EAAR,EAAY;EACZ,QAAItB,IAAIuB,EAAR,EAAYA,KAAKvB,CAAL;EACb;;EAEDA,MAAI0hB,KAAKG,EAAT;EACA,MAAI,CAACI,EAAD,IAAOjiB,IAAI,CAAf,EAAkB;EAClBA,OAAKiiB,EAAL;EACA,MAAIA,KAAK,CAAT,EAAY;EACV,QAAIjiB,IAAIsB,EAAR,EAAY;EACZ,QAAItB,IAAIuB,EAAR,EAAYA,KAAKvB,CAAL;EACb,GAHD,MAGO,IAAIiiB,KAAK,CAAT,EAAY;EACjB,QAAIjiB,IAAIuB,EAAR,EAAY;EACZ,QAAIvB,IAAIsB,EAAR,EAAYA,KAAKtB,CAAL;EACb;;EAEDA,MAAI2hB,KAAKE,EAAT;EACA,MAAI,CAACI,EAAD,IAAOjiB,IAAI,CAAf,EAAkB;EAClBA,OAAKiiB,EAAL;EACA,MAAIA,KAAK,CAAT,EAAY;EACV,QAAIjiB,IAAIuB,EAAR,EAAY;EACZ,QAAIvB,IAAIsB,EAAR,EAAYA,KAAKtB,CAAL;EACb,GAHD,MAGO,IAAIiiB,KAAK,CAAT,EAAY;EACjB,QAAIjiB,IAAIsB,EAAR,EAAY;EACZ,QAAItB,IAAIuB,EAAR,EAAYA,KAAKvB,CAAL;EACb;;EAED,MAAI,EAAEsB,KAAK,CAAP,KAAa,EAAEC,KAAK,CAAP,CAAjB,EAA4B,OAAO,IAAP,CAzDU;;EA2DtC,MAAID,KAAK,CAAT,EAAY4f,KAAK,CAAL,IAAU,CAACU,KAAKtgB,KAAK0gB,EAAX,EAAeH,KAAKvgB,KAAK2gB,EAAzB,CAAV;EACZ,MAAI1gB,KAAK,CAAT,EAAY2f,KAAK,CAAL,IAAU,CAACU,KAAKrgB,KAAKygB,EAAX,EAAeH,KAAKtgB,KAAK0gB,EAAzB,CAAV;EACZ,SAAO,IAAP;EACD;;EAED,SAASC,WAAT,CAAqBhB,IAArB,EAA2B5S,EAA3B,EAA+BoT,EAA/B,EAAmCnT,EAAnC,EAAuCoT,EAAvC,EAA2C;EACzC,MAAIhe,KAAKud,KAAK,CAAL,CAAT;EACA,MAAIvd,EAAJ,EAAQ,OAAO,IAAP;;EAER,MAAID,KAAKwd,KAAK,CAAL,CAAT;EAAA,MACIlzB,OAAOkzB,KAAKlzB,IADhB;EAAA,MAEIK,QAAQ6yB,KAAK7yB,KAFjB;EAAA,MAGI8zB,KAAKn0B,KAAK,CAAL,CAHT;EAAA,MAIIo0B,KAAKp0B,KAAK,CAAL,CAJT;EAAA,MAKIq0B,KAAKh0B,MAAM,CAAN,CALT;EAAA,MAMIi0B,KAAKj0B,MAAM,CAAN,CANT;EAAA,MAOIk0B,KAAK,CAACJ,KAAKE,EAAN,IAAY,CAPrB;EAAA,MAQIG,KAAK,CAACJ,KAAKE,EAAN,IAAY,CARrB;EAAA,MASIG,EATJ;EAAA,MAUIC,EAVJ;;EAYA,MAAIJ,OAAOF,EAAX,EAAe;EACb,QAAIG,KAAKjU,EAAL,IAAWiU,MAAMhU,EAArB,EAAyB;EACzB,QAAI4T,KAAKE,EAAT,EAAa;EACX,UAAI,CAAC3e,EAAL,EAASA,KAAK,CAAC6e,EAAD,EAAKb,EAAL,CAAL,CAAT,KACK,IAAIhe,GAAG,CAAH,KAASie,EAAb,EAAiB;EACtBhe,WAAK,CAAC4e,EAAD,EAAKZ,EAAL,CAAL;EACD,KAJD,MAIO;EACL,UAAI,CAACje,EAAL,EAASA,KAAK,CAAC6e,EAAD,EAAKZ,EAAL,CAAL,CAAT,KACK,IAAIje,GAAG,CAAH,IAAQge,EAAZ,EAAgB;EACrB/d,WAAK,CAAC4e,EAAD,EAAKb,EAAL,CAAL;EACD;EACF,GAXD,MAWO;EACLe,SAAK,CAACN,KAAKE,EAAN,KAAaC,KAAKF,EAAlB,CAAL;EACAM,SAAKF,KAAKC,KAAKF,EAAf;EACA,QAAIE,KAAK,CAAC,CAAN,IAAWA,KAAK,CAApB,EAAuB;EACrB,UAAIN,KAAKE,EAAT,EAAa;EACX,YAAI,CAAC3e,EAAL,EAASA,KAAK,CAAC,CAACge,KAAKgB,EAAN,IAAYD,EAAb,EAAiBf,EAAjB,CAAL,CAAT,KACK,IAAIhe,GAAG,CAAH,KAASie,EAAb,EAAiB;EACtBhe,aAAK,CAAC,CAACge,KAAKe,EAAN,IAAYD,EAAb,EAAiBd,EAAjB,CAAL;EACD,OAJD,MAIO;EACL,YAAI,CAACje,EAAL,EAASA,KAAK,CAAC,CAACie,KAAKe,EAAN,IAAYD,EAAb,EAAiBd,EAAjB,CAAL,CAAT,KACK,IAAIje,GAAG,CAAH,IAAQge,EAAZ,EAAgB;EACrB/d,aAAK,CAAC,CAAC+d,KAAKgB,EAAN,IAAYD,EAAb,EAAiBf,EAAjB,CAAL;EACD;EACF,KAVD,MAUO;EACL,UAAIU,KAAKE,EAAT,EAAa;EACX,YAAI,CAAC5e,EAAL,EAASA,KAAK,CAAC4K,EAAD,EAAKmU,KAAKnU,EAAL,GAAUoU,EAAf,CAAL,CAAT,KACK,IAAIhf,GAAG,CAAH,KAAS6K,EAAb,EAAiB;EACtB5K,aAAK,CAAC4K,EAAD,EAAKkU,KAAKlU,EAAL,GAAUmU,EAAf,CAAL;EACD,OAJD,MAIO;EACL,YAAI,CAAChf,EAAL,EAASA,KAAK,CAAC6K,EAAD,EAAKkU,KAAKlU,EAAL,GAAUmU,EAAf,CAAL,CAAT,KACK,IAAIhf,GAAG,CAAH,IAAQ4K,EAAZ,EAAgB;EACrB3K,aAAK,CAAC2K,EAAD,EAAKmU,KAAKnU,EAAL,GAAUoU,EAAf,CAAL;EACD;EACF;EACF;;EAEDxB,OAAK,CAAL,IAAUxd,EAAV;EACAwd,OAAK,CAAL,IAAUvd,EAAV;EACA,SAAO,IAAP;EACD;;AAED,EAAO,SAASgf,SAAT,CAAmBrU,EAAnB,EAAuBoT,EAAvB,EAA2BnT,EAA3B,EAA+BoT,EAA/B,EAAmC;EACxC,MAAI1yB,IAAIkyB,MAAMrzB,MAAd;EAAA,MACIozB,IADJ;;EAGA,SAAOjyB,GAAP,EAAY;EACV,QAAI,CAACizB,YAAYhB,OAAOC,MAAMlyB,CAAN,CAAnB,EAA6Bqf,EAA7B,EAAiCoT,EAAjC,EAAqCnT,EAArC,EAAyCoT,EAAzC,CAAD,IACG,CAACF,SAASP,IAAT,EAAe5S,EAAf,EAAmBoT,EAAnB,EAAuBnT,EAAvB,EAA2BoT,EAA3B,CADJ,IAEG,EAAEzyB,KAAKsB,GAAL,CAAS0wB,KAAK,CAAL,EAAQ,CAAR,IAAaA,KAAK,CAAL,EAAQ,CAAR,CAAtB,IAAoC0B,OAApC,IACE1zB,KAAKsB,GAAL,CAAS0wB,KAAK,CAAL,EAAQ,CAAR,IAAaA,KAAK,CAAL,EAAQ,CAAR,CAAtB,IAAoC0B,OADxC,CAFP,EAGyD;EACvD,aAAOzB,MAAMlyB,CAAN,CAAP;EACD;EACF;EACF;;ECpKM,SAAS4zB,UAAT,CAAoBC,IAApB,EAA0B;EAC/B,SAAOzB,MAAMyB,KAAK/vB,KAAX,IAAoB;EACzB+vB,UAAMA,IADmB;EAEzBxB,eAAW;EAFc,GAA3B;EAID;;EAED,SAASyB,iBAAT,CAA2BC,IAA3B,EAAiC9B,IAAjC,EAAuC;EACrC,MAAI4B,OAAOE,KAAKF,IAAhB;EAAA,MACIG,KAAK/B,KAAKlzB,IADd;EAAA,MAEIk1B,KAAKhC,KAAK7yB,KAFd;EAGA,MAAIy0B,SAASI,EAAb,EAAiBA,KAAKD,EAAL,EAASA,KAAKH,IAAd;EACjB,MAAII,EAAJ,EAAQ,OAAOh0B,KAAKuT,KAAL,CAAWygB,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAnB,EAA0BC,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAlC,CAAP;EACR,MAAIH,SAASG,EAAb,EAAiBA,KAAK/B,KAAK,CAAL,CAAL,EAAcgC,KAAKhC,KAAK,CAAL,CAAnB,CAAjB,KACK+B,KAAK/B,KAAK,CAAL,CAAL,EAAcgC,KAAKhC,KAAK,CAAL,CAAnB;EACL,SAAOhyB,KAAKuT,KAAL,CAAWwgB,GAAG,CAAH,IAAQC,GAAG,CAAH,CAAnB,EAA0BA,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAlC,CAAP;EACD;;AAED,EAAO,SAASE,iBAAT,CAA2BH,IAA3B,EAAiC9B,IAAjC,EAAuC;EAC5C,SAAOA,KAAK,EAAEA,KAAKlzB,IAAL,KAAcg1B,KAAKF,IAArB,CAAL,CAAP;EACD;;AAED,EAAO,SAASM,eAAT,CAAyBJ,IAAzB,EAA+B9B,IAA/B,EAAqC;EAC1C,SAAOA,KAAK,EAAEA,KAAKlzB,IAAL,KAAcg1B,KAAKF,IAArB,CAAL,CAAP;EACD;;AAED,EAAO,SAASO,iBAAT,GAA6B;EAClC,OAAK,IAAIp0B,IAAI,CAAR,EAAWF,IAAIsyB,MAAMvzB,MAArB,EAA6Bk1B,IAA7B,EAAmC1B,SAAnC,EAA8CzX,CAA9C,EAAiDvK,CAAtD,EAAyDrQ,IAAIF,CAA7D,EAAgE,EAAEE,CAAlE,EAAqE;EACnE,QAAI,CAAC+zB,OAAO3B,MAAMpyB,CAAN,CAAR,MAAsBqQ,IAAI,CAACgiB,YAAY0B,KAAK1B,SAAlB,EAA6BxzB,MAAvD,CAAJ,EAAoE;EAClE,UAAIiF,QAAQ,IAAIzD,KAAJ,CAAUgQ,CAAV,CAAZ;EAAA,UACI3M,QAAQ,IAAIrD,KAAJ,CAAUgQ,CAAV,CADZ;EAEA,WAAKuK,IAAI,CAAT,EAAYA,IAAIvK,CAAhB,EAAmB,EAAEuK,CAArB;EAAwB9W,cAAM8W,CAAN,IAAWA,CAAX,EAAclX,MAAMkX,CAAN,IAAWkZ,kBAAkBC,IAAlB,EAAwB7B,MAAMG,UAAUzX,CAAV,CAAN,CAAxB,CAAzB;EAAxB,OACA9W,MAAM6b,IAAN,CAAW,UAAS3f,CAAT,EAAY4a,CAAZ,EAAe;EAAE,eAAOlX,MAAMkX,CAAN,IAAWlX,MAAM1D,CAAN,CAAlB;EAA6B,OAAzD;EACA,WAAK4a,IAAI,CAAT,EAAYA,IAAIvK,CAAhB,EAAmB,EAAEuK,CAArB;EAAwBlX,cAAMkX,CAAN,IAAWyX,UAAUvuB,MAAM8W,CAAN,CAAV,CAAX;EAAxB,OACA,KAAKA,IAAI,CAAT,EAAYA,IAAIvK,CAAhB,EAAmB,EAAEuK,CAArB;EAAwByX,kBAAUzX,CAAV,IAAelX,MAAMkX,CAAN,CAAf;EAAxB;EACD;EACF;EACF;;AAED,EAAO,SAASyZ,SAAT,CAAmBhV,EAAnB,EAAuBoT,EAAvB,EAA2BnT,EAA3B,EAA+BoT,EAA/B,EAAmC;EACxC,MAAI4B,SAASlC,MAAMvzB,MAAnB;EAAA,MACI01B,KADJ;EAAA,MAEIR,IAFJ;EAAA,MAGIF,IAHJ;EAAA,MAIIW,SAJJ;EAAA,MAKInC,SALJ;EAAA,MAMIoC,UANJ;EAAA,MAOI90B,KAPJ;EAAA,MAQI+0B,MARJ;EAAA,MASIC,MATJ;EAAA,MAUIvf,GAVJ;EAAA,MAWIwf,IAXJ;EAAA,MAYIC,IAZJ;EAAA,MAaIC,QAAQ,IAbZ;;EAeA,OAAKP,QAAQ,CAAb,EAAgBA,QAAQD,MAAxB,EAAgC,EAAEC,KAAlC,EAAyC;EACvC,QAAIR,OAAO3B,MAAMmC,KAAN,CAAX,EAAyB;EACvBV,aAAOE,KAAKF,IAAZ;EACAxB,kBAAY0B,KAAK1B,SAAjB;EACAmC,kBAAYnC,UAAUxzB,MAAtB;;EAEA;EACA,aAAO21B,WAAP,EAAoB;EAClB,YAAI,CAACtC,MAAMG,UAAUmC,SAAV,CAAN,CAAL,EAAkC;EAChCnC,oBAAU0C,MAAV,CAAiBP,SAAjB,EAA4B,CAA5B;EACD;EACF;;EAED;EACAA,kBAAY,CAAZ,EAAeC,aAAapC,UAAUxzB,MAAtC;EACA,aAAO21B,YAAYC,UAAnB,EAA+B;EAC7Brf,cAAM+e,gBAAgBJ,IAAhB,EAAsB7B,MAAMG,UAAUmC,SAAV,CAAN,CAAtB,CAAN,EAA0DI,OAAOxf,IAAI,CAAJ,CAAjE,EAAyEyf,OAAOzf,IAAI,CAAJ,CAAhF;EACAzV,gBAAQu0B,kBAAkBH,IAAlB,EAAwB7B,MAAMG,UAAU,EAAEmC,SAAF,GAAcC,UAAxB,CAAN,CAAxB,CAAR,EAA6EC,SAAS/0B,MAAM,CAAN,CAAtF,EAAgGg1B,SAASh1B,MAAM,CAAN,CAAzG;EACA,YAAIM,KAAKsB,GAAL,CAASqzB,OAAOF,MAAhB,IAA0Bf,OAA1B,IAAqC1zB,KAAKsB,GAAL,CAASszB,OAAOF,MAAhB,IAA0BhB,OAAnE,EAA4E;EAC1EtB,oBAAU0C,MAAV,CAAiBP,SAAjB,EAA4B,CAA5B,EAA+BtC,MAAMpvB,IAAN,CAAWwvB,iBAAiBuB,IAAjB,EAAuBze,GAAvB,EACtCnV,KAAKsB,GAAL,CAASqzB,OAAOvV,EAAhB,IAAsBsU,OAAtB,IAAiCjB,KAAKmC,IAAL,GAAYlB,OAA7C,GAAuD,CAACtU,EAAD,EAAKpf,KAAKsB,GAAL,CAASmzB,SAASrV,EAAlB,IAAwBsU,OAAxB,GAAkCgB,MAAlC,GAA2CjC,EAAhD,CAAvD,GACEzyB,KAAKsB,GAAL,CAASszB,OAAOnC,EAAhB,IAAsBiB,OAAtB,IAAiCrU,KAAKsV,IAAL,GAAYjB,OAA7C,GAAuD,CAAC1zB,KAAKsB,GAAL,CAASozB,SAASjC,EAAlB,IAAwBiB,OAAxB,GAAkCe,MAAlC,GAA2CpV,EAA5C,EAAgDoT,EAAhD,CAAvD,GACAzyB,KAAKsB,GAAL,CAASqzB,OAAOtV,EAAhB,IAAsBqU,OAAtB,IAAiCkB,OAAOpC,EAAP,GAAYkB,OAA7C,GAAuD,CAACrU,EAAD,EAAKrf,KAAKsB,GAAL,CAASmzB,SAASpV,EAAlB,IAAwBqU,OAAxB,GAAkCgB,MAAlC,GAA2ClC,EAAhD,CAAvD,GACAxyB,KAAKsB,GAAL,CAASszB,OAAOpC,EAAhB,IAAsBkB,OAAtB,IAAiCiB,OAAOvV,EAAP,GAAYsU,OAA7C,GAAuD,CAAC1zB,KAAKsB,GAAL,CAASozB,SAASlC,EAAlB,IAAwBkB,OAAxB,GAAkCe,MAAlC,GAA2CrV,EAA5C,EAAgDoT,EAAhD,CAAvD,GACA,IALoC,CAAX,IAKhB,CALf;EAMA,YAAEgC,UAAF;EACD;EACF;;EAED,UAAIA,UAAJ,EAAgBK,QAAQ,KAAR;EACjB;EACF;;EAED;EACA;EACA,MAAIA,KAAJ,EAAW;EACT,QAAI/B,EAAJ;EAAA,QAAQC,EAAR;EAAA,QAAYgC,EAAZ;EAAA,QAAgBC,KAAKvW,QAArB;;EAEA,SAAK6V,QAAQ,CAAR,EAAWO,QAAQ,IAAxB,EAA8BP,QAAQD,MAAtC,EAA8C,EAAEC,KAAhD,EAAuD;EACrD,UAAIR,OAAO3B,MAAMmC,KAAN,CAAX,EAAyB;EACvBV,eAAOE,KAAKF,IAAZ;EACAd,aAAKc,KAAK,CAAL,IAAUxU,EAAf;EACA2T,aAAKa,KAAK,CAAL,IAAUpB,EAAf;EACAuC,aAAKjC,KAAKA,EAAL,GAAUC,KAAKA,EAApB;EACA,YAAIgC,KAAKC,EAAT,EAAaA,KAAKD,EAAL,EAASF,QAAQf,IAAjB;EACd;EACF;;EAED,QAAIe,KAAJ,EAAW;EACT,UAAII,MAAM,CAAC7V,EAAD,EAAKoT,EAAL,CAAV;EAAA,UAAoB0C,MAAM,CAAC9V,EAAD,EAAKqT,EAAL,CAA1B;EAAA,UAAoC0C,MAAM,CAAC9V,EAAD,EAAKoT,EAAL,CAA1C;EAAA,UAAoD2C,MAAM,CAAC/V,EAAD,EAAKmT,EAAL,CAA1D;EACAqC,YAAMzC,SAAN,CAAgBvvB,IAAhB,CACEovB,MAAMpvB,IAAN,CAAWwvB,iBAAiBuB,OAAOiB,MAAMjB,IAA9B,EAAoCqB,GAApC,EAAyCC,GAAzC,CAAX,IAA4D,CAD9D,EAEEjD,MAAMpvB,IAAN,CAAWwvB,iBAAiBuB,IAAjB,EAAuBsB,GAAvB,EAA4BC,GAA5B,CAAX,IAA+C,CAFjD,EAGElD,MAAMpvB,IAAN,CAAWwvB,iBAAiBuB,IAAjB,EAAuBuB,GAAvB,EAA4BC,GAA5B,CAAX,IAA+C,CAHjD,EAIEnD,MAAMpvB,IAAN,CAAWwvB,iBAAiBuB,IAAjB,EAAuBwB,GAAvB,EAA4BH,GAA5B,CAAX,IAA+C,CAJjD;EAMD;EACF;;EAED;EACA,OAAKX,QAAQ,CAAb,EAAgBA,QAAQD,MAAxB,EAAgC,EAAEC,KAAlC,EAAyC;EACvC,QAAIR,OAAO3B,MAAMmC,KAAN,CAAX,EAAyB;EACvB,UAAI,CAACR,KAAK1B,SAAL,CAAexzB,MAApB,EAA4B;EAC1B,eAAOuzB,MAAMmC,KAAN,CAAP;EACD;EACF;EACF;EACF;;EC1HD,IAAIe,aAAa,EAAjB;;AAEA,EAAO,IAAIC,WAAJ;;EAEP,SAASC,MAAT,GAAkB;EAChBvE,eAAa,IAAb;EACA,OAAKjyB,CAAL,GACA,KAAKgU,CAAL,GACA,KAAKyiB,GAAL,GACA,KAAK5B,IAAL,GACA,KAAK6B,EAAL,GAAU,IAJV;EAKD;;AAED,EAAO,SAASC,YAAT,CAAsBF,GAAtB,EAA2B;EAChC,MAAIG,OAAOH,IAAIrE,CAAf;EAAA,MACIyE,OAAOJ,IAAIpE,CADf;;EAGA,MAAI,CAACuE,IAAD,IAAS,CAACC,IAAd,EAAoB;;EAEpB,MAAIC,QAAQF,KAAK/B,IAAjB;EAAA,MACIkC,QAAQN,IAAI5B,IADhB;EAAA,MAEImC,QAAQH,KAAKhC,IAFjB;;EAIA,MAAIiC,UAAUE,KAAd,EAAqB;;EAErB,MAAInD,KAAKkD,MAAM,CAAN,CAAT;EAAA,MACIjD,KAAKiD,MAAM,CAAN,CADT;EAAA,MAEIpD,KAAKmD,MAAM,CAAN,IAAWjD,EAFpB;EAAA,MAGID,KAAKkD,MAAM,CAAN,IAAWhD,EAHpB;EAAA,MAIImD,KAAKD,MAAM,CAAN,IAAWnD,EAJpB;EAAA,MAKI6C,KAAKM,MAAM,CAAN,IAAWlD,EALpB;;EAOA,MAAIxzB,IAAI,KAAKqzB,KAAK+C,EAAL,GAAU9C,KAAKqD,EAApB,CAAR;EACA,MAAI32B,KAAK,CAAC42B,UAAV,EAAoB;;EAEpB,MAAIC,KAAKxD,KAAKA,EAAL,GAAUC,KAAKA,EAAxB;EAAA,MACIwD,KAAKH,KAAKA,EAAL,GAAUP,KAAKA,EADxB;EAAA,MAEI12B,IAAI,CAAC02B,KAAKS,EAAL,GAAUvD,KAAKwD,EAAhB,IAAsB92B,CAF9B;EAAA,MAGI0T,IAAI,CAAC2f,KAAKyD,EAAL,GAAUH,KAAKE,EAAhB,IAAsB72B,CAH9B;;EAKA,MAAI+2B,SAASf,WAAWnc,GAAX,MAAoB,IAAIqc,MAAJ,EAAjC;EACAa,SAAOZ,GAAP,GAAaA,GAAb;EACAY,SAAOxC,IAAP,GAAckC,KAAd;EACAM,SAAOr3B,CAAP,GAAWA,IAAI6zB,EAAf;EACAwD,SAAOrjB,CAAP,GAAW,CAACqjB,OAAOX,EAAP,GAAY1iB,IAAI8f,EAAjB,IAAuB7yB,KAAKM,IAAL,CAAUvB,IAAIA,CAAJ,GAAQgU,IAAIA,CAAtB,CAAlC,CA/BgC;;EAiChCyiB,MAAIY,MAAJ,GAAaA,MAAb;;EAEA,MAAIC,SAAS,IAAb;EAAA,MACIpF,OAAOqF,QAAQpyB,CADnB;;EAGA,SAAO+sB,IAAP,EAAa;EACX,QAAImF,OAAOrjB,CAAP,GAAWke,KAAKle,CAAhB,IAAsBqjB,OAAOrjB,CAAP,KAAake,KAAKle,CAAlB,IAAuBqjB,OAAOr3B,CAAP,IAAYkyB,KAAKlyB,CAAlE,EAAsE;EACpE,UAAIkyB,KAAKlM,CAAT,EAAYkM,OAAOA,KAAKlM,CAAZ,CAAZ,KACK;EAAEsR,iBAASpF,KAAKE,CAAd,CAAiB;EAAQ;EACjC,KAHD,MAGO;EACL,UAAIF,KAAKC,CAAT,EAAYD,OAAOA,KAAKC,CAAZ,CAAZ,KACK;EAAEmF,iBAASpF,IAAT,CAAe;EAAQ;EAC/B;EACF;;EAEDqF,UAAQjF,MAAR,CAAegF,MAAf,EAAuBD,MAAvB;EACA,MAAI,CAACC,MAAL,EAAaf,cAAcc,MAAd;EACd;;AAED,EAAO,SAASG,YAAT,CAAsBf,GAAtB,EAA2B;EAChC,MAAIY,SAASZ,IAAIY,MAAjB;EACA,MAAIA,MAAJ,EAAY;EACV,QAAI,CAACA,OAAOjF,CAAZ,EAAemE,cAAcc,OAAOhF,CAArB;EACfkF,YAAQ7zB,MAAR,CAAe2zB,MAAf;EACAf,eAAWxyB,IAAX,CAAgBuzB,MAAhB;EACApF,iBAAaoF,MAAb;EACAZ,QAAIY,MAAJ,GAAa,IAAb;EACD;EACF;;ECvED,IAAII,YAAY,EAAhB;;EAEA,SAASC,KAAT,GAAiB;EACfzF,eAAa,IAAb;EACA,OAAKgB,IAAL,GACA,KAAK4B,IAAL,GACA,KAAKwC,MAAL,GAAc,IAFd;EAGD;;EAED,SAASM,WAAT,CAAqB9C,IAArB,EAA2B;EACzB,MAAI+C,QAAQH,UAAUtd,GAAV,MAAmB,IAAIud,KAAJ,EAA/B;EACAE,QAAM/C,IAAN,GAAaA,IAAb;EACA,SAAO+C,KAAP;EACD;;EAED,SAASC,WAAT,CAAqBD,KAArB,EAA4B;EAC1BJ,eAAaI,KAAb;EACAE,UAAQp0B,MAAR,CAAek0B,KAAf;EACAH,YAAU3zB,IAAV,CAAe8zB,KAAf;EACA3F,eAAa2F,KAAb;EACD;;AAED,EAAO,SAASG,WAAT,CAAqBH,KAArB,EAA4B;EACjC,MAAIP,SAASO,MAAMP,MAAnB;EAAA,MACIr3B,IAAIq3B,OAAOr3B,CADf;EAAA,MAEIgU,IAAIqjB,OAAOX,EAFf;EAAA,MAGInD,SAAS,CAACvzB,CAAD,EAAIgU,CAAJ,CAHb;EAAA,MAIIkN,WAAW0W,MAAMxF,CAJrB;EAAA,MAKIU,OAAO8E,MAAMvF,CALjB;EAAA,MAMI2F,eAAe,CAACJ,KAAD,CANnB;;EAQAC,cAAYD,KAAZ;;EAEA,MAAIhB,OAAO1V,QAAX;EACA,SAAO0V,KAAKS,MAAL,IACAp2B,KAAKsB,GAAL,CAASvC,IAAI42B,KAAKS,MAAL,CAAYr3B,CAAzB,IAA8B20B,OAD9B,IAEA1zB,KAAKsB,GAAL,CAASyR,IAAI4iB,KAAKS,MAAL,CAAYX,EAAzB,IAA+B/B,OAFtC,EAE+C;EAC7CzT,eAAW0V,KAAKxE,CAAhB;EACA4F,iBAAaC,OAAb,CAAqBrB,IAArB;EACAiB,gBAAYjB,IAAZ;EACAA,WAAO1V,QAAP;EACD;;EAED8W,eAAaC,OAAb,CAAqBrB,IAArB;EACAY,eAAaZ,IAAb;;EAEA,MAAIC,OAAO/D,IAAX;EACA,SAAO+D,KAAKQ,MAAL,IACAp2B,KAAKsB,GAAL,CAASvC,IAAI62B,KAAKQ,MAAL,CAAYr3B,CAAzB,IAA8B20B,OAD9B,IAEA1zB,KAAKsB,GAAL,CAASyR,IAAI6iB,KAAKQ,MAAL,CAAYX,EAAzB,IAA+B/B,OAFtC,EAE+C;EAC7C7B,WAAO+D,KAAKxE,CAAZ;EACA2F,iBAAal0B,IAAb,CAAkB+yB,IAAlB;EACAgB,gBAAYhB,IAAZ;EACAA,WAAO/D,IAAP;EACD;;EAEDkF,eAAal0B,IAAb,CAAkB+yB,IAAlB;EACAW,eAAaX,IAAb;;EAEA,MAAIqB,QAAQF,aAAan4B,MAAzB;EAAA,MACIs4B,IADJ;EAEA,OAAKA,OAAO,CAAZ,EAAeA,OAAOD,KAAtB,EAA6B,EAAEC,IAA/B,EAAqC;EACnCtB,WAAOmB,aAAaG,IAAb,CAAP;EACAvB,WAAOoB,aAAaG,OAAO,CAApB,CAAP;EACAhF,eAAW0D,KAAK5D,IAAhB,EAAsB2D,KAAK/B,IAA3B,EAAiCgC,KAAKhC,IAAtC,EAA4CtB,MAA5C;EACD;;EAEDqD,SAAOoB,aAAa,CAAb,CAAP;EACAnB,SAAOmB,aAAaE,QAAQ,CAArB,CAAP;EACArB,OAAK5D,IAAL,GAAYD,WAAW4D,KAAK/B,IAAhB,EAAsBgC,KAAKhC,IAA3B,EAAiC,IAAjC,EAAuCtB,MAAvC,CAAZ;;EAEAoD,eAAaC,IAAb;EACAD,eAAaE,IAAb;EACD;;AAED,EAAO,SAASuB,QAAT,CAAkBvD,IAAlB,EAAwB;EAC7B,MAAI70B,IAAI60B,KAAK,CAAL,CAAR;EAAA,MACIwD,YAAYxD,KAAK,CAAL,CADhB;EAAA,MAEI+B,IAFJ;EAAA,MAGIC,IAHJ;EAAA,MAIIyB,GAJJ;EAAA,MAKIC,GALJ;EAAA,MAMIrG,OAAO4F,QAAQ3yB,CANnB;;EAQA,SAAO+sB,IAAP,EAAa;EACXoG,UAAME,eAAetG,IAAf,EAAqBmG,SAArB,IAAkCr4B,CAAxC;EACA,QAAIs4B,MAAM3D,OAAV,EAAmBzC,OAAOA,KAAKlM,CAAZ,CAAnB,KAAuC;EACrCuS,YAAMv4B,IAAIy4B,gBAAgBvG,IAAhB,EAAsBmG,SAAtB,CAAV;EACA,UAAIE,MAAM5D,OAAV,EAAmB;EACjB,YAAI,CAACzC,KAAKC,CAAV,EAAa;EACXyE,iBAAO1E,IAAP;EACA;EACD;EACDA,eAAOA,KAAKC,CAAZ;EACD,OAND,MAMO;EACL,YAAImG,MAAM,CAAC3D,OAAX,EAAoB;EAClBiC,iBAAO1E,KAAKE,CAAZ;EACAyE,iBAAO3E,IAAP;EACD,SAHD,MAGO,IAAIqG,MAAM,CAAC5D,OAAX,EAAoB;EACzBiC,iBAAO1E,IAAP;EACA2E,iBAAO3E,KAAKG,CAAZ;EACD,SAHM,MAGA;EACLuE,iBAAOC,OAAO3E,IAAd;EACD;EACD;EACD;EACF;EACF;;EAED0C,aAAWC,IAAX;EACA,MAAI6D,SAASf,YAAY9C,IAAZ,CAAb;EACAiD,UAAQxF,MAAR,CAAesE,IAAf,EAAqB8B,MAArB;;EAEA,MAAI,CAAC9B,IAAD,IAAS,CAACC,IAAd,EAAoB;;EAEpB,MAAID,SAASC,IAAb,EAAmB;EACjBW,iBAAaZ,IAAb;EACAC,WAAOc,YAAYf,KAAK/B,IAAjB,CAAP;EACAiD,YAAQxF,MAAR,CAAeoG,MAAf,EAAuB7B,IAAvB;EACA6B,WAAOzF,IAAP,GAAc4D,KAAK5D,IAAL,GAAYD,WAAW4D,KAAK/B,IAAhB,EAAsB6D,OAAO7D,IAA7B,CAA1B;EACA8B,iBAAaC,IAAb;EACAD,iBAAaE,IAAb;EACA;EACD;;EAED,MAAI,CAACA,IAAL,EAAW;EAAE;EACX6B,WAAOzF,IAAP,GAAcD,WAAW4D,KAAK/B,IAAhB,EAAsB6D,OAAO7D,IAA7B,CAAd;EACA;EACD;;EAED;EACA2C,eAAaZ,IAAb;EACAY,eAAaX,IAAb;;EAEA,MAAIC,QAAQF,KAAK/B,IAAjB;EAAA,MACIlB,KAAKmD,MAAM,CAAN,CADT;EAAA,MAEIlD,KAAKkD,MAAM,CAAN,CAFT;EAAA,MAGIjD,KAAKgB,KAAK,CAAL,IAAUlB,EAHnB;EAAA,MAIIG,KAAKe,KAAK,CAAL,IAAUjB,EAJnB;EAAA,MAKIoD,QAAQH,KAAKhC,IALjB;EAAA,MAMIoC,KAAKD,MAAM,CAAN,IAAWrD,EANpB;EAAA,MAOI+C,KAAKM,MAAM,CAAN,IAAWpD,EAPpB;EAAA,MAQItzB,IAAI,KAAKuzB,KAAK6C,EAAL,GAAU5C,KAAKmD,EAApB,CARR;EAAA,MASI0B,KAAK9E,KAAKA,EAAL,GAAUC,KAAKA,EATxB;EAAA,MAUIsD,KAAKH,KAAKA,EAAL,GAAUP,KAAKA,EAVxB;EAAA,MAWInD,SAAS,CAAC,CAACmD,KAAKiC,EAAL,GAAU7E,KAAKsD,EAAhB,IAAsB92B,CAAtB,GAA0BqzB,EAA3B,EAA+B,CAACE,KAAKuD,EAAL,GAAUH,KAAK0B,EAAhB,IAAsBr4B,CAAtB,GAA0BszB,EAAzD,CAXb;;EAaAT,aAAW0D,KAAK5D,IAAhB,EAAsB6D,KAAtB,EAA6BE,KAA7B,EAAoCzD,MAApC;EACAmF,SAAOzF,IAAP,GAAcD,WAAW8D,KAAX,EAAkBjC,IAAlB,EAAwB,IAAxB,EAA8BtB,MAA9B,CAAd;EACAsD,OAAK5D,IAAL,GAAYD,WAAW6B,IAAX,EAAiBmC,KAAjB,EAAwB,IAAxB,EAA8BzD,MAA9B,CAAZ;EACAoD,eAAaC,IAAb;EACAD,eAAaE,IAAb;EACD;;EAED,SAAS2B,cAAT,CAAwB/B,GAAxB,EAA6B4B,SAA7B,EAAwC;EACtC,MAAIxD,OAAO4B,IAAI5B,IAAf;EAAA,MACI+D,QAAQ/D,KAAK,CAAL,CADZ;EAAA,MAEIgE,QAAQhE,KAAK,CAAL,CAFZ;EAAA,MAGIiE,OAAOD,QAAQR,SAHnB;;EAKA,MAAI,CAACS,IAAL,EAAW,OAAOF,KAAP;;EAEX,MAAIhC,OAAOH,IAAIrE,CAAf;EACA,MAAI,CAACwE,IAAL,EAAW,OAAO,CAAClX,QAAR;;EAEXmV,SAAO+B,KAAK/B,IAAZ;EACA,MAAIkE,QAAQlE,KAAK,CAAL,CAAZ;EAAA,MACImE,QAAQnE,KAAK,CAAL,CADZ;EAAA,MAEIoE,QAAQD,QAAQX,SAFpB;;EAIA,MAAI,CAACY,KAAL,EAAY,OAAOF,KAAP;;EAEZ,MAAIG,KAAKH,QAAQH,KAAjB;EAAA,MACIO,OAAO,IAAIL,IAAJ,GAAW,IAAIG,KAD1B;EAAA,MAEIv5B,IAAIw5B,KAAKD,KAFb;;EAIA,MAAIE,IAAJ,EAAU,OAAO,CAAC,CAACz5B,CAAD,GAAKuB,KAAKM,IAAL,CAAU7B,IAAIA,CAAJ,GAAQ,IAAIy5B,IAAJ,IAAYD,KAAKA,EAAL,IAAW,CAAC,CAAD,GAAKD,KAAhB,IAAyBD,KAAzB,GAAiCC,QAAQ,CAAzC,GAA6CJ,KAA7C,GAAqDC,OAAO,CAAxE,CAAlB,CAAN,IAAuGK,IAAvG,GAA8GP,KAArH;;EAEV,SAAO,CAACA,QAAQG,KAAT,IAAkB,CAAzB;EACD;;EAED,SAASN,eAAT,CAAyBhC,GAAzB,EAA8B4B,SAA9B,EAAyC;EACvC,MAAIxB,OAAOJ,IAAIpE,CAAf;EACA,MAAIwE,IAAJ,EAAU,OAAO2B,eAAe3B,IAAf,EAAqBwB,SAArB,CAAP;EACV,MAAIxD,OAAO4B,IAAI5B,IAAf;EACA,SAAOA,KAAK,CAAL,MAAYwD,SAAZ,GAAwBxD,KAAK,CAAL,CAAxB,GAAkCnV,QAAzC;EACD;;EC1LM,IAAIiV,UAAU,IAAd;AACP,EAAO,IAAIuC,aAAW,KAAf;AACP,EAAO,IAAIY,OAAJ;AACP,EAAO,IAAI1E,KAAJ;AACP,EAAO,IAAImE,OAAJ;AACP,EAAO,IAAIrE,KAAJ;;EAEP,SAASkG,YAAT,CAAsB35B,CAAtB,EAAyBC,CAAzB,EAA4BmU,CAA5B,EAA+B;EAC7B,SAAO,CAACpU,EAAE,CAAF,IAAOoU,EAAE,CAAF,CAAR,KAAiBnU,EAAE,CAAF,IAAOD,EAAE,CAAF,CAAxB,IAAgC,CAACA,EAAE,CAAF,IAAOC,EAAE,CAAF,CAAR,KAAiBmU,EAAE,CAAF,IAAOpU,EAAE,CAAF,CAAxB,CAAvC;EACD;;EAED,SAAS45B,aAAT,CAAuB55B,CAAvB,EAA0BC,CAA1B,EAA6B;EAC3B,SAAOA,EAAE,CAAF,IAAOD,EAAE,CAAF,CAAP,IACAC,EAAE,CAAF,IAAOD,EAAE,CAAF,CADd;EAED;;AAED,EAAe,SAAS65B,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;EAC7C,MAAI3E,OAAO0E,MAAM5Y,IAAN,CAAW0Y,aAAX,EAA0Blf,GAA1B,EAAX;EAAA,MACIna,CADJ;EAAA,MAEIgU,CAFJ;EAAA,MAGIqjB,MAHJ;;EAKAnE,UAAQ,EAAR;EACAE,UAAQ,IAAI/xB,KAAJ,CAAUk4B,MAAM15B,MAAhB,CAAR;EACAi4B,YAAU,IAAI9F,YAAJ,EAAV;EACAuF,YAAU,IAAIvF,YAAJ,EAAV;;EAEA,SAAO,IAAP,EAAa;EACXqF,aAASd,WAAT;EACA,QAAI1B,SAAS,CAACwC,MAAD,IAAWxC,KAAK,CAAL,IAAUwC,OAAOrjB,CAA5B,IAAkC6gB,KAAK,CAAL,MAAYwC,OAAOrjB,CAAnB,IAAwB6gB,KAAK,CAAL,IAAUwC,OAAOr3B,CAApF,CAAJ,EAA6F;EAC3F,UAAI60B,KAAK,CAAL,MAAY70B,CAAZ,IAAiB60B,KAAK,CAAL,MAAY7gB,CAAjC,EAAoC;EAClCokB,iBAASvD,IAAT;EACA70B,YAAI60B,KAAK,CAAL,CAAJ,EAAa7gB,IAAI6gB,KAAK,CAAL,CAAjB;EACD;EACDA,aAAO0E,MAAMpf,GAAN,EAAP;EACD,KAND,MAMO,IAAIkd,MAAJ,EAAY;EACjBU,kBAAYV,OAAOZ,GAAnB;EACD,KAFM,MAEA;EACL;EACD;EACF;;EAEDrB;;EAEA,MAAIoE,MAAJ,EAAY;EACV,QAAInZ,KAAK,CAACmZ,OAAO,CAAP,EAAU,CAAV,CAAV;EAAA,QACI/F,KAAK,CAAC+F,OAAO,CAAP,EAAU,CAAV,CADV;EAAA,QAEIlZ,KAAK,CAACkZ,OAAO,CAAP,EAAU,CAAV,CAFV;EAAA,QAGI9F,KAAK,CAAC8F,OAAO,CAAP,EAAU,CAAV,CAHV;EAIA9E,cAAUrU,EAAV,EAAcoT,EAAd,EAAkBnT,EAAlB,EAAsBoT,EAAtB;EACA2B,cAAUhV,EAAV,EAAcoT,EAAd,EAAkBnT,EAAlB,EAAsBoT,EAAtB;EACD;;EAED,OAAKR,KAAL,GAAaA,KAAb;EACA,OAAKE,KAAL,GAAaA,KAAb;;EAEA0E,YACAP,UACArE,QACAE,QAAQ,IAHR;EAID;;EAEDkG,QAAQp2B,SAAR,GAAoB;EAClBE,eAAak2B,OADK;;EAGlBG,YAAU,oBAAW;EACnB,QAAIvG,QAAQ,KAAKA,KAAjB;;EAEA,WAAO,KAAKE,KAAL,CAAWjwB,GAAX,CAAe,UAAS4xB,IAAT,EAAe;EACnC,UAAI2E,UAAU3E,KAAK1B,SAAL,CAAelwB,GAAf,CAAmB,UAASnC,CAAT,EAAY;EAAE,eAAOk0B,kBAAkBH,IAAlB,EAAwB7B,MAAMlyB,CAAN,CAAxB,CAAP;EAA2C,OAA5E,CAAd;EACA04B,cAAQC,IAAR,GAAe5E,KAAKF,IAAL,CAAU8E,IAAzB;EACA,aAAOD,OAAP;EACD,KAJM,CAAP;EAKD,GAXiB;;EAalBE,aAAW,qBAAW;EACpB,QAAIA,YAAY,EAAhB;EAAA,QACI1G,QAAQ,KAAKA,KADjB;;EAGA,SAAKE,KAAL,CAAWyG,OAAX,CAAmB,UAAS9E,IAAT,EAAe/zB,CAAf,EAAkB;EACnC,UAAI,EAAEqQ,IAAI,CAACgiB,YAAY0B,KAAK1B,SAAlB,EAA6BxzB,MAAnC,CAAJ,EAAgD;EAChD,UAAIg1B,OAAOE,KAAKF,IAAhB;EAAA,UACIxB,SADJ;EAAA,UAEIzX,IAAI,CAAC,CAFT;EAAA,UAGIvK,CAHJ;EAAA,UAIIyoB,EAJJ;EAAA,UAKIC,KAAK7G,MAAMG,UAAUhiB,IAAI,CAAd,CAAN,CALT;EAAA,UAMI2oB,KAAKD,GAAGh6B,IAAH,KAAY80B,IAAZ,GAAmBkF,GAAG35B,KAAtB,GAA8B25B,GAAGh6B,IAN1C;;EAQA,aAAO,EAAE6b,CAAF,GAAMvK,CAAb,EAAgB;EACdyoB,aAAKE,EAAL;EACAD,aAAK7G,MAAMG,UAAUzX,CAAV,CAAN,CAAL;EACAoe,aAAKD,GAAGh6B,IAAH,KAAY80B,IAAZ,GAAmBkF,GAAG35B,KAAtB,GAA8B25B,GAAGh6B,IAAtC;EACA,YAAI+5B,MAAME,EAAN,IAAYh5B,IAAI84B,GAAGh1B,KAAnB,IAA4B9D,IAAIg5B,GAAGl1B,KAAnC,IAA4Cs0B,aAAavE,IAAb,EAAmBiF,EAAnB,EAAuBE,EAAvB,IAA6B,CAA7E,EAAgF;EAC9EJ,oBAAU91B,IAAV,CAAe,CAAC+wB,KAAK8E,IAAN,EAAYG,GAAGH,IAAf,EAAqBK,GAAGL,IAAxB,CAAf;EACD;EACF;EACF,KAlBD;;EAoBA,WAAOC,SAAP;EACD,GAtCiB;;EAwClBK,SAAO,iBAAW;EAChB,WAAO,KAAK/G,KAAL,CAAW/R,MAAX,CAAkB,UAAS8R,IAAT,EAAe;EACtC,aAAOA,KAAK7yB,KAAZ;EACD,KAFM,EAEJ+C,GAFI,CAEA,UAAS8vB,IAAT,EAAe;EACpB,aAAO;EACLjc,gBAAQic,KAAKlzB,IAAL,CAAU45B,IADb;EAEL7d,gBAAQmX,KAAK7yB,KAAL,CAAWu5B;EAFd,OAAP;EAID,KAPM,CAAP;EAQD,GAjDiB;;EAmDlBO,QAAM,cAASl6B,CAAT,EAAYgU,CAAZ,EAAemmB,MAAf,EAAuB;EAC3B,QAAItI,OAAO,IAAX;EAAA,QAAiBhvB,EAAjB;EAAA,QAAqBkb,KAAK8T,KAAKuI,MAAL,IAAe,CAAzC;EAAA,QAA4Ct5B,IAAI+wB,KAAKuB,KAAL,CAAWvzB,MAA3D;EAAA,QAAmEk1B,IAAnE;;EAEA;EACA,WAAO,EAAEA,OAAOlD,KAAKuB,KAAL,CAAWrV,EAAX,CAAT,CAAP;EAAiC,UAAI,EAAEA,EAAF,IAAQjd,CAAZ,EAAe,OAAO,IAAP;EAAhD,KACA,IAAIizB,KAAK/zB,IAAI+0B,KAAKF,IAAL,CAAU,CAAV,CAAb;EAAA,QAA2Bb,KAAKhgB,IAAI+gB,KAAKF,IAAL,CAAU,CAAV,CAApC;EAAA,QAAkDmB,KAAKjC,KAAKA,EAAL,GAAUC,KAAKA,EAAtE;;EAEA;EACA,OAAG;EACDe,aAAOlD,KAAKuB,KAAL,CAAWvwB,KAAKkb,EAAhB,CAAP,EAA4BA,KAAK,IAAjC;EACAgX,WAAK1B,SAAL,CAAewG,OAAf,CAAuB,UAASxhB,CAAT,EAAY;EACjC,YAAI4a,OAAOpB,KAAKqB,KAAL,CAAW7a,CAAX,CAAX;EAAA,YAA0BgiB,IAAIpH,KAAKlzB,IAAnC;EACA,YAAI,CAACs6B,MAAMtF,KAAKF,IAAX,IAAmB,CAACwF,CAArB,KAA2B,EAAEA,IAAIpH,KAAK7yB,KAAX,CAA/B,EAAkD;EAClD,YAAIk6B,KAAKt6B,IAAIq6B,EAAE,CAAF,CAAb;EAAA,YAAmBE,KAAKvmB,IAAIqmB,EAAE,CAAF,CAA5B;EAAA,YAAkC1kB,KAAK2kB,KAAKA,EAAL,GAAUC,KAAKA,EAAtD;EACA,YAAI5kB,KAAKqgB,EAAT,EAAaA,KAAKrgB,EAAL,EAASoI,KAAKsc,EAAEv1B,KAAhB;EACd,OALD;EAMD,KARD,QAQSiZ,OAAO,IARhB;;EAUA8T,SAAKuI,MAAL,GAAcv3B,EAAd;;EAEA,WAAOs3B,UAAU,IAAV,IAAkBnE,MAAMmE,SAASA,MAAjC,GAA0CpF,KAAKF,IAA/C,GAAsD,IAA7D;EACD;EAxEiB,CAApB;;EChEe,oBAAW;EACxB,MAAI70B,OAAIw6B,CAAR;EAAA,MACIxmB,OAAIymB,CADR;EAAA,MAEIjB,SAAS,IAFb;;EAIA,WAASkB,OAAT,CAAiBf,IAAjB,EAAuB;EACrB,WAAO,IAAIL,OAAJ,CAAYK,KAAKx2B,GAAL,CAAS,UAAS7C,CAAT,EAAYU,CAAZ,EAAe;EACzC,UAAIsR,IAAI,CAACrR,KAAKwE,KAAL,CAAWzF,KAAEM,CAAF,EAAKU,CAAL,EAAQ24B,IAAR,IAAgBhF,OAA3B,IAAsCA,OAAvC,EAAgD1zB,KAAKwE,KAAL,CAAWuO,KAAE1T,CAAF,EAAKU,CAAL,EAAQ24B,IAAR,IAAgBhF,OAA3B,IAAsCA,OAAtF,CAAR;EACAriB,QAAExN,KAAF,GAAU9D,CAAV;EACAsR,QAAEqnB,IAAF,GAASr5B,CAAT;EACA,aAAOgS,CAAP;EACD,KALkB,CAAZ,EAKHknB,MALG,CAAP;EAMD;;EAEDkB,UAAQjB,QAAR,GAAmB,UAASE,IAAT,EAAe;EAChC,WAAOe,QAAQf,IAAR,EAAcF,QAAd,EAAP;EACD,GAFD;;EAIAiB,UAAQT,KAAR,GAAgB,UAASN,IAAT,EAAe;EAC7B,WAAOe,QAAQf,IAAR,EAAcM,KAAd,EAAP;EACD,GAFD;;EAIAS,UAAQd,SAAR,GAAoB,UAASD,IAAT,EAAe;EACjC,WAAOe,QAAQf,IAAR,EAAcC,SAAd,EAAP;EACD,GAFD;;EAIAc,UAAQ16B,CAAR,GAAY,UAASmF,CAAT,EAAY;EACtB,WAAOpE,UAAUlB,MAAV,IAAoBG,OAAI,OAAOmF,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAlC,EAAgDu1B,OAApE,IAA+E16B,IAAtF;EACD,GAFD;;EAIA06B,UAAQ1mB,CAAR,GAAY,UAAS7O,CAAT,EAAY;EACtB,WAAOpE,UAAUlB,MAAV,IAAoBmU,OAAI,OAAO7O,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAlC,EAAgDu1B,OAApE,IAA+E1mB,IAAtF;EACD,GAFD;;EAIA0mB,UAAQlB,MAAR,GAAiB,UAASr0B,CAAT,EAAY;EAC3B,WAAOpE,UAAUlB,MAAV,IAAoB25B,SAASr0B,KAAK,IAAL,GAAY,IAAZ,GAAmB,CAAC,CAAC,CAACA,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAD,EAAuB,CAAC,CAACA,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAvB,CAA5B,EAA0Eu1B,OAA9F,IAAyGlB,UAAU,CAAC,CAACA,OAAO,CAAP,EAAU,CAAV,CAAD,EAAeA,OAAO,CAAP,EAAU,CAAV,CAAf,CAAD,EAA+B,CAACA,OAAO,CAAP,EAAU,CAAV,CAAD,EAAeA,OAAO,CAAP,EAAU,CAAV,CAAf,CAA/B,CAA1H;EACD,GAFD;;EAIAkB,UAAQz2B,IAAR,GAAe,UAASkB,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoB25B,SAASr0B,KAAK,IAAL,GAAY,IAAZ,GAAmB,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAACA,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAT,CAA5B,EAAsDu1B,OAA1E,IAAqFlB,UAAU,CAACA,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAAhB,EAA8BA,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAA7C,CAAtG;EACD,GAFD;;EAIA,SAAOkB,OAAP;EACD;;EC/Cc,mBAASp6B,CAAT,EAAY;EACzB,MAAIN,IAAI,CAAC,KAAK26B,EAAL,CAAQ11B,IAAR,CAAa,IAAb,EAAmB3E,CAAnB,CAAT;EAAA,MACI0T,IAAI,CAAC,KAAK4mB,EAAL,CAAQ31B,IAAR,CAAa,IAAb,EAAmB3E,CAAnB,CADT;EAEA,SAAOmE,IAAI,KAAKqxB,KAAL,CAAW91B,CAAX,EAAcgU,CAAd,CAAJ,EAAsBhU,CAAtB,EAAyBgU,CAAzB,EAA4B1T,CAA5B,CAAP;EACD;;EAED,SAASmE,GAAT,CAAasuB,IAAb,EAAmB/yB,CAAnB,EAAsBgU,CAAtB,EAAyB1T,CAAzB,EAA4B;EAC1B,MAAI8R,MAAMpS,CAAN,KAAYoS,MAAM4B,CAAN,CAAhB,EAA0B,OAAO+e,IAAP,CADA;;EAG1B,MAAIzsB,MAAJ;EAAA,MACI4rB,OAAOa,KAAK8H,KADhB;EAAA,MAEIC,OAAO,EAACnB,MAAMr5B,CAAP,EAFX;EAAA,MAGI+f,KAAK0S,KAAKgI,GAHd;EAAA,MAIItH,KAAKV,KAAKiI,GAJd;EAAA,MAKI1a,KAAKyS,KAAKkI,GALd;EAAA,MAMIvH,KAAKX,KAAKmI,GANd;EAAA,MAOIC,EAPJ;EAAA,MAQIC,EARJ;EAAA,MASIC,EATJ;EAAA,MAUIC,EAVJ;EAAA,MAWIl7B,KAXJ;EAAA,MAYIm7B,MAZJ;EAAA,MAaIv6B,CAbJ;EAAA,MAcI4a,CAdJ;;EAgBA;EACA,MAAI,CAACsW,IAAL,EAAW,OAAOa,KAAK8H,KAAL,GAAaC,IAAb,EAAmB/H,IAA1B;;EAEX;EACA,SAAOb,KAAKryB,MAAZ,EAAoB;EAClB,QAAIO,QAAQJ,MAAMm7B,KAAK,CAAC9a,KAAKC,EAAN,IAAY,CAAvB,CAAZ,EAAuCD,KAAK8a,EAAL,CAAvC,KAAqD7a,KAAK6a,EAAL;EACrD,QAAII,SAASvnB,MAAMonB,KAAK,CAAC3H,KAAKC,EAAN,IAAY,CAAvB,CAAb,EAAwCD,KAAK2H,EAAL,CAAxC,KAAsD1H,KAAK0H,EAAL;EACtD,QAAI90B,SAAS4rB,IAAT,EAAe,EAAEA,OAAOA,KAAKlxB,IAAIu6B,UAAU,CAAV,GAAcn7B,KAAvB,CAAT,CAAnB,EAA4D,OAAOkG,OAAOtF,CAAP,IAAY85B,IAAZ,EAAkB/H,IAAzB;EAC7D;;EAED;EACAsI,OAAK,CAACtI,KAAK4H,EAAL,CAAQ11B,IAAR,CAAa,IAAb,EAAmBitB,KAAKyH,IAAxB,CAAN;EACA2B,OAAK,CAACvI,KAAK6H,EAAL,CAAQ31B,IAAR,CAAa,IAAb,EAAmBitB,KAAKyH,IAAxB,CAAN;EACA,MAAI35B,MAAMq7B,EAAN,IAAYrnB,MAAMsnB,EAAtB,EAA0B,OAAOR,KAAKhI,IAAL,GAAYZ,IAAZ,EAAkB5rB,SAASA,OAAOtF,CAAP,IAAY85B,IAArB,GAA4B/H,KAAK8H,KAAL,GAAaC,IAA3D,EAAiE/H,IAAxE;;EAE1B;EACA,KAAG;EACDzsB,aAASA,SAASA,OAAOtF,CAAP,IAAY,IAAIK,KAAJ,CAAU,CAAV,CAArB,GAAoC0xB,KAAK8H,KAAL,GAAa,IAAIx5B,KAAJ,CAAU,CAAV,CAA1D;EACA,QAAIjB,QAAQJ,MAAMm7B,KAAK,CAAC9a,KAAKC,EAAN,IAAY,CAAvB,CAAZ,EAAuCD,KAAK8a,EAAL,CAAvC,KAAqD7a,KAAK6a,EAAL;EACrD,QAAII,SAASvnB,MAAMonB,KAAK,CAAC3H,KAAKC,EAAN,IAAY,CAAvB,CAAb,EAAwCD,KAAK2H,EAAL,CAAxC,KAAsD1H,KAAK0H,EAAL;EACvD,GAJD,QAIS,CAACp6B,IAAIu6B,UAAU,CAAV,GAAcn7B,KAAnB,OAA+Bwb,IAAI,CAAC0f,MAAMF,EAAP,KAAc,CAAd,GAAmBC,MAAMF,EAA5D,CAJT;EAKA,SAAO70B,OAAOsV,CAAP,IAAYsW,IAAZ,EAAkB5rB,OAAOtF,CAAP,IAAY85B,IAA9B,EAAoC/H,IAA3C;EACD;;AAED,EAAO,SAASyI,MAAT,CAAgB7B,IAAhB,EAAsB;EAC3B,MAAIr5B,CAAJ;EAAA,MAAOU,CAAP;EAAA,MAAUF,IAAI64B,KAAK95B,MAAnB;EAAA,MACIG,CADJ;EAAA,MAEIgU,CAFJ;EAAA,MAGIynB,KAAK,IAAIp6B,KAAJ,CAAUP,CAAV,CAHT;EAAA,MAII46B,KAAK,IAAIr6B,KAAJ,CAAUP,CAAV,CAJT;EAAA,MAKIuf,KAAKX,QALT;EAAA,MAMI+T,KAAK/T,QANT;EAAA,MAOIY,KAAK,CAACZ,QAPV;EAAA,MAQIgU,KAAK,CAAChU,QARV;;EAUA;EACA,OAAK1e,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtB,QAAIoR,MAAMpS,IAAI,CAAC,KAAK26B,EAAL,CAAQ11B,IAAR,CAAa,IAAb,EAAmB3E,IAAIq5B,KAAK34B,CAAL,CAAvB,CAAX,KAA+CoR,MAAM4B,IAAI,CAAC,KAAK4mB,EAAL,CAAQ31B,IAAR,CAAa,IAAb,EAAmB3E,CAAnB,CAAX,CAAnD,EAAsF;EACtFm7B,OAAGz6B,CAAH,IAAQhB,CAAR;EACA07B,OAAG16B,CAAH,IAAQgT,CAAR;EACA,QAAIhU,IAAIqgB,EAAR,EAAYA,KAAKrgB,CAAL;EACZ,QAAIA,IAAIsgB,EAAR,EAAYA,KAAKtgB,CAAL;EACZ,QAAIgU,IAAIyf,EAAR,EAAYA,KAAKzf,CAAL;EACZ,QAAIA,IAAI0f,EAAR,EAAYA,KAAK1f,CAAL;EACb;;EAED;EACA,MAAIsM,KAAKD,EAAT,EAAaA,KAAK,KAAK0a,GAAV,EAAeza,KAAK,KAAK2a,GAAzB;EACb,MAAIvH,KAAKD,EAAT,EAAaA,KAAK,KAAKuH,GAAV,EAAetH,KAAK,KAAKwH,GAAzB;;EAEb;EACA,OAAKpF,KAAL,CAAWzV,EAAX,EAAeoT,EAAf,EAAmBqC,KAAnB,CAAyBxV,EAAzB,EAA6BoT,EAA7B;;EAEA;EACA,OAAK1yB,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtByD,QAAI,IAAJ,EAAUg3B,GAAGz6B,CAAH,CAAV,EAAiB06B,GAAG16B,CAAH,CAAjB,EAAwB24B,KAAK34B,CAAL,CAAxB;EACD;;EAED,SAAO,IAAP;EACD;;ECpFc,qBAAShB,CAAT,EAAYgU,CAAZ,EAAe;EAC5B,MAAI5B,MAAMpS,IAAI,CAACA,CAAX,KAAiBoS,MAAM4B,IAAI,CAACA,CAAX,CAArB,EAAoC,OAAO,IAAP,CADR;;EAG5B,MAAIqM,KAAK,KAAK0a,GAAd;EAAA,MACItH,KAAK,KAAKuH,GADd;EAAA,MAEI1a,KAAK,KAAK2a,GAFd;EAAA,MAGIvH,KAAK,KAAKwH,GAHd;;EAKA;EACA;EACA;EACA,MAAI9oB,MAAMiO,EAAN,CAAJ,EAAe;EACbC,SAAK,CAACD,KAAKpf,KAAKc,KAAL,CAAW/B,CAAX,CAAN,IAAuB,CAA5B;EACA0zB,SAAK,CAACD,KAAKxyB,KAAKc,KAAL,CAAWiS,CAAX,CAAN,IAAuB,CAA5B;EACD;;EAED;EALA,OAMK,IAAIqM,KAAKrgB,CAAL,IAAUA,IAAIsgB,EAAd,IAAoBmT,KAAKzf,CAAzB,IAA8BA,IAAI0f,EAAtC,EAA0C;EAC7C,UAAIxf,IAAIoM,KAAKD,EAAb;EAAA,UACI6R,OAAO,KAAK2I,KADhB;EAAA,UAEIv0B,MAFJ;EAAA,UAGItF,CAHJ;;EAKA,cAAQA,IAAI,CAACgT,IAAI,CAACyf,KAAKC,EAAN,IAAY,CAAjB,KAAuB,CAAvB,GAA4B1zB,IAAI,CAACqgB,KAAKC,EAAN,IAAY,CAAxD;EACE,aAAK,CAAL;EAAQ;EACN;EAAGha,uBAAS,IAAIjF,KAAJ,CAAU,CAAV,CAAT,EAAuBiF,OAAOtF,CAAP,IAAYkxB,IAAnC,EAAyCA,OAAO5rB,MAAhD;EAAH,sBACO4N,KAAK,CAAL,EAAQoM,KAAKD,KAAKnM,CAAlB,EAAqBwf,KAAKD,KAAKvf,CAA/B,EAAkClU,IAAIsgB,EAAJ,IAAUtM,IAAI0f,EADvD;EAEA;EACD;EACD,aAAK,CAAL;EAAQ;EACN;EAAGptB,uBAAS,IAAIjF,KAAJ,CAAU,CAAV,CAAT,EAAuBiF,OAAOtF,CAAP,IAAYkxB,IAAnC,EAAyCA,OAAO5rB,MAAhD;EAAH,sBACO4N,KAAK,CAAL,EAAQmM,KAAKC,KAAKpM,CAAlB,EAAqBwf,KAAKD,KAAKvf,CAA/B,EAAkCmM,KAAKrgB,CAAL,IAAUgU,IAAI0f,EADvD;EAEA;EACD;EACD,aAAK,CAAL;EAAQ;EACN;EAAGptB,uBAAS,IAAIjF,KAAJ,CAAU,CAAV,CAAT,EAAuBiF,OAAOtF,CAAP,IAAYkxB,IAAnC,EAAyCA,OAAO5rB,MAAhD;EAAH,sBACO4N,KAAK,CAAL,EAAQoM,KAAKD,KAAKnM,CAAlB,EAAqBuf,KAAKC,KAAKxf,CAA/B,EAAkClU,IAAIsgB,EAAJ,IAAUmT,KAAKzf,CADxD;EAEA;EACD;EACD,aAAK,CAAL;EAAQ;EACN;EAAG1N,uBAAS,IAAIjF,KAAJ,CAAU,CAAV,CAAT,EAAuBiF,OAAOtF,CAAP,IAAYkxB,IAAnC,EAAyCA,OAAO5rB,MAAhD;EAAH,sBACO4N,KAAK,CAAL,EAAQmM,KAAKC,KAAKpM,CAAlB,EAAqBuf,KAAKC,KAAKxf,CAA/B,EAAkCmM,KAAKrgB,CAAL,IAAUyzB,KAAKzf,CADxD;EAEA;EACD;EApBH;;EAuBA,UAAI,KAAK6mB,KAAL,IAAc,KAAKA,KAAL,CAAWh7B,MAA7B,EAAqC,KAAKg7B,KAAL,GAAa3I,IAAb;EACtC;;EAED;EAhCK,SAiCA,OAAO,IAAP;;EAEL,OAAK6I,GAAL,GAAW1a,EAAX;EACA,OAAK2a,GAAL,GAAWvH,EAAX;EACA,OAAKwH,GAAL,GAAW3a,EAAX;EACA,OAAK4a,GAAL,GAAWxH,EAAX;EACA,SAAO,IAAP;EACD;;ECzDc,sBAAW;EACxB,MAAIiG,OAAO,EAAX;EACA,OAAKgC,KAAL,CAAW,UAASzJ,IAAT,EAAe;EACxB,QAAI,CAACA,KAAKryB,MAAV,EAAkB;EAAG85B,WAAK71B,IAAL,CAAUouB,KAAKyH,IAAf;EAAH,aAAgCzH,OAAOA,KAAKY,IAA5C;EACnB,GAFD;EAGA,SAAO6G,IAAP;EACD;;ECNc,sBAASx0B,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,GACD,KAAKi2B,KAAL,CAAW,CAAC3wB,EAAE,CAAF,EAAK,CAAL,CAAZ,EAAqB,CAACA,EAAE,CAAF,EAAK,CAAL,CAAtB,EAA+B2wB,KAA/B,CAAqC,CAAC3wB,EAAE,CAAF,EAAK,CAAL,CAAtC,EAA+C,CAACA,EAAE,CAAF,EAAK,CAAL,CAAhD,CADC,GAEDiN,MAAM,KAAK2oB,GAAX,IAAkBz1B,SAAlB,GAA8B,CAAC,CAAC,KAAKy1B,GAAN,EAAW,KAAKC,GAAhB,CAAD,EAAuB,CAAC,KAAKC,GAAN,EAAW,KAAKC,GAAhB,CAAvB,CAFpC;EAGD;;ECJc,eAAShJ,IAAT,EAAe7R,EAAf,EAAmBoT,EAAnB,EAAuBnT,EAAvB,EAA2BoT,EAA3B,EAA+B;EAC5C,OAAKxB,IAAL,GAAYA,IAAZ;EACA,OAAK7R,EAAL,GAAUA,EAAV;EACA,OAAKoT,EAAL,GAAUA,EAAV;EACA,OAAKnT,EAAL,GAAUA,EAAV;EACA,OAAKoT,EAAL,GAAUA,EAAV;EACD;;ECJc,oBAAS1zB,CAAT,EAAYgU,CAAZ,EAAemmB,MAAf,EAAuB;EACpC,MAAIR,IAAJ;EAAA,MACItZ,KAAK,KAAK0a,GADd;EAAA,MAEItH,KAAK,KAAKuH,GAFd;EAAA,MAGI1a,EAHJ;EAAA,MAIIoT,EAJJ;EAAA,MAKIkI,EALJ;EAAA,MAMIC,EANJ;EAAA,MAOIC,KAAK,KAAKb,GAPd;EAAA,MAQIc,KAAK,KAAKb,GARd;EAAA,MASIc,QAAQ,EATZ;EAAA,MAUI9J,OAAO,KAAK2I,KAVhB;EAAA,MAWIrjB,CAXJ;EAAA,MAYIxW,CAZJ;;EAcA,MAAIkxB,IAAJ,EAAU8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAAS/J,IAAT,EAAe7R,EAAf,EAAmBoT,EAAnB,EAAuBqI,EAAvB,EAA2BC,EAA3B,CAAX;EACV,MAAI5B,UAAU,IAAd,EAAoBA,SAASza,QAAT,CAApB,KACK;EACHW,SAAKrgB,IAAIm6B,MAAT,EAAiB1G,KAAKzf,IAAImmB,MAA1B;EACA2B,SAAK97B,IAAIm6B,MAAT,EAAiB4B,KAAK/nB,IAAImmB,MAA1B;EACAA,cAAUA,MAAV;EACD;;EAED,SAAO3iB,IAAIwkB,MAAM7hB,GAAN,EAAX,EAAwB;;EAEtB;EACA,QAAI,EAAE+X,OAAO1a,EAAE0a,IAAX,KACG,CAAC5R,KAAK9I,EAAE6I,EAAR,IAAcyb,EADjB,IAEG,CAACpI,KAAKlc,EAAEic,EAAR,IAAcsI,EAFjB,IAGG,CAACH,KAAKpkB,EAAE8I,EAAR,IAAcD,EAHjB,IAIG,CAACwb,KAAKrkB,EAAEkc,EAAR,IAAcD,EAJrB,EAIyB;;EAEzB;EACA,QAAIvB,KAAKryB,MAAT,EAAiB;EACf,UAAIs7B,KAAK,CAAC7a,KAAKsb,EAAN,IAAY,CAArB;EAAA,UACIR,KAAK,CAAC1H,KAAKmI,EAAN,IAAY,CADrB;;EAGAG,YAAMl4B,IAAN,CACE,IAAIm4B,IAAJ,CAAS/J,KAAK,CAAL,CAAT,EAAkBiJ,EAAlB,EAAsBC,EAAtB,EAA0BQ,EAA1B,EAA8BC,EAA9B,CADF,EAEE,IAAII,IAAJ,CAAS/J,KAAK,CAAL,CAAT,EAAkB5R,EAAlB,EAAsB8a,EAAtB,EAA0BD,EAA1B,EAA8BU,EAA9B,CAFF,EAGE,IAAII,IAAJ,CAAS/J,KAAK,CAAL,CAAT,EAAkBiJ,EAAlB,EAAsBzH,EAAtB,EAA0BkI,EAA1B,EAA8BR,EAA9B,CAHF,EAIE,IAAIa,IAAJ,CAAS/J,KAAK,CAAL,CAAT,EAAkB5R,EAAlB,EAAsBoT,EAAtB,EAA0ByH,EAA1B,EAA8BC,EAA9B,CAJF;;EAOA;EACA,UAAIp6B,IAAI,CAACgT,KAAKonB,EAAN,KAAa,CAAb,GAAkBp7B,KAAKm7B,EAA/B,EAAoC;EAClC3jB,YAAIwkB,MAAMA,MAAMn8B,MAAN,GAAe,CAArB,CAAJ;EACAm8B,cAAMA,MAAMn8B,MAAN,GAAe,CAArB,IAA0Bm8B,MAAMA,MAAMn8B,MAAN,GAAe,CAAf,GAAmBmB,CAAzB,CAA1B;EACAg7B,cAAMA,MAAMn8B,MAAN,GAAe,CAAf,GAAmBmB,CAAzB,IAA8BwW,CAA9B;EACD;EACF;;EAED;EAnBA,SAoBK;EACH,YAAIuc,KAAK/zB,IAAI,CAAC,KAAK26B,EAAL,CAAQ11B,IAAR,CAAa,IAAb,EAAmBitB,KAAKyH,IAAxB,CAAd;EAAA,YACI3F,KAAKhgB,IAAI,CAAC,KAAK4mB,EAAL,CAAQ31B,IAAR,CAAa,IAAb,EAAmBitB,KAAKyH,IAAxB,CADd;EAAA,YAEI3D,KAAKjC,KAAKA,EAAL,GAAUC,KAAKA,EAFxB;EAGA,YAAIgC,KAAKmE,MAAT,EAAiB;EACf,cAAI75B,IAAIW,KAAKM,IAAL,CAAU44B,SAASnE,EAAnB,CAAR;EACA3V,eAAKrgB,IAAIM,CAAT,EAAYmzB,KAAKzf,IAAI1T,CAArB;EACAw7B,eAAK97B,IAAIM,CAAT,EAAYy7B,KAAK/nB,IAAI1T,CAArB;EACAq5B,iBAAOzH,KAAKyH,IAAZ;EACD;EACF;EACF;;EAED,SAAOA,IAAP;EACD;;ECrEc,sBAASr5B,CAAT,EAAY;EACzB,MAAI8R,MAAMpS,IAAI,CAAC,KAAK26B,EAAL,CAAQ11B,IAAR,CAAa,IAAb,EAAmB3E,CAAnB,CAAX,KAAqC8R,MAAM4B,IAAI,CAAC,KAAK4mB,EAAL,CAAQ31B,IAAR,CAAa,IAAb,EAAmB3E,CAAnB,CAAX,CAAzC,EAA4E,OAAO,IAAP,CADnD;;EAGzB,MAAIgG,MAAJ;EAAA,MACI4rB,OAAO,KAAK2I,KADhB;EAAA,MAEIqB,QAFJ;EAAA,MAGIhb,QAHJ;EAAA,MAII4R,IAJJ;EAAA,MAKIzS,KAAK,KAAK0a,GALd;EAAA,MAMItH,KAAK,KAAKuH,GANd;EAAA,MAOI1a,KAAK,KAAK2a,GAPd;EAAA,MAQIvH,KAAK,KAAKwH,GARd;EAAA,MASIl7B,CATJ;EAAA,MAUIgU,CAVJ;EAAA,MAWImnB,EAXJ;EAAA,MAYIC,EAZJ;EAAA,MAaIh7B,KAbJ;EAAA,MAcIm7B,MAdJ;EAAA,MAeIv6B,CAfJ;EAAA,MAgBI4a,CAhBJ;;EAkBA;EACA,MAAI,CAACsW,IAAL,EAAW,OAAO,IAAP;;EAEX;EACA;EACA,MAAIA,KAAKryB,MAAT,EAAiB,OAAO,IAAP,EAAa;EAC5B,QAAIO,QAAQJ,MAAMm7B,KAAK,CAAC9a,KAAKC,EAAN,IAAY,CAAvB,CAAZ,EAAuCD,KAAK8a,EAAL,CAAvC,KAAqD7a,KAAK6a,EAAL;EACrD,QAAII,SAASvnB,MAAMonB,KAAK,CAAC3H,KAAKC,EAAN,IAAY,CAAvB,CAAb,EAAwCD,KAAK2H,EAAL,CAAxC,KAAsD1H,KAAK0H,EAAL;EACtD,QAAI,EAAE90B,SAAS4rB,IAAT,EAAeA,OAAOA,KAAKlxB,IAAIu6B,UAAU,CAAV,GAAcn7B,KAAvB,CAAxB,CAAJ,EAA4D,OAAO,IAAP;EAC5D,QAAI,CAAC8xB,KAAKryB,MAAV,EAAkB;EAClB,QAAIyG,OAAQtF,IAAI,CAAL,GAAU,CAAjB,KAAuBsF,OAAQtF,IAAI,CAAL,GAAU,CAAjB,CAAvB,IAA8CsF,OAAQtF,IAAI,CAAL,GAAU,CAAjB,CAAlD,EAAuEk7B,WAAW51B,MAAX,EAAmBsV,IAAI5a,CAAvB;EACxE;;EAED;EACA,SAAOkxB,KAAKyH,IAAL,KAAcr5B,CAArB;EAAwB,QAAI,EAAE4gB,WAAWgR,IAAX,EAAiBA,OAAOA,KAAKY,IAA/B,CAAJ,EAA0C,OAAO,IAAP;EAAlE,GACA,IAAIA,OAAOZ,KAAKY,IAAhB,EAAsB,OAAOZ,KAAKY,IAAZ;;EAEtB;EACA,MAAI5R,QAAJ,EAAc,OAAQ4R,OAAO5R,SAAS4R,IAAT,GAAgBA,IAAvB,GAA8B,OAAO5R,SAAS4R,IAA/C,EAAsD,IAA7D;;EAEd;EACA,MAAI,CAACxsB,MAAL,EAAa,OAAO,KAAKu0B,KAAL,GAAa/H,IAAb,EAAmB,IAA1B;;EAEb;EACAA,SAAOxsB,OAAOtF,CAAP,IAAY8xB,IAAnB,GAA0B,OAAOxsB,OAAOtF,CAAP,CAAjC;;EAEA;EACA,MAAI,CAACkxB,OAAO5rB,OAAO,CAAP,KAAaA,OAAO,CAAP,CAAb,IAA0BA,OAAO,CAAP,CAA1B,IAAuCA,OAAO,CAAP,CAA/C,KACG4rB,UAAU5rB,OAAO,CAAP,KAAaA,OAAO,CAAP,CAAb,IAA0BA,OAAO,CAAP,CAA1B,IAAuCA,OAAO,CAAP,CAAjD,CADH,IAEG,CAAC4rB,KAAKryB,MAFb,EAEqB;EACnB,QAAIq8B,QAAJ,EAAcA,SAAStgB,CAAT,IAAcsW,IAAd,CAAd,KACK,KAAK2I,KAAL,GAAa3I,IAAb;EACN;;EAED,SAAO,IAAP;EACD;;AAED,EAAO,SAASiK,SAAT,CAAmBxC,IAAnB,EAAyB;EAC9B,OAAK,IAAI34B,IAAI,CAAR,EAAWF,IAAI64B,KAAK95B,MAAzB,EAAiCmB,IAAIF,CAArC,EAAwC,EAAEE,CAA1C;EAA6C,SAAK0C,MAAL,CAAYi2B,KAAK34B,CAAL,CAAZ;EAA7C,GACA,OAAO,IAAP;EACD;;EC7Dc,sBAAW;EACxB,SAAO,KAAK65B,KAAZ;EACD;;ECFc,sBAAW;EACxB,MAAI52B,OAAO,CAAX;EACA,OAAK03B,KAAL,CAAW,UAASzJ,IAAT,EAAe;EACxB,QAAI,CAACA,KAAKryB,MAAV,EAAkB;EAAG,QAAEoE,IAAF;EAAH,aAAkBiuB,OAAOA,KAAKY,IAA9B;EACnB,GAFD;EAGA,SAAO7uB,IAAP;EACD;;ECJc,qBAAS0tB,QAAT,EAAmB;EAChC,MAAIqK,QAAQ,EAAZ;EAAA,MAAgBxkB,CAAhB;EAAA,MAAmB0a,OAAO,KAAK2I,KAA/B;EAAA,MAAsCuB,KAAtC;EAAA,MAA6C/b,EAA7C;EAAA,MAAiDoT,EAAjD;EAAA,MAAqDnT,EAArD;EAAA,MAAyDoT,EAAzD;EACA,MAAIxB,IAAJ,EAAU8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAAS/J,IAAT,EAAe,KAAK6I,GAApB,EAAyB,KAAKC,GAA9B,EAAmC,KAAKC,GAAxC,EAA6C,KAAKC,GAAlD,CAAX;EACV,SAAO1jB,IAAIwkB,MAAM7hB,GAAN,EAAX,EAAwB;EACtB,QAAI,CAACwX,SAASO,OAAO1a,EAAE0a,IAAlB,EAAwB7R,KAAK7I,EAAE6I,EAA/B,EAAmCoT,KAAKjc,EAAEic,EAA1C,EAA8CnT,KAAK9I,EAAE8I,EAArD,EAAyDoT,KAAKlc,EAAEkc,EAAhE,CAAD,IAAwExB,KAAKryB,MAAjF,EAAyF;EACvF,UAAIs7B,KAAK,CAAC9a,KAAKC,EAAN,IAAY,CAArB;EAAA,UAAwB8a,KAAK,CAAC3H,KAAKC,EAAN,IAAY,CAAzC;EACA,UAAI0I,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgBjB,EAAhB,EAAoBC,EAApB,EAAwB9a,EAAxB,EAA4BoT,EAA5B,CAAX;EACrB,UAAI0I,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgB/b,EAAhB,EAAoB+a,EAApB,EAAwBD,EAAxB,EAA4BzH,EAA5B,CAAX;EACrB,UAAI0I,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgBjB,EAAhB,EAAoB1H,EAApB,EAAwBnT,EAAxB,EAA4B8a,EAA5B,CAAX;EACrB,UAAIgB,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgB/b,EAAhB,EAAoBoT,EAApB,EAAwB0H,EAAxB,EAA4BC,EAA5B,CAAX;EACtB;EACF;EACD,SAAO,IAAP;EACD;;ECbc,0BAASzJ,QAAT,EAAmB;EAChC,MAAIqK,QAAQ,EAAZ;EAAA,MAAgBlJ,OAAO,EAAvB;EAAA,MAA2Btb,CAA3B;EACA,MAAI,KAAKqjB,KAAT,EAAgBmB,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAAS,KAAKpB,KAAd,EAAqB,KAAKE,GAA1B,EAA+B,KAAKC,GAApC,EAAyC,KAAKC,GAA9C,EAAmD,KAAKC,GAAxD,CAAX;EAChB,SAAO1jB,IAAIwkB,MAAM7hB,GAAN,EAAX,EAAwB;EACtB,QAAI+X,OAAO1a,EAAE0a,IAAb;EACA,QAAIA,KAAKryB,MAAT,EAAiB;EACf,UAAIu8B,KAAJ;EAAA,UAAW/b,KAAK7I,EAAE6I,EAAlB;EAAA,UAAsBoT,KAAKjc,EAAEic,EAA7B;EAAA,UAAiCnT,KAAK9I,EAAE8I,EAAxC;EAAA,UAA4CoT,KAAKlc,EAAEkc,EAAnD;EAAA,UAAuDyH,KAAK,CAAC9a,KAAKC,EAAN,IAAY,CAAxE;EAAA,UAA2E8a,KAAK,CAAC3H,KAAKC,EAAN,IAAY,CAA5F;EACA,UAAI0I,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgB/b,EAAhB,EAAoBoT,EAApB,EAAwB0H,EAAxB,EAA4BC,EAA5B,CAAX;EACrB,UAAIgB,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgBjB,EAAhB,EAAoB1H,EAApB,EAAwBnT,EAAxB,EAA4B8a,EAA5B,CAAX;EACrB,UAAIgB,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgB/b,EAAhB,EAAoB+a,EAApB,EAAwBD,EAAxB,EAA4BzH,EAA5B,CAAX;EACrB,UAAI0I,QAAQlK,KAAK,CAAL,CAAZ,EAAqB8J,MAAMl4B,IAAN,CAAW,IAAIm4B,IAAJ,CAASG,KAAT,EAAgBjB,EAAhB,EAAoBC,EAApB,EAAwB9a,EAAxB,EAA4BoT,EAA5B,CAAX;EACtB;EACDZ,SAAKhvB,IAAL,CAAU0T,CAAV;EACD;EACD,SAAOA,IAAIsb,KAAK3Y,GAAL,EAAX,EAAuB;EACrBwX,aAASna,EAAE0a,IAAX,EAAiB1a,EAAE6I,EAAnB,EAAuB7I,EAAEic,EAAzB,EAA6Bjc,EAAE8I,EAA/B,EAAmC9I,EAAEkc,EAArC;EACD;EACD,SAAO,IAAP;EACD;;ECpBM,SAAS2I,QAAT,CAAkB/7B,CAAlB,EAAqB;EAC1B,SAAOA,EAAE,CAAF,CAAP;EACD;;AAED,EAAe,iBAAS6E,CAAT,EAAY;EACzB,SAAOpE,UAAUlB,MAAV,IAAoB,KAAK86B,EAAL,GAAUx1B,CAAV,EAAa,IAAjC,IAAyC,KAAKw1B,EAArD;EACD;;ECNM,SAAS2B,QAAT,CAAkBh8B,CAAlB,EAAqB;EAC1B,SAAOA,EAAE,CAAF,CAAP;EACD;;AAED,EAAe,iBAAS6E,CAAT,EAAY;EACzB,SAAOpE,UAAUlB,MAAV,IAAoB,KAAK+6B,EAAL,GAAUz1B,CAAV,EAAa,IAAjC,IAAyC,KAAKy1B,EAArD;EACD;;ECOc,SAAS2B,QAAT,CAAkBC,KAAlB,EAAyBx8B,CAAzB,EAA4BgU,CAA5B,EAA+B;EAC5C,MAAI+e,OAAO,IAAI0J,QAAJ,CAAaz8B,KAAK,IAAL,GAAYq8B,QAAZ,GAAuBr8B,CAApC,EAAuCgU,KAAK,IAAL,GAAYsoB,QAAZ,GAAuBtoB,CAA9D,EAAiErU,GAAjE,EAAsEA,GAAtE,EAA2EA,GAA3E,EAAgFA,GAAhF,CAAX;EACA,SAAO68B,SAAS,IAAT,GAAgBzJ,IAAhB,GAAuBA,KAAKyI,MAAL,CAAYgB,KAAZ,CAA9B;EACD;;EAED,SAASC,QAAT,CAAkBz8B,CAAlB,EAAqBgU,CAArB,EAAwBqM,EAAxB,EAA4BoT,EAA5B,EAAgCnT,EAAhC,EAAoCoT,EAApC,EAAwC;EACtC,OAAKiH,EAAL,GAAU36B,CAAV;EACA,OAAK46B,EAAL,GAAU5mB,CAAV;EACA,OAAK+mB,GAAL,GAAW1a,EAAX;EACA,OAAK2a,GAAL,GAAWvH,EAAX;EACA,OAAKwH,GAAL,GAAW3a,EAAX;EACA,OAAK4a,GAAL,GAAWxH,EAAX;EACA,OAAKmH,KAAL,GAAav1B,SAAb;EACD;;EAED,SAASo3B,SAAT,CAAmB5B,IAAnB,EAAyB;EACvB,MAAI11B,OAAO,EAACu0B,MAAMmB,KAAKnB,IAAZ,EAAX;EAAA,MAA8B7G,OAAO1tB,IAArC;EACA,SAAO01B,OAAOA,KAAKhI,IAAnB;EAAyBA,WAAOA,KAAKA,IAAL,GAAY,EAAC6G,MAAMmB,KAAKnB,IAAZ,EAAnB;EAAzB,GACA,OAAOv0B,IAAP;EACD;;EAED,IAAIu3B,YAAYJ,SAASr5B,SAAT,GAAqBu5B,SAASv5B,SAA9C;;EAEAy5B,UAAUv3B,IAAV,GAAiB,YAAW;EAC1B,MAAIA,OAAO,IAAIq3B,QAAJ,CAAa,KAAK9B,EAAlB,EAAsB,KAAKC,EAA3B,EAA+B,KAAKG,GAApC,EAAyC,KAAKC,GAA9C,EAAmD,KAAKC,GAAxD,EAA6D,KAAKC,GAAlE,CAAX;EAAA,MACIhJ,OAAO,KAAK2I,KADhB;EAAA,MAEI2B,KAFJ;EAAA,MAGIJ,KAHJ;;EAKA,MAAI,CAAClK,IAAL,EAAW,OAAO9sB,IAAP;;EAEX,MAAI,CAAC8sB,KAAKryB,MAAV,EAAkB,OAAOuF,KAAKy1B,KAAL,GAAa6B,UAAUxK,IAAV,CAAb,EAA8B9sB,IAArC;;EAElBo3B,UAAQ,CAAC,EAACxlB,QAAQkb,IAAT,EAAepW,QAAQ1W,KAAKy1B,KAAL,GAAa,IAAIx5B,KAAJ,CAAU,CAAV,CAApC,EAAD,CAAR;EACA,SAAO6wB,OAAOsK,MAAMriB,GAAN,EAAd,EAA2B;EACzB,SAAK,IAAInZ,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuB,EAAEA,CAAzB,EAA4B;EAC1B,UAAIo7B,QAAQlK,KAAKlb,MAAL,CAAYhW,CAAZ,CAAZ,EAA4B;EAC1B,YAAIo7B,MAAMv8B,MAAV,EAAkB28B,MAAM14B,IAAN,CAAW,EAACkT,QAAQolB,KAAT,EAAgBtgB,QAAQoW,KAAKpW,MAAL,CAAY9a,CAAZ,IAAiB,IAAIK,KAAJ,CAAU,CAAV,CAAzC,EAAX,EAAlB,KACK6wB,KAAKpW,MAAL,CAAY9a,CAAZ,IAAiB07B,UAAUN,KAAV,CAAjB;EACN;EACF;EACF;;EAED,SAAOh3B,IAAP;EACD,CArBD;;EAuBAu3B,UAAUl4B,GAAV,GAAgBm4B,QAAhB;EACAD,UAAUnB,MAAV,GAAmBqB,MAAnB;EACAF,UAAU7G,KAAV,GAAkBgH,UAAlB;EACAH,UAAUhD,IAAV,GAAiBoD,SAAjB;EACAJ,UAAUnD,MAAV,GAAmBwD,WAAnB;EACAL,UAAUzC,IAAV,GAAiB+C,SAAjB;EACAN,UAAUj5B,MAAV,GAAmBw5B,WAAnB;EACAP,UAAUR,SAAV,GAAsBgB,SAAtB;EACAR,UAAUS,IAAV,GAAiBC,SAAjB;EACAV,UAAU14B,IAAV,GAAiBq5B,SAAjB;EACAX,UAAUhB,KAAV,GAAkB4B,UAAlB;EACAZ,UAAUa,UAAV,GAAuBC,eAAvB;EACAd,UAAU38B,CAAV,GAAc09B,MAAd;EACAf,UAAU3oB,CAAV,GAAc2pB,MAAd;;ECxEO,IAAIC,QAAQ,8BAAZ;;AAEP,mBAAe;EACbC,OAAK,4BADQ;EAEbD,SAAOA,KAFM;EAGbE,SAAO,8BAHM;EAIbC,OAAK,sCAJQ;EAKbC,SAAO;EALM,CAAf;;ECAe,oBAASp5B,IAAT,EAAe;EAC5B,MAAI5B,SAAS4B,QAAQ,EAArB;EAAA,MAAyB5D,IAAIgC,OAAOyZ,OAAP,CAAe,GAAf,CAA7B;EACA,MAAIzb,KAAK,CAAL,IAAU,CAACgC,SAAS4B,KAAKb,KAAL,CAAW,CAAX,EAAc/C,CAAd,CAAV,MAAgC,OAA9C,EAAuD4D,OAAOA,KAAKb,KAAL,CAAW/C,IAAI,CAAf,CAAP;EACvD,SAAOi9B,WAAWnsB,cAAX,CAA0B9O,MAA1B,IAAoC,EAACk7B,OAAOD,WAAWj7B,MAAX,CAAR,EAA4Bm7B,OAAOv5B,IAAnC,EAApC,GAA+EA,IAAtF;EACD;;ECHD,SAASw5B,cAAT,CAAwBx5B,IAAxB,EAA8B;EAC5B,SAAO,YAAW;EAChB,QAAIgU,WAAW,KAAKylB,aAApB;EAAA,QACIC,MAAM,KAAKC,YADf;EAEA,WAAOD,QAAQV,KAAR,IAAiBhlB,SAASE,eAAT,CAAyBylB,YAAzB,KAA0CX,KAA3D,GACDhlB,SAASC,aAAT,CAAuBjU,IAAvB,CADC,GAEDgU,SAASa,eAAT,CAAyB6kB,GAAzB,EAA8B15B,IAA9B,CAFN;EAGD,GAND;EAOD;;EAED,SAAS45B,YAAT,CAAsBC,QAAtB,EAAgC;EAC9B,SAAO,YAAW;EAChB,WAAO,KAAKJ,aAAL,CAAmB5kB,eAAnB,CAAmCglB,SAASP,KAA5C,EAAmDO,SAASN,KAA5D,CAAP;EACD,GAFD;EAGD;;AAED,EAAe,kBAASv5B,IAAT,EAAe;EAC5B,MAAI65B,WAAWC,UAAU95B,IAAV,CAAf;EACA,SAAO,CAAC65B,SAASN,KAAT,GACFK,YADE,GAEFJ,cAFC,EAEeK,QAFf,CAAP;EAGD;;ECxBD,SAASE,IAAT,GAAgB;;AAEhB,EAAe,mBAASC,QAAT,EAAmB;EAChC,SAAOA,YAAY,IAAZ,GAAmBD,IAAnB,GAA0B,YAAW;EAC1C,WAAO,KAAKE,aAAL,CAAmBD,QAAnB,CAAP;EACD,GAFD;EAGD;;ECHc,2BAASE,MAAT,EAAiB;EAC9B,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkCA,SAASF,SAASE,MAAT,CAAT;;EAElC,OAAK,IAAIC,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,IAAI59B,KAAJ,CAAUgQ,CAAV,CAA1D,EAAwEuK,IAAI,CAAjF,EAAoFA,IAAIvK,CAAxF,EAA2F,EAAEuK,CAA7F,EAAgG;EAC9F,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCq/B,WAAWD,UAAUrjB,CAAV,IAAe,IAAIva,KAAJ,CAAUP,CAAV,CAAnE,EAAiFoxB,IAAjF,EAAuFiN,OAAvF,EAAgGn+B,IAAI,CAAzG,EAA4GA,IAAIF,CAAhH,EAAmH,EAAEE,CAArH,EAAwH;EACtH,UAAI,CAACkxB,OAAOzT,MAAMzd,CAAN,CAAR,MAAsBm+B,UAAUL,OAAO75B,IAAP,CAAYitB,IAAZ,EAAkBA,KAAKkN,QAAvB,EAAiCp+B,CAAjC,EAAoCyd,KAApC,CAAhC,CAAJ,EAAiF;EAC/E,YAAI,cAAcyT,IAAlB,EAAwBiN,QAAQC,QAAR,GAAmBlN,KAAKkN,QAAxB;EACxBF,iBAASl+B,CAAT,IAAcm+B,OAAd;EACD;EACF;EACF;;EAED,SAAO,IAAIE,SAAJ,CAAcJ,SAAd,EAAyB,KAAKK,QAA9B,CAAP;EACD;;EChBD,SAASp7B,KAAT,GAAiB;EACf,SAAO,EAAP;EACD;;AAED,EAAe,sBAAS06B,QAAT,EAAmB;EAChC,SAAOA,YAAY,IAAZ,GAAmB16B,KAAnB,GAA2B,YAAW;EAC3C,WAAO,KAAKq7B,gBAAL,CAAsBX,QAAtB,CAAP;EACD,GAFD;EAGD;;ECLc,8BAASE,MAAT,EAAiB;EAC9B,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkCA,SAASU,YAAYV,MAAZ,CAAT;;EAElC,OAAK,IAAIC,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,EAA1D,EAA8DQ,UAAU,EAAxE,EAA4E7jB,IAAI,CAArF,EAAwFA,IAAIvK,CAA5F,EAA+F,EAAEuK,CAAjG,EAAoG;EAClG,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCqyB,IAAzC,EAA+ClxB,IAAI,CAAxD,EAA2DA,IAAIF,CAA/D,EAAkE,EAAEE,CAApE,EAAuE;EACrE,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnBi+B,kBAAUn7B,IAAV,CAAeg7B,OAAO75B,IAAP,CAAYitB,IAAZ,EAAkBA,KAAKkN,QAAvB,EAAiCp+B,CAAjC,EAAoCyd,KAApC,CAAf;EACAghB,gBAAQ37B,IAAR,CAAaouB,IAAb;EACD;EACF;EACF;;EAED,SAAO,IAAImN,SAAJ,CAAcJ,SAAd,EAAyBQ,OAAzB,CAAP;EACD;;EChBD,IAAIC,UAAU,iBAASd,QAAT,EAAmB;EAC/B,SAAO,YAAW;EAChB,WAAO,KAAKe,OAAL,CAAaf,QAAb,CAAP;EACD,GAFD;EAGD,CAJD;;EAMA,IAAI,OAAOhmB,QAAP,KAAoB,WAAxB,EAAqC;EACnC,MAAIgnB,UAAUhnB,SAASE,eAAvB;EACA,MAAI,CAAC8mB,QAAQD,OAAb,EAAsB;EACpB,QAAIE,gBAAgBD,QAAQE,qBAAR,IACbF,QAAQG,iBADK,IAEbH,QAAQI,kBAFK,IAGbJ,QAAQK,gBAHf;EAIAP,cAAU,iBAASd,QAAT,EAAmB;EAC3B,aAAO,YAAW;EAChB,eAAOiB,cAAc56B,IAAd,CAAmB,IAAnB,EAAyB25B,QAAzB,CAAP;EACD,OAFD;EAGD,KAJD;EAKD;EACF;;AAED,kBAAec,OAAf;;EClBe,2BAASpiB,KAAT,EAAgB;EAC7B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiCA,QAAQoiB,UAAQpiB,KAAR,CAAR;;EAEjC,OAAK,IAAIyhB,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,IAAI59B,KAAJ,CAAUgQ,CAAV,CAA1D,EAAwEuK,IAAI,CAAjF,EAAoFA,IAAIvK,CAAxF,EAA2F,EAAEuK,CAA7F,EAAgG;EAC9F,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCq/B,WAAWD,UAAUrjB,CAAV,IAAe,EAAnE,EAAuEsW,IAAvE,EAA6ElxB,IAAI,CAAtF,EAAyFA,IAAIF,CAA7F,EAAgG,EAAEE,CAAlG,EAAqG;EACnG,UAAI,CAACkxB,OAAOzT,MAAMzd,CAAN,CAAR,KAAqBsc,MAAMrY,IAAN,CAAWitB,IAAX,EAAiBA,KAAKkN,QAAtB,EAAgCp+B,CAAhC,EAAmCyd,KAAnC,CAAzB,EAAoE;EAClEygB,iBAASp7B,IAAT,CAAcouB,IAAd;EACD;EACF;EACF;;EAED,SAAO,IAAImN,SAAJ,CAAcJ,SAAd,EAAyB,KAAKK,QAA9B,CAAP;EACD;;ECfc,iBAASY,MAAT,EAAiB;EAC9B,SAAO,IAAI7+B,KAAJ,CAAU6+B,OAAOrgC,MAAjB,CAAP;EACD;;ECCc,4BAAW;EACxB,SAAO,IAAIw/B,SAAJ,CAAc,KAAKc,MAAL,IAAe,KAAKnB,OAAL,CAAa77B,GAAb,CAAiBi9B,MAAjB,CAA7B,EAAuD,KAAKd,QAA5D,CAAP;EACD;;AAED,EAAO,SAASe,SAAT,CAAmB/5B,MAAnB,EAA2Bg6B,KAA3B,EAAkC;EACvC,OAAKjC,aAAL,GAAqB/3B,OAAO+3B,aAA5B;EACA,OAAKE,YAAL,GAAoBj4B,OAAOi4B,YAA3B;EACA,OAAKgC,KAAL,GAAa,IAAb;EACA,OAAKC,OAAL,GAAel6B,MAAf;EACA,OAAK84B,QAAL,GAAgBkB,KAAhB;EACD;;EAEDD,UAAUn9B,SAAV,GAAsB;EACpBE,eAAai9B,SADO;EAEpBlnB,eAAa,qBAASijB,KAAT,EAAgB;EAAE,WAAO,KAAKoE,OAAL,CAAaC,YAAb,CAA0BrE,KAA1B,EAAiC,KAAKmE,KAAtC,CAAP;EAAsD,GAFjE;EAGpBE,gBAAc,sBAASrE,KAAT,EAAgBtJ,IAAhB,EAAsB;EAAE,WAAO,KAAK0N,OAAL,CAAaC,YAAb,CAA0BrE,KAA1B,EAAiCtJ,IAAjC,CAAP;EAAgD,GAHlE;EAIpB+L,iBAAe,uBAASD,QAAT,EAAmB;EAAE,WAAO,KAAK4B,OAAL,CAAa3B,aAAb,CAA2BD,QAA3B,CAAP;EAA8C,GAJ9D;EAKpBW,oBAAkB,0BAASX,QAAT,EAAmB;EAAE,WAAO,KAAK4B,OAAL,CAAajB,gBAAb,CAA8BX,QAA9B,CAAP;EAAiD;EALpE,CAAtB;;ECfe,qBAAS5+B,CAAT,EAAY;EACzB,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;ECAD,IAAI0gC,YAAY,GAAhB;;EAEA,SAASC,SAAT,CAAmBr6B,MAAnB,EAA2BmY,KAA3B,EAAkCmiB,KAAlC,EAAyCV,MAAzC,EAAiDW,IAAjD,EAAuDlH,IAAvD,EAA6D;EAC3D,MAAI34B,IAAI,CAAR;EAAA,MACIkxB,IADJ;EAAA,MAEI4O,cAAcriB,MAAM5e,MAFxB;EAAA,MAGIkhC,aAAapH,KAAK95B,MAHtB;;EAKA;EACA;EACA;EACA,SAAOmB,IAAI+/B,UAAX,EAAuB,EAAE//B,CAAzB,EAA4B;EAC1B,QAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnBkxB,WAAKkN,QAAL,GAAgBzF,KAAK34B,CAAL,CAAhB;EACAk/B,aAAOl/B,CAAP,IAAYkxB,IAAZ;EACD,KAHD,MAGO;EACL0O,YAAM5/B,CAAN,IAAW,IAAIq/B,SAAJ,CAAc/5B,MAAd,EAAsBqzB,KAAK34B,CAAL,CAAtB,CAAX;EACD;EACF;;EAED;EACA,SAAOA,IAAI8/B,WAAX,EAAwB,EAAE9/B,CAA1B,EAA6B;EAC3B,QAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnB6/B,WAAK7/B,CAAL,IAAUkxB,IAAV;EACD;EACF;EACF;;EAED,SAAS8O,OAAT,CAAiB16B,MAAjB,EAAyBmY,KAAzB,EAAgCmiB,KAAhC,EAAuCV,MAAvC,EAA+CW,IAA/C,EAAqDlH,IAArD,EAA2Dr2B,GAA3D,EAAgE;EAC9D,MAAItC,CAAJ;EAAA,MACIkxB,IADJ;EAAA,MAEI+O,iBAAiB,EAFrB;EAAA,MAGIH,cAAcriB,MAAM5e,MAHxB;EAAA,MAIIkhC,aAAapH,KAAK95B,MAJtB;EAAA,MAKIqhC,YAAY,IAAI7/B,KAAJ,CAAUy/B,WAAV,CALhB;EAAA,MAMIK,QANJ;;EAQA;EACA;EACA,OAAKngC,IAAI,CAAT,EAAYA,IAAI8/B,WAAhB,EAA6B,EAAE9/B,CAA/B,EAAkC;EAChC,QAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnBkgC,gBAAUlgC,CAAV,IAAemgC,WAAWT,YAAYp9B,IAAI2B,IAAJ,CAASitB,IAAT,EAAeA,KAAKkN,QAApB,EAA8Bp+B,CAA9B,EAAiCyd,KAAjC,CAAtC;EACA,UAAI0iB,YAAYF,cAAhB,EAAgC;EAC9BJ,aAAK7/B,CAAL,IAAUkxB,IAAV;EACD,OAFD,MAEO;EACL+O,uBAAeE,QAAf,IAA2BjP,IAA3B;EACD;EACF;EACF;;EAED;EACA;EACA;EACA,OAAKlxB,IAAI,CAAT,EAAYA,IAAI+/B,UAAhB,EAA4B,EAAE//B,CAA9B,EAAiC;EAC/BmgC,eAAWT,YAAYp9B,IAAI2B,IAAJ,CAASqB,MAAT,EAAiBqzB,KAAK34B,CAAL,CAAjB,EAA0BA,CAA1B,EAA6B24B,IAA7B,CAAvB;EACA,QAAIzH,OAAO+O,eAAeE,QAAf,CAAX,EAAqC;EACnCjB,aAAOl/B,CAAP,IAAYkxB,IAAZ;EACAA,WAAKkN,QAAL,GAAgBzF,KAAK34B,CAAL,CAAhB;EACAigC,qBAAeE,QAAf,IAA2B,IAA3B;EACD,KAJD,MAIO;EACLP,YAAM5/B,CAAN,IAAW,IAAIq/B,SAAJ,CAAc/5B,MAAd,EAAsBqzB,KAAK34B,CAAL,CAAtB,CAAX;EACD;EACF;;EAED;EACA,OAAKA,IAAI,CAAT,EAAYA,IAAI8/B,WAAhB,EAA6B,EAAE9/B,CAA/B,EAAkC;EAChC,QAAI,CAACkxB,OAAOzT,MAAMzd,CAAN,CAAR,KAAsBigC,eAAeC,UAAUlgC,CAAV,CAAf,MAAiCkxB,IAA3D,EAAkE;EAChE2O,WAAK7/B,CAAL,IAAUkxB,IAAV;EACD;EACF;EACF;;AAED,EAAe,yBAASzuB,KAAT,EAAgBH,GAAhB,EAAqB;EAClC,MAAI,CAACG,KAAL,EAAY;EACVk2B,WAAO,IAAIt4B,KAAJ,CAAU,KAAK4C,IAAL,EAAV,CAAP,EAA+B2X,IAAI,CAAC,CAApC;EACA,SAAKzX,IAAL,CAAU,UAAS7D,CAAT,EAAY;EAAEq5B,WAAK,EAAE/d,CAAP,IAAYtb,CAAZ;EAAgB,KAAxC;EACA,WAAOq5B,IAAP;EACD;;EAED,MAAIyH,OAAO99B,MAAM09B,OAAN,GAAgBL,SAA3B;EAAA,MACIlB,UAAU,KAAKH,QADnB;EAAA,MAEIP,SAAS,KAAKC,OAFlB;;EAIA,MAAI,OAAOv7B,KAAP,KAAiB,UAArB,EAAiCA,QAAQuS,WAASvS,KAAT,CAAR;;EAEjC,OAAK,IAAI4N,IAAI0tB,OAAOl/B,MAAf,EAAuBqgC,SAAS,IAAI7+B,KAAJ,CAAUgQ,CAAV,CAAhC,EAA8CuvB,QAAQ,IAAIv/B,KAAJ,CAAUgQ,CAAV,CAAtD,EAAoEwvB,OAAO,IAAIx/B,KAAJ,CAAUgQ,CAAV,CAA3E,EAAyFuK,IAAI,CAAlG,EAAqGA,IAAIvK,CAAzG,EAA4G,EAAEuK,CAA9G,EAAiH;EAC/G,QAAItV,SAASm5B,QAAQ7jB,CAAR,CAAb;EAAA,QACI6C,QAAQsgB,OAAOnjB,CAAP,CADZ;EAAA,QAEIklB,cAAcriB,MAAM5e,MAFxB;EAAA,QAGI85B,OAAOl2B,MAAMwB,IAAN,CAAWqB,MAAX,EAAmBA,UAAUA,OAAO84B,QAApC,EAA8CxjB,CAA9C,EAAiD6jB,OAAjD,CAHX;EAAA,QAIIsB,aAAapH,KAAK95B,MAJtB;EAAA,QAKIwhC,aAAaT,MAAMhlB,CAAN,IAAW,IAAIva,KAAJ,CAAU0/B,UAAV,CAL5B;EAAA,QAMIO,cAAcpB,OAAOtkB,CAAP,IAAY,IAAIva,KAAJ,CAAU0/B,UAAV,CAN9B;EAAA,QAOIQ,YAAYV,KAAKjlB,CAAL,IAAU,IAAIva,KAAJ,CAAUy/B,WAAV,CAP1B;;EASAM,SAAK96B,MAAL,EAAamY,KAAb,EAAoB4iB,UAApB,EAAgCC,WAAhC,EAA6CC,SAA7C,EAAwD5H,IAAxD,EAA8Dr2B,GAA9D;;EAEA;EACA;EACA;EACA,SAAK,IAAIT,KAAK,CAAT,EAAYkb,KAAK,CAAjB,EAAoBmD,QAApB,EAA8B4R,IAAnC,EAAyCjwB,KAAKk+B,UAA9C,EAA0D,EAAEl+B,EAA5D,EAAgE;EAC9D,UAAIqe,WAAWmgB,WAAWx+B,EAAX,CAAf,EAA+B;EAC7B,YAAIA,MAAMkb,EAAV,EAAcA,KAAKlb,KAAK,CAAV;EACd,eAAO,EAAEiwB,OAAOwO,YAAYvjB,EAAZ,CAAT,KAA6B,EAAEA,EAAF,GAAOgjB,UAA3C;EACA7f,iBAASqf,KAAT,GAAiBzN,QAAQ,IAAzB;EACD;EACF;EACF;;EAEDoN,WAAS,IAAIb,SAAJ,CAAca,MAAd,EAAsBT,OAAtB,CAAT;EACAS,SAAOC,MAAP,GAAgBS,KAAhB;EACAV,SAAOsB,KAAP,GAAeX,IAAf;EACA,SAAOX,MAAP;EACD;;EClHc,2BAAW;EACxB,SAAO,IAAIb,SAAJ,CAAc,KAAKmC,KAAL,IAAc,KAAKxC,OAAL,CAAa77B,GAAb,CAAiBi9B,MAAjB,CAA5B,EAAsD,KAAKd,QAA3D,CAAP;EACD;;ECHc,0BAASmC,YAAT,EAAoB;;EAEjC,OAAK,IAAIC,UAAU,KAAK1C,OAAnB,EAA4B2C,UAAUF,aAAUzC,OAAhD,EAAyD4C,KAAKF,QAAQ7hC,MAAtE,EAA8E+S,KAAK+uB,QAAQ9hC,MAA3F,EAAmGwR,IAAIpQ,KAAKgF,GAAL,CAAS27B,EAAT,EAAahvB,EAAb,CAAvG,EAAyHivB,SAAS,IAAIxgC,KAAJ,CAAUugC,EAAV,CAAlI,EAAiJhmB,IAAI,CAA1J,EAA6JA,IAAIvK,CAAjK,EAAoK,EAAEuK,CAAtK,EAAyK;EACvK,SAAK,IAAIkmB,SAASJ,QAAQ9lB,CAAR,CAAb,EAAyBmmB,SAASJ,QAAQ/lB,CAAR,CAAlC,EAA8C9a,IAAIghC,OAAOjiC,MAAzD,EAAiEmiC,QAAQH,OAAOjmB,CAAP,IAAY,IAAIva,KAAJ,CAAUP,CAAV,CAArF,EAAmGoxB,IAAnG,EAAyGlxB,IAAI,CAAlH,EAAqHA,IAAIF,CAAzH,EAA4H,EAAEE,CAA9H,EAAiI;EAC/H,UAAIkxB,OAAO4P,OAAO9gC,CAAP,KAAa+gC,OAAO/gC,CAAP,CAAxB,EAAmC;EACjCghC,cAAMhhC,CAAN,IAAWkxB,IAAX;EACD;EACF;EACF;;EAED,SAAOtW,IAAIgmB,EAAX,EAAe,EAAEhmB,CAAjB,EAAoB;EAClBimB,WAAOjmB,CAAP,IAAY8lB,QAAQ9lB,CAAR,CAAZ;EACD;;EAED,SAAO,IAAIyjB,SAAJ,CAAcwC,MAAd,EAAsB,KAAKvC,QAA3B,CAAP;EACD;;ECjBc,4BAAW;;EAExB,OAAK,IAAIP,SAAS,KAAKC,OAAlB,EAA2BpjB,IAAI,CAAC,CAAhC,EAAmCvK,IAAI0tB,OAAOl/B,MAAnD,EAA2D,EAAE+b,CAAF,GAAMvK,CAAjE,GAAqE;EACnE,SAAK,IAAIoN,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB5a,IAAIyd,MAAM5e,MAAN,GAAe,CAA1C,EAA6CizB,OAAOrU,MAAMzd,CAAN,CAApD,EAA8DkxB,IAAnE,EAAyE,EAAElxB,CAAF,IAAO,CAAhF,GAAoF;EAClF,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnB,YAAI8xB,QAAQA,SAASZ,KAAK+P,WAA1B,EAAuCnP,KAAKoP,UAAL,CAAgBzB,YAAhB,CAA6BvO,IAA7B,EAAmCY,IAAnC;EACvCA,eAAOZ,IAAP;EACD;EACF;EACF;;EAED,SAAO,IAAP;EACD;;ECVc,yBAAStyB,OAAT,EAAkB;EAC/B,MAAI,CAACA,OAAL,EAAcA,UAAUW,WAAV;;EAEd,WAAS4hC,WAAT,CAAqB1iC,CAArB,EAAwBC,CAAxB,EAA2B;EACzB,WAAOD,KAAKC,CAAL,GAASE,QAAQH,EAAE2/B,QAAV,EAAoB1/B,EAAE0/B,QAAtB,CAAT,GAA2C,CAAC3/B,CAAD,GAAK,CAACC,CAAxD;EACD;;EAED,OAAK,IAAIq/B,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8CuiC,aAAa,IAAI/gC,KAAJ,CAAUgQ,CAAV,CAA3D,EAAyEuK,IAAI,CAAlF,EAAqFA,IAAIvK,CAAzF,EAA4F,EAAEuK,CAA9F,EAAiG;EAC/F,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCwiC,YAAYD,WAAWxmB,CAAX,IAAgB,IAAIva,KAAJ,CAAUP,CAAV,CAArE,EAAmFoxB,IAAnF,EAAyFlxB,IAAI,CAAlG,EAAqGA,IAAIF,CAAzG,EAA4G,EAAEE,CAA9G,EAAiH;EAC/G,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnBqhC,kBAAUrhC,CAAV,IAAekxB,IAAf;EACD;EACF;EACDmQ,cAAU1hB,IAAV,CAAewhB,WAAf;EACD;;EAED,SAAO,IAAI9C,SAAJ,CAAc+C,UAAd,EAA0B,KAAK9C,QAA/B,EAAyCgD,KAAzC,EAAP;EACD;;EAED,SAAS/hC,WAAT,CAAmBd,CAAnB,EAAsBC,CAAtB,EAAyB;EACvB,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAaC,GAA7C;EACD;;ECvBc,2BAAW;EACxB,MAAIgyB,WAAW5wB,UAAU,CAAV,CAAf;EACAA,YAAU,CAAV,IAAe,IAAf;EACA4wB,WAASI,KAAT,CAAe,IAAf,EAAqBhxB,SAArB;EACA,SAAO,IAAP;EACD;;ECLc,4BAAW;EACxB,MAAIy7B,QAAQ,IAAIn7B,KAAJ,CAAU,KAAK4C,IAAL,EAAV,CAAZ;EAAA,MAAoCjD,IAAI,CAAC,CAAzC;EACA,OAAKmD,IAAL,CAAU,YAAW;EAAEq4B,UAAM,EAAEx7B,CAAR,IAAa,IAAb;EAAoB,GAA3C;EACA,SAAOw7B,KAAP;EACD;;ECJc,2BAAW;;EAExB,OAAK,IAAIuC,SAAS,KAAKC,OAAlB,EAA2BpjB,IAAI,CAA/B,EAAkCvK,IAAI0tB,OAAOl/B,MAAlD,EAA0D+b,IAAIvK,CAA9D,EAAiE,EAAEuK,CAAnE,EAAsE;EACpE,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB5a,IAAI,CAA3B,EAA8BF,IAAI2d,MAAM5e,MAA7C,EAAqDmB,IAAIF,CAAzD,EAA4D,EAAEE,CAA9D,EAAiE;EAC/D,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX;EACA,UAAIkxB,IAAJ,EAAU,OAAOA,IAAP;EACX;EACF;;EAED,SAAO,IAAP;EACD;;ECVc,2BAAW;EACxB,MAAIjuB,OAAO,CAAX;EACA,OAAKE,IAAL,CAAU,YAAW;EAAE,MAAEF,IAAF;EAAS,GAAhC;EACA,SAAOA,IAAP;EACD;;ECJc,4BAAW;EACxB,SAAO,CAAC,KAAKiuB,IAAL,EAAR;EACD;;ECFc,yBAASP,QAAT,EAAmB;;EAEhC,OAAK,IAAIoN,SAAS,KAAKC,OAAlB,EAA2BpjB,IAAI,CAA/B,EAAkCvK,IAAI0tB,OAAOl/B,MAAlD,EAA0D+b,IAAIvK,CAA9D,EAAiE,EAAEuK,CAAnE,EAAsE;EACpE,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB5a,IAAI,CAA3B,EAA8BF,IAAI2d,MAAM5e,MAAxC,EAAgDqyB,IAArD,EAA2DlxB,IAAIF,CAA/D,EAAkE,EAAEE,CAApE,EAAuE;EACrE,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB2wB,SAAS1sB,IAAT,CAAcitB,IAAd,EAAoBA,KAAKkN,QAAzB,EAAmCp+B,CAAnC,EAAsCyd,KAAtC;EACtB;EACF;;EAED,SAAO,IAAP;EACD;;ECPD,SAAS8jB,UAAT,CAAoB39B,IAApB,EAA0B;EACxB,SAAO,YAAW;EAChB,SAAK49B,eAAL,CAAqB59B,IAArB;EACD,GAFD;EAGD;;EAED,SAAS69B,YAAT,CAAsBhE,QAAtB,EAAgC;EAC9B,SAAO,YAAW;EAChB,SAAKiE,iBAAL,CAAuBjE,SAASP,KAAhC,EAAuCO,SAASN,KAAhD;EACD,GAFD;EAGD;;EAED,SAASwE,YAAT,CAAsB/9B,IAAtB,EAA4BnB,KAA5B,EAAmC;EACjC,SAAO,YAAW;EAChB,SAAKiW,YAAL,CAAkB9U,IAAlB,EAAwBnB,KAAxB;EACD,GAFD;EAGD;;EAED,SAASm/B,cAAT,CAAwBnE,QAAxB,EAAkCh7B,KAAlC,EAAyC;EACvC,SAAO,YAAW;EAChB,SAAKo/B,cAAL,CAAoBpE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,EAAoD16B,KAApD;EACD,GAFD;EAGD;;EAED,SAASq/B,YAAT,CAAsBl+B,IAAtB,EAA4BnB,KAA5B,EAAmC;EACjC,SAAO,YAAW;EAChB,QAAI42B,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,QAAIs5B,KAAK,IAAT,EAAe,KAAKmI,eAAL,CAAqB59B,IAArB,EAAf,KACK,KAAK8U,YAAL,CAAkB9U,IAAlB,EAAwBy1B,CAAxB;EACN,GAJD;EAKD;;EAED,SAAS0I,cAAT,CAAwBtE,QAAxB,EAAkCh7B,KAAlC,EAAyC;EACvC,SAAO,YAAW;EAChB,QAAI42B,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,QAAIs5B,KAAK,IAAT,EAAe,KAAKqI,iBAAL,CAAuBjE,SAASP,KAAhC,EAAuCO,SAASN,KAAhD,EAAf,KACK,KAAK0E,cAAL,CAAoBpE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,EAAoD9D,CAApD;EACN,GAJD;EAKD;;AAED,EAAe,yBAASz1B,IAAT,EAAenB,KAAf,EAAsB;EACnC,MAAIg7B,WAAWC,UAAU95B,IAAV,CAAf;;EAEA,MAAI7D,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B;EACxB,QAAIqyB,OAAO,KAAKA,IAAL,EAAX;EACA,WAAOuM,SAASN,KAAT,GACDjM,KAAK8Q,cAAL,CAAoBvE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,CADC,GAEDjM,KAAK+Q,YAAL,CAAkBxE,QAAlB,CAFN;EAGD;;EAED,SAAO,KAAKt6B,IAAL,CAAU,CAACV,SAAS,IAAT,GACXg7B,SAASN,KAAT,GAAiBsE,YAAjB,GAAgCF,UADrB,GACoC,OAAO9+B,KAAP,KAAiB,UAAjB,GAC/Cg7B,SAASN,KAAT,GAAiB4E,cAAjB,GAAkCD,YADa,GAE/CrE,SAASN,KAAT,GAAiByE,cAAjB,GAAkCD,YAHxB,EAGwClE,QAHxC,EAGkDh7B,KAHlD,CAAV,CAAP;EAID;;ECxDc,sBAASyuB,IAAT,EAAe;EAC5B,WAAQA,KAAKmM,aAAL,IAAsBnM,KAAKmM,aAAL,CAAmBtlB,WAA1C;EACCmZ,SAAKtZ,QAAL,IAAiBsZ,IADlB;EAAA,OAEAA,KAAKnZ,WAFZ,CAD4B;EAI7B;;ECFD,SAASmqB,WAAT,CAAqBt+B,IAArB,EAA2B;EACzB,SAAO,YAAW;EAChB,SAAKoU,KAAL,CAAWmqB,cAAX,CAA0Bv+B,IAA1B;EACD,GAFD;EAGD;;EAED,SAASw+B,aAAT,CAAuBx+B,IAAvB,EAA6BnB,KAA7B,EAAoC4/B,QAApC,EAA8C;EAC5C,SAAO,YAAW;EAChB,SAAKrqB,KAAL,CAAWsqB,WAAX,CAAuB1+B,IAAvB,EAA6BnB,KAA7B,EAAoC4/B,QAApC;EACD,GAFD;EAGD;;EAED,SAASE,aAAT,CAAuB3+B,IAAvB,EAA6BnB,KAA7B,EAAoC4/B,QAApC,EAA8C;EAC5C,SAAO,YAAW;EAChB,QAAIhJ,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,QAAIs5B,KAAK,IAAT,EAAe,KAAKrhB,KAAL,CAAWmqB,cAAX,CAA0Bv+B,IAA1B,EAAf,KACK,KAAKoU,KAAL,CAAWsqB,WAAX,CAAuB1+B,IAAvB,EAA6By1B,CAA7B,EAAgCgJ,QAAhC;EACN,GAJD;EAKD;;AAED,EAAe,0BAASz+B,IAAT,EAAenB,KAAf,EAAsB4/B,QAAtB,EAAgC;EAC7C,SAAOtiC,UAAUlB,MAAV,GAAmB,CAAnB,GACD,KAAKsE,IAAL,CAAU,CAACV,SAAS,IAAT,GACLy/B,WADK,GACS,OAAOz/B,KAAP,KAAiB,UAAjB,GACd8/B,aADc,GAEdH,aAHI,EAGWx+B,IAHX,EAGiBnB,KAHjB,EAGwB4/B,YAAY,IAAZ,GAAmB,EAAnB,GAAwBA,QAHhD,CAAV,CADC,GAKDG,WAAW,KAAKtR,IAAL,EAAX,EAAwBttB,IAAxB,CALN;EAMD;;AAED,EAAO,SAAS4+B,UAAT,CAAoBtR,IAApB,EAA0BttB,IAA1B,EAAgC;EACrC,SAAOstB,KAAKlZ,KAAL,CAAWI,gBAAX,CAA4BxU,IAA5B,KACAmU,YAAYmZ,IAAZ,EAAkBhZ,gBAAlB,CAAmCgZ,IAAnC,EAAyC,IAAzC,EAA+C9Y,gBAA/C,CAAgExU,IAAhE,CADP;EAED;;EClCD,SAAS6+B,cAAT,CAAwB7+B,IAAxB,EAA8B;EAC5B,SAAO,YAAW;EAChB,WAAO,KAAKA,IAAL,CAAP;EACD,GAFD;EAGD;;EAED,SAAS8+B,gBAAT,CAA0B9+B,IAA1B,EAAgCnB,KAAhC,EAAuC;EACrC,SAAO,YAAW;EAChB,SAAKmB,IAAL,IAAanB,KAAb;EACD,GAFD;EAGD;;EAED,SAASkgC,gBAAT,CAA0B/+B,IAA1B,EAAgCnB,KAAhC,EAAuC;EACrC,SAAO,YAAW;EAChB,QAAI42B,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,QAAIs5B,KAAK,IAAT,EAAe,OAAO,KAAKz1B,IAAL,CAAP,CAAf,KACK,KAAKA,IAAL,IAAay1B,CAAb;EACN,GAJD;EAKD;;AAED,EAAe,6BAASz1B,IAAT,EAAenB,KAAf,EAAsB;EACnC,SAAO1C,UAAUlB,MAAV,GAAmB,CAAnB,GACD,KAAKsE,IAAL,CAAU,CAACV,SAAS,IAAT,GACPggC,cADO,GACU,OAAOhgC,KAAP,KAAiB,UAAjB,GACjBkgC,gBADiB,GAEjBD,gBAHM,EAGY9+B,IAHZ,EAGkBnB,KAHlB,CAAV,CADC,GAKD,KAAKyuB,IAAL,GAAYttB,IAAZ,CALN;EAMD;;EC3BD,SAASg/B,UAAT,CAAoBlsB,MAApB,EAA4B;EAC1B,SAAOA,OAAOpG,IAAP,GAAcgI,KAAd,CAAoB,OAApB,CAAP;EACD;;EAED,SAASuqB,SAAT,CAAmB3R,IAAnB,EAAyB;EACvB,SAAOA,KAAK2R,SAAL,IAAkB,IAAIC,SAAJ,CAAc5R,IAAd,CAAzB;EACD;;EAED,SAAS4R,SAAT,CAAmB5R,IAAnB,EAAyB;EACvB,OAAK6R,KAAL,GAAa7R,IAAb;EACA,OAAK8R,MAAL,GAAcJ,WAAW1R,KAAK+Q,YAAL,CAAkB,OAAlB,KAA8B,EAAzC,CAAd;EACD;;EAEDa,UAAU5gC,SAAV,GAAsB;EACpBuB,OAAK,aAASG,IAAT,EAAe;EAClB,QAAI5D,IAAI,KAAKgjC,MAAL,CAAYvnB,OAAZ,CAAoB7X,IAApB,CAAR;EACA,QAAI5D,IAAI,CAAR,EAAW;EACT,WAAKgjC,MAAL,CAAYlgC,IAAZ,CAAiBc,IAAjB;EACA,WAAKm/B,KAAL,CAAWrqB,YAAX,CAAwB,OAAxB,EAAiC,KAAKsqB,MAAL,CAAYvsB,IAAZ,CAAiB,GAAjB,CAAjC;EACD;EACF,GAPmB;EAQpB/T,UAAQ,gBAASkB,IAAT,EAAe;EACrB,QAAI5D,IAAI,KAAKgjC,MAAL,CAAYvnB,OAAZ,CAAoB7X,IAApB,CAAR;EACA,QAAI5D,KAAK,CAAT,EAAY;EACV,WAAKgjC,MAAL,CAAYjO,MAAZ,CAAmB/0B,CAAnB,EAAsB,CAAtB;EACA,WAAK+iC,KAAL,CAAWrqB,YAAX,CAAwB,OAAxB,EAAiC,KAAKsqB,MAAL,CAAYvsB,IAAZ,CAAiB,GAAjB,CAAjC;EACD;EACF,GAdmB;EAepBwsB,YAAU,kBAASr/B,IAAT,EAAe;EACvB,WAAO,KAAKo/B,MAAL,CAAYvnB,OAAZ,CAAoB7X,IAApB,KAA6B,CAApC;EACD;EAjBmB,CAAtB;;EAoBA,SAASs/B,UAAT,CAAoBhS,IAApB,EAA0BjE,KAA1B,EAAiC;EAC/B,MAAIkW,OAAON,UAAU3R,IAAV,CAAX;EAAA,MAA4BlxB,IAAI,CAAC,CAAjC;EAAA,MAAoCF,IAAImtB,MAAMpuB,MAA9C;EACA,SAAO,EAAEmB,CAAF,GAAMF,CAAb;EAAgBqjC,SAAK1/B,GAAL,CAASwpB,MAAMjtB,CAAN,CAAT;EAAhB;EACD;;EAED,SAASojC,aAAT,CAAuBlS,IAAvB,EAA6BjE,KAA7B,EAAoC;EAClC,MAAIkW,OAAON,UAAU3R,IAAV,CAAX;EAAA,MAA4BlxB,IAAI,CAAC,CAAjC;EAAA,MAAoCF,IAAImtB,MAAMpuB,MAA9C;EACA,SAAO,EAAEmB,CAAF,GAAMF,CAAb;EAAgBqjC,SAAKzgC,MAAL,CAAYuqB,MAAMjtB,CAAN,CAAZ;EAAhB;EACD;;EAED,SAASqjC,WAAT,CAAqBpW,KAArB,EAA4B;EAC1B,SAAO,YAAW;EAChBiW,eAAW,IAAX,EAAiBjW,KAAjB;EACD,GAFD;EAGD;;EAED,SAASqW,YAAT,CAAsBrW,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChBmW,kBAAc,IAAd,EAAoBnW,KAApB;EACD,GAFD;EAGD;;EAED,SAASsW,eAAT,CAAyBtW,KAAzB,EAAgCxqB,KAAhC,EAAuC;EACrC,SAAO,YAAW;EAChB,KAACA,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,IAA+BmjC,UAA/B,GAA4CE,aAA7C,EAA4D,IAA5D,EAAkEnW,KAAlE;EACD,GAFD;EAGD;;AAED,EAAe,4BAASrpB,IAAT,EAAenB,KAAf,EAAsB;EACnC,MAAIwqB,QAAQ2V,WAAWh/B,OAAO,EAAlB,CAAZ;;EAEA,MAAI7D,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B;EACxB,QAAIskC,OAAON,UAAU,KAAK3R,IAAL,EAAV,CAAX;EAAA,QAAmClxB,IAAI,CAAC,CAAxC;EAAA,QAA2CF,IAAImtB,MAAMpuB,MAArD;EACA,WAAO,EAAEmB,CAAF,GAAMF,CAAb;EAAgB,UAAI,CAACqjC,KAAKF,QAAL,CAAchW,MAAMjtB,CAAN,CAAd,CAAL,EAA8B,OAAO,KAAP;EAA9C,KACA,OAAO,IAAP;EACD;;EAED,SAAO,KAAKmD,IAAL,CAAU,CAAC,OAAOV,KAAP,KAAiB,UAAjB,GACZ8gC,eADY,GACM9gC,QAClB4gC,WADkB,GAElBC,YAHW,EAGGrW,KAHH,EAGUxqB,KAHV,CAAV,CAAP;EAID;;EC1ED,SAAS+gC,UAAT,GAAsB;EACpB,OAAKC,WAAL,GAAmB,EAAnB;EACD;;EAED,SAASC,YAAT,CAAsBjhC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,SAAKghC,WAAL,GAAmBhhC,KAAnB;EACD,GAFD;EAGD;;EAED,SAASkhC,YAAT,CAAsBlhC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,QAAI42B,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,SAAK0jC,WAAL,GAAmBpK,KAAK,IAAL,GAAY,EAAZ,GAAiBA,CAApC;EACD,GAHD;EAID;;AAED,EAAe,yBAAS52B,KAAT,EAAgB;EAC7B,SAAO1C,UAAUlB,MAAV,GACD,KAAKsE,IAAL,CAAUV,SAAS,IAAT,GACN+gC,UADM,GACO,CAAC,OAAO/gC,KAAP,KAAiB,UAAjB,GACdkhC,YADc,GAEdD,YAFa,EAECjhC,KAFD,CADjB,CADC,GAKD,KAAKyuB,IAAL,GAAYuS,WALlB;EAMD;;ECxBD,SAASG,UAAT,GAAsB;EACpB,OAAKC,SAAL,GAAiB,EAAjB;EACD;;EAED,SAASC,YAAT,CAAsBrhC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,SAAKohC,SAAL,GAAiBphC,KAAjB;EACD,GAFD;EAGD;;EAED,SAASshC,YAAT,CAAsBthC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,QAAI42B,IAAI52B,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAR;EACA,SAAK8jC,SAAL,GAAiBxK,KAAK,IAAL,GAAY,EAAZ,GAAiBA,CAAlC;EACD,GAHD;EAID;;AAED,EAAe,yBAAS52B,KAAT,EAAgB;EAC7B,SAAO1C,UAAUlB,MAAV,GACD,KAAKsE,IAAL,CAAUV,SAAS,IAAT,GACNmhC,UADM,GACO,CAAC,OAAOnhC,KAAP,KAAiB,UAAjB,GACdshC,YADc,GAEdD,YAFa,EAECrhC,KAFD,CADjB,CADC,GAKD,KAAKyuB,IAAL,GAAY2S,SALlB;EAMD;;ECxBD,SAASG,OAAT,GAAiB;EACf,MAAI,KAAK/C,WAAT,EAAsB,KAAKC,UAAL,CAAgB/oB,WAAhB,CAA4B,IAA5B;EACvB;;AAED,EAAe,4BAAW;EACxB,SAAO,KAAKhV,IAAL,CAAU6gC,OAAV,CAAP;EACD;;ECND,SAASC,KAAT,GAAiB;EACf,MAAI,KAAKC,eAAT,EAA0B,KAAKhD,UAAL,CAAgBzB,YAAhB,CAA6B,IAA7B,EAAmC,KAAKyB,UAAL,CAAgBiD,UAAnD;EAC3B;;AAED,EAAe,4BAAW;EACxB,SAAO,KAAKhhC,IAAL,CAAU8gC,KAAV,CAAP;EACD;;ECJc,2BAASrgC,IAAT,EAAe;EAC5B,MAAI6B,SAAS,OAAO7B,IAAP,KAAgB,UAAhB,GAA6BA,IAA7B,GAAoCwgC,QAAQxgC,IAAR,CAAjD;EACA,SAAO,KAAKk6B,MAAL,CAAY,YAAW;EAC5B,WAAO,KAAK3lB,WAAL,CAAiB1S,OAAOsrB,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,CAAjB,CAAP;EACD,GAFM,CAAP;EAGD;;ECJD,SAASskC,YAAT,GAAwB;EACtB,SAAO,IAAP;EACD;;AAED,EAAe,2BAASzgC,IAAT,EAAe0yB,MAAf,EAAuB;EACpC,MAAI7wB,SAAS,OAAO7B,IAAP,KAAgB,UAAhB,GAA6BA,IAA7B,GAAoCwgC,QAAQxgC,IAAR,CAAjD;EAAA,MACIk6B,SAASxH,UAAU,IAAV,GAAiB+N,YAAjB,GAAgC,OAAO/N,MAAP,KAAkB,UAAlB,GAA+BA,MAA/B,GAAwCsH,SAAStH,MAAT,CADrF;EAEA,SAAO,KAAKwH,MAAL,CAAY,YAAW;EAC5B,WAAO,KAAK2B,YAAL,CAAkBh6B,OAAOsrB,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,CAAlB,EAAiD+9B,OAAO/M,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,KAAiC,IAAlF,CAAP;EACD,GAFM,CAAP;EAGD;;ECbD,SAAS2C,MAAT,GAAkB;EAChB,MAAI4C,SAAS,KAAK47B,UAAlB;EACA,MAAI57B,MAAJ,EAAYA,OAAO+S,WAAP,CAAmB,IAAnB;EACb;;AAED,EAAe,6BAAW;EACxB,SAAO,KAAKlV,IAAL,CAAUT,MAAV,CAAP;EACD;;ECPD,SAAS4hC,sBAAT,GAAkC;EAChC,SAAO,KAAKpD,UAAL,CAAgBzB,YAAhB,CAA6B,KAAK8E,SAAL,CAAe,KAAf,CAA7B,EAAoD,KAAKtD,WAAzD,CAAP;EACD;;EAED,SAASuD,mBAAT,GAA+B;EAC7B,SAAO,KAAKtD,UAAL,CAAgBzB,YAAhB,CAA6B,KAAK8E,SAAL,CAAe,IAAf,CAA7B,EAAmD,KAAKtD,WAAxD,CAAP;EACD;;AAED,EAAe,0BAASwD,IAAT,EAAe;EAC5B,SAAO,KAAK3G,MAAL,CAAY2G,OAAOD,mBAAP,GAA6BF,sBAAzC,CAAP;EACD;;ECVc,0BAAS7hC,KAAT,EAAgB;EAC7B,WAAO1C,UAAUlB,MAAV,GACD,KAAK8D,QAAL,CAAc,UAAd,EAA0BF,KAA1B,CADC,GAED,KAAKyuB,IAAL,GAAYkN,QAFlB;EAGD;;ECJD,IAAIsG,eAAe,EAAnB;;AAEA,EAAO,IAAIC,QAAQ,IAAZ;;EAEP,IAAI,OAAO/sB,QAAP,KAAoB,WAAxB,EAAqC;EACnC,MAAIgnB,YAAUhnB,SAASE,eAAvB;EACA,MAAI,EAAE,kBAAkB8mB,SAApB,CAAJ,EAAkC;EAChC8F,mBAAe,EAACE,YAAY,WAAb,EAA0BC,YAAY,UAAtC,EAAf;EACD;EACF;;EAED,SAASC,qBAAT,CAA+BC,QAA/B,EAAyCjhC,KAAzC,EAAgD2Z,KAAhD,EAAuD;EACrDsnB,aAAWC,gBAAgBD,QAAhB,EAA0BjhC,KAA1B,EAAiC2Z,KAAjC,CAAX;EACA,SAAO,UAASknB,KAAT,EAAgB;EACrB,QAAIM,UAAUN,MAAMO,aAApB;EACA,QAAI,CAACD,OAAD,IAAaA,YAAY,IAAZ,IAAoB,EAAEA,QAAQE,uBAAR,CAAgC,IAAhC,IAAwC,CAA1C,CAArC,EAAoF;EAClFJ,eAAS9gC,IAAT,CAAc,IAAd,EAAoB0gC,KAApB;EACD;EACF,GALD;EAMD;;EAED,SAASK,eAAT,CAAyBD,QAAzB,EAAmCjhC,KAAnC,EAA0C2Z,KAA1C,EAAiD;EAC/C,SAAO,UAAS2nB,MAAT,EAAiB;EACtB,QAAIC,SAASV,KAAb,CADsB;EAEtBA,YAAQS,MAAR;EACA,QAAI;EACFL,eAAS9gC,IAAT,CAAc,IAAd,EAAoB,KAAKm6B,QAAzB,EAAmCt6B,KAAnC,EAA0C2Z,KAA1C;EACD,KAFD,SAEU;EACRknB,cAAQU,MAAR;EACD;EACF,GARD;EASD;;EAED,SAAS/U,gBAAT,CAAwBC,SAAxB,EAAmC;EACjC,SAAOA,UAAUjgB,IAAV,GAAiBgI,KAAjB,CAAuB,OAAvB,EAAgCnW,GAAhC,CAAoC,UAASmR,CAAT,EAAY;EACrD,QAAI1P,OAAO,EAAX;EAAA,QAAe5D,IAAIsT,EAAEmI,OAAF,CAAU,GAAV,CAAnB;EACA,QAAIzb,KAAK,CAAT,EAAY4D,OAAO0P,EAAEvQ,KAAF,CAAQ/C,IAAI,CAAZ,CAAP,EAAuBsT,IAAIA,EAAEvQ,KAAF,CAAQ,CAAR,EAAW/C,CAAX,CAA3B;EACZ,WAAO,EAAC6c,MAAMvJ,CAAP,EAAU1P,MAAMA,IAAhB,EAAP;EACD,GAJM,CAAP;EAKD;;EAED,SAAS0hC,QAAT,CAAkB5U,QAAlB,EAA4B;EAC1B,SAAO,YAAW;EAChB,QAAID,KAAK,KAAK8U,IAAd;EACA,QAAI,CAAC9U,EAAL,EAAS;EACT,SAAK,IAAI7V,IAAI,CAAR,EAAW5a,IAAI,CAAC,CAAhB,EAAmBqQ,IAAIogB,GAAG5xB,MAA1B,EAAkCyE,CAAvC,EAA0CsX,IAAIvK,CAA9C,EAAiD,EAAEuK,CAAnD,EAAsD;EACpD,UAAItX,IAAImtB,GAAG7V,CAAH,CAAJ,EAAW,CAAC,CAAC8V,SAAS7T,IAAV,IAAkBvZ,EAAEuZ,IAAF,KAAW6T,SAAS7T,IAAvC,KAAgDvZ,EAAEM,IAAF,KAAW8sB,SAAS9sB,IAAnF,EAAyF;EACvF,aAAK4hC,mBAAL,CAAyBliC,EAAEuZ,IAA3B,EAAiCvZ,EAAEyhC,QAAnC,EAA6CzhC,EAAEmiC,OAA/C;EACD,OAFD,MAEO;EACLhV,WAAG,EAAEzwB,CAAL,IAAUsD,CAAV;EACD;EACF;EACD,QAAI,EAAEtD,CAAN,EAASywB,GAAG5xB,MAAH,GAAYmB,CAAZ,CAAT,KACK,OAAO,KAAKulC,IAAZ;EACN,GAZD;EAaD;;EAED,SAASG,KAAT,CAAehV,QAAf,EAAyBjuB,KAAzB,EAAgCgjC,OAAhC,EAAyC;EACvC,MAAIE,OAAOjB,aAAa5zB,cAAb,CAA4B4f,SAAS7T,IAArC,IAA6CioB,qBAA7C,GAAqEE,eAAhF;EACA,SAAO,UAAS1lC,CAAT,EAAYU,CAAZ,EAAeyd,KAAf,EAAsB;EAC3B,QAAIgT,KAAK,KAAK8U,IAAd;EAAA,QAAoBjiC,CAApB;EAAA,QAAuByhC,WAAWY,KAAKljC,KAAL,EAAYzC,CAAZ,EAAeyd,KAAf,CAAlC;EACA,QAAIgT,EAAJ,EAAQ,KAAK,IAAI7V,IAAI,CAAR,EAAWvK,IAAIogB,GAAG5xB,MAAvB,EAA+B+b,IAAIvK,CAAnC,EAAsC,EAAEuK,CAAxC,EAA2C;EACjD,UAAI,CAACtX,IAAImtB,GAAG7V,CAAH,CAAL,EAAYiC,IAAZ,KAAqB6T,SAAS7T,IAA9B,IAAsCvZ,EAAEM,IAAF,KAAW8sB,SAAS9sB,IAA9D,EAAoE;EAClE,aAAK4hC,mBAAL,CAAyBliC,EAAEuZ,IAA3B,EAAiCvZ,EAAEyhC,QAAnC,EAA6CzhC,EAAEmiC,OAA/C;EACA,aAAKG,gBAAL,CAAsBtiC,EAAEuZ,IAAxB,EAA8BvZ,EAAEyhC,QAAF,GAAaA,QAA3C,EAAqDzhC,EAAEmiC,OAAF,GAAYA,OAAjE;EACAniC,UAAEb,KAAF,GAAUA,KAAV;EACA;EACD;EACF;EACD,SAAKmjC,gBAAL,CAAsBlV,SAAS7T,IAA/B,EAAqCkoB,QAArC,EAA+CU,OAA/C;EACAniC,QAAI,EAACuZ,MAAM6T,SAAS7T,IAAhB,EAAsBjZ,MAAM8sB,SAAS9sB,IAArC,EAA2CnB,OAAOA,KAAlD,EAAyDsiC,UAAUA,QAAnE,EAA6EU,SAASA,OAAtF,EAAJ;EACA,QAAI,CAAChV,EAAL,EAAS,KAAK8U,IAAL,GAAY,CAACjiC,CAAD,CAAZ,CAAT,KACKmtB,GAAG3tB,IAAH,CAAQQ,CAAR;EACN,GAdD;EAeD;;AAED,EAAe,uBAASotB,QAAT,EAAmBjuB,KAAnB,EAA0BgjC,OAA1B,EAAmC;EAChD,MAAIlV,YAAYD,iBAAeI,WAAW,EAA1B,CAAhB;EAAA,MAA+C1wB,CAA/C;EAAA,MAAkDF,IAAIywB,UAAU1xB,MAAhE;EAAA,MAAwEyU,CAAxE;;EAEA,MAAIvT,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B;EACxB,QAAI4xB,KAAK,KAAKS,IAAL,GAAYqU,IAArB;EACA,QAAI9U,EAAJ,EAAQ,KAAK,IAAI7V,IAAI,CAAR,EAAWvK,IAAIogB,GAAG5xB,MAAlB,EAA0ByE,CAA/B,EAAkCsX,IAAIvK,CAAtC,EAAyC,EAAEuK,CAA3C,EAA8C;EACpD,WAAK5a,IAAI,CAAJ,EAAOsD,IAAImtB,GAAG7V,CAAH,CAAhB,EAAuB5a,IAAIF,CAA3B,EAA8B,EAAEE,CAAhC,EAAmC;EACjC,YAAI,CAACsT,IAAIid,UAAUvwB,CAAV,CAAL,EAAmB6c,IAAnB,KAA4BvZ,EAAEuZ,IAA9B,IAAsCvJ,EAAE1P,IAAF,KAAWN,EAAEM,IAAvD,EAA6D;EAC3D,iBAAON,EAAEb,KAAT;EACD;EACF;EACF;EACD;EACD;;EAEDguB,OAAKhuB,QAAQijC,KAAR,GAAgBJ,QAArB;EACA,MAAIG,WAAW,IAAf,EAAqBA,UAAU,KAAV;EACrB,OAAKzlC,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB;EAAwB,SAAKmD,IAAL,CAAUstB,GAAGF,UAAUvwB,CAAV,CAAH,EAAiByC,KAAjB,EAAwBgjC,OAAxB,CAAV;EAAxB,GACA,OAAO,IAAP;EACD;;AAED,EAAO,SAASI,WAAT,CAAqBT,MAArB,EAA6BL,QAA7B,EAAuClU,IAAvC,EAA6CC,IAA7C,EAAmD;EACxD,MAAIuU,SAASV,KAAb;EACAS,SAAOU,WAAP,GAAqBnB,KAArB;EACAA,UAAQS,MAAR;EACA,MAAI;EACF,WAAOL,SAAShU,KAAT,CAAeF,IAAf,EAAqBC,IAArB,CAAP;EACD,GAFD,SAEU;EACR6T,YAAQU,MAAR;EACD;EACF;;ECxGD,SAASU,aAAT,CAAuB7U,IAAvB,EAA6BrU,IAA7B,EAAmCmpB,MAAnC,EAA2C;EACzC,MAAIC,SAASluB,YAAYmZ,IAAZ,CAAb;EAAA,MACIyT,QAAQsB,OAAOC,WADnB;;EAGA,MAAI,OAAOvB,KAAP,KAAiB,UAArB,EAAiC;EAC/BA,YAAQ,IAAIA,KAAJ,CAAU9nB,IAAV,EAAgBmpB,MAAhB,CAAR;EACD,GAFD,MAEO;EACLrB,YAAQsB,OAAOruB,QAAP,CAAgBuuB,WAAhB,CAA4B,OAA5B,CAAR;EACA,QAAIH,MAAJ,EAAYrB,MAAMyB,SAAN,CAAgBvpB,IAAhB,EAAsBmpB,OAAOK,OAA7B,EAAsCL,OAAOM,UAA7C,GAA0D3B,MAAM4B,MAAN,GAAeP,OAAOO,MAAhF,CAAZ,KACK5B,MAAMyB,SAAN,CAAgBvpB,IAAhB,EAAsB,KAAtB,EAA6B,KAA7B;EACN;;EAEDqU,OAAK6U,aAAL,CAAmBpB,KAAnB;EACD;;EAED,SAAS6B,gBAAT,CAA0B3pB,IAA1B,EAAgCmpB,MAAhC,EAAwC;EACtC,SAAO,YAAW;EAChB,WAAOD,cAAc,IAAd,EAAoBlpB,IAApB,EAA0BmpB,MAA1B,CAAP;EACD,GAFD;EAGD;;EAED,SAASS,gBAAT,CAA0B5pB,IAA1B,EAAgCmpB,MAAhC,EAAwC;EACtC,SAAO,YAAW;EAChB,WAAOD,cAAc,IAAd,EAAoBlpB,IAApB,EAA0BmpB,OAAOjV,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,CAA1B,CAAP;EACD,GAFD;EAGD;;AAED,EAAe,6BAAS8c,IAAT,EAAempB,MAAf,EAAuB;EACpC,SAAO,KAAK7iC,IAAL,CAAU,CAAC,OAAO6iC,MAAP,KAAkB,UAAlB,GACZS,gBADY,GAEZD,gBAFW,EAEO3pB,IAFP,EAEampB,MAFb,CAAV,CAAP;EAGD;;ECFM,IAAI5J,OAAO,CAAC,IAAD,CAAX;;AAEP,EAAO,SAASiC,SAAT,CAAmBN,MAAnB,EAA2BU,OAA3B,EAAoC;EACzC,OAAKT,OAAL,GAAeD,MAAf;EACA,OAAKO,QAAL,GAAgBG,OAAhB;EACD;;EAED,SAASgC,SAAT,GAAqB;EACnB,SAAO,IAAIpC,SAAJ,CAAc,CAAC,CAACzmB,SAASE,eAAV,CAAD,CAAd,EAA4CskB,IAA5C,CAAP;EACD;;EAEDiC,UAAUn8B,SAAV,GAAsBu+B,UAAUv+B,SAAV,GAAsB;EAC1CE,eAAai8B,SAD6B;EAE1CP,UAAQ4I,gBAFkC;EAG1CC,aAAWC,mBAH+B;EAI1CzmB,UAAQ0mB,gBAJkC;EAK1ClO,QAAMmO,cALoC;EAM1ClH,SAAOmH,eANmC;EAO1ClH,QAAMmH,cAPoC;EAQ1ChG,SAAOiG,eARmC;EAS1C3F,SAAO4F,eATmC;EAU1CvnB,QAAMwnB,cAVoC;EAW1CljC,QAAMmjC,cAXoC;EAY1C5L,SAAO6L,eAZmC;EAa1CnW,QAAMoW,cAboC;EAc1CrkC,QAAMskC,cAdoC;EAe1CrkC,SAAOskC,eAfmC;EAgB1CrkC,QAAMskC,cAhBoC;EAiB1CC,QAAMC,cAjBoC;EAkB1C3vB,SAAO4vB,eAlBmC;EAmB1CjlC,YAAUklC,kBAnBgC;EAoB1CC,WAASC,iBApBiC;EAqB1CC,QAAMC,cArBoC;EAsB1CC,QAAMC,cAtBoC;EAuB1CnE,SAAOoE,eAvBmC;EAwB1CnE,SAAOoE,eAxBmC;EAyB1CC,UAAQC,gBAzBkC;EA0B1CjX,UAAQkX,gBA1BkC;EA2B1C9lC,UAAQ+lC,gBA3BkC;EA4B1CC,SAAOC,eA5BmC;EA6B1CrJ,SAAOsJ,eA7BmC;EA8B1CnY,MAAIoY,YA9BsC;EA+B1CzY,YAAU0Y;EA/BgC,CAA5C;;ECxCe,iBAASlL,QAAT,EAAmB;EAChC,WAAO,OAAOA,QAAP,KAAoB,QAApB,GACD,IAAIS,SAAJ,CAAc,CAAC,CAACzmB,SAASimB,aAAT,CAAuBD,QAAvB,CAAD,CAAD,CAAd,EAAoD,CAAChmB,SAASE,eAAV,CAApD,CADC,GAED,IAAIumB,SAAJ,CAAc,CAAC,CAACT,QAAD,CAAD,CAAd,EAA4BxB,IAA5B,CAFN;EAGD;;ECJc,wBAAW;EACxB,MAAI2M,UAAUpE,KAAd;EAAA,MAAqB3uB,MAArB;EACA,SAAOA,SAAS+yB,QAAQjD,WAAxB;EAAqCiD,cAAU/yB,MAAV;EAArC,GACA,OAAO+yB,OAAP;EACD;;ECNc,kBAAS7X,IAAT,EAAeyT,KAAf,EAAsB;EACnC,MAAI9H,MAAM3L,KAAK8X,eAAL,IAAwB9X,IAAlC;;EAEA,MAAI2L,IAAIoM,cAAR,EAAwB;EACtB,QAAI9jC,QAAQ03B,IAAIoM,cAAJ,EAAZ;EACA9jC,UAAMnG,CAAN,GAAU2lC,MAAMuE,OAAhB,EAAyB/jC,MAAM6N,CAAN,GAAU2xB,MAAMwE,OAAzC;EACAhkC,YAAQA,MAAMikC,eAAN,CAAsBlY,KAAKmY,YAAL,GAAoBC,OAApB,EAAtB,CAAR;EACA,WAAO,CAACnkC,MAAMnG,CAAP,EAAUmG,MAAM6N,CAAhB,CAAP;EACD;;EAED,MAAIu2B,OAAOrY,KAAKsY,qBAAL,EAAX;EACA,SAAO,CAAC7E,MAAMuE,OAAN,GAAgBK,KAAKxqC,IAArB,GAA4BmyB,KAAKuY,UAAlC,EAA8C9E,MAAMwE,OAAN,GAAgBI,KAAKG,GAArB,GAA2BxY,KAAKyY,SAA9E,CAAP;EACD;;ECTc,gBAASzY,IAAT,EAAe;EAC5B,MAAIyT,QAAQmB,aAAZ;EACA,MAAInB,MAAMiF,cAAV,EAA0BjF,QAAQA,MAAMiF,cAAN,CAAqB,CAArB,CAAR;EAC1B,SAAOzkC,QAAM+rB,IAAN,EAAYyT,KAAZ,CAAP;EACD;;ECID,IAAIkF,YAAU,OAAOC,MAAP,KAAkB,UAAlB,IAAgCC,QAAOD,OAAOE,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;EACjG,gBAAcA,GAAd,yCAAcA,GAAd;EACD,CAFa,GAEV,UAAUA,GAAV,EAAe;EACjB,SAAOA,OAAO,OAAOH,MAAP,KAAkB,UAAzB,IAAuCG,IAAI7nC,WAAJ,KAAoB0nC,MAA3D,IAAqEG,QAAQH,OAAO5nC,SAApF,GAAgG,QAAhG,UAAkH+nC,GAAlH,yCAAkHA,GAAlH,CAAP;EACD,CAJD;;EAMA,IAAIC,sBAAoB,SAApBA,oBAAoB,CAAUC,GAAV,EAAe;EACrC,MAAI9pC,MAAMgD,OAAN,CAAc8mC,GAAd,CAAJ,EAAwB;EACtB,SAAK,IAAInqC,IAAI,CAAR,EAAWoqC,OAAO/pC,MAAM8pC,IAAItrC,MAAV,CAAvB,EAA0CmB,IAAImqC,IAAItrC,MAAlD,EAA0DmB,GAA1D;EAA+DoqC,WAAKpqC,CAAL,IAAUmqC,IAAInqC,CAAJ,CAAV;EAA/D,KAEA,OAAOoqC,IAAP;EACD,GAJD,MAIO;EACL,WAAO/pC,MAAMgqC,IAAN,CAAWF,GAAX,CAAP;EACD;EACF,CARD;;EAUA;EACA,IAAIG,aAAa,CAAC,OAAOC,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8CV,UAAQU,MAAR,CAA/C,KAAmE,QAAnE,IAA+EA,MAA/E,IAAyFA,OAAO/kC,MAAP,KAAkBA,MAA3G,IAAqH+kC,MAAtI;;EAEA;EACA,IAAIC,WAAW,CAAC,OAAOC,IAAP,KAAgB,WAAhB,GAA8B,WAA9B,GAA4CZ,UAAQY,IAAR,CAA7C,KAA+D,QAA/D,IAA2EA,IAA3E,IAAmFA,KAAKjlC,MAAL,KAAgBA,MAAnG,IAA6GilC,IAA5H;;EAEA;EACA,IAAIrO,SAAOkO,cAAcE,QAAd,IAA0BE,SAAS,aAAT,GAArC;;EAEA;EACA,IAAIC,UAAUvO,OAAK0N,MAAnB;;EAEA;EACA,IAAIc,cAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,iBAAiB85B,YAAY95B,cAAjC;;EAEA;;;;;EAKA,IAAI+5B,uBAAuBD,YAAYz6B,QAAvC;;EAEA;EACA,IAAI26B,iBAAiBH,UAAUA,QAAQI,WAAlB,GAAgCzmC,SAArD;;EAEA;;;;;;;EAOA,SAAS0mC,SAAT,CAAmBvoC,KAAnB,EAA0B;EACxB,MAAIwoC,QAAQn6B,eAAe7M,IAAf,CAAoBxB,KAApB,EAA2BqoC,cAA3B,CAAZ;EAAA,MACII,MAAMzoC,MAAMqoC,cAAN,CADV;;EAGA,MAAI;EACFroC,UAAMqoC,cAAN,IAAwBxmC,SAAxB;EACD,GAFD,CAEE,OAAO+S,CAAP,EAAU;;EAEZ,MAAI8zB,SAASN,qBAAqB5mC,IAArB,CAA0BxB,KAA1B,CAAb;EACA;EACE,QAAIwoC,KAAJ,EAAW;EACTxoC,YAAMqoC,cAAN,IAAwBI,GAAxB;EACD,KAFD,MAEO;EACL,aAAOzoC,MAAMqoC,cAAN,CAAP;EACD;EACF;EACD,SAAOK,MAAP;EACD;;EAED;EACA,IAAIC,gBAAgB5lC,OAAOtD,SAA3B;;EAEA;;;;;EAKA,IAAImpC,yBAAyBD,cAAcj7B,QAA3C;;EAEA;;;;;;;EAOA,SAASm7B,cAAT,CAAwB7oC,KAAxB,EAA+B;EAC7B,SAAO4oC,uBAAuBpnC,IAAvB,CAA4BxB,KAA5B,CAAP;EACD;;EAED;EACA,IAAI8oC,UAAU,eAAd;EAAA,IACIC,eAAe,oBADnB;;EAGA;EACA,IAAIC,mBAAmBd,UAAUA,QAAQI,WAAlB,GAAgCzmC,SAAvD;;EAEA;;;;;;;EAOA,SAASonC,UAAT,CAAoBjpC,KAApB,EAA2B;EACzB,MAAIA,SAAS,IAAb,EAAmB;EACjB,WAAOA,UAAU6B,SAAV,GAAsBknC,YAAtB,GAAqCD,OAA5C;EACD;EACD,SAAOE,oBAAoBA,oBAAoBjmC,OAAO/C,KAAP,CAAxC,GAAwDuoC,UAAUvoC,KAAV,CAAxD,GAA2E6oC,eAAe7oC,KAAf,CAAlF;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAASkpC,QAAT,CAAkBlpC,KAAlB,EAAyB;EACvB,MAAIoa,OAAO,OAAOpa,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6ConC,UAAQpnC,KAAR,CAAxD;EACA,SAAOA,SAAS,IAAT,KAAkBoa,QAAQ,QAAR,IAAoBA,QAAQ,UAA9C,CAAP;EACD;;EAED;EACA,IAAI+uB,WAAW,wBAAf;EAAA,IACIC,UAAU,mBADd;EAAA,IAEIC,SAAS,4BAFb;EAAA,IAGIC,WAAW,gBAHf;;EAKA;;;;;;;;;;;;;;;;;EAiBA,SAASC,UAAT,CAAoBvpC,KAApB,EAA2B;EACzB,MAAI,CAACkpC,SAASlpC,KAAT,CAAL,EAAsB;EACpB,WAAO,KAAP;EACD;EACD;EACA;EACA,MAAIyoC,MAAMQ,WAAWjpC,KAAX,CAAV;EACA,SAAOyoC,OAAOW,OAAP,IAAkBX,OAAOY,MAAzB,IAAmCZ,OAAOU,QAA1C,IAAsDV,OAAOa,QAApE;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;EAuBA,IAAI1oC,UAAUhD,MAAMgD,OAApB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;EAwBA,SAAS4oC,YAAT,CAAsBxpC,KAAtB,EAA6B;EAC3B,SAAOA,SAAS,IAAT,IAAiB,CAAC,OAAOA,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6ConC,UAAQpnC,KAAR,CAA9C,KAAiE,QAAzF;EACD;;EAED;EACA,IAAIypC,YAAY,iBAAhB;;EAEA;;;;;;;;;;;;;;;;;EAiBA,SAASC,QAAT,CAAkB1pC,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IAA4B,CAACY,QAAQZ,KAAR,CAAD,IAAmBwpC,aAAaxpC,KAAb,CAAnB,IAA0CipC,WAAWjpC,KAAX,KAAqBypC,SAAlG;EACD;;EAED;;EAEA;;;;;;;;;;;;;EAaA,IAAIE,sBAAsB,SAASA,mBAAT,CAA6BptC,CAA7B;EAAA,EACxBqtC,QADwB;EAAA,sBAEJ;EACpB,MAAIrtC,EAAEH,MAAF,GAAW,CAAf,EAAkB;EAChB,WAAOG,CAAP;EACD;;EAED,MAAIstC,SAASrsC,KAAKgF,GAAL,CAAS8rB,KAAT,CAAe9wB,IAAf,EAAqBiqC,oBAAkBlrC,CAAlB,CAArB,CAAb;EAAA,MACIutC,SAAStsC,KAAKC,GAAL,CAAS6wB,KAAT,CAAe9wB,IAAf,EAAqBiqC,oBAAkBlrC,CAAlB,CAArB,CADb;;EAGA;EACA;EACA,MAAIwtC,SAAS,CAACF,MAAD,CAAb;;EAEA;EACA;EACA,MAAIG,YAAY,CAACF,SAASD,MAAV,IAAoBD,QAApC;;EAEA;EACA;EACA,OAAK,IAAIrsC,IAAI,CAAb,EAAgBA,IAAIqsC,QAApB,EAA8BrsC,GAA9B,EAAmC;EACjCwsC,WAAO1pC,IAAP,CAAY0pC,OAAO,CAAP,IAAYC,YAAYzsC,CAApC;EACD;;EAED;EACA;EACAwsC,SAAO1pC,IAAP,CAAYypC,MAAZ;;EAEA,SAAOC,MAAP;EACD,CA7BD;;EA+BA,IAAIE,aAAa,MAAjB;EACA,IAAIC,cAAc,OAAlB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,cAAc,OAAlB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,cAAc,OAAlB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,kBAAkB,WAAtB;;EAEA,IAAIC,8BAA8B,SAASA,2BAAT,CAAqCC,OAArC,EAA8C;EAC9E,MAAI,CAACrC,WAAWqC,OAAX,CAAD,IAAwB,CAAClC,SAASkC,OAAT,CAA7B,EAAgD;EAC9C,UAAM,IAAI9xB,KAAJ,CAAU8xB,UAAU,YAApB,CAAN;EACD;;EAED;EACA,MAAIrC,WAAWqC,OAAX,CAAJ,EAAyB;EACvB,WAAOA,OAAP;EACD;;EAED;EACA,UAAQA,OAAR;EACE;EACA,SAAK1B,WAAL;EACE,aAAO2B,gBAAP;;EAEF,SAAK1B,YAAL;EACE,aAAO2B,iBAAP;;EAEF,SAAK1B,WAAL;EACE,aAAO2B,gBAAP;;EAEF,SAAK1B,aAAL;EACE,aAAO2B,kBAAP;;EAEF,SAAK/B,UAAL;EACE,aAAOgC,eAAP;;EAEF,SAAK3B,aAAL;EACE,aAAO4B,kBAAP;;EAEF;EACA,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,YAAL;EACE,aAAO4B,iBAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,YAAL;EACE,aAAO4B,iBAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,eAAP;;EAEF,SAAK3B,YAAL;EACE,aAAO4B,iBAAP;;EAEF,SAAK3B,YAAL;EACE,aAAO4B,iBAAP;;EAEF;EACA,SAAK3B,aAAL;EACE,aAAO4B,kBAAP;;EAEF,SAAK3B,aAAL;EACE,aAAO4B,OAAP;;EAEF,SAAK3B,WAAL;EACE,aAAO4B,KAAP;;EAEF,SAAK3B,YAAL;EACE,aAAO4B,MAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,IAAP;;EAEF,SAAK3B,UAAL;EACE,aAAO4B,IAAP;;EAEF,SAAK3B,aAAL;EACE,aAAO4B,kBAAP;;EAEF,SAAK3B,eAAL;EACE,aAAO4B,2BAAP;;EAEF;EACE,aAAO,IAAP;EAnFJ;EAqFD,CAhGD;;EAkGA,IAAIC,cAAc,SAASA,WAAT,CAAqB3gB,SAArB,EAA6B;EAC7C,MAAIne,UAAUnR,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,CAAlF;;EAEA,MAAIosC,SAAS9c,SAAT,KAAoB2c,WAAW3c,SAAX,CAAxB,EAA4C;EAC1C,QAAIF,eAAeif,4BAA4B/e,SAA5B,CAAnB;;EAEA,QAAI4gB,UAAU7vC,QAAM,CAAN,EAAS,CAAT,EAAY,GAAZ,CAAd;EACA6vC,YAAQntC,IAAR,CAAa,CAAb,EAJ0C;;EAM1C,QAAIqsB,gBAAgB,IAApB,EAA0B;EACxB,UAAI+gB,WAAWC,WAAgBhhB,YAAhB,EAA8BprB,MAA9B,CAAqC,CAAC,CAAD,EAAI,CAAJ,CAArC,CAAf,CADwB;;EAGxB,aAAOksC,QAAQ9tC,GAAR,CAAY,UAAU7C,CAAV,EAAa;EAC9B,eAAO;EACL2gB,kBAAQ3gB,CADH;EAELyQ,iBAAOmgC,SAAS5wC,CAAT;EAFF,SAAP;EAID,OALM,CAAP;EAMD,KATD,MASO;EACL;EACA,aAAO2wC,QAAQ9tC,GAAR,CAAY,UAAU7C,CAAV,EAAa;EAC9B,YAAI8wC,OAAO1+B,IAAI2d,SAAJ,CAAX;EACA+gB,aAAKl/B,OAAL,GAAeA,UAAU5R,CAAzB;;EAEA,eAAO;EACL2gB,kBAAQ3gB,CADH;EAELyQ,iBAAOqgC;EAFF,SAAP;EAID,OARM,CAAP;EASD;EACF,GA3BD,MA2BO,IAAI/sC,QAAQgsB,SAAR,CAAJ,EAAqB;EAC1B,QAAI3uB,QAAQ2uB,UAAOxwB,MAAnB;;EAEA,QAAI6B,QAAQ,CAAZ,EAAe;EACb,UAAI2vC,QAAQjE,oBAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,EAA4B1rC,QAAQ,CAApC,CAAZ;;EAEA,aAAO2vC,MAAMluC,GAAN,CAAU,UAAU7C,CAAV,EAAaU,CAAb,EAAgB;EAC/B,eAAO;EACLigB,kBAAQ3gB,CADH;EAELyQ,iBAAOsf,UAAOrvB,CAAP;EAFF,SAAP;EAID,OALM,CAAP;EAMD,KATD,MASO;EACLswC,cAAQrvC,GAAR,CAAY,8CAAZ;EACD;EACF;EACF,CA9CD;;EAgDA,IAAIsvC,eAAe,QAAnB;EACA,IAAIC,cAAc,OAAlB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,gBAAgB,SAApB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,mBAAmB,YAAvB;;EAEA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,aAAa,MAAjB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,eAAe,QAAnB;EACA,IAAIC,iBAAiB,UAArB;;EAsOA,IAAIC,aAAa,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAAjB;;EAEA,IAAIC,aAAa,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,CAAjB;;EAWA;;EAEA;;;;;;;;;;;;;;EAcA,IAAIC,oBAAoB,SAASA,iBAAT,CAA2B3yC,CAA3B,gCAA4D;EAClF,MAAI4yC,mBAAmB,CAAvB;EAAA,MACIC,gBAAgB,KAAK,CADzB;EAEA,OAAK,IAAI7xC,IAAI,CAAb,EAAgBA,IAAIhB,EAAEH,MAAtB,EAA8BmB,GAA9B,EAAmC;EACjC,QAAIA,MAAM,CAAN,IAAWhB,EAAEgB,CAAF,MAAS6xC,aAAxB,EAAuC;EACrCA,sBAAgB7yC,EAAEgB,CAAF,CAAhB;EACA4xC;EACD;EACF;EACD,SAAOA,gBAAP;EACD,CAVD;;EAYA;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIE,cAAc,SAASA,WAAT,CAAqB9yC,CAArB,2CAAiE;EACjF,SAAOA;EACP;EADO,GAEN+D,KAFM;EAGP;EAHO,GAIN4c,IAJM,CAID,UAAUlhB,CAAV,EAAaC,CAAb,EAAgB;EACpB,WAAOD,IAAIC,CAAX;EACD,GANM,CAAP;EAOD,CARD;;EAUA;;EAEA;;;;;;;;;;EAUA,SAASqzC,UAAT,CAAoBC,OAApB,EAA6BC,IAA7B,EAAmC;EACjC,MAAIp5B,SAAS,EAAb;EACA,OAAK,IAAI7Y,IAAI,CAAb,EAAgBA,IAAIgyC,OAApB,EAA6BhyC,GAA7B,EAAkC;EAChC,QAAIkyC,SAAS,EAAb;EACA,SAAK,IAAIt3B,IAAI,CAAb,EAAgBA,IAAIq3B,IAApB,EAA0Br3B,GAA1B,EAA+B;EAC7Bs3B,aAAOpvC,IAAP,CAAY,CAAZ;EACD;EACD+V,WAAO/V,IAAP,CAAYovC,MAAZ;EACD;EACD,SAAOr5B,MAAP;EACD;;EAED;;;;;;;;;;;;;EAaA,SAASs5B,GAAT,CAAav3B,CAAb,EAAgB5a,CAAhB,EAAmBoyC,IAAnB,EAAyBC,aAAzB,EAAwC;EACtC,MAAIC,MAAM,KAAK,CAAf,CADsC;EAEtC,MAAI13B,IAAI,CAAR,EAAW;EACT,QAAI23B,OAAO,CAACH,KAAKpyC,CAAL,IAAUoyC,KAAKx3B,IAAI,CAAT,CAAX,KAA2B5a,IAAI4a,CAAJ,GAAQ,CAAnC,CAAX,CADS;EAET03B,UAAMD,cAAcryC,CAAd,IAAmBqyC,cAAcz3B,IAAI,CAAlB,CAAnB,GAA0C,CAAC5a,IAAI4a,CAAJ,GAAQ,CAAT,IAAc23B,IAAd,GAAqBA,IAArE;EACD,GAHD,MAGO;EACLD,UAAMD,cAAcryC,CAAd,IAAmBoyC,KAAKpyC,CAAL,IAAUoyC,KAAKpyC,CAAL,CAAV,IAAqBA,IAAI,CAAzB,CAAzB;EACD;EACD,MAAIsyC,MAAM,CAAV,EAAa;EACX,WAAO,CAAP;EACD;EACD,SAAOA,GAAP;EACD;;EAED;;;;;;;;;;;;;EAaA,SAASE,gBAAT,CAA0BC,IAA1B,EAAgCC,IAAhC,EAAsCC,OAAtC,EAA+C95B,MAA/C,EAAuD+5B,eAAvD,EAAwER,IAAxE,EAA8EC,aAA9E,EAA6F;EAC3F,MAAII,OAAOC,IAAX,EAAiB;EACf;EACD;;EAED;EACA,MAAI1yC,IAAIC,KAAKc,KAAL,CAAW,CAAC0xC,OAAOC,IAAR,IAAgB,CAA3B,CAAR;;EAEA75B,SAAO85B,OAAP,EAAgB3yC,CAAhB,IAAqB6Y,OAAO85B,UAAU,CAAjB,EAAoB3yC,IAAI,CAAxB,CAArB;EACA4yC,kBAAgBD,OAAhB,EAAyB3yC,CAAzB,IAA8BA,CAA9B;;EAEA,MAAI6yC,OAAOF,OAAX,CAX2F;;EAa3F,MAAIF,OAAOE,OAAX,EAAoB;EAClBE,WAAO5yC,KAAKC,GAAL,CAAS2yC,IAAT,EAAeD,gBAAgBD,OAAhB,EAAyBF,OAAO,CAAhC,KAAsC,CAArD,CAAP;EACD;EACDI,SAAO5yC,KAAKC,GAAL,CAAS2yC,IAAT,EAAeD,gBAAgBD,UAAU,CAA1B,EAA6B3yC,CAA7B,KAAmC,CAAlD,CAAP;;EAEA,MAAI8yC,QAAQ9yC,IAAI,CAAhB,CAlB2F;EAmB3F,MAAI0yC,OAAO75B,OAAOha,MAAP,GAAgB,CAA3B,EAA8B;EAC5Bi0C,YAAQ7yC,KAAKgF,GAAL,CAAS6tC,KAAT,EAAgBF,gBAAgBD,OAAhB,EAAyBD,OAAO,CAAhC,KAAsC,CAAtD,CAAR;EACD;;EAED,MAAIJ,MAAM,KAAK,CAAf;EACA,MAAIS,SAAS,KAAK,CAAlB;EACA,MAAIC,UAAU,KAAK,CAAnB;EACA,MAAIC,OAAO,KAAK,CAAhB;EACA,OAAK,IAAIr4B,IAAIk4B,KAAb,EAAoBl4B,KAAKi4B,IAAzB,EAA+B,EAAEj4B,CAAjC,EAAoC;EAClC03B,UAAMH,IAAIv3B,CAAJ,EAAO5a,CAAP,EAAUoyC,IAAV,EAAgBC,aAAhB,CAAN;;EAEA,QAAIC,MAAMz5B,OAAO85B,UAAU,CAAjB,EAAoBE,OAAO,CAA3B,CAAN,IAAuCh6B,OAAO85B,OAAP,EAAgB3yC,CAAhB,CAA3C,EAA+D;EAC7D;EACD;;EAED;EACA+yC,aAASZ,IAAIU,IAAJ,EAAU7yC,CAAV,EAAaoyC,IAAb,EAAmBC,aAAnB,CAAT;;EAEAW,cAAUD,SAASl6B,OAAO85B,UAAU,CAAjB,EAAoBE,OAAO,CAA3B,CAAnB;;EAEA,QAAIG,UAAUn6B,OAAO85B,OAAP,EAAgB3yC,CAAhB,CAAd,EAAkC;EAChC;EACA6Y,aAAO85B,OAAP,EAAgB3yC,CAAhB,IAAqBgzC,OAArB;EACAJ,sBAAgBD,OAAhB,EAAyB3yC,CAAzB,IAA8B6yC,IAA9B;EACD;EACDA;;EAEAI,WAAOX,MAAMz5B,OAAO85B,UAAU,CAAjB,EAAoB/3B,IAAI,CAAxB,CAAb;EACA,QAAIq4B,OAAOp6B,OAAO85B,OAAP,EAAgB3yC,CAAhB,CAAX,EAA+B;EAC7B6Y,aAAO85B,OAAP,EAAgB3yC,CAAhB,IAAqBizC,IAArB;EACAL,sBAAgBD,OAAhB,EAAyB3yC,CAAzB,IAA8B4a,CAA9B;EACD;EACF;;EAED43B,mBAAiBC,IAAjB,EAAuBzyC,IAAI,CAA3B,EAA8B2yC,OAA9B,EAAuC95B,MAAvC,EAA+C+5B,eAA/C,EAAgER,IAAhE,EAAsEC,aAAtE;EACAG,mBAAiBxyC,IAAI,CAArB,EAAwB0yC,IAAxB,EAA8BC,OAA9B,EAAuC95B,MAAvC,EAA+C+5B,eAA/C,EAAgER,IAAhE,EAAsEC,aAAtE;EACD;;EAED;;;;;;;;;EASA,SAASa,YAAT,CAAsBva,IAAtB,EAA4B9f,MAA5B,EAAoC+5B,eAApC,EAAqD;EACnD,MAAIO,UAAUt6B,OAAO,CAAP,EAAUha,MAAxB;;EAEA;EACA,MAAIu0C,QAAQza,KAAK14B,KAAKc,KAAL,CAAWoyC,UAAU,CAArB,CAAL,CAAZ;;EAEA;EACA,MAAIf,OAAO,EAAX;EACA,MAAIC,gBAAgB,EAApB;;EAEA;EACA,OAAK,IAAIryC,IAAI,CAAR,EAAWqzC,YAAhB,EAA8BrzC,IAAImzC,OAAlC,EAA2C,EAAEnzC,CAA7C,EAAgD;EAC9CqzC,mBAAe1a,KAAK34B,CAAL,IAAUozC,KAAzB;EACA,QAAIpzC,MAAM,CAAV,EAAa;EACXoyC,WAAKtvC,IAAL,CAAUuwC,YAAV;EACAhB,oBAAcvvC,IAAd,CAAmBuwC,eAAeA,YAAlC;EACD,KAHD,MAGO;EACLjB,WAAKtvC,IAAL,CAAUsvC,KAAKpyC,IAAI,CAAT,IAAcqzC,YAAxB;EACAhB,oBAAcvvC,IAAd,CAAmBuvC,cAAcryC,IAAI,CAAlB,IAAuBqzC,eAAeA,YAAzD;EACD;;EAED;EACAx6B,WAAO,CAAP,EAAU7Y,CAAV,IAAemyC,IAAI,CAAJ,EAAOnyC,CAAP,EAAUoyC,IAAV,EAAgBC,aAAhB,CAAf;EACAO,oBAAgB,CAAhB,EAAmB5yC,CAAnB,IAAwB,CAAxB;EACD;;EAED;EACA,MAAIyyC,OAAO,KAAK,CAAhB;EACA,OAAK,IAAIE,UAAU,CAAnB,EAAsBA,UAAU95B,OAAOha,MAAvC,EAA+C,EAAE8zC,OAAjD,EAA0D;EACxD,QAAIA,UAAU95B,OAAOha,MAAP,GAAgB,CAA9B,EAAiC;EAC/B4zC,aAAOE,OAAP;EACD,KAFD,MAEO;EACL;EACAF,aAAOU,UAAU,CAAjB;EACD;;EAEDX,qBAAiBC,IAAjB,EAAuBU,UAAU,CAAjC,EAAoCR,OAApC,EAA6C95B,MAA7C,EAAqD+5B,eAArD,EAAsER,IAAtE,EAA4EC,aAA5E;EACD;EACF;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA0CA,IAAIiB,UAAU,SAASA,OAAT,CAAiBt0C,CAAjB;EAAA,EACZu0C,SADY;EAAA,6BAEe;EAC3B,MAAIA,YAAYv0C,EAAEH,MAAlB,EAA0B;EACxB,UAAM,IAAI0d,KAAJ,CAAU,yDAAV,CAAN;EACD;;EAED,MAAIi3B,SAAS1B,YAAY9yC,CAAZ,CAAb;;;EAEA;EACAy0C,gBAAc9B,kBAAkB6B,MAAlB,CAHd;;EAKA;EACA;EACA,MAAIC,gBAAgB,CAApB,EAAuB;EACrB,WAAO,CAACD,MAAD,CAAP;EACD;;EAED;EACA,MAAI36B,SAASk5B,WAAWwB,SAAX,EAAsBC,OAAO30C,MAA7B,CAAb;;;EAEA;EACA+zC,oBAAkBb,WAAWwB,SAAX,EAAsBC,OAAO30C,MAA7B,CAHlB;;EAKA;EACA;EACA;EACA;EACAq0C,eAAaM,MAAb,EAAqB36B,MAArB,EAA6B+5B,eAA7B;;EAEA;EACA;EACA;EACA;EACA,MAAIc,WAAW,EAAf;EAAA,MACIC,eAAef,gBAAgB,CAAhB,EAAmB/zC,MAAnB,GAA4B,CAD/C;;EAGA;EACA;EACA;EACA,OAAK,IAAI8zC,UAAUC,gBAAgB/zC,MAAhB,GAAyB,CAA5C,EAA+C8zC,WAAW,CAA1D,EAA6DA,SAA7D,EAAwE;EACtE,QAAIiB,cAAchB,gBAAgBD,OAAhB,EAAyBgB,YAAzB,CAAlB;;EAEA;EACA;EACA;EACAD,aAASf,OAAT,IAAoBa,OAAOzwC,KAAP,CAAa6wC,WAAb,EAA0BD,eAAe,CAAzC,CAApB;;EAEA,QAAIhB,UAAU,CAAd,EAAiB;EACfgB,qBAAeC,cAAc,CAA7B;EACD;EACF;;EAED,SAAOF,QAAP;EACD,CAtDD;;EAwDA,IAAIG,OAAO,SAASA,IAAT,CAAcC,GAAd,EAAmB;EAC5B,MAAIxD,OAAJ,EAAa;EACXA,YAAQuD,IAAR,CAAaC,GAAb;EACD;EACF,CAJD;;EAMA,IAAIC,mBAAmB,SAASA,gBAAT,CAA0B1F,OAA1B,EAAmC2F,KAAnC,EAA0C;EAC/D,MAAIC,SAASC,UAAb;;EAEA,MAAIC,YAAY9F,QAAQxvC,MAAxB;EACA,MAAIu1C,UAAUJ,MAAMn1C,MAApB;;EAEA,MAAIw1C,aAAahG,QAAQ8F,YAAY,CAApB,CAAjB;;EAEA,MAAIA,cAAc,CAAlB,EAAqB,CAArB,KAA4B,IAAIC,YAAY,CAAhB,EAAmB;EAC7C;EACAH,aAASK,UAAevwC,MAAf,CAAsBiwC,MAAM,CAAN,CAAtB,EAAgC5zC,KAAhC,CAAsC,CAACi0C,UAAD,CAAtC,CAAT;EACD,GAH2B,MAGrB,IAAID,YAAYD,SAAhB,EAA2B;EAChC;EACAF,WAAOlwC,MAAP,CAAciwC,KAAd,EAAqB5zC,KAArB,CAA2BiuC,OAA3B;EACD,GAHM,MAGA,IAAI+F,UAAUD,SAAd,EAAyB;EAC9B;;EAEA,QAAII,WAAW,IAAIl0C,KAAJ,CAAU+zC,OAAV,CAAf;;EAEA,SAAK,IAAIp0C,IAAIo0C,UAAU,CAAvB,EAA0Bp0C,IAAI,CAA9B,EAAiCA,GAAjC,EAAsC;EACpCu0C,eAASv0C,CAAT,IAAcquC,QAAQruC,CAAR,CAAd;EACD;;EAEDu0C,aAAS,CAAT,IAAclG,QAAQ,CAAR,CAAd;EACAkG,aAASH,UAAU,CAAnB,IAAwBC,UAAxB;;EAEAJ,WAAOlwC,MAAP,CAAciwC,KAAd,EAAqB5zC,KAArB,CAA2Bm0C,QAA3B;EACD,GAbM,MAaA;EACL;EACA,QAAIb,WAAWJ,QAAQU,KAAR,EAAeG,YAAY,CAA3B,CAAf;EACA,QAAIK,cAAcd,SAASvxC,GAAT,CAAa,UAAU7C,CAAV,EAAa;EAC1C,aAAOA,EAAEA,EAAET,MAAF,GAAW,CAAb,CAAP;EACD,KAFiB,CAAlB;EAGA,QAAI41C,UAAU,CAACf,SAAS,CAAT,EAAY,CAAZ,CAAD,EAAiBnkB,MAAjB,CAAwBilB,WAAxB,CAAd;;EAEAP,WAAOlwC,MAAP,CAAc0wC,OAAd,EAAuBr0C,KAAvB,CAA6BiuC,OAA7B;EACD;;EAED,SAAO4F,MAAP;EACD,CAvCD;;EAyCA,IAAIS,gBAAgB,SAASA,aAAT,CAAuBrlB,SAAvB,EAA+B2kB,KAA/B,EAAsC;EACxD,MAAI3F,UAAU,KAAK,CAAnB;;EAEA,MAAI,CAAClC,SAAS9c,SAAT,CAAD,IAAqB,CAAChsB,QAAQgsB,SAAR,CAAtB,IAAyC,CAAC2c,WAAW3c,SAAX,CAA9C,EAAkE;EAChEwkB,SAAK,qEAAL;EACAA,SAAK,oCAAL;EACAxF,cAAUoD,UAAV;EACD,GAJD,MAIO;EACLpD,cAAUhf,SAAV;EACD;;EAED,MAAI8c,SAASkC,OAAT,CAAJ,EAAuB;EACrB,QAAIsG,gBAAgBvG,4BAA4BC,OAA5B,CAApB;EACA,QAAIsG,kBAAkB,IAAtB,EAA4B;EAC1Bd,WAAK,2BAAL;EACAA,WAAK,oCAAL;EACAxF,gBAAUoD,UAAV;;EAEA,aAAOsC,iBAAiB1F,OAAjB,EAA0B2F,KAA1B,CAAP;EACD,KAND,MAMO;EACL,aAAO7D,WAAgBwE,aAAhB,EAA+B5wC,MAA/B,CAAsCy0B,SAAOwb,KAAP,CAAtC,CAAP;EACD;EACF,GAXD,MAWO,IAAIhI,WAAWqC,OAAX,CAAJ,EAAyB;EAC9B,WAAO8B,WAAgB9B,OAAhB,EAAyBtqC,MAAzB,CAAgCy0B,SAAOwb,KAAP,CAAhC,CAAP;EACD,GAFM,MAEA,IAAI3wC,QAAQgrC,OAAR,CAAJ,EAAsB;EAC3B,WAAO0F,iBAAiB1F,OAAjB,EAA0B2F,KAA1B,CAAP;EACD;EACF,CA3BD;;EA6BA,IAAIY,iBAAiB,SAASA,cAAT,CAAwBvlB,SAAxB,EAAgCwlB,WAAhC,EAA6C;EAChE,MAAIC,SAAS3E,WAAgB9gB,SAAhB,EAAwBtrB,MAAxB,CAA+By0B,SAAOqc,WAAP,CAA/B,CAAb;EACA,SAAOA,YAAYl1B,IAAZ,CAAiBpgB,WAAjB,EAA4B4C,GAA5B,CAAgC,UAAU7C,CAAV,EAAa;EAClD,WAAOw1C,OAAOx1C,CAAP,CAAP;EACD,GAFM,CAAP;EAGD,CALD;;EAOA,IAAIy1C,gBAAgB,SAASA,aAAT,CAAuB1lB,SAAvB,EAA+B;EACjD,MAAIwlB,cAAc90C,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,EAAgB,CAAhB,CAAtF;;EAEA,MAAI80C,YAAYh2C,MAAZ,GAAqB,CAAzB,EAA4B;EAC1Bg1C,SAAK,4FAAL;EACD;;EAED,MAAImB,eAAeH,YAAYh2C,MAAZ,GAAqB,CAArB,GAAyB,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,EAAgB,CAAhB,CAAzB,GAA8Cg2C,WAAjE;;EAEA,MAAIxG,UAAU,KAAK,CAAnB;;EAEA,MAAI,CAAClC,SAAS9c,SAAT,CAAD,IAAqB,CAAChsB,QAAQgsB,SAAR,CAAtB,IAAyC,CAAC2c,WAAW3c,SAAX,CAA9C,EAAkE;EAChEwkB,SAAK,qEAAL;EACAA,SAAK,qCAAL;EACAxF,cAAUoD,UAAV;EACD,GAJD,MAIO;EACLpD,cAAUhf,SAAV;EACD;;EAED,MAAI4kB,SAASgB,aAAgBlxC,MAAhB,CAAuBixC,YAAvB,CAAb;;EAEA,MAAI7I,SAASkC,OAAT,CAAJ,EAAuB;EACrB,QAAIsG,gBAAgBvG,4BAA4BC,OAA5B,CAApB;;EAEA,QAAIsG,kBAAkB,IAAtB,EAA4B;EAC1Bd,WAAK,2BAAL;EACAA,WAAK,oCAAL;;EAEAxF,gBAAUoD,UAAV;EACAwC,aAAO7zC,KAAP,CAAaiuC,OAAb;EACD,KAND,MAMO;EACL4F,aAAO7zC,KAAP,CAAaw0C,eAAeD,aAAf,EAA8BK,YAA9B,CAAb;EACD;EACF,GAZD,MAYO,IAAIhJ,WAAWqC,OAAX,CAAJ,EAAyB;EAC9B4F,WAAO7zC,KAAP,CAAaw0C,eAAevG,OAAf,EAAwB2G,YAAxB,CAAb;EACD,GAFM,MAEA,IAAI3xC,QAAQgrC,OAAR,CAAJ,EAAsB;EAC3B4F,WAAO7zC,KAAP,CAAaiuC,OAAb;EACD;;EAED,SAAO4F,MAAP;EACD,CAxCD;;EA0CA,IAAIiB,6BAA6B,SAASA,0BAAT,CAAoC7G,OAApC,EAA6C;EAC5E,UAAQA,OAAR;EACE;EACA,SAAK2C,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,UAAL;EACE,aAAOmE,eAAP;;EAEF,SAAKlE,YAAL;EACE,aAAOmE,iBAAP;;EAEF,SAAKlE,YAAL;EACE,aAAOmE,iBAAP;;EAEF,SAAKlE,cAAL;EACE,aAAOmE,mBAAP;;EAEF;EACE,aAAO,IAAP;EA9BJ;EAgCD,CAjCD;;EAmCA,IAAIC,iBAAiB,SAASA,cAAT,CAAwBvmB,SAAxB,EAAgC;EACnDwkB,OAAK,+BAAL;;EAEA,MAAIxF,UAAU,KAAK,CAAnB;EACA,MAAI,CAAClC,SAAS9c,SAAT,CAAD,IAAqB,CAAChsB,QAAQgsB,SAAR,CAAtB,IAAyC,CAAC2c,WAAW3c,SAAX,CAA9C,EAAkE;EAChEwkB,SAAK,qEAAL;EACAA,SAAK,sCAAL;EACAxF,cAAUkD,YAAV;EACD,GAJD,MAIO;EACLlD,cAAUhf,SAAV;EACD;;EAED,MAAI8c,SAASkC,OAAT,CAAJ,EAAuB;EACrB,QAAIsG,gBAAgBO,2BAA2B7G,OAA3B,CAApB;;EAEA,QAAIsG,kBAAkB,IAAtB,EAA4B;EAC1Bd,WAAK,2BAAL;EACAA,WAAK,sCAAL;;EAEAxF,gBAAUkD,YAAV;EACA,aAAOpB,WAAgB+E,2BAA2B7G,OAA3B,CAAhB,CAAP;EACD,KAND,MAMO;EACL,aAAO8B,WAAgBwE,aAAhB,CAAP;EACD;EACF,GAZD,MAYO,IAAI3I,WAAWqC,OAAX,CAAJ,EAAyB;EAC9B,WAAO8B,WAAgB9B,OAAhB,CAAP;EACD,GAFM,MAEA;EACL,WAAO,IAAP;EACD;EACF,CA7BD;;EA+BA,IAAIwH,+BAA+B,SAASA,4BAAT,CAAsCxH,OAAtC,EAA+C;EAChF,UAAQA,OAAR;EACE;EACA,SAAKkC,YAAL;EACE,aAAOuF,YAAP;;EAEF,SAAKtF,WAAL;EACE,aAAOuF,WAAP;;EAEF,SAAKtF,YAAL;EACE,aAAOuF,YAAP;;EAEF,SAAKtF,aAAL;EACE,aAAOuF,aAAP;;EAEF,SAAKtF,aAAL;EACE,aAAOuF,aAAP;;EAEF,SAAKtF,UAAL;EACE,aAAOuF,UAAP;;EAEF,SAAKtF,UAAL;EACE,aAAOuF,UAAP;;EAEF,SAAKtF,UAAL;EACE,aAAOuF,UAAP;;EAEF;EACA,SAAKtF,gBAAL;EACE,aAAOuF,gBAAP;;EAEF;EACE,aAAO,IAAP;EA/BJ;EAiCD,CAlCD;;EAoCA,IAAIC,oBAAoB,SAASA,iBAAT,CAA2BpnB,YAA3B,EAAyC0lB,WAAzC,EAAsD;EAC5E,MAAI3wC,QAAQisC,WAAgBhhB,YAAhB,CAAZ;;EAEA,MAAI0lB,eAAe,CAAnB,EAAsB;EACpB,WAAO3wC,MAAM,CAAN,CAAP;EACD,GAFD,MAEO;EACL;EACA,WAAO9D,QAAMy0C,WAAN,EAAmB1yC,GAAnB,CAAuB,UAAU7C,CAAV,EAAa;EACzC,aAAO4E,MAAM5E,KAAKu1C,cAAc,CAAnB,CAAN,CAAP;EACD,KAFM,CAAP;EAGD;EACF,CAXD;;EAaA,IAAI2B,mBAAmB,SAASA,gBAAT,CAA0BnnB,SAA1B,EAAkC;EACvD,MAAIwlB,cAAc90C,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,CAAtF;;EAEA,MAAI,CAACosC,SAAS9c,SAAT,CAAD,IAAqB,CAAChsB,QAAQgsB,SAAR,CAAtB,IAAyC,CAAC2c,WAAW3c,SAAX,CAA9C,EAAkE;EAChEwkB,SAAK,qEAAL;EACAA,SAAK,oCAAL;EACAxkB,gBAASqiB,UAAT;EACD;;EAED,MAAI+E,YAAY5B,eAAe,CAAf,GAAmB,EAAnB,GAAwBA,WAAxC;EACA;EACA;;EAEA,MAAI1I,SAAS9c,SAAT,CAAJ,EAAsB;EACpB,QAAIqnB,WAAWb,6BAA6BxmB,SAA7B,KAAwC+e,4BAA4B/e,SAA5B,CAAxC,IAA+E6lB,2BAA2B7lB,SAA3B,CAA9F;;EAEA,QAAIqnB,YAAY,IAAhB,EAAsB;EACpB,UAAIrzC,QAAQqzC,QAAR,CAAJ,EAAuB;EACrB,eAAOpC,UAAel0C,KAAf,CAAqBs2C,QAArB,CAAP;EACD,OAFD,MAEO;EACL,eAAOpC,UAAel0C,KAAf,CAAqBm2C,kBAAkBG,QAAlB,EAA4BD,SAA5B,CAArB,CAAP;EACD;EACF,KAND,MAMO;EACL,aAAOnC,UAAel0C,KAAf,CAAqBsxC,UAArB,CAAP;EACD;EACF,GAZD,MAYO,IAAI1F,WAAW3c,SAAX,CAAJ,EAAwB;EAC7B,WAAOilB,UAAel0C,KAAf,CAAqBm2C,kBAAkBlnB,SAAlB,EAA0BonB,SAA1B,CAArB,CAAP;EACD,GAFM,MAEA;EACL,WAAOnC,UAAel0C,KAAf,CAAqBivB,SAArB,CAAP;EACD;EACF,CA9BD;;EAgCA,IAAIsnB,UAAU;EACZC,YAAU;EACRC,UAAM,MADE;EAERC,YAAQ,QAFA;EAGRC,YAAQ;EAHA,GADE;;EAOZC,aAAW;EACTC,cAAU,UADD;EAETC,cAAU,UAFD;EAGTC,iBAAa,aAHJ;EAITC,eAAW;EAJF;EAPC,CAAd;;EAeA,IAAIC,eAAe,SAASA,YAAT,CAAsBtnC,QAAtB,EAA6B4oB,IAA7B,EAAmC;EACpD,MAAI0V,UAAUt+B,SAAMsf,MAApB;EACA,MAAIioB,QAAQvnC,SAAM8M,IAAlB;;EAEA,UAAQy6B,KAAR;EACE,SAAKX,QAAQK,SAAR,CAAkBC,QAAvB;EACE,aAAOvC,cAAcrG,OAAd,EAAuB1V,IAAvB,CAAP;;EAEF,SAAKge,QAAQK,SAAR,CAAkBE,QAAvB;EACE,UAAIK,UAAU5e,OAAO5oB,SAAM8kC,WAAN,CAAkB1yC,GAAlB,CAAsB,UAAU7C,CAAV,EAAa;EACtD,eAAOY,MAAIy4B,IAAJ,IAAY,CAACr5B,CAApB;EACD,OAFoB,CAAP,GAETyQ,SAAM8kC,WAFX;;EAIA,aAAOE,cAAc1G,OAAd,EAAuBkJ,OAAvB,CAAP;;EAEF,SAAKZ,QAAQK,SAAR,CAAkBI,SAAvB;EACE,aAAOxB,eAAevH,OAAf,EAAwB1V,IAAxB,CAAP;;EAEF,SAAKge,QAAQK,SAAR,CAAkBG,WAAvB;EACE,aAAOX,iBAAiBnI,OAAjB,CAAP;;EAEF;EACEwF,WAAK,mEAAL;EACA;EAnBJ;EAqBD,CAzBD;;EA2BA,IAAI2D,sBAAsB,SAASA,mBAAT,CAA6B7e,IAA7B,EAAmC8e,GAAnC,EAAwCC,OAAxC,EAAiD;EACvE,SAAO/e,IAAP;EACH,CAFD;EAGA,IAAIgf,uBAAuB,SAASA,oBAAT,CAA8B5nC,QAA9B,EAAqC4oB,IAArC,EAA2C8e,GAA3C,EAAgD;EACvE,SAAOJ,aAAatnC,QAAb,CAAP;EACH,CAFD;;EAIA,IAAI6nC,gBAAgB,SAASA,aAAT,CAAuBC,IAAvB,EAA6B;EAC7C,SAAO;EACHJ,SAAKI,KAAKJ,GAAL,IAAY,IADd;EAEH9e,UAAMkf,KAAKlf,IAAL,IAAa6e,mBAFhB;EAGHznC,WAAO8nC,KAAK9nC,KAAL,IAAc4nC;EAHlB,GAAP;EAKH,CAND;;EAQA,IAAIG,QAAQ,SAASA,KAAT,CAAeC,KAAf,EAAsB;EAChC,SAAO;EACLtnB,QAAI,SAASA,EAAT,CAAY7sB,IAAZ,EAAkB+sB,QAAlB,EAA4B;EAC9BonB,YAAMC,UAAN,CAAiBvnB,EAAjB,CAAoB7sB,IAApB,EAA0B+sB,QAA1B;EACD;EAHI,GAAP;EAKD,CAND;;EAQA,IAAIsnB,WAAW,SAASA,QAAT,CAAkBF,KAAlB,EAAyB;EACtC,SAAO;EACLhoC,WAAO,SAASA,QAAT,CAAe+kC,MAAf,EAAuB;EAC5BiD,YAAMG,QAAN,CAAenoC,KAAf,GAAuB+kC,MAAvB;EACAiD,YAAMjD,MAAN,GAAeuC,aAAavC,MAAb,CAAf;EACD;EAJI,GAAP;EAMD,CAPD;;EASA;;;;;;;EAOA,SAASqD,cAAT,GAA0B;EACxB,OAAK/Z,QAAL,GAAgB,EAAhB;EACA,OAAKn7B,IAAL,GAAY,CAAZ;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAgCA,SAASm1C,EAAT,CAAY31C,KAAZ,EAAmB41C,KAAnB,EAA0B;EACxB,SAAO51C,UAAU41C,KAAV,IAAmB51C,UAAUA,KAAV,IAAmB41C,UAAUA,KAAvD;EACD;;EAED;;;;;;;;EAQA,SAASC,YAAT,CAAsB50C,KAAtB,EAA6BpB,GAA7B,EAAkC;EAChC,MAAIzD,SAAS6E,MAAM7E,MAAnB;EACA,SAAOA,QAAP,EAAiB;EACf,QAAIu5C,GAAG10C,MAAM7E,MAAN,EAAc,CAAd,CAAH,EAAqByD,GAArB,CAAJ,EAA+B;EAC7B,aAAOzD,MAAP;EACD;EACF;EACD,SAAO,CAAC,CAAR;EACD;;EAED;EACA,IAAI05C,aAAal4C,MAAM6B,SAAvB;;EAEA;EACA,IAAI6yB,SAASwjB,WAAWxjB,MAAxB;;EAEA;;;;;;;;;EASA,SAASyjB,eAAT,CAAyBl2C,GAAzB,EAA8B;EAC5B,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,aAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,MAAIwB,QAAQ,CAAZ,EAAe;EACb,WAAO,KAAP;EACD;EACD,MAAIsS,YAAYuiB,KAAK95B,MAAL,GAAc,CAA9B;EACA,MAAIiF,SAASsS,SAAb,EAAwB;EACtBuiB,SAAKxf,GAAL;EACD,GAFD,MAEO;EACL4b,WAAO9wB,IAAP,CAAY00B,IAAZ,EAAkB70B,KAAlB,EAAyB,CAAzB;EACD;EACD,IAAE,KAAKb,IAAP;EACA,SAAO,IAAP;EACD;;EAED;;;;;;;;;EASA,SAASw1C,YAAT,CAAsBn2C,GAAtB,EAA2B;EACzB,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,aAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,SAAOwB,QAAQ,CAAR,GAAYQ,SAAZ,GAAwBq0B,KAAK70B,KAAL,EAAY,CAAZ,CAA/B;EACD;;EAED;;;;;;;;;EASA,SAAS40C,YAAT,CAAsBp2C,GAAtB,EAA2B;EACzB,SAAOg2C,aAAa,KAAKla,QAAlB,EAA4B97B,GAA5B,IAAmC,CAAC,CAA3C;EACD;;EAED;;;;;;;;;;EAUA,SAASq2C,YAAT,CAAsBr2C,GAAtB,EAA2BG,KAA3B,EAAkC;EAChC,MAAIk2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,aAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,MAAIwB,QAAQ,CAAZ,EAAe;EACb,MAAE,KAAKb,IAAP;EACA01B,SAAK71B,IAAL,CAAU,CAACR,GAAD,EAAMG,KAAN,CAAV;EACD,GAHD,MAGO;EACLk2B,SAAK70B,KAAL,EAAY,CAAZ,IAAiBrB,KAAjB;EACD;EACD,SAAO,IAAP;EACD;;EAED;;;;;;;EAOA,SAASm2C,SAAT,CAAmB51C,OAAnB,EAA4B;EAC1B,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;EACAD,UAAU12C,SAAV,CAAoBU,KAApB,GAA4Bu1C,cAA5B;EACAS,UAAU12C,SAAV,CAAoB,QAApB,IAAgCs2C,eAAhC;EACAI,UAAU12C,SAAV,CAAoBK,GAApB,GAA0Bk2C,YAA1B;EACAG,UAAU12C,SAAV,CAAoBG,GAApB,GAA0Bq2C,YAA1B;EACAE,UAAU12C,SAAV,CAAoBM,GAApB,GAA0Bm2C,YAA1B;;EAEA;;;;;;;EAOA,SAASG,UAAT,GAAsB;EACpB,OAAK1a,QAAL,GAAgB,IAAIwa,SAAJ,EAAhB;EACA,OAAK31C,IAAL,GAAY,CAAZ;EACD;;EAED;;;;;;;;;EASA,SAAS81C,WAAT,CAAqBz2C,GAArB,EAA0B;EACxB,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACI+M,SAASxS,KAAK,QAAL,EAAer2B,GAAf,CADb;;EAGA,OAAKW,IAAL,GAAY01B,KAAK11B,IAAjB;EACA,SAAOkoC,MAAP;EACD;;EAED;;;;;;;;;EASA,SAAS6N,QAAT,CAAkB12C,GAAlB,EAAuB;EACrB,SAAO,KAAK87B,QAAL,CAAc77B,GAAd,CAAkBD,GAAlB,CAAP;EACD;;EAED;;;;;;;;;EASA,SAAS22C,QAAT,CAAkB32C,GAAlB,EAAuB;EACrB,SAAO,KAAK87B,QAAL,CAAc/7B,GAAd,CAAkBC,GAAlB,CAAP;EACD;;EAED;EACA,IAAI42C,aAAa9c,OAAK,oBAAL,CAAjB;;EAEA;EACA,IAAI+c,aAAa,YAAY;EAC3B,MAAIC,MAAM,SAAS5oC,IAAT,CAAc0oC,cAAcA,WAAWr2C,IAAzB,IAAiCq2C,WAAWr2C,IAAX,CAAgBw2C,QAAjD,IAA6D,EAA3E,CAAV;EACA,SAAOD,MAAM,mBAAmBA,GAAzB,GAA+B,EAAtC;EACD,CAHgB,EAAjB;;EAKA;;;;;;;EAOA,SAASE,QAAT,CAAkBC,IAAlB,EAAwB;EACtB,SAAO,CAAC,CAACJ,UAAF,IAAgBA,cAAcI,IAArC;EACD;;EAED;EACA,IAAIC,YAAY9O,SAASxoC,SAAzB;;EAEA;EACA,IAAIu3C,eAAeD,UAAUrpC,QAA7B;;EAEA;;;;;;;EAOA,SAASupC,QAAT,CAAkBH,IAAlB,EAAwB;EACtB,MAAIA,QAAQ,IAAZ,EAAkB;EAChB,QAAI;EACF,aAAOE,aAAax1C,IAAb,CAAkBs1C,IAAlB,CAAP;EACD,KAFD,CAEE,OAAOliC,CAAP,EAAU;EACZ,QAAI;EACF,aAAOkiC,OAAO,EAAd;EACD,KAFD,CAEE,OAAOliC,CAAP,EAAU;EACb;EACD,SAAO,EAAP;EACD;;EAED;;;;EAIA,IAAIsiC,eAAe,qBAAnB;;EAEA;EACA,IAAIC,eAAe,6BAAnB;;EAEA;EACA,IAAIC,cAAcnP,SAASxoC,SAA3B;EAAA,IACI43C,gBAAgBt0C,OAAOtD,SAD3B;;EAGA;EACA,IAAI63C,iBAAiBF,YAAY1pC,QAAjC;;EAEA;EACA,IAAI6pC,mBAAmBF,cAAchpC,cAArC;;EAEA;EACA,IAAImpC,aAAa9zC,OAAO,MAAM4zC,eAAe91C,IAAf,CAAoB+1C,gBAApB,EAAsC/9B,OAAtC,CAA8C09B,YAA9C,EAA4D,MAA5D,EAAoE19B,OAApE,CAA4E,wDAA5E,EAAsI,OAAtI,CAAN,GAAuJ,GAA9J,CAAjB;;EAEA;;;;;;;;EAQA,SAASi+B,YAAT,CAAsBz3C,KAAtB,EAA6B;EAC3B,MAAI,CAACkpC,SAASlpC,KAAT,CAAD,IAAoB62C,SAAS72C,KAAT,CAAxB,EAAyC;EACvC,WAAO,KAAP;EACD;EACD,MAAI03C,UAAUnO,WAAWvpC,KAAX,IAAoBw3C,UAApB,GAAiCL,YAA/C;EACA,SAAOO,QAAQl8B,IAAR,CAAay7B,SAASj3C,KAAT,CAAb,CAAP;EACD;;EAED;;;;;;;;EAQA,SAAS23C,QAAT,CAAkBh3C,MAAlB,EAA0Bd,GAA1B,EAA+B;EAC7B,SAAOc,UAAU,IAAV,GAAiBkB,SAAjB,GAA6BlB,OAAOd,GAAP,CAApC;EACD;;EAED;;;;;;;;EAQA,SAAS+3C,SAAT,CAAmBj3C,MAAnB,EAA2Bd,GAA3B,EAAgC;EAC9B,MAAIG,QAAQ23C,SAASh3C,MAAT,EAAiBd,GAAjB,CAAZ;EACA,SAAO43C,aAAaz3C,KAAb,IAAsBA,KAAtB,GAA8B6B,SAArC;EACD;;EAED;EACA,IAAIrC,QAAMo4C,UAAUje,MAAV,EAAgB,KAAhB,CAAV;;EAEA;EACA,IAAIke,eAAeD,UAAU70C,MAAV,EAAkB,QAAlB,CAAnB;;EAEA;;;;;;;EAOA,SAAS+0C,SAAT,GAAqB;EACnB,OAAKnc,QAAL,GAAgBkc,eAAeA,aAAa,IAAb,CAAf,GAAoC,EAApD;EACA,OAAKr3C,IAAL,GAAY,CAAZ;EACD;;EAED;;;;;;;;;;EAUA,SAASu3C,UAAT,CAAoBl4C,GAApB,EAAyB;EACvB,MAAI6oC,SAAS,KAAK9oC,GAAL,CAASC,GAAT,KAAiB,OAAO,KAAK87B,QAAL,CAAc97B,GAAd,CAArC;EACA,OAAKW,IAAL,IAAakoC,SAAS,CAAT,GAAa,CAA1B;EACA,SAAOA,MAAP;EACD;;EAED;EACA,IAAIsP,iBAAiB,2BAArB;;EAEA;EACA,IAAIC,gBAAgBl1C,OAAOtD,SAA3B;;EAEA;EACA,IAAIy4C,mBAAmBD,cAAc5pC,cAArC;;EAEA;;;;;;;;;EASA,SAAS8pC,OAAT,CAAiBt4C,GAAjB,EAAsB;EACpB,MAAIq2B,OAAO,KAAKyF,QAAhB;EACA,MAAIkc,YAAJ,EAAkB;EAChB,QAAInP,SAASxS,KAAKr2B,GAAL,CAAb;EACA,WAAO6oC,WAAWsP,cAAX,GAA4Bn2C,SAA5B,GAAwC6mC,MAA/C;EACD;EACD,SAAOwP,iBAAiB12C,IAAjB,CAAsB00B,IAAtB,EAA4Br2B,GAA5B,IAAmCq2B,KAAKr2B,GAAL,CAAnC,GAA+CgC,SAAtD;EACD;;EAED;EACA,IAAIu2C,gBAAgBr1C,OAAOtD,SAA3B;;EAEA;EACA,IAAI44C,mBAAmBD,cAAc/pC,cAArC;;EAEA;;;;;;;;;EASA,SAASiqC,OAAT,CAAiBz4C,GAAjB,EAAsB;EACpB,MAAIq2B,OAAO,KAAKyF,QAAhB;EACA,SAAOkc,eAAe3hB,KAAKr2B,GAAL,MAAcgC,SAA7B,GAAyCw2C,iBAAiB72C,IAAjB,CAAsB00B,IAAtB,EAA4Br2B,GAA5B,CAAhD;EACD;;EAED;EACA,IAAI04C,mBAAmB,2BAAvB;;EAEA;;;;;;;;;;EAUA,SAASC,OAAT,CAAiB34C,GAAjB,EAAsBG,KAAtB,EAA6B;EAC3B,MAAIk2B,OAAO,KAAKyF,QAAhB;EACA,OAAKn7B,IAAL,IAAa,KAAKZ,GAAL,CAASC,GAAT,IAAgB,CAAhB,GAAoB,CAAjC;EACAq2B,OAAKr2B,GAAL,IAAYg4C,gBAAgB73C,UAAU6B,SAA1B,GAAsC02C,gBAAtC,GAAyDv4C,KAArE;EACA,SAAO,IAAP;EACD;;EAED;;;;;;;EAOA,SAASy4C,IAAT,CAAcl4C,OAAd,EAAuB;EACrB,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;EACAqC,KAAKh5C,SAAL,CAAeU,KAAf,GAAuB23C,SAAvB;EACAW,KAAKh5C,SAAL,CAAe,QAAf,IAA2Bs4C,UAA3B;EACAU,KAAKh5C,SAAL,CAAeK,GAAf,GAAqBq4C,OAArB;EACAM,KAAKh5C,SAAL,CAAeG,GAAf,GAAqB04C,OAArB;EACAG,KAAKh5C,SAAL,CAAeM,GAAf,GAAqBy4C,OAArB;;EAEA;;;;;;;EAOA,SAASE,aAAT,GAAyB;EACvB,OAAKl4C,IAAL,GAAY,CAAZ;EACA,OAAKm7B,QAAL,GAAgB;EACd,YAAQ,IAAI8c,IAAJ,EADM;EAEd,WAAO,KAAKj5C,SAAO22C,SAAZ,GAFO;EAGd,cAAU,IAAIsC,IAAJ;EAHI,GAAhB;EAKD;;EAED;;;;;;;EAOA,SAASE,SAAT,CAAmB34C,KAAnB,EAA0B;EACxB,MAAIoa,OAAO,OAAOpa,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6ConC,UAAQpnC,KAAR,CAAxD;EACA,SAAOoa,QAAQ,QAAR,IAAoBA,QAAQ,QAA5B,IAAwCA,QAAQ,QAAhD,IAA4DA,QAAQ,SAApE,GAAgFpa,UAAU,WAA1F,GAAwGA,UAAU,IAAzH;EACD;;EAED;;;;;;;;EAQA,SAAS44C,UAAT,CAAoBl5C,GAApB,EAAyBG,GAAzB,EAA8B;EAC5B,MAAIq2B,OAAOx2B,IAAIi8B,QAAf;EACA,SAAOgd,UAAU94C,GAAV,IAAiBq2B,KAAK,OAAOr2B,GAAP,IAAc,QAAd,GAAyB,QAAzB,GAAoC,MAAzC,CAAjB,GAAoEq2B,KAAKx2B,GAAhF;EACD;;EAED;;;;;;;;;EASA,SAASm5C,cAAT,CAAwBh5C,GAAxB,EAA6B;EAC3B,MAAI6oC,SAASkQ,WAAW,IAAX,EAAiB/4C,GAAjB,EAAsB,QAAtB,EAAgCA,GAAhC,CAAb;EACA,OAAKW,IAAL,IAAakoC,SAAS,CAAT,GAAa,CAA1B;EACA,SAAOA,MAAP;EACD;;EAED;;;;;;;;;EASA,SAASoQ,WAAT,CAAqBj5C,GAArB,EAA0B;EACxB,SAAO+4C,WAAW,IAAX,EAAiB/4C,GAAjB,EAAsBC,GAAtB,CAA0BD,GAA1B,CAAP;EACD;;EAED;;;;;;;;;EASA,SAASk5C,WAAT,CAAqBl5C,GAArB,EAA0B;EACxB,SAAO+4C,WAAW,IAAX,EAAiB/4C,GAAjB,EAAsBD,GAAtB,CAA0BC,GAA1B,CAAP;EACD;;EAED;;;;;;;;;;EAUA,SAASm5C,WAAT,CAAqBn5C,GAArB,EAA0BG,KAA1B,EAAiC;EAC/B,MAAIk2B,OAAO0iB,WAAW,IAAX,EAAiB/4C,GAAjB,CAAX;EAAA,MACIW,OAAO01B,KAAK11B,IADhB;;EAGA01B,OAAKn2B,GAAL,CAASF,GAAT,EAAcG,KAAd;EACA,OAAKQ,IAAL,IAAa01B,KAAK11B,IAAL,IAAaA,IAAb,GAAoB,CAApB,GAAwB,CAArC;EACA,SAAO,IAAP;EACD;;EAED;;;;;;;EAOA,SAASy4C,QAAT,CAAkB14C,OAAlB,EAA2B;EACzB,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;EACA6C,SAASx5C,SAAT,CAAmBU,KAAnB,GAA2Bu4C,aAA3B;EACAO,SAASx5C,SAAT,CAAmB,QAAnB,IAA+Bo5C,cAA/B;EACAI,SAASx5C,SAAT,CAAmBK,GAAnB,GAAyBg5C,WAAzB;EACAG,SAASx5C,SAAT,CAAmBG,GAAnB,GAAyBm5C,WAAzB;EACAE,SAASx5C,SAAT,CAAmBM,GAAnB,GAAyBi5C,WAAzB;;EAEA;EACA,IAAIE,mBAAmB,GAAvB;;EAEA;;;;;;;;;;EAUA,SAASC,QAAT,CAAkBt5C,GAAlB,EAAuBG,KAAvB,EAA8B;EAC5B,MAAIk2B,OAAO,KAAKyF,QAAhB;EACA,MAAIzF,gBAAgBigB,SAApB,EAA+B;EAC7B,QAAIiD,QAAQljB,KAAKyF,QAAjB;EACA,QAAI,CAACn8B,KAAD,IAAQ45C,MAAMh9C,MAAN,GAAe88C,mBAAmB,CAA9C,EAAiD;EAC/CE,YAAM/4C,IAAN,CAAW,CAACR,GAAD,EAAMG,KAAN,CAAX;EACA,WAAKQ,IAAL,GAAY,EAAE01B,KAAK11B,IAAnB;EACA,aAAO,IAAP;EACD;EACD01B,WAAO,KAAKyF,QAAL,GAAgB,IAAIsd,QAAJ,CAAaG,KAAb,CAAvB;EACD;EACDljB,OAAKn2B,GAAL,CAASF,GAAT,EAAcG,KAAd;EACA,OAAKQ,IAAL,GAAY01B,KAAK11B,IAAjB;EACA,SAAO,IAAP;EACD;;EAED;;;;;;;EAOA,SAAS64C,KAAT,CAAe94C,OAAf,EAAwB;EACtB,MAAI21B,OAAO,KAAKyF,QAAL,GAAgB,IAAIwa,SAAJ,CAAc51C,OAAd,CAA3B;EACA,OAAKC,IAAL,GAAY01B,KAAK11B,IAAjB;EACD;;EAED;EACA64C,MAAM55C,SAAN,CAAgBU,KAAhB,GAAwBk2C,UAAxB;EACAgD,MAAM55C,SAAN,CAAgB,QAAhB,IAA4B62C,WAA5B;EACA+C,MAAM55C,SAAN,CAAgBK,GAAhB,GAAsBy2C,QAAtB;EACA8C,MAAM55C,SAAN,CAAgBG,GAAhB,GAAsB42C,QAAtB;EACA6C,MAAM55C,SAAN,CAAgBM,GAAhB,GAAsBo5C,QAAtB;;EAEA,IAAIG,mBAAmB,YAAY;EACjC,MAAI;EACF,QAAIxC,OAAOc,UAAU70C,MAAV,EAAkB,gBAAlB,CAAX;EACA+zC,SAAK,EAAL,EAAS,EAAT,EAAa,EAAb;EACA,WAAOA,IAAP;EACD,GAJD,CAIE,OAAOliC,CAAP,EAAU;EACb,CANsB,EAAvB;;EAQA;;;;;;;;;EASA,SAAS2kC,eAAT,CAAyB54C,MAAzB,EAAiCd,GAAjC,EAAsCG,KAAtC,EAA6C;EAC3C,MAAIH,OAAO,WAAP,IAAsBy5C,gBAA1B,EAA4C;EAC1CA,qBAAiB34C,MAAjB,EAAyBd,GAAzB,EAA8B;EAC5B,sBAAgB,IADY;EAE5B,oBAAc,IAFc;EAG5B,eAASG,KAHmB;EAI5B,kBAAY;EAJgB,KAA9B;EAMD,GAPD,MAOO;EACLW,WAAOd,GAAP,IAAcG,KAAd;EACD;EACF;;EAED;;;;;;;;;EASA,SAASw5C,gBAAT,CAA0B74C,MAA1B,EAAkCd,GAAlC,EAAuCG,KAAvC,EAA8C;EAC5C,MAAIA,UAAU6B,SAAV,IAAuB,CAAC8zC,GAAGh1C,OAAOd,GAAP,CAAH,EAAgBG,KAAhB,CAAxB,IAAkDA,UAAU6B,SAAV,IAAuB,EAAEhC,OAAOc,MAAT,CAA7E,EAA+F;EAC7F44C,oBAAgB54C,MAAhB,EAAwBd,GAAxB,EAA6BG,KAA7B;EACD;EACF;;EAED;;;;;;;EAOA,SAASy5C,aAAT,CAAuBC,SAAvB,EAAkC;EAChC,SAAO,UAAU/4C,MAAV,EAAkBg5C,QAAlB,EAA4BC,QAA5B,EAAsC;EAC3C,QAAIv4C,QAAQ,CAAC,CAAb;EAAA,QACIw4C,WAAW92C,OAAOpC,MAAP,CADf;EAAA,QAEIm5C,QAAQF,SAASj5C,MAAT,CAFZ;EAAA,QAGIvE,SAAS09C,MAAM19C,MAHnB;;EAKA,WAAOA,QAAP,EAAiB;EACf,UAAIyD,MAAMi6C,MAAMJ,YAAYt9C,MAAZ,GAAqB,EAAEiF,KAA7B,CAAV;EACA,UAAIs4C,SAASE,SAASh6C,GAAT,CAAT,EAAwBA,GAAxB,EAA6Bg6C,QAA7B,MAA2C,KAA/C,EAAsD;EACpD;EACD;EACF;EACD,WAAOl5C,MAAP;EACD,GAbD;EAcD;;EAED;;;;;;;;;;;EAWA,IAAIo5C,UAAUN,eAAd;;EAEA;EACA,IAAIO,cAAc,CAAC,OAAOC,OAAP,KAAmB,WAAnB,GAAiC,WAAjC,GAA+C7S,UAAQ6S,OAAR,CAAhD,KAAqE,QAArE,IAAiFA,OAAjF,IAA4F,CAACA,QAAQC,QAArG,IAAiHD,OAAnI;;EAEA;EACA,IAAIE,aAAaH,eAAe,CAAC,OAAOI,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8ChT,UAAQgT,MAAR,CAA/C,KAAmE,QAAlF,IAA8FA,MAA9F,IAAwG,CAACA,OAAOF,QAAhH,IAA4HE,MAA7I;;EAEA;EACA,IAAIC,gBAAgBF,cAAcA,WAAWF,OAAX,KAAuBD,WAAzD;;EAEA;EACA,IAAIM,SAASD,gBAAgB1gB,OAAK2gB,MAArB,GAA8Bz4C,SAA3C;EAAA,IACI04C,cAAcD,SAASA,OAAOC,WAAhB,GAA8B14C,SADhD;;EAGA;;;;;;;;EAQA,SAAS24C,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqC;EACnC,MAAIA,MAAJ,EAAY;EACV,WAAOD,OAAOn6C,KAAP,EAAP;EACD;EACD,MAAIlE,SAASq+C,OAAOr+C,MAApB;EAAA,MACIssC,SAAS6R,cAAcA,YAAYn+C,MAAZ,CAAd,GAAoC,IAAIq+C,OAAO96C,WAAX,CAAuBvD,MAAvB,CADjD;;EAGAq+C,SAAO94C,IAAP,CAAY+mC,MAAZ;EACA,SAAOA,MAAP;EACD;;EAED;EACA,IAAIiS,aAAahhB,OAAKghB,UAAtB;;EAEA;;;;;;;EAOA,SAASC,gBAAT,CAA0BC,WAA1B,EAAuC;EACrC,MAAInS,SAAS,IAAImS,YAAYl7C,WAAhB,CAA4Bk7C,YAAYC,UAAxC,CAAb;EACA,MAAIH,UAAJ,CAAejS,MAAf,EAAuB3oC,GAAvB,CAA2B,IAAI46C,UAAJ,CAAeE,WAAf,CAA3B;EACA,SAAOnS,MAAP;EACD;;EAED;;;;;;;;EAQA,SAASqS,eAAT,CAAyBC,UAAzB,EAAqCN,MAArC,EAA6C;EAC3C,MAAID,SAASC,SAASE,iBAAiBI,WAAWP,MAA5B,CAAT,GAA+CO,WAAWP,MAAvE;EACA,SAAO,IAAIO,WAAWr7C,WAAf,CAA2B86C,MAA3B,EAAmCO,WAAWC,UAA9C,EAA0DD,WAAW5+C,MAArE,CAAP;EACD;;EAED;;;;;;;;EAQA,SAAS8+C,SAAT,CAAmB3nC,MAAnB,EAA2BtS,KAA3B,EAAkC;EAChC,MAAII,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmX,OAAOnX,MADpB;;EAGA6E,YAAUA,QAAQrD,MAAMxB,MAAN,CAAlB;EACA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB6E,UAAMI,KAAN,IAAekS,OAAOlS,KAAP,CAAf;EACD;EACD,SAAOJ,KAAP;EACD;;EAED;EACA,IAAIk6C,eAAep4C,OAAOC,MAA1B;;EAEA;;;;;;;;EAQA,IAAIo4C,aAAa,YAAY;EAC3B,WAASz6C,MAAT,GAAkB;EAClB,SAAO,UAAUI,KAAV,EAAiB;EACtB,QAAI,CAACmoC,SAASnoC,KAAT,CAAL,EAAsB;EACpB,aAAO,EAAP;EACD;EACD,QAAIo6C,YAAJ,EAAkB;EAChB,aAAOA,aAAap6C,KAAb,CAAP;EACD;EACDJ,WAAOlB,SAAP,GAAmBsB,KAAnB;EACA,QAAI2nC,SAAS,IAAI/nC,MAAJ,EAAb;EACAA,WAAOlB,SAAP,GAAmBoC,SAAnB;EACA,WAAO6mC,MAAP;EACD,GAXD;EAYD,CAdgB,EAAjB;;EAgBA;;;;;;;;EAQA,SAAS2S,OAAT,CAAiBvE,IAAjB,EAAuBthC,SAAvB,EAAkC;EAChC,SAAO,UAAU8lC,GAAV,EAAe;EACpB,WAAOxE,KAAKthC,UAAU8lC,GAAV,CAAL,CAAP;EACD,GAFD;EAGD;;EAED;EACA,IAAIC,eAAeF,QAAQt4C,OAAOy4C,cAAf,EAA+Bz4C,MAA/B,CAAnB;;EAEA;EACA,IAAI04C,gBAAgB14C,OAAOtD,SAA3B;;EAEA;;;;;;;EAOA,SAASi8C,WAAT,CAAqB17C,KAArB,EAA4B;EAC1B,MAAI27C,OAAO37C,SAASA,MAAML,WAA1B;EAAA,MACIoB,QAAQ,OAAO46C,IAAP,IAAe,UAAf,IAA6BA,KAAKl8C,SAAlC,IAA+Cg8C,aAD3D;;EAGA,SAAOz7C,UAAUe,KAAjB;EACD;;EAED;;;;;;;EAOA,SAAS66C,eAAT,CAAyBj7C,MAAzB,EAAiC;EAC/B,SAAO,OAAOA,OAAOhB,WAAd,IAA6B,UAA7B,IAA2C,CAAC+7C,YAAY/6C,MAAZ,CAA5C,GAAkEy6C,WAAWG,aAAa56C,MAAb,CAAX,CAAlE,GAAqG,EAA5G;EACD;;EAED;EACA,IAAIk7C,UAAU,oBAAd;;EAEA;;;;;;;EAOA,SAASC,eAAT,CAAyB97C,KAAzB,EAAgC;EAC9B,SAAOwpC,aAAaxpC,KAAb,KAAuBipC,WAAWjpC,KAAX,KAAqB67C,OAAnD;EACD;;EAED;EACA,IAAIE,gBAAgBh5C,OAAOtD,SAA3B;;EAEA;EACA,IAAIu8C,mBAAmBD,cAAc1tC,cAArC;;EAEA;EACA,IAAI4tC,uBAAuBF,cAAcE,oBAAzC;;EAEA;;;;;;;;;;;;;;;;;;EAkBA,IAAIC,cAAcJ,gBAAgB,YAAY;EAC5C,SAAOx+C,SAAP;EACD,CAFiC,EAAhB,IAEXw+C,eAFW,GAEO,UAAU97C,KAAV,EAAiB;EACxC,SAAOwpC,aAAaxpC,KAAb,KAAuBg8C,iBAAiBx6C,IAAjB,CAAsBxB,KAAtB,EAA6B,QAA7B,CAAvB,IAAiE,CAACi8C,qBAAqBz6C,IAArB,CAA0BxB,KAA1B,EAAiC,QAAjC,CAAzE;EACD,CAJD;;EAMA;EACA,IAAIm8C,mBAAmB,gBAAvB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BA,SAASC,QAAT,CAAkBp8C,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IAA4BA,QAAQ,CAAC,CAArC,IAA0CA,QAAQ,CAAR,IAAa,CAAvD,IAA4DA,SAASm8C,gBAA5E;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAASE,WAAT,CAAqBr8C,KAArB,EAA4B;EAC1B,SAAOA,SAAS,IAAT,IAAiBo8C,SAASp8C,MAAM5D,MAAf,CAAjB,IAA2C,CAACmtC,WAAWvpC,KAAX,CAAnD;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAASs8C,iBAAT,CAA2Bt8C,KAA3B,EAAkC;EAChC,SAAOwpC,aAAaxpC,KAAb,KAAuBq8C,YAAYr8C,KAAZ,CAA9B;EACD;;EAED;;;;;;;;;;;;;EAaA,SAASu8C,SAAT,GAAqB;EACnB,SAAO,KAAP;EACD;;EAED;EACA,IAAIC,gBAAgB,CAAC,OAAOvC,OAAP,KAAmB,WAAnB,GAAiC,WAAjC,GAA+C7S,UAAQ6S,OAAR,CAAhD,KAAqE,QAArE,IAAiFA,OAAjF,IAA4F,CAACA,QAAQC,QAArG,IAAiHD,OAArI;;EAEA;EACA,IAAIwC,eAAeD,iBAAiB,CAAC,OAAOpC,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8ChT,UAAQgT,MAAR,CAA/C,KAAmE,QAApF,IAAgGA,MAAhG,IAA0G,CAACA,OAAOF,QAAlH,IAA8HE,MAAjJ;;EAEA;EACA,IAAIsC,kBAAkBD,gBAAgBA,aAAaxC,OAAb,KAAyBuC,aAA/D;;EAEA;EACA,IAAIG,WAAWD,kBAAkB/iB,OAAK2gB,MAAvB,GAAgCz4C,SAA/C;;EAEA;EACA,IAAI+6C,iBAAiBD,WAAWA,SAASE,QAApB,GAA+Bh7C,SAApD;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIg7C,WAAWD,kBAAkBL,SAAjC;;EAEA;EACA,IAAIO,YAAY,iBAAhB;;EAEA;EACA,IAAIC,cAAc9U,SAASxoC,SAA3B;EAAA,IACIu9C,gBAAgBj6C,OAAOtD,SAD3B;;EAGA;EACA,IAAIw9C,iBAAiBF,YAAYrvC,QAAjC;;EAEA;EACA,IAAIwvC,mBAAmBF,cAAc3uC,cAArC;;EAEA;EACA,IAAI8uC,mBAAmBF,eAAez7C,IAAf,CAAoBuB,MAApB,CAAvB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA4BA,SAASq6C,aAAT,CAAuBp9C,KAAvB,EAA8B;EAC5B,MAAI,CAACwpC,aAAaxpC,KAAb,CAAD,IAAwBipC,WAAWjpC,KAAX,KAAqB88C,SAAjD,EAA4D;EAC1D,WAAO,KAAP;EACD;EACD,MAAI/7C,QAAQw6C,aAAav7C,KAAb,CAAZ;EACA,MAAIe,UAAU,IAAd,EAAoB;EAClB,WAAO,IAAP;EACD;EACD,MAAI46C,OAAOuB,iBAAiB17C,IAAjB,CAAsBT,KAAtB,EAA6B,aAA7B,KAA+CA,MAAMpB,WAAhE;EACA,SAAO,OAAOg8C,IAAP,IAAe,UAAf,IAA6BA,gBAAgBA,IAA7C,IAAqDsB,eAAez7C,IAAf,CAAoBm6C,IAApB,KAA6BwB,gBAAzF;EACD;;EAED;EACA,IAAIE,YAAY,oBAAhB;EAAA,IACIC,WAAW,gBADf;EAAA,IAEIC,UAAU,kBAFd;EAAA,IAGIC,UAAU,eAHd;EAAA,IAIIC,WAAW,gBAJf;EAAA,IAKIC,YAAY,mBALhB;EAAA,IAMIC,SAAS,cANb;EAAA,IAOIC,YAAY,iBAPhB;EAAA,IAQIC,cAAc,iBARlB;EAAA,IASIC,YAAY,iBAThB;EAAA,IAUIC,SAAS,cAVb;EAAA,IAWIC,cAAc,iBAXlB;EAAA,IAYIC,aAAa,kBAZjB;;EAcA,IAAIC,iBAAiB,sBAArB;EAAA,IACIC,cAAc,mBADlB;EAAA,IAEIC,aAAa,uBAFjB;EAAA,IAGIC,aAAa,uBAHjB;EAAA,IAIIC,UAAU,oBAJd;EAAA,IAKIC,WAAW,qBALf;EAAA,IAMIC,WAAW,qBANf;EAAA,IAOIC,WAAW,qBAPf;EAAA,IAQIC,kBAAkB,4BARtB;EAAA,IASIC,YAAY,sBAThB;EAAA,IAUIC,YAAY,sBAVhB;;EAYA;EACA,IAAIC,iBAAiB,EAArB;EACAA,eAAeT,UAAf,IAA6BS,eAAeR,UAAf,IAA6BQ,eAAeP,OAAf,IAA0BO,eAAeN,QAAf,IAA2BM,eAAeL,QAAf,IAA2BK,eAAeJ,QAAf,IAA2BI,eAAeH,eAAf,IAAkCG,eAAeF,SAAf,IAA4BE,eAAeD,SAAf,IAA4B,IAA/P;EACAC,eAAexB,SAAf,IAA4BwB,eAAevB,QAAf,IAA2BuB,eAAeX,cAAf,IAAiCW,eAAetB,OAAf,IAA0BsB,eAAeV,WAAf,IAA8BU,eAAerB,OAAf,IAA0BqB,eAAepB,QAAf,IAA2BoB,eAAenB,SAAf,IAA4BmB,eAAelB,MAAf,IAAyBkB,eAAejB,SAAf,IAA4BiB,eAAehB,WAAf,IAA8BgB,eAAef,SAAf,IAA4Be,eAAed,MAAf,IAAyBc,eAAeb,WAAf,IAA8Ba,eAAeZ,UAAf,IAA6B,KAApa;;EAEA;;;;;;;EAOA,SAASa,gBAAT,CAA0B9+C,KAA1B,EAAiC;EAC7B,SAAOwpC,aAAaxpC,KAAb,KAAuBo8C,SAASp8C,MAAM5D,MAAf,CAAvB,IAAiD,CAAC,CAACyiD,eAAe5V,WAAWjpC,KAAX,CAAf,CAA1D;EACH;;EAED;;;;;;;EAOA,SAAS++C,SAAT,CAAmBjI,IAAnB,EAAyB;EACvB,SAAO,UAAU92C,KAAV,EAAiB;EACtB,WAAO82C,KAAK92C,KAAL,CAAP;EACD,GAFD;EAGD;;EAED;EACA,IAAIg/C,gBAAgB,CAAC,OAAO/E,OAAP,KAAmB,WAAnB,GAAiC,WAAjC,GAA+C7S,UAAQ6S,OAAR,CAAhD,KAAqE,QAArE,IAAiFA,OAAjF,IAA4F,CAACA,QAAQC,QAArG,IAAiHD,OAArI;;EAEA;EACA,IAAIgF,eAAeD,iBAAiB,CAAC,OAAO5E,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8ChT,UAAQgT,MAAR,CAA/C,KAAmE,QAApF,IAAgGA,MAAhG,IAA0G,CAACA,OAAOF,QAAlH,IAA8HE,MAAjJ;;EAEA;EACA,IAAI8E,kBAAkBD,gBAAgBA,aAAahF,OAAb,KAAyB+E,aAA/D;;EAEA;EACA,IAAIG,cAAcD,mBAAmBrX,WAAWuX,OAAhD;;EAEA;EACA,IAAIC,WAAW,YAAY;EACzB,MAAI;EACF;EACA,QAAItxB,QAAQkxB,gBAAgBA,aAAaK,OAA7B,IAAwCL,aAAaK,OAAb,CAAqB,MAArB,EAA6BvxB,KAAjF;;EAEA,QAAIA,KAAJ,EAAW;EACT,aAAOA,KAAP;EACD;;EAED;EACA,WAAOoxB,eAAeA,YAAYI,OAA3B,IAAsCJ,YAAYI,OAAZ,CAAoB,MAApB,CAA7C;EACD,GAVD,CAUE,OAAO3qC,CAAP,EAAU;EACb,CAZc,EAAf;;EAcA;EACA,IAAI4qC,mBAAmBH,YAAYA,SAASI,YAA5C;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIA,eAAeD,mBAAmBT,UAAUS,gBAAV,CAAnB,GAAiDV,gBAApE;;EAEA;;;;;;;;EAQA,SAASY,OAAT,CAAiB/+C,MAAjB,EAAyBd,GAAzB,EAA8B;EAC5B,MAAIA,OAAO,WAAX,EAAwB;EACtB;EACD;;EAED,SAAOc,OAAOd,GAAP,CAAP;EACD;;EAED;EACA,IAAI8/C,gBAAgB58C,OAAOtD,SAA3B;;EAEA;EACA,IAAImgD,mBAAmBD,cAActxC,cAArC;;EAEA;;;;;;;;;;EAUA,SAASwxC,WAAT,CAAqBl/C,MAArB,EAA6Bd,GAA7B,EAAkCG,KAAlC,EAAyC;EACvC,MAAI8/C,WAAWn/C,OAAOd,GAAP,CAAf;EACA,MAAI,EAAE+/C,iBAAiBp+C,IAAjB,CAAsBb,MAAtB,EAA8Bd,GAA9B,KAAsC81C,GAAGmK,QAAH,EAAa9/C,KAAb,CAAxC,KAAgEA,UAAU6B,SAAV,IAAuB,EAAEhC,OAAOc,MAAT,CAA3F,EAA6G;EAC3G44C,oBAAgB54C,MAAhB,EAAwBd,GAAxB,EAA6BG,KAA7B;EACD;EACF;;EAED;;;;;;;;;;EAUA,SAAS+/C,UAAT,CAAoBxsC,MAApB,EAA4BumC,KAA5B,EAAmCn5C,MAAnC,EAA2Cq/C,UAA3C,EAAuD;EACrD,MAAIC,QAAQ,CAACt/C,MAAb;EACAA,aAAWA,SAAS,EAApB;;EAEA,MAAIU,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS09C,MAAM19C,MADnB;;EAGA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIyD,MAAMi6C,MAAMz4C,KAAN,CAAV;;EAEA,QAAI6+C,WAAWF,aAAaA,WAAWr/C,OAAOd,GAAP,CAAX,EAAwB0T,OAAO1T,GAAP,CAAxB,EAAqCA,GAArC,EAA0Cc,MAA1C,EAAkD4S,MAAlD,CAAb,GAAyE1R,SAAxF;;EAEA,QAAIq+C,aAAar+C,SAAjB,EAA4B;EAC1Bq+C,iBAAW3sC,OAAO1T,GAAP,CAAX;EACD;EACD,QAAIogD,KAAJ,EAAW;EACT1G,sBAAgB54C,MAAhB,EAAwBd,GAAxB,EAA6BqgD,QAA7B;EACD,KAFD,MAEO;EACLL,kBAAYl/C,MAAZ,EAAoBd,GAApB,EAAyBqgD,QAAzB;EACD;EACF;EACD,SAAOv/C,MAAP;EACD;;EAED;;;;;;;;;EASA,SAASw/C,SAAT,CAAmB9iD,CAAnB,EAAsBs8C,QAAtB,EAAgC;EAC9B,MAAIt4C,QAAQ,CAAC,CAAb;EAAA,MACIqnC,SAAS9qC,MAAMP,CAAN,CADb;;EAGA,SAAO,EAAEgE,KAAF,GAAUhE,CAAjB,EAAoB;EAClBqrC,WAAOrnC,KAAP,IAAgBs4C,SAASt4C,KAAT,CAAhB;EACD;EACD,SAAOqnC,MAAP;EACD;;EAED;EACA,IAAI0X,qBAAqB,gBAAzB;;EAEA;EACA,IAAIC,WAAW,kBAAf;;EAEA;;;;;;;;EAQA,SAASC,OAAT,CAAiBtgD,KAAjB,EAAwB5D,MAAxB,EAAgC;EAC9B,MAAIge,OAAO,OAAOpa,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6ConC,UAAQpnC,KAAR,CAAxD;EACA5D,WAASA,UAAU,IAAV,GAAiBgkD,kBAAjB,GAAsChkD,MAA/C;;EAEA,SAAO,CAAC,CAACA,MAAF,KAAage,QAAQ,QAAR,IAAoBA,QAAQ,QAAR,IAAoBimC,SAAS7kC,IAAT,CAAcxb,KAAd,CAArD,KAA8EA,QAAQ,CAAC,CAAvF,IAA4FA,QAAQ,CAAR,IAAa,CAAzG,IAA8GA,QAAQ5D,MAA7H;EACD;;EAED;EACA,IAAImkD,gBAAgBx9C,OAAOtD,SAA3B;;EAEA;EACA,IAAI+gD,mBAAmBD,cAAclyC,cAArC;;EAEA;;;;;;;;EAQA,SAASoyC,aAAT,CAAuBzgD,KAAvB,EAA8B0gD,SAA9B,EAAyC;EACvC,MAAIC,QAAQ//C,QAAQZ,KAAR,CAAZ;EAAA,MACI4gD,QAAQ,CAACD,KAAD,IAAUzE,YAAYl8C,KAAZ,CADtB;EAAA,MAEI6gD,SAAS,CAACF,KAAD,IAAU,CAACC,KAAX,IAAoB/D,SAAS78C,KAAT,CAFjC;EAAA,MAGI8gD,SAAS,CAACH,KAAD,IAAU,CAACC,KAAX,IAAoB,CAACC,MAArB,IAA+BpB,aAAaz/C,KAAb,CAH5C;EAAA,MAII+gD,cAAcJ,SAASC,KAAT,IAAkBC,MAAlB,IAA4BC,MAJ9C;EAAA,MAKIpY,SAASqY,cAAcZ,UAAUngD,MAAM5D,MAAhB,EAAwB4kD,MAAxB,CAAd,GAAgD,EAL7D;EAAA,MAMI5kD,SAASssC,OAAOtsC,MANpB;;EAQA,OAAK,IAAIyD,GAAT,IAAgBG,KAAhB,EAAuB;EACrB,QAAI,CAAC0gD,aAAaF,iBAAiBh/C,IAAjB,CAAsBxB,KAAtB,EAA6BH,GAA7B,CAAd,KAAoD,EAAEkhD;EAC1D;EACAlhD,WAAO,QAAP;EACA;EACAghD,eAAWhhD,OAAO,QAAP,IAAmBA,OAAO,QAArC,CAFA;EAGA;EACAihD,eAAWjhD,OAAO,QAAP,IAAmBA,OAAO,YAA1B,IAA0CA,OAAO,YAA5D,CAJA;EAKA;EACAygD,YAAQzgD,GAAR,EAAazD,MAAb,CAR0D,CAAF,CAAxD,EAQwB;EACtBssC,aAAOroC,IAAP,CAAYR,GAAZ;EACD;EACF;EACD,SAAO6oC,MAAP;EACD;;EAED;;;;;;;;;EASA,SAASuY,YAAT,CAAsBtgD,MAAtB,EAA8B;EAC5B,MAAI+nC,SAAS,EAAb;EACA,MAAI/nC,UAAU,IAAd,EAAoB;EAClB,SAAK,IAAId,GAAT,IAAgBkD,OAAOpC,MAAP,CAAhB,EAAgC;EAC9B+nC,aAAOroC,IAAP,CAAYR,GAAZ;EACD;EACF;EACD,SAAO6oC,MAAP;EACD;;EAED;EACA,IAAIwY,gBAAgBn+C,OAAOtD,SAA3B;;EAEA;EACA,IAAI0hD,mBAAmBD,cAAc7yC,cAArC;;EAEA;;;;;;;EAOA,SAAS+yC,UAAT,CAAoBzgD,MAApB,EAA4B;EAC1B,MAAI,CAACuoC,SAASvoC,MAAT,CAAL,EAAuB;EACrB,WAAOsgD,aAAatgD,MAAb,CAAP;EACD;EACD,MAAI0gD,UAAU3F,YAAY/6C,MAAZ,CAAd;EAAA,MACI+nC,SAAS,EADb;;EAGA,OAAK,IAAI7oC,GAAT,IAAgBc,MAAhB,EAAwB;EACtB,QAAI,EAAEd,OAAO,aAAP,KAAyBwhD,WAAW,CAACF,iBAAiB3/C,IAAjB,CAAsBb,MAAtB,EAA8Bd,GAA9B,CAArC,CAAF,CAAJ,EAAiF;EAC/E6oC,aAAOroC,IAAP,CAAYR,GAAZ;EACD;EACF;EACD,SAAO6oC,MAAP;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;EAuBA,SAAS4Y,MAAT,CAAgB3gD,MAAhB,EAAwB;EACtB,SAAO07C,YAAY17C,MAAZ,IAAsB8/C,cAAc9/C,MAAd,EAAsB,IAAtB,CAAtB,GAAoDygD,WAAWzgD,MAAX,CAA3D;EACD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;EAwBA,SAAS4gD,aAAT,CAAuBvhD,KAAvB,EAA8B;EAC5B,SAAO+/C,WAAW//C,KAAX,EAAkBshD,OAAOthD,KAAP,CAAlB,CAAP;EACD;;EAED;;;;;;;;;;;;;;;EAeA,SAASwhD,aAAT,CAAuB7gD,MAAvB,EAA+B4S,MAA/B,EAAuC1T,GAAvC,EAA4C4hD,QAA5C,EAAsDC,SAAtD,EAAiE1B,UAAjE,EAA6E2B,KAA7E,EAAoF;EAClF,MAAI7B,WAAWJ,QAAQ/+C,MAAR,EAAgBd,GAAhB,CAAf;EAAA,MACI+hD,WAAWlC,QAAQnsC,MAAR,EAAgB1T,GAAhB,CADf;EAAA,MAEIgiD,UAAUF,MAAM7hD,GAAN,CAAU8hD,QAAV,CAFd;;EAIA,MAAIC,OAAJ,EAAa;EACXrI,qBAAiB74C,MAAjB,EAAyBd,GAAzB,EAA8BgiD,OAA9B;EACA;EACD;EACD,MAAI3B,WAAWF,aAAaA,WAAWF,QAAX,EAAqB8B,QAArB,EAA+B/hD,MAAM,EAArC,EAAyCc,MAAzC,EAAiD4S,MAAjD,EAAyDouC,KAAzD,CAAb,GAA+E9/C,SAA9F;;EAEA,MAAIigD,WAAW5B,aAAar+C,SAA5B;;EAEA,MAAIigD,QAAJ,EAAc;EACZ,QAAInB,QAAQ//C,QAAQghD,QAAR,CAAZ;EAAA,QACIf,SAAS,CAACF,KAAD,IAAU9D,SAAS+E,QAAT,CADvB;EAAA,QAEIG,UAAU,CAACpB,KAAD,IAAU,CAACE,MAAX,IAAqBpB,aAAamC,QAAb,CAFnC;;EAIA1B,eAAW0B,QAAX;EACA,QAAIjB,SAASE,MAAT,IAAmBkB,OAAvB,EAAgC;EAC9B,UAAInhD,QAAQk/C,QAAR,CAAJ,EAAuB;EACrBI,mBAAWJ,QAAX;EACD,OAFD,MAEO,IAAIxD,kBAAkBwD,QAAlB,CAAJ,EAAiC;EACtCI,mBAAWhF,UAAU4E,QAAV,CAAX;EACD,OAFM,MAEA,IAAIe,MAAJ,EAAY;EACjBiB,mBAAW,KAAX;EACA5B,mBAAW1F,YAAYoH,QAAZ,EAAsB,IAAtB,CAAX;EACD,OAHM,MAGA,IAAIG,OAAJ,EAAa;EAClBD,mBAAW,KAAX;EACA5B,mBAAWnF,gBAAgB6G,QAAhB,EAA0B,IAA1B,CAAX;EACD,OAHM,MAGA;EACL1B,mBAAW,EAAX;EACD;EACF,KAdD,MAcO,IAAI9C,cAAcwE,QAAd,KAA2B1F,YAAY0F,QAAZ,CAA/B,EAAsD;EAC3D1B,iBAAWJ,QAAX;EACA,UAAI5D,YAAY4D,QAAZ,CAAJ,EAA2B;EACzBI,mBAAWqB,cAAczB,QAAd,CAAX;EACD,OAFD,MAEO,IAAI,CAAC5W,SAAS4W,QAAT,CAAD,IAAuBvW,WAAWuW,QAAX,CAA3B,EAAiD;EACtDI,mBAAWtE,gBAAgBgG,QAAhB,CAAX;EACD;EACF,KAPM,MAOA;EACLE,iBAAW,KAAX;EACD;EACF;EACD,MAAIA,QAAJ,EAAc;EACZ;EACAH,UAAM5hD,GAAN,CAAU6hD,QAAV,EAAoB1B,QAApB;EACAwB,cAAUxB,QAAV,EAAoB0B,QAApB,EAA8BH,QAA9B,EAAwCzB,UAAxC,EAAoD2B,KAApD;EACAA,UAAM,QAAN,EAAgBC,QAAhB;EACD;EACDpI,mBAAiB74C,MAAjB,EAAyBd,GAAzB,EAA8BqgD,QAA9B;EACD;;EAED;;;;;;;;;;;EAWA,SAAS8B,SAAT,CAAmBrhD,MAAnB,EAA2B4S,MAA3B,EAAmCkuC,QAAnC,EAA6CzB,UAA7C,EAAyD2B,KAAzD,EAAgE;EAC9D,MAAIhhD,WAAW4S,MAAf,EAAuB;EACrB;EACD;EACDwmC,UAAQxmC,MAAR,EAAgB,UAAUquC,QAAV,EAAoB/hD,GAApB,EAAyB;EACvC,QAAIqpC,SAAS0Y,QAAT,CAAJ,EAAwB;EACtBD,gBAAUA,QAAQ,IAAItI,KAAJ,EAAlB;EACAmI,oBAAc7gD,MAAd,EAAsB4S,MAAtB,EAA8B1T,GAA9B,EAAmC4hD,QAAnC,EAA6CO,SAA7C,EAAwDhC,UAAxD,EAAoE2B,KAApE;EACD,KAHD,MAGO;EACL,UAAIzB,WAAWF,aAAaA,WAAWN,QAAQ/+C,MAAR,EAAgBd,GAAhB,CAAX,EAAiC+hD,QAAjC,EAA2C/hD,MAAM,EAAjD,EAAqDc,MAArD,EAA6D4S,MAA7D,EAAqEouC,KAArE,CAAb,GAA2F9/C,SAA1G;;EAEA,UAAIq+C,aAAar+C,SAAjB,EAA4B;EAC1Bq+C,mBAAW0B,QAAX;EACD;EACDpI,uBAAiB74C,MAAjB,EAAyBd,GAAzB,EAA8BqgD,QAA9B;EACD;EACF,GAZD,EAYGoB,MAZH;EAaD;;EAED;;;;;;;;;;;;;;;;EAgBA,SAASjtC,UAAT,CAAkBrU,KAAlB,EAAyB;EACvB,SAAOA,KAAP;EACD;;EAED;;;;;;;;;;EAUA,SAASsuB,KAAT,CAAewoB,IAAf,EAAqBmL,OAArB,EAA8B5zB,IAA9B,EAAoC;EAClC,UAAQA,KAAKjyB,MAAb;EACE,SAAK,CAAL;EACE,aAAO06C,KAAKt1C,IAAL,CAAUygD,OAAV,CAAP;EACF,SAAK,CAAL;EACE,aAAOnL,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,CAAP;EACF,SAAK,CAAL;EACE,aAAOyoB,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,CAAP;EACF,SAAK,CAAL;EACE,aAAOyoB,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,EAAqCA,KAAK,CAAL,CAArC,CAAP;EARJ;EAUA,SAAOyoB,KAAKxoB,KAAL,CAAW2zB,OAAX,EAAoB5zB,IAApB,CAAP;EACD;;EAED;EACA,IAAI6zB,YAAY1kD,KAAKC,GAArB;;EAEA;;;;;;;;;EASA,SAAS0kD,QAAT,CAAkBrL,IAAlB,EAAwB55C,KAAxB,EAA+BsY,SAA/B,EAA0C;EACxCtY,UAAQglD,UAAUhlD,UAAU2E,SAAV,GAAsBi1C,KAAK16C,MAAL,GAAc,CAApC,GAAwCc,KAAlD,EAAyD,CAAzD,CAAR;EACA,SAAO,YAAY;EACjB,QAAImxB,OAAO/wB,SAAX;EAAA,QACI+D,QAAQ,CAAC,CADb;EAAA,QAEIjF,SAAS8lD,UAAU7zB,KAAKjyB,MAAL,GAAcc,KAAxB,EAA+B,CAA/B,CAFb;EAAA,QAGI+D,QAAQrD,MAAMxB,MAAN,CAHZ;;EAKA,WAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB6E,YAAMI,KAAN,IAAegtB,KAAKnxB,QAAQmE,KAAb,CAAf;EACD;EACDA,YAAQ,CAAC,CAAT;EACA,QAAI+gD,YAAYxkD,MAAMV,QAAQ,CAAd,CAAhB;EACA,WAAO,EAAEmE,KAAF,GAAUnE,KAAjB,EAAwB;EACtBklD,gBAAU/gD,KAAV,IAAmBgtB,KAAKhtB,KAAL,CAAnB;EACD;EACD+gD,cAAUllD,KAAV,IAAmBsY,UAAUvU,KAAV,CAAnB;EACA,WAAOqtB,MAAMwoB,IAAN,EAAY,IAAZ,EAAkBsL,SAAlB,CAAP;EACD,GAhBD;EAiBD;;EAED;;;;;;;;;;;;;;;;;;;EAmBA,SAAS7vC,UAAT,CAAkBvS,KAAlB,EAAyB;EACvB,SAAO,YAAY;EACjB,WAAOA,KAAP;EACD,GAFD;EAGD;;EAED;;;;;;;;EAQA,IAAIqiD,kBAAkB,CAAC/I,gBAAD,GAAoBjlC,UAApB,GAA+B,UAAUyiC,IAAV,EAAgB7iC,MAAhB,EAAwB;EAC3E,SAAOqlC,iBAAiBxC,IAAjB,EAAuB,UAAvB,EAAmC;EACxC,oBAAgB,IADwB;EAExC,kBAAc,KAF0B;EAGxC,aAASvkC,WAAS0B,MAAT,CAH+B;EAIxC,gBAAY;EAJ4B,GAAnC,CAAP;EAMD,CAPD;;EASA;EACA,IAAIquC,YAAY,GAAhB;EAAA,IACIC,WAAW,EADf;;EAGA;EACA,IAAIC,YAAYrvC,KAAKsvC,GAArB;;EAEA;;;;;;;;;EASA,SAASC,QAAT,CAAkB5L,IAAlB,EAAwB;EACtB,MAAI74C,QAAQ,CAAZ;EAAA,MACI0kD,aAAa,CADjB;;EAGA,SAAO,YAAY;EACjB,QAAIC,QAAQJ,WAAZ;EAAA,QACIK,YAAYN,YAAYK,QAAQD,UAApB,CADhB;;EAGAA,iBAAaC,KAAb;EACA,QAAIC,YAAY,CAAhB,EAAmB;EACjB,UAAI,EAAE5kD,KAAF,IAAWqkD,SAAf,EAA0B;EACxB,eAAOhlD,UAAU,CAAV,CAAP;EACD;EACF,KAJD,MAIO;EACLW,cAAQ,CAAR;EACD;EACD,WAAO64C,KAAKxoB,KAAL,CAAWzsB,SAAX,EAAsBvE,SAAtB,CAAP;EACD,GAbD;EAcD;;EAED;;;;;;;;EAQA,IAAIwlD,cAAcJ,SAASL,eAAT,CAAlB;;EAEA;;;;;;;;EAQA,SAASU,QAAT,CAAkBjM,IAAlB,EAAwB55C,KAAxB,EAA+B;EAC7B,SAAO4lD,YAAYX,SAASrL,IAAT,EAAe55C,KAAf,EAAsBmX,UAAtB,CAAZ,EAA6CyiC,OAAO,EAApD,CAAP;EACD;;EAED;;;;;;;;;;EAUA,SAASkM,cAAT,CAAwBhjD,KAAxB,EAA+BqB,KAA/B,EAAsCV,MAAtC,EAA8C;EAC5C,MAAI,CAACuoC,SAASvoC,MAAT,CAAL,EAAuB;EACrB,WAAO,KAAP;EACD;EACD,MAAIyZ,OAAO,OAAO/Y,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6C+lC,UAAQ/lC,KAAR,CAAxD;EACA,MAAI+Y,QAAQ,QAAR,GAAmBiiC,YAAY17C,MAAZ,KAAuB2/C,QAAQj/C,KAAR,EAAeV,OAAOvE,MAAtB,CAA1C,GAA0Ege,QAAQ,QAAR,IAAoB/Y,SAASV,MAA3G,EAAmH;EACjH,WAAOg1C,GAAGh1C,OAAOU,KAAP,CAAH,EAAkBrB,KAAlB,CAAP;EACD;EACD,SAAO,KAAP;EACD;;EAED;;;;;;;EAOA,SAASijD,cAAT,CAAwBC,QAAxB,EAAkC;EAChC,SAAOH,SAAS,UAAUpiD,MAAV,EAAkBwiD,OAAlB,EAA2B;EACzC,QAAI9hD,QAAQ,CAAC,CAAb;EAAA,QACIjF,SAAS+mD,QAAQ/mD,MADrB;EAAA,QAEI4jD,aAAa5jD,SAAS,CAAT,GAAa+mD,QAAQ/mD,SAAS,CAAjB,CAAb,GAAmCyF,SAFpD;EAAA,QAGIuhD,QAAQhnD,SAAS,CAAT,GAAa+mD,QAAQ,CAAR,CAAb,GAA0BthD,SAHtC;;EAKAm+C,iBAAakD,SAAS9mD,MAAT,GAAkB,CAAlB,IAAuB,OAAO4jD,UAAP,IAAqB,UAA5C,IAA0D5jD,UAAU4jD,UAApE,IAAkFn+C,SAA/F;;EAEA,QAAIuhD,SAASJ,eAAeG,QAAQ,CAAR,CAAf,EAA2BA,QAAQ,CAAR,CAA3B,EAAuCC,KAAvC,CAAb,EAA4D;EAC1DpD,mBAAa5jD,SAAS,CAAT,GAAayF,SAAb,GAAyBm+C,UAAtC;EACA5jD,eAAS,CAAT;EACD;EACDuE,aAASoC,OAAOpC,MAAP,CAAT;EACA,WAAO,EAAEU,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,UAAImX,SAAS4vC,QAAQ9hD,KAAR,CAAb;EACA,UAAIkS,MAAJ,EAAY;EACV2vC,iBAASviD,MAAT,EAAiB4S,MAAjB,EAAyBlS,KAAzB,EAAgC2+C,UAAhC;EACD;EACF;EACD,WAAOr/C,MAAP;EACD,GApBM,CAAP;EAqBD;;EAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+BA,IAAI0iD,YAAYJ,eAAe,UAAUtiD,MAAV,EAAkB4S,MAAlB,EAA0BkuC,QAA1B,EAAoCzB,UAApC,EAAgD;EAC7EgC,YAAUrhD,MAAV,EAAkB4S,MAAlB,EAA0BkuC,QAA1B,EAAoCzB,UAApC;EACD,CAFe,CAAhB;;EAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+BA,IAAIzhB,UAAQ0kB,eAAe,UAAUtiD,MAAV,EAAkB4S,MAAlB,EAA0BkuC,QAA1B,EAAoC;EAC7DO,YAAUrhD,MAAV,EAAkB4S,MAAlB,EAA0BkuC,QAA1B;EACD,CAFW,CAAZ;;EAIA,IAAI6B,kBAAkB,SAASA,eAAT,CAAyBxD,QAAzB,EAAmC8B,QAAnC,EAA6C;EACjE,MAAIhhD,QAAQk/C,QAAR,CAAJ,EAAuB;EACrB,QAAIyD,YAAY,KAAhB;EACA,QAAIC,4BAA4B,IAAhC;EACA,QAAIC,oBAAoB,KAAxB;EACA,QAAIC,iBAAiB7hD,SAArB;;EAEA,QAAI;EACF,WAAK,IAAI8hD,YAAY7D,SAASzY,OAAOE,QAAhB,GAAhB,EAA6Cqc,KAAlD,EAAyD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAAzD,EAAyHL,4BAA4B,IAArJ,EAA2J;EACzJ,YAAI3mD,IAAI+mD,MAAM5jD,KAAd;;EAEA,YAAIkpC,SAASrsC,CAAT,CAAJ,EAAiB;EACf0mD,sBAAY,IAAZ;EACA;EACD;EACF;EACF,KATD,CASE,OAAOO,GAAP,EAAY;EACZL,0BAAoB,IAApB;EACAC,uBAAiBI,GAAjB;EACD,KAZD,SAYU;EACR,UAAI;EACF,YAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,oBAAUI,MAAV;EACD;EACF,OAJD,SAIU;EACR,YAAIN,iBAAJ,EAAuB;EACrB,gBAAMC,cAAN;EACD;EACF;EACF;;EAED,QAAIH,cAAc,KAAlB,EAAyB;EACvB;EACA,aAAO3B,QAAP;EACD,KAHD,MAGO,IAAI9B,SAAS1jD,MAAT,KAAoB,CAAxB,EAA2B;EAChC;EACA,aAAOwlD,QAAP;EACD,KAHM,MAGA,IAAI9B,SAAS1jD,MAAT,KAAoB,CAAxB,EAA2B;EAChC;EACA,UAAI4nD,YAAYlE,SAAS,CAAT,CAAhB;;EAEA,aAAO8B,SAASliD,GAAT,CAAa,UAAU7C,CAAV,EAAa;EAC/B,eAAO0hC,QAAMx7B,OAAOkhD,MAAP,CAAc,EAAd,EAAkBD,SAAlB,CAAN,EAAoCnnD,CAApC,CAAP;EACD,OAFM,CAAP;EAGD,KAPM,MAOA;EACL;;EAEA,aAAOijD,SAASpgD,GAAT,CAAa,UAAU7C,CAAV,EAAaU,CAAb,EAAgB;EAClC,YAAI2mD,OAAOnhD,OAAOkhD,MAAP,CAAc,EAAd,EAAkBpnD,CAAlB,CAAX;;EAEA,YAAI+kD,SAASxlD,MAAT,GAAkBmB,CAAtB,EAAyB;EACvB,iBAAOghC,QAAM2lB,IAAN,EAAYtC,SAASrkD,CAAT,CAAZ,CAAP;EACD,SAFD,MAEO;EACL,iBAAO2mD,IAAP;EACD;EACF,OARM,CAAP;EASD;EACF;EACF,CA1DD;;EA4DA,IAAIC,YAAU,SAAS5lB,KAAT,CAAelmB,MAAf,EAAuB9E,MAAvB,EAA+B;EAC3C,MAAIA,WAAW1R,SAAX,IAAwB0R,WAAW,IAAvC,EAA6C,OAAO8E,MAAP;;EAE7CgrC,YAAUhrC,MAAV,EAAkB9E,MAAlB,EAA0B+vC,eAA1B;;EAEA,SAAOjrC,MAAP;EACD,CAND;;EAQA,IAAI+rC,aAAa,SAASA,UAAT,CAAoB9O,KAApB,EAA2B;EAC1C,SAAO;EACL+O,aAAS,SAASA,OAAT,CAAiBrP,GAAjB,EAAsB;EAC7BM,YAAMG,QAAN,GAAiB0O,UAAQ7O,MAAMG,QAAd,EAAwBT,GAAxB,CAAjB;EACA,aAAOM,MAAMG,QAAb;EACD;EAJI,GAAP;EAMD,CAPD;;EASA,IAAI6O,UAAU,SAASA,OAAT,CAAiBhP,KAAjB,EAAwB;EACpC,SAAO;EACLpf,UAAM,SAASA,IAAT,CAAcqb,KAAd,EAAqB;EACzB,UAAIA,UAAU1vC,SAAV,IAAuB0vC,UAAU,IAArC,EAA2C;EACzC+D,cAAM/D,KAAN,GAAc+D,MAAMiP,UAAN,CAAiBruB,IAAjB,CAAsBqb,KAAtB,EAA6B+D,MAAMG,QAAnC,EAA6C,IAA7C,CAAd;EACD;;EAED,aAAOH,MAAM/D,KAAb;EACD;EAPI,GAAP;EASD,CAVD;;EAYA,IAAIiT,YAAY,SAASA,SAAT,CAAmBC,WAAnB,EAAgCzP,GAAhC,EAAqC;EACnD,MAAI0P,YAAYrpB,OAAOopB,WAAP,EAAoB5e,MAApB,CAA2B,KAA3B,EAAkCZ,IAAlC,CAAuC,OAAvC,EAAgD+P,IAAI2P,KAAJ,CAAUtrC,KAA1D,EAAiE4rB,IAAjE,CAAsE,QAAtE,EAAgF+P,IAAI2P,KAAJ,CAAUC,MAA1F,EAAkG3f,IAAlG,CAAuG,qBAAvG,EAA8H,eAA9H,EAA+IA,IAA/I,CAAoJ,SAApJ,EAA+J,SAAS+P,IAAI2P,KAAJ,CAAUtrC,KAAnB,GAA2B,GAA3B,GAAiC27B,IAAI2P,KAAJ,CAAUC,MAA1M,EAAkNvf,OAAlN,CAA0N,cAA1N,EAA0O,IAA1O,CAAhB;;EAEA,MAAIjL,MAAMsqB,UAAU7e,MAAV,CAAiB,GAAjB,EAAsBZ,IAAtB,CAA2B,WAA3B,EAAwC,eAAe+P,IAAI2P,KAAJ,CAAUE,MAAV,CAAiBvoD,IAAhC,GAAuC,GAAvC,GAA6C04C,IAAI2P,KAAJ,CAAUE,MAAV,CAAiB5d,GAA9D,GAAoE,GAA5G,CAAV;;EAEA,SAAO;EACLyd,eAAWA,SADN;EAELtqB,SAAKA;EAFA,GAAP;EAID,CATD;;EAWA,IAAI0qB,YAAY,SAASA,SAAT,CAAmBxP,KAAnB,EAA0B;EACxC,SAAO;EACLyP,YAAQ,SAASA,MAAT,CAAgB7uB,IAAhB,EAAsB;EAC5Bof,YAAM/D,KAAN,GAAc+D,MAAMiP,UAAN,CAAiBruB,IAAjB,CAAsBA,IAAtB,EAA4Bof,MAAMG,QAAlC,EAA4C,IAA5C,CAAd;EACAH,YAAMjD,MAAN,GAAeiD,MAAMiP,UAAN,CAAiBj3C,KAAjB,CAAuBgoC,MAAMG,QAAN,CAAenoC,KAAtC,EAA6CgoC,MAAM/D,KAAnD,EAA0D+D,MAAMG,QAAhE,CAAf;;EAEA,UAAIuP,aAAaR,UAAUlP,MAAM2P,YAAhB,EAA8B3P,MAAMG,QAApC,CAAjB;EAAA,UACIiP,YAAYM,WAAWN,SAD3B;EAAA,UAEItqB,MAAM4qB,WAAW5qB,GAFrB;;EAIAkb,YAAM4P,UAAN,GAAmBR,SAAnB;EACApP,YAAM6P,IAAN,GAAa/qB,GAAb;EACD;EAXI,GAAP;EAaD,CAdD;;EAgBA,IAAIgrB,YAAY,SAASA,SAAT,CAAmB9P,KAAnB,EAA0B;EACxC,SAAO;EACL7Y,YAAQ,SAASA,MAAT,GAAkB;EACxB6Y,YAAM/D,KAAN,GAAc+D,MAAMiP,UAAN,CAAiBruB,IAAjB,CAAsBof,MAAM/D,KAA5B,EAAmC+D,MAAMG,QAAzC,EAAmD,KAAnD,CAAd;EACAH,YAAMjD,MAAN,GAAeiD,MAAMiP,UAAN,CAAiBj3C,KAAjB,CAAuBgoC,MAAMG,QAAN,CAAenoC,KAAtC,EAA6CgoC,MAAM/D,KAAnD,EAA0D+D,MAAMG,QAAhE,CAAf;EACD;EAJI,GAAP;EAMD,CAPD;;EASA,IAAI4P,KAAK,SAASA,EAAT,GAAc;EACrB,SAAO7nD,KAAKc,KAAL,CAAW,CAAC,IAAId,KAAK8nD,MAAL,EAAL,IAAsB,OAAjC,EAA0C53C,QAA1C,CAAmD,EAAnD,EAAuD4L,SAAvD,CAAiE,CAAjE,CAAP;EACD,CAFD;;EAIA,IAAIisC,OAAO,SAASA,IAAT,GAAgB;EACzB,SAAOF,OAAOA,IAAP,GAAc,GAAd,GAAoBA,IAApB,GAA2B,GAA3B,GAAiCA,IAAjC,GAAwC,GAAxC,GAA8CA,IAA9C,GAAqD,GAArD,GAA2DA,IAA3D,GAAkEA,IAAlE,GAAyEA,IAAhF;EACD,CAFD;;EAIA;EACA,IAAIG,WAAW,SAASA,QAAT,GAAoB;EACjC,+UAA6UhqC,IAArU,CAA0UiqC,UAAUC,SAApV,KAAkW,0kDAA0kDlqC,IAA1kD,CAA+kDiqC,UAAUC,SAAV,CAAoBC,MAApB,CAA2B,CAA3B,EAA8B,CAA9B,CAA/kD;EAA1W;EAED,CAHD;;EAKA,IAAIC,iBAAiB,SAASA,cAAT,CAAwBlB,SAAxB,EAAmC;EACtD,SAAO12C,SAAS02C,UAAUj2B,IAAV,GAAiBsY,qBAAjB,GAAyC1tB,KAAlD,EAAyD,EAAzD,KAAgE,GAAvE;EACD,CAFD;EAGA,IAAIwsC,kBAAkB,SAASA,eAAT,CAAyBnB,SAAzB,EAAoC;EACxD,SAAO12C,SAAS02C,UAAUj2B,IAAV,GAAiBsY,qBAAjB,GAAyC6d,MAAlD,EAA0D,EAA1D,KAAiE,GAAxE;EACD,CAFD;;EAIA;;;EAGA,IAAIkB,iBAAiB,SAASA,cAAT,CAAwBpB,SAAxB,EAAmC;EACtD,SAAOA,UAAUj2B,IAAV,OAAqB,IAArB,GAA4B,CAA5B,GAAgCo3B,gBAAgBnB,SAAhB,KAA8B,GAArE;EACD,CAFD;;EAIA;;;EAGA,IAAIqB,gBAAgB,SAASA,aAAT,CAAuBrB,SAAvB,EAAkC;EACpD,SAAOA,UAAUj2B,IAAV,OAAqB,IAArB,GAA4B,CAA5B,GAAgCm3B,eAAelB,SAAf,KAA6B,GAApE;EACD,CAFD;;EAIA,IAAIsB,YAAY,SAASA,SAAT,CAAmBnpD,CAAnB,EAAsB;EACpC,SAAOA,MAAMgF,SAAN,IAAmBhF,MAAM,IAAzB,IAAiC,CAACopD,OAAOt3C,KAAP,CAAa9R,CAAb,CAAzC;EACD,CAFD;;EAIA,IAAIqpD,uBAAuB,SAASA,oBAAT,CAA8BzB,WAA9B,EAA2CzP,GAA3C,EAAgD;EACzE,MAAImR,aAAanR,IAAI2P,KAArB;EAAA,MACIyB,YAAYD,WAAW9sC,KAD3B;EAAA,MAEIgtC,aAAaF,WAAWvB,MAF5B;EAAA,MAGI0B,oBAAoBH,WAAWtB,MAHnC;EAAA,MAII5d,MAAMqf,kBAAkBrf,GAJ5B;EAAA,MAKInP,SAASwuB,kBAAkBxuB,MAL/B;EAAA,MAMIx7B,OAAOgqD,kBAAkBhqD,IAN7B;EAAA,MAOIK,QAAQ2pD,kBAAkB3pD,KAP9B;;EAUA,MAAI+nD,YAAYrpB,OAAOopB,WAAP,CAAhB;;EAEA;EACA,MAAIuB,UAAUI,SAAV,CAAJ,EAA0B;EACxB,QAAIA,aAAa9pD,OAAOK,KAAxB,EAA+B;EAC7By0C,WAAK,wCAAL;EACA,aAAO4D,IAAI2P,KAAJ,CAAU,OAAV,CAAP;EACD;EACF;;EAED,MAAIqB,UAAUK,UAAV,CAAJ,EAA2B;EACzB,QAAIA,cAAcpf,MAAMnP,MAAxB,EAAgC;EAC9BsZ,WAAK,yCAAL;EACA,aAAO4D,IAAI2P,KAAJ,CAAU,QAAV,CAAP;EACD;EACF;;EAED;EACA,MAAI,CAACqB,UAAUhR,IAAI2P,KAAJ,CAAUtrC,KAApB,CAAL,EAAiC;EAC/B27B,QAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB0sC,cAAcrB,SAAd,CAAlB;EACD;;EAED,MAAI,CAACsB,UAAUhR,IAAI2P,KAAJ,CAAUC,MAApB,CAAL,EAAkC;EAChC5P,QAAI2P,KAAJ,CAAUC,MAAV,GAAmBkB,eAAepB,SAAf,CAAnB;EACD;;EAED1P,MAAI2P,KAAJ,CAAU4B,UAAV,GAAuBvR,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB/c,IAAlB,GAAyBK,KAAhD;EACAq4C,MAAI2P,KAAJ,CAAU6B,WAAV,GAAwBxR,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB3d,GAAnB,GAAyBnP,MAAjD;;EAEA,SAAOkd,GAAP;EACD,CAzCD;;EA2CA,IAAIyR,UAAU,SAASA,OAAT,GAAmB;EAC7B,SAAO;EACH;EACA9B,WAAO;EACHvqC,YAAM,IADH;EAEHf,aAAO,IAFJ;EAGHurC,cAAQ,IAHL;EAIH8B,iBAAW,IAJR;EAKH7B,cAAQ;EACJvoD,cAAM,CADF;EAEJK,eAAO,CAFH;EAGJsqC,aAAK,CAHD;EAIJnP,gBAAQ;EAJJ,OALL;EAWH6uB,kBAAY;EACRr5C,eAAO,IADC;EAERmB,iBAAS;EAFD;EAXT,KAFJ;EAkBHm4C,eAAW;EACPC,eAAS,IADF;EAEPC,gBAAU;EACN9lD,aAAK,GADC;EAENy7B,gBAAQ,IAFF;EAGNx8B,gBAAQ,GAHF;EAINqN,eAAO,GAJD;EAKNy5C,iBAAS,CALH;EAMNC,qBAAa;EANP;EAFH,KAlBR;EA6BHC,YAAQ;EACJlC,cAAQ,IADJ;EAEJtoB,cAAQ,IAFJ;EAGJyqB,iBAAW,IAHP;EAIJC,eAAS,IAJL;EAKJC,kBAAY,IALR;EAMJppB,iBAAW;EANP,KA7BL;EAqCH1wB,WAAO;EACHsf,cAAQ,EADL;EAEHxS,YAAM,EAFH;EAGHitC,cAAQ;EAHL,KArCJ;EA0CHC,WAAO,EA1CJ;EA2CHP,aAAS;EACLL,iBAAW,IADN;EAELG,eAAS,IAFJ;EAGLC,gBAAU,GAHL;EAILtpC,cAAQ,CAAC,EAAD,EAAK,EAAL,CAJH;EAKL+pC,iBAAW,SAASA,SAAT,GAAqB;EAL3B,KA3CN;EAkDHrxB,UAAM,EAlDH;;EAoDH;EACAsxB,WAAO;EACHX,eAAS,KADN;EAEHthB,YAAM,IAFH;EAGHhwB,aAAO,EAHJ;EAIHpT,aAAO;EAJJ,KArDJ;;EA4DHslD,YAAQ;EACJZ,eAAS;EADL;EA5DL,GAAP;EAgEH,CAjED;;EAmEA,IAAIa,eAAe,SAASA,YAAT,GAAwB;EACzC,OAAK,IAAIC,OAAOrqD,UAAUlB,MAArB,EAA6BwrD,OAAOhqD,MAAM+pD,IAAN,CAApC,EAAiDE,OAAO,CAA7D,EAAgEA,OAAOF,IAAvE,EAA6EE,MAA7E,EAAqF;EACnFD,SAAKC,IAAL,IAAavqD,UAAUuqD,IAAV,CAAb;EACD;;EAED,MAAIC,OAAO/kD,OAAOkhD,MAAP,CAAc,EAAd,EAAkBwC,SAAlB,CAAX;;EAEA,MAAIjD,4BAA4B,IAAhC;EACA,MAAIC,oBAAoB,KAAxB;EACA,MAAIC,iBAAiB7hD,SAArB;;EAEA,MAAI;EACF,SAAK,IAAI8hD,YAAYiE,KAAKvgB,OAAOE,QAAZ,GAAhB,EAAyCqc,KAA9C,EAAqD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAArD,EAAqHL,4BAA4B,IAAjJ,EAAuJ;EACrJ,UAAI3iD,IAAI+iD,MAAM5jD,KAAd;;EAEAmkD,gBAAQ2D,IAAR,EAAcjnD,CAAd;EACD;EACF,GAND,CAME,OAAOijD,GAAP,EAAY;EACZL,wBAAoB,IAApB;EACAC,qBAAiBI,GAAjB;EACD,GATD,SASU;EACR,QAAI;EACF,UAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,kBAAUI,MAAV;EACD;EACF,KAJD,SAIU;EACR,UAAIN,iBAAJ,EAAuB;EACrB,cAAMC,cAAN;EACD;EACF;EACF;;EAED,SAAOoE,IAAP;EACD,CAjCD;;EAmCA,IAAIC,sBAAsB;EACtBC,YAAU;EADY,CAA1B;;EAIA,IAAIC,UAAU,SAASA,OAAT,CAAiBC,OAAjB,EAA0BC,QAA1B,EAAoC;EAC9C,MAAInT,MAAMmT,SAASnT,GAAnB;;EAGA,MAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;EAC3B,WAAOA,IAAIkT,OAAJ,CAAP;EACH,GAFD,MAEO,IAAItqD,MAAMgD,OAAN,CAAco0C,GAAd,CAAJ,EAAwB;EAC3B,WAAO0S,aAAap5B,KAAb,CAAmBzsB,SAAnB,EAA8B4lC,oBAAkBuN,GAAlB,EAAuBloB,MAAvB,CAA8B,CAACo7B,OAAD,CAA9B,CAA9B,CAAP;EACH,GAFM,MAEA;EACH,WAAOR,aAAa1S,GAAb,EAAkBkT,OAAlB,CAAP;EACH;EACJ,CAXD;;EAaA,IAAIE,YAAY,SAASA,SAAT,CAAmB3D,WAAnB,EAAgCzP,GAAhC,EAAqCqT,SAArC,EAAgD;EAC5D,SAAO;EACHC,mBAAe9C,UADZ;EAEH+C,SAAKhD,MAFF;EAGHhQ,gBAAY5nB,SAAS5qB,OAAO/D,MAAP,CAAc+oD,mBAAd,CAAT,CAHT;EAIHtS,cAAUyQ,qBAAqBzB,WAArB,EAAkCwD,QAAQjT,GAAR,EAAaqT,SAAb,CAAlC,CAJP;EAKH9W,WAAO,EALJ;EAMHc,YAAQ,IANL;EAOH6S,gBAAY,IAPT;EAQHD,kBAAcR,WARX;EASHF,gBAAY8D;EATT,GAAP;EAWH,CAZD;;EAoBA,IAAIG,cAAc,SAASC,YAAT,CAAsBnT,KAAtB,EAA6B;EAC7C,SAAO;EACLyP,YAAQ,SAASA,MAAT,CAAgB7uB,IAAhB,EAAsB;EAC5B4uB,gBAAUxP,KAAV,EAAiByP,MAAjB,CAAwB7uB,IAAxB;;EAEA,UAAIwuB,YAAYpP,MAAM4P,UAAtB;EAAA,UACIT,cAAcnP,MAAM2P,YADxB;EAAA,UAEIyD,gBAAgBpT,MAAMqT,cAF1B;EAAA,UAGIC,iBAAiBtT,MAAMuT,eAH3B;EAAA,UAIIjB,OAAOtS,MAAMG,QAJjB;;EAOAiP,gBAAUnvC,KAAV,CAAgB,UAAhB,EAA4B,UAA5B,EAAwCA,KAAxC,CAA8C,gBAA9C,EAAgE,MAAhE;;EAEA,UAAIuzC,oBAAoBztB,OAAOopB,WAAP,EAAoB5e,MAApB,CAA2B,iBAA3B,CAAxB;EACA,UAAIkjB,mBAAmBvlB,OAAOulB,gBAAP,IAA2B,CAAlD;EACA,UAAIC,cAAc3tB,OAAOopB,WAAP,EAAoB5e,MAApB,CAA2B,QAA3B,EAAqCZ,IAArC,CAA0C,IAA1C,EAAgDyjB,aAAhD,EAA+DnzC,KAA/D,CAAqE,UAArE,EAAiF,UAAjF,EAA6FA,KAA7F,CAAmG,SAAnG,EAA8G,OAA9G,EAAuHA,KAAvH,CAA6H,OAA7H,EAAsIqyC,KAAKjD,KAAL,CAAW4B,UAAX,GAAwB,IAA9J,EAAoKhxC,KAApK,CAA0K,QAA1K,EAAoLqyC,KAAKjD,KAAL,CAAW6B,WAAX,GAAyB,IAA7M,EAAmNjxC,KAAnN,CAAyN,QAAzN,EAAmOqyC,KAAKjD,KAAL,CAAWE,MAAX,CAAkB5d,GAAlB,GAAwB,SAAxB,GAAoC2gB,KAAKjD,KAAL,CAAWE,MAAX,CAAkBvoD,IAAtD,GAA6D,KAAhS,EAAuS2oC,IAAvS,CAA4S,OAA5S,EAAqT2iB,KAAKjD,KAAL,CAAW4B,UAAX,GAAwBwC,gBAA7U,EAA+V9jB,IAA/V,CAAoW,QAApW,EAA8W2iB,KAAKjD,KAAL,CAAW6B,WAAX,GAAyBuC,gBAAvY,CAAlB;;EAEA,UAAIE,eAAe5tB,OAAOopB,WAAP,EAAoB5e,MAApB,CAA2B,QAA3B,EAAqCZ,IAArC,CAA0C,IAA1C,EAAgD2jB,cAAhD,EAAgErzC,KAAhE,CAAsE,UAAtE,EAAkF,UAAlF,EAA8FA,KAA9F,CAAoG,SAApG,EAA+G,MAA/G,EAAuHA,KAAvH,CAA6H,OAA7H,EAAsIqyC,KAAKjD,KAAL,CAAW4B,UAAX,GAAwB,IAA9J,EAAoKhxC,KAApK,CAA0K,QAA1K,EAAoLqyC,KAAKjD,KAAL,CAAW6B,WAAX,GAAyB,IAA7M,EAAmNjxC,KAAnN,CAAyN,QAAzN,EAAmOqyC,KAAKjD,KAAL,CAAWE,MAAX,CAAkB5d,GAAlB,GAAwB,SAAxB,GAAoC2gB,KAAKjD,KAAL,CAAWE,MAAX,CAAkBvoD,IAAtD,GAA6D,KAAhS,EAAuS2oC,IAAvS,CAA4S,OAA5S,EAAqT2iB,KAAKjD,KAAL,CAAW4B,UAAX,GAAwBwC,gBAA7U,EAA+V9jB,IAA/V,CAAoW,QAApW,EAA8W2iB,KAAKjD,KAAL,CAAW6B,WAAX,GAAyBuC,gBAAvY,CAAnB;;EAEA,UAAIG,gBAAgBD,aAAax6B,IAAb,GAAoB06B,UAApB,CAA+B,IAA/B,CAApB;EACA,UAAIC,eAAeJ,YAAYv6B,IAAZ,GAAmB06B,UAAnB,CAA8B,IAA9B,CAAnB;;EAEAD,oBAAcG,wBAAd,GAAyC,KAAzC;EACAH,oBAAcI,2BAAd,GAA4C,KAA5C;EACAJ,oBAAcK,uBAAd,GAAwC,KAAxC;EACAL,oBAAcM,qBAAd,GAAsC,KAAtC;;EAEA,UAAIC,oBAAoBL,aAAaM,4BAAb,IAA6CN,aAAaO,yBAA1D,IAAuFP,aAAaQ,wBAApG,IAAgIR,aAAaS,uBAA7I,IAAwKT,aAAaU,sBAArL,IAA+M,CAAvO;;EAEA,UAAIC,QAAQhB,mBAAmBU,iBAA/B;EACA,UAAIO,cAAcD,KAAlB;EACAX,mBAAa3nD,KAAb,CAAmBsoD,KAAnB,EAA0BA,KAA1B;EACAb,oBAAcznD,KAAd,CAAoBsoD,KAApB,EAA2BA,KAA3B;;EAEAzU,YAAM2U,YAAN,GAAqBjB,WAArB;EACA1T,YAAM4U,aAAN,GAAsBjB,YAAtB;EACA3T,YAAM6U,aAAN,GAAsBf,YAAtB;EACA9T,YAAM8U,cAAN,GAAuBlB,aAAvB;EACA5T,YAAM+U,YAAN,GAAqBL,WAArB;EACA1U,YAAMgV,kBAAN,GAA2BxB,iBAA3B;EACD;EAxCI,GAAP;EA0CD,CA3CD;;EA6CA,IAAIyB,WAAW,SAASA,QAAT,CAAkBC,OAAlB,EAA2Bl5B,IAA3B,EAAiC;EAC9C,MAAI,CAACA,IAAL,EAAW,OAAO,KAAP;EACXk5B,UAAQC,MAAR,CAAen5B,KAAK,CAAL,EAAQ,CAAR,CAAf,EAA2BA,KAAK,CAAL,EAAQ,CAAR,CAA3B;EACA,OAAK,IAAInZ,IAAI,CAAR,EAAWvK,IAAI0jB,KAAKl1B,MAAzB,EAAiC+b,IAAIvK,CAArC,EAAwC,EAAEuK,CAA1C,EAA6C;EAC3CqyC,YAAQE,MAAR,CAAep5B,KAAKnZ,CAAL,EAAQ,CAAR,CAAf,EAA2BmZ,KAAKnZ,CAAL,EAAQ,CAAR,CAA3B;EACD;EACDqyC,UAAQG,SAAR;EACA,SAAO,IAAP;EACD,CARD;;EAUA,IAAIC,cAAc,SAASA,WAAT,CAAqBJ,OAArB,EAA8BK,OAA9B,EAAuCv9C,QAAvC,EAA8C;EAC9Dk9C,UAAQM,IAAR;EACA,MAAI90B,WAAW60B,QAAQ70B,QAAR,EAAf;;EAEAw0B,UAAQO,SAAR;EACAP,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQS,WAAR,GAAsB39C,QAAtB;EACA,MAAIk2C,4BAA4B,IAAhC;EACA,MAAIC,oBAAoB,KAAxB;EACA,MAAIC,iBAAiB7hD,SAArB;;EAEA,MAAI;EACF,SAAK,IAAI8hD,YAAY3tB,SAASqR,OAAOE,QAAhB,GAAhB,EAA6Cqc,KAAlD,EAAyD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAAzD,EAAyHL,4BAA4B,IAArJ,EAA2J;EACzJ,UAAIvkD,IAAI2kD,MAAM5jD,KAAd;;EAEAuqD,eAASC,OAAT,EAAkBvrD,CAAlB;EACD;EACF,GAND,CAME,OAAO6kD,GAAP,EAAY;EACZL,wBAAoB,IAApB;EACAC,qBAAiBI,GAAjB;EACD,GATD,SASU;EACR,QAAI;EACF,UAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,kBAAUI,MAAV;EACD;EACF,KAJD,SAIU;EACR,UAAIN,iBAAJ,EAAuB;EACrB,cAAMC,cAAN;EACD;EACF;EACF;;EAED8G,UAAQU,MAAR;EACAV,UAAQG,SAAR;EACAH,UAAQW,OAAR;EACD,CAnCD;;EAqCA,IAAIC,eAAe,SAASA,YAAT,CAAsBZ,OAAtB,EAA+BxV,GAA/B,EAAoCqW,UAApC,EAAgD;EACjE,MAAIC,iBAAiBr0B,UAAU16B,CAAV,CAAY,UAAUM,CAAV,EAAa;EAC5C,WAAOA,EAAEN,CAAT;EACD,GAFoB,EAElBgU,CAFkB,CAEhB,UAAU1T,CAAV,EAAa;EAChB,WAAOA,EAAE0T,CAAT;EACD,GAJoB,EAIlBwlB,MAJkB,CAIX,CAAC,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAD,EAAW,CAACy0B,QAAQe,MAAR,CAAelyC,KAAf,GAAuB,CAAxB,EAA2BmxC,QAAQe,MAAR,CAAe3G,MAAf,GAAwB,CAAnD,CAAX,CAJW,CAArB;;EAMA,SAAO0G,eAAeD,UAAf,CAAP;EACD,CARD;;EAUA;;;;;;EAMA,IAAIG,kBAAkB,SAASA,eAAT,CAAyBC,WAAzB,EAAsC;EAC1D,MAAI1yB,QAAQ,EAAZ;EACA0yB,cAAYvzB,KAAZ,CAAkB,UAAUzJ,IAAV,EAAgB7R,EAAhB,EAAoBoT,EAApB,EAAwBnT,EAAxB,EAA4BoT,EAA5B,EAAgC;EAChDxB,SAAK7R,EAAL,GAAUA,EAAV,EAAc6R,KAAKuB,EAAL,GAAUA,EAAxB;EACAvB,SAAK5R,EAAL,GAAUA,EAAV,EAAc4R,KAAKwB,EAAL,GAAUA,EAAxB;EACA8I,UAAM14B,IAAN,CAAWouB,IAAX;EACD,GAJD;EAKA,SAAOsK,KAAP;EACD,CARD;;EAUA,IAAI2yB,eAAe,SAASA,YAAT,CAAsBlB,OAAtB,EAA+BK,OAA/B,EAAwCv9C,QAAxC,EAA+C;EAChEk9C,UAAQM,IAAR;EACA,MAAIa,QAAQH,gBAAgBX,OAAhB,CAAZ;;EAEAL,UAAQO,SAAR;EACAP,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQS,WAAR,GAAsB39C,QAAtB;EACA,MAAIk2C,4BAA4B,IAAhC;EACA,MAAIC,oBAAoB,KAAxB;EACA,MAAIC,iBAAiB7hD,SAArB;;EAEA,MAAI;EACF,SAAK,IAAI8hD,YAAYgI,MAAMtkB,OAAOE,QAAb,GAAhB,EAA0Cqc,KAA/C,EAAsD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAAtD,EAAsHL,4BAA4B,IAAlJ,EAAwJ;EACtJ,UAAIl1C,IAAIs1C,MAAM5jD,KAAd;;EAEAwqD,cAAQoB,UAAR,CAAmBt9C,EAAEsO,EAArB,EAAyBtO,EAAE0hB,EAA3B,EAA+B1hB,EAAEuO,EAAF,GAAOvO,EAAEsO,EAAxC,EAA4CtO,EAAE2hB,EAAF,GAAO3hB,EAAE0hB,EAArD;EACD;EACF,GAND,CAME,OAAO8zB,GAAP,EAAY;EACZL,wBAAoB,IAApB;EACAC,qBAAiBI,GAAjB;EACD,GATD,SASU;EACR,QAAI;EACF,UAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,kBAAUI,MAAV;EACD;EACF,KAJD,SAIU;EACR,UAAIN,iBAAJ,EAAuB;EACrB,cAAMC,cAAN;EACD;EACF;EACF;;EAED8G,UAAQU,MAAR;EACAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CApCD;;EA8CA;;;;;;;;;;;;;;EAcA,IAAIU,mBAAmB,SAASA,gBAAT,CAA0BC,GAA1B,EAA+BvmB,IAA/B,EAAqCwmB,QAArC,EAA+CC,SAA/C,EAA0D1+C,QAA1D,EAAiE2+C,OAAjE,EAA0EC,OAA1E,EAAmFx1B,MAAnF,EAA2Fy1B,UAA3F,EAAuGC,OAAvG,EAAgH;EACrI;EACAN,MAAIO,YAAJ,GAAmB,YAAnB;EACAP,MAAIQ,SAAJ,GAAgB,QAAhB,CAHqI;EAIrIR,MAAIS,IAAJ,GAAWR,WAAW,KAAX,GAAmBC,SAA9B;EACAF,MAAIU,SAAJ,GAAgBl/C,QAAhB;;EAEA;EACAi4B,SAAOA,KAAK1vB,KAAL,CAAW,EAAX,EAAe3X,OAAf,GAAyB8V,IAAzB,CAA8B,EAA9B,CAAP,CARqI;;EAUrI;EACA,OAAK,IAAImE,IAAI,CAAb,EAAgBA,IAAIotB,KAAKnpC,MAAzB,EAAiC+b,GAAjC,EAAsC;EACpC,QAAIs0C,UAAUX,IAAIY,WAAJ,CAAgBnnB,KAAKptB,CAAL,CAAhB,EAAyBkB,KAAvC;EACA8yC,kBAAc,CAACM,WAAWt0C,MAAMotB,KAAKnpC,MAAL,GAAc,CAApB,GAAwB,CAAxB,GAA4BgwD,OAAvC,CAAD,IAAoD11B,MAApD,GAA6D,CAA3E;EACD,GAdoI;;EAgBrIo1B,MAAIhB,IAAJ,GAhBqI;EAiBrIgB,MAAIn1C,SAAJ,CAAcs1C,OAAd,EAAuBC,OAAvB,EAjBqI;EAkBrIJ,MAAIt3C,MAAJ,CAAW23C,UAAX,EAlBqI;;EAoBrI;EACA,OAAK,IAAIQ,KAAK,CAAd,EAAiBA,KAAKpnB,KAAKnpC,MAA3B,EAAmCuwD,IAAnC,EAAyC;EACvC,QAAIC,WAAWd,IAAIY,WAAJ,CAAgBnnB,KAAKonB,EAAL,CAAhB,EAA0BtzC,KAA1B,GAAkC,CAAjD,CADuC;EAEvC;EACAyyC,QAAIt3C,MAAJ,CAAW,CAACo4C,QAAD,GAAYl2B,MAAvB;EACA;EACAo1B,QAAIe,QAAJ,CAAatnB,KAAKonB,EAAL,CAAb,EAAuB,CAAvB,EAA0B,CAACj2B,MAA3B;EACA;EACAo1B,QAAIt3C,MAAJ,CAAW,EAAEo4C,WAAWR,OAAb,IAAwB11B,MAAnC;EACD,GA7BoI;;EA+BrIo1B,MAAIX,OAAJ,GA/BqI;EAgCtI,CAhCD;;EAkCA;;;;;;;EAOA,IAAI2B,kBAAkB,SAASA,eAAT,CAAyBC,SAAzB,EAAoC;EACxD,MAAIC,MAAM,EAAV;EACA,MAAID,YAAY,QAAhB,EAA0B;EACxBC,QAAI3sD,IAAJ,CAAS0sD,YAAY,IAArB,EADwB;EAExBC,QAAI3sD,IAAJ,CAAS,CAAC0sD,YAAY,MAAb,KAAwB,CAAjC,EAFwB;EAGxBC,QAAI3sD,IAAJ,CAAS,CAAC0sD,YAAY,QAAb,KAA0B,EAAnC,EAHwB;EAIzB;EACD,SAAO,SAASC,IAAIh5C,IAAJ,CAAS,GAAT,CAAT,GAAyB,GAAhC;EACD,CARD;;EAUA;;;;;;;EAOA,IAAIi5C,iBAAiB,SAASA,cAAT,CAAwBzC,OAAxB,EAAiC59B,SAAjC,EAAyCne,OAAzC,EAAkDw9C,OAAlD,EAA2DC,OAA3D,EAAoEgB,WAApE,EAAiFC,WAAjF,EAA8F;EACjH,MAAIC,MAAM5C,QAAQ6C,oBAAR,CAA6BpB,OAA7B,EAAsCC,OAAtC,EAA+CgB,WAA/C,EAA4DjB,OAA5D,EAAqEC,OAArE,EAA8EiB,WAA9E,CAAV;;EAEA,MAAIG,QAAQ/f,YAAY3gB,SAAZ,EAAoBne,OAApB,CAAZ;EACA,MAAI+0C,4BAA4B,IAAhC;EACA,MAAIC,oBAAoB,KAAxB;EACA,MAAIC,iBAAiB7hD,SAArB;;EAEA,MAAI;EACF,SAAK,IAAI8hD,YAAY2J,MAAMjmB,OAAOE,QAAb,GAAhB,EAA0Cqc,KAA/C,EAAsD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAAtD,EAAsHL,4BAA4B,IAAlJ,EAAwJ;EACtJ,UAAI+J,QAAQ3J,MAAM5jD,KAAlB;EACA,UAAIwd,SAAS+vC,MAAM/vC,MAAnB;EAAA,UACIlQ,WAAQigD,MAAMjgD,KADlB;;EAGA8/C,UAAII,YAAJ,CAAiBhwC,MAAjB,EAAyBlQ,QAAzB;EACD;EACF,GARD,CAQE,OAAOw2C,GAAP,EAAY;EACZL,wBAAoB,IAApB;EACAC,qBAAiBI,GAAjB;EACD,GAXD,SAWU;EACR,QAAI;EACF,UAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,kBAAUI,MAAV;EACD;EACF,KAJD,SAIU;EACR,UAAIN,iBAAJ,EAAuB;EACrB,cAAMC,cAAN;EACD;EACF;EACF;;EAED,SAAO0J,GAAP;EACD,CAhCD;;EAkCA;;;;;;;EAOA,IAAIK,mBAAmB,SAASA,gBAAT,CAA0BjD,OAA1B,EAAmC59B,SAAnC,EAA2C;EAChE,MAAIne,UAAUnR,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,CAAlF;;EAEA,MAAI8vD,MAAM5C,QAAQkD,oBAAR,CAA6BlD,QAAQe,MAAR,CAAeoC,WAAf,GAA6B,CAA1D,EAA6DnD,QAAQe,MAAR,CAAeqC,YAA5E,EAA0FpD,QAAQe,MAAR,CAAeoC,WAAf,GAA6B,CAAvH,EAA0H,CAA1H,CAAV;;EAEA,MAAIL,QAAQ/f,YAAY3gB,SAAZ,CAAZ;;EAEA,MAAI42B,4BAA4B,IAAhC;EACA,MAAIC,oBAAoB,KAAxB;EACA,MAAIC,iBAAiB7hD,SAArB;;EAEA,MAAI;EACF,SAAK,IAAI8hD,YAAY2J,MAAMjmB,OAAOE,QAAb,GAAhB,EAA0Cqc,KAA/C,EAAsD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAUt0B,IAAV,EAAT,EAA2Bw0B,IAAzD,CAAtD,EAAsHL,4BAA4B,IAAlJ,EAAwJ;EACtJ,UAAI+J,QAAQ3J,MAAM5jD,KAAlB;EACA,UAAIwd,SAAS+vC,MAAM/vC,MAAnB;EAAA,UACIlQ,WAAQigD,MAAMjgD,KADlB;;EAGA,UAAImB,UAAU,CAAd,EAAiB;EACf,YAAIo/C,WAAW5+C,IAAI3B,QAAJ,CAAf;EACAugD,iBAASp/C,OAAT,GAAmBA,OAAnB;EACA2+C,YAAII,YAAJ,CAAiBhwC,MAAjB,EAAyBqwC,QAAzB;EACD,OAJD,MAIO;EACLT,YAAII,YAAJ,CAAiBhwC,MAAjB,EAAyBlQ,QAAzB;EACD;EACF;EACF,GAdD,CAcE,OAAOw2C,GAAP,EAAY;EACZL,wBAAoB,IAApB;EACAC,qBAAiBI,GAAjB;EACD,GAjBD,SAiBU;EACR,QAAI;EACF,UAAI,CAACN,yBAAD,IAA8BG,UAAUI,MAA5C,EAAoD;EAClDJ,kBAAUI,MAAV;EACD;EACF,KAJD,SAIU;EACR,UAAIN,iBAAJ,EAAuB;EACrB,cAAMC,cAAN;EACD;EACF;EACF;;EAED,SAAO0J,GAAP;EACD,CAzCD;;EA2CA,IAAIU,mBAAmB,SAASA,gBAAT,CAA0BxY,KAA1B,EAAiC;EACtD,SAAO;EACLyY,mBAAe,SAASA,aAAT,GAAyB;EACtC,UAAIzgD,WAAQhQ,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,SAAhF;;EAEA,UAAI,CAACg4C,MAAMjnC,cAAN,CAAqBinC,KAArB,EAA4B,UAA5B,CAAL,EAA8C;EAC5CzH,gBAAQnvC,KAAR,CAAc,iCAAd;EACA;EACD;;EAEDksD,kBAAYtV,MAAM6U,aAAlB,EAAiC7U,MAAM0Y,QAAvC,EAAiD1gD,QAAjD;EACD;EAVI,GAAP;EAYD,CAbD;;EAeA,IAAI2gD,oBAAoB,SAASA,iBAAT,CAA2B3Y,KAA3B,EAAkC;EACxD,SAAO;EACL4Y,oBAAgB,SAASA,cAAT,GAA0B;EACxC,UAAI5gD,WAAQhQ,UAAUlB,MAAV,GAAmB,CAAnB,IAAwBkB,UAAU,CAAV,MAAiBuE,SAAzC,GAAqDvE,UAAU,CAAV,CAArD,GAAoE,SAAhF;;EAEA,UAAI,CAACg4C,MAAMjnC,cAAN,CAAqBinC,KAArB,EAA4B,WAA5B,CAAL,EAA+C;EAC7CzH,gBAAQnvC,KAAR,CAAc,kCAAd;EACA;EACD;;EAEDgtD,mBAAapW,MAAM6U,aAAnB,EAAkC7U,MAAM6Y,SAAxC,EAAmD7gD,QAAnD;EACD;EAVI,GAAP;EAYD,CAbD;;EAeA,IAAI8gD,cAAc,SAASA,WAAT,GAAuB;EACvC,SAAO;EACLvF,qBAAiB,kBAAkBtD,MAD9B;EAELoD,oBAAgB,kBAAkBpD,MAF7B;EAGL0E,kBAAc,IAHT;EAILC,mBAAe,IAJV;EAKLC,mBAAe,IALV;EAMLC,oBAAgB,IANX;EAOLE,wBAAoB,IAPf;EAQL0D,cAAU,IARL;EASLG,eAAW,IATN;EAULE,qBAAiB;EAVZ,GAAP;EAYD,CAbD;;EAeA,IAAIC,cAAc,SAASA,WAAT,CAAqB7J,WAArB,EAAkCzP,GAAlC,EAAuCqT,SAAvC,EAAkD;EAClE,MAAIP,OAAOM,UAAU3D,WAAV,EAAuBzP,GAAvB,EAA4BG,cAAckT,SAAd,CAA5B,CAAX;EACA,MAAI/S,QAAQvyC,OAAOkhD,MAAP,CAAc6D,IAAd,EAAoBsG,aAApB,CAAZ;;EAEA,SAAOrrD,OAAOkhD,MAAP,CAAc3O,KAAd,EAAqBD,MAAMC,KAAN,CAArB,EAAmCE,SAASF,KAAT,CAAnC,EAAoD8O,WAAW9O,KAAX,CAApD,EAAuEgP,QAAQhP,KAAR,CAAvE,EAAuFwY,iBAAiBxY,KAAjB,CAAvF,EAAgH2Y,kBAAkB3Y,KAAlB,CAAhH,EAA0IkT,YAAYlT,KAAZ,CAA1I,EAA8J8P,UAAU9P,KAAV,CAA9J,CAAP;EACD,CALD;;EAgIA,IAAIiZ,cAAc,SAASA,WAAT,CAAqBn+C,CAArB,EAAwBo+C,KAAxB,EAA+B;EAC/C,MAAIC,gBAAgBx/C,IAAImB,CAAJ,CAApB;EACAq+C,gBAAchgD,OAAd,GAAwB+/C,KAAxB;;EAEA,SAAOC,aAAP;EACD,CALD;;EC9hIO,IAAInuD,UAAQ1C,MAAM6B,SAAN,CAAgBa,KAA5B;;ECAQ,qBAAS/D,CAAT,EAAY;EACzB,SAAOA,CAAP;EACD;;ECCD,IAAI0qC,MAAM,CAAV;EAAA,IACItqC,QAAQ,CADZ;EAAA,IAEIm7B,SAAS,CAFb;EAAA,IAGIx7B,OAAO,CAHX;EAAA,IAII40B,YAAU,IAJd;;EAMA,SAAS5c,UAAT,CAAoB/X,CAApB,EAAuB;EACrB,SAAO,gBAAgBA,IAAI,GAApB,IAA2B,KAAlC;EACD;;EAED,SAASgY,UAAT,CAAoBhE,CAApB,EAAuB;EACrB,SAAO,kBAAkBA,IAAI,GAAtB,IAA6B,GAApC;EACD;;EAED,SAASpR,QAAT,CAAgBsC,KAAhB,EAAuB;EACrB,SAAO,UAAS5E,CAAT,EAAY;EACjB,WAAO,CAAC4E,MAAM5E,CAAN,CAAR;EACD,GAFD;EAGD;;EAED,SAAS6xD,MAAT,CAAgBjtD,KAAhB,EAAuB;EACrB,MAAI+b,SAAShgB,KAAKC,GAAL,CAAS,CAAT,EAAYgE,MAAMM,SAAN,KAAoB,CAAhC,IAAqC,CAAlD,CADqB;EAErB,MAAIN,MAAMO,KAAN,EAAJ,EAAmBwb,SAAShgB,KAAKwE,KAAL,CAAWwb,MAAX,CAAT;EACnB,SAAO,UAAS3gB,CAAT,EAAY;EACjB,WAAO,CAAC4E,MAAM5E,CAAN,CAAD,GAAY2gB,MAAnB;EACD,GAFD;EAGD;;EAED,SAASmxC,QAAT,GAAoB;EAClB,SAAO,CAAC,KAAKC,MAAb;EACD;;EAED,SAASC,IAAT,CAAcC,MAAd,EAAsBrtD,KAAtB,EAA6B;EAC3B,MAAIstD,gBAAgB,EAApB;EAAA,MACIC,aAAa,IADjB;EAAA,MAEIvyC,aAAa,IAFjB;EAAA,MAGIwyC,gBAAgB,CAHpB;EAAA,MAIIC,gBAAgB,CAJpB;EAAA,MAKIC,cAAc,CALlB;EAAA,MAMIzgD,IAAIogD,WAAW7nB,GAAX,IAAkB6nB,WAAWxyD,IAA7B,GAAoC,CAAC,CAArC,GAAyC,CANjD;EAAA,MAOIC,IAAIuyD,WAAWxyD,IAAX,IAAmBwyD,WAAWnyD,KAA9B,GAAsC,GAAtC,GAA4C,GAPpD;EAAA,MAQI6Y,YAAYs5C,WAAW7nB,GAAX,IAAkB6nB,WAAWh3B,MAA7B,GAAsCxjB,UAAtC,GAAmDC,UARnE;;EAUA,WAASs6C,IAAT,CAAcrE,OAAd,EAAuB;EACrB,QAAIxrD,SAASgwD,cAAc,IAAd,GAAsBvtD,MAAMtD,KAAN,GAAcsD,MAAMtD,KAAN,CAAYmwB,KAAZ,CAAkB7sB,KAAlB,EAAyBstD,aAAzB,CAAd,GAAwDttD,MAAMH,MAAN,EAA9E,GAAgG0tD,UAA7G;EAAA,QACIrhD,SAAS8O,cAAc,IAAd,GAAsBhb,MAAMgb,UAAN,GAAmBhb,MAAMgb,UAAN,CAAiB6R,KAAjB,CAAuB7sB,KAAvB,EAA8BstD,aAA9B,CAAnB,GAAkE16C,UAAxF,GAAoGoI,UADjH;EAAA,QAEI2yC,UAAU5xD,KAAKC,GAAL,CAASwxD,aAAT,EAAwB,CAAxB,IAA6BE,WAF3C;EAAA,QAGIxxD,QAAQ8D,MAAM9D,KAAN,EAHZ;EAAA,QAII0xD,SAAS,CAAC1xD,MAAM,CAAN,CAAD,GAAY,GAJzB;EAAA,QAKI2xD,SAAS,CAAC3xD,MAAMA,MAAMvB,MAAN,GAAe,CAArB,CAAD,GAA2B,GALxC;EAAA,QAMImzD,WAAW,CAAC9tD,MAAMM,SAAN,GAAkB2sD,MAAlB,GAA2BvvD,QAA5B,EAAoCsC,MAAME,IAAN,EAApC,CANf;EAAA,QAOIq8B,YAAYwsB,QAAQxsB,SAAR,GAAoBwsB,QAAQxsB,SAAR,EAApB,GAA0CwsB,OAP1D;EAAA,QAQIgF,OAAOxxB,UAAUkG,SAAV,CAAoB,SAApB,EAA+BhO,IAA/B,CAAoC,CAAC,IAAD,CAApC,CARX;EAAA,QASIu5B,OAAOzxB,UAAUkG,SAAV,CAAoB,OAApB,EAA6BhO,IAA7B,CAAkCl3B,MAAlC,EAA0CyC,KAA1C,EAAiDo9B,KAAjD,EATX;EAAA,QAUI6wB,WAAWD,KAAKryB,IAAL,EAVf;EAAA,QAWIuyB,YAAYF,KAAKtyB,KAAL,GAAa0I,MAAb,CAAoB,GAApB,EAAyBZ,IAAzB,CAA8B,OAA9B,EAAuC,MAAvC,CAXhB;EAAA,QAYI2qB,OAAOH,KAAKp0B,MAAL,CAAY,MAAZ,CAZX;EAAA,QAaIkK,OAAOkqB,KAAKp0B,MAAL,CAAY,MAAZ,CAbX;;EAeAm0B,WAAOA,KAAKjxB,KAAL,CAAWixB,KAAKryB,KAAL,GAAatO,MAAb,CAAoB,MAApB,EAA4B,OAA5B,EACboW,IADa,CACR,OADQ,EACC,QADD,EAEbA,IAFa,CAER,QAFQ,EAEE,cAFF,CAAX,CAAP;;EAIAwqB,WAAOA,KAAKlxB,KAAL,CAAWoxB,SAAX,CAAP;;EAEAC,WAAOA,KAAKrxB,KAAL,CAAWoxB,UAAU9pB,MAAV,CAAiB,MAAjB,EACbZ,IADa,CACR,QADQ,EACE,cADF,EAEbA,IAFa,CAER1oC,IAAI,GAFI,EAECmS,IAAIugD,aAFL,CAAX,CAAP;;EAIA1pB,WAAOA,KAAKhH,KAAL,CAAWoxB,UAAU9pB,MAAV,CAAiB,MAAjB,EACbZ,IADa,CACR,MADQ,EACA,cADA,EAEbA,IAFa,CAER1oC,CAFQ,EAELmS,IAAI0gD,OAFC,EAGbnqB,IAHa,CAGR,IAHQ,EAGF6pB,WAAW7nB,GAAX,GAAiB,KAAjB,GAAyB6nB,WAAWh3B,MAAX,GAAoB,QAApB,GAA+B,QAHtD,CAAX,CAAP;;EAKA,QAAI0yB,YAAYxsB,SAAhB,EAA2B;EACzBwxB,aAAOA,KAAKK,UAAL,CAAgBrF,OAAhB,CAAP;EACAiF,aAAOA,KAAKI,UAAL,CAAgBrF,OAAhB,CAAP;EACAoF,aAAOA,KAAKC,UAAL,CAAgBrF,OAAhB,CAAP;EACAjlB,aAAOA,KAAKsqB,UAAL,CAAgBrF,OAAhB,CAAP;;EAEAkF,iBAAWA,SAASG,UAAT,CAAoBrF,OAApB,EACNvlB,IADM,CACD,SADC,EACU/T,SADV,EAEN+T,IAFM,CAED,WAFC,EAEY,UAASpoC,CAAT,EAAY;EAAE,eAAOwB,SAASxB,IAAI0yD,SAAS1yD,CAAT,CAAb,IAA4B2Y,UAAU3Y,CAAV,CAA5B,GAA2C,KAAK2iC,YAAL,CAAkB,WAAlB,CAAlD;EAAmF,OAF7G,CAAX;;EAIAmwB,gBACK1qB,IADL,CACU,SADV,EACqB/T,SADrB,EAEK+T,IAFL,CAEU,WAFV,EAEuB,UAASpoC,CAAT,EAAY;EAAE,YAAIoC,IAAI,KAAKw/B,UAAL,CAAgBmwB,MAAxB,CAAgC,OAAOp5C,UAAUvW,KAAKZ,SAASY,IAAIA,EAAEpC,CAAF,CAAb,CAAL,GAA0BoC,CAA1B,GAA8BswD,SAAS1yD,CAAT,CAAxC,CAAP;EAA8D,OAFnI;EAGD;;EAED6yD,aAASzvD,MAAT;;EAEAuvD,SACKvqB,IADL,CACU,GADV,EACe6pB,WAAWxyD,IAAX,IAAmBwyD,UAAUnyD,KAA7B,GACJuyD,gBAAgB,MAAMxgD,IAAIwgD,aAAV,GAA0B,GAA1B,GAAgCG,MAAhC,GAAyC,OAAzC,GAAmDC,MAAnD,GAA4D,GAA5D,GAAkE5gD,IAAIwgD,aAAtF,GAAsG,UAAUG,MAAV,GAAmB,GAAnB,GAAyBC,MAD3H,GAEJJ,gBAAgB,MAAMG,MAAN,GAAe,GAAf,GAAqB3gD,IAAIwgD,aAAzB,GAAyC,OAAzC,GAAmDI,MAAnD,GAA4D,GAA5D,GAAkE5gD,IAAIwgD,aAAtF,GAAsG,MAAMG,MAAN,GAAe,OAAf,GAAyBC,MAH1I;;EAKAG,SACKxqB,IADL,CACU,SADV,EACqB,CADrB,EAEKA,IAFL,CAEU,WAFV,EAEuB,UAASpoC,CAAT,EAAY;EAAE,aAAO2Y,UAAU+5C,SAAS1yD,CAAT,CAAV,CAAP;EAAgC,KAFrE;;EAIA+yD,SACK3qB,IADL,CACU1oC,IAAI,GADd,EACmBmS,IAAIugD,aADvB;;EAGA1pB,SACKN,IADL,CACU1oC,CADV,EACamS,IAAI0gD,OADjB,EAEK7pB,IAFL,CAEU53B,MAFV;;EAIAqwB,cAAUtgB,MAAV,CAAiBixC,QAAjB,EACK1pB,IADL,CACU,MADV,EACkB,MADlB,EAEKA,IAFL,CAEU,WAFV,EAEuB,EAFvB,EAGKA,IAHL,CAGU,aAHV,EAGyB,YAHzB,EAIKA,IAJL,CAIU,aAJV,EAIyB6pB,WAAWnyD,KAAX,GAAmB,OAAnB,GAA6BmyD,WAAWxyD,IAAX,GAAkB,KAAlB,GAA0B,QAJhF;;EAMA0hC,cACKt9B,IADL,CACU,YAAW;EAAE,WAAKkuD,MAAL,GAAcW,QAAd;EAAyB,KADhD;EAED;;EAEDV,OAAKptD,KAAL,GAAa,UAASC,CAAT,EAAY;EACvB,WAAOpE,UAAUlB,MAAV,IAAoBqF,QAAQC,CAAR,EAAWmtD,IAA/B,IAAuCptD,KAA9C;EACD,GAFD;;EAIAotD,OAAK1wD,KAAL,GAAa,YAAW;EACtB,WAAO4wD,gBAAgBzuD,QAAMkB,IAAN,CAAWlE,SAAX,CAAhB,EAAuCuxD,IAA9C;EACD,GAFD;;EAIAA,OAAKE,aAAL,GAAqB,UAASrtD,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoB2yD,gBAAgBrtD,KAAK,IAAL,GAAY,EAAZ,GAAiBpB,QAAMkB,IAAN,CAAWE,CAAX,CAAjC,EAAgDmtD,IAApE,IAA4EE,cAAczuD,KAAd,EAAnF;EACD,GAFD;;EAIAuuD,OAAKG,UAAL,GAAkB,UAASttD,CAAT,EAAY;EAC5B,WAAOpE,UAAUlB,MAAV,IAAoB4yD,aAAattD,KAAK,IAAL,GAAY,IAAZ,GAAmBpB,QAAMkB,IAAN,CAAWE,CAAX,CAAhC,EAA+CmtD,IAAnE,IAA2EG,cAAcA,WAAW1uD,KAAX,EAAhG;EACD,GAFD;;EAIAuuD,OAAKpyC,UAAL,GAAkB,UAAS/a,CAAT,EAAY;EAC5B,WAAOpE,UAAUlB,MAAV,IAAoBqgB,aAAa/a,CAAb,EAAgBmtD,IAApC,IAA4CpyC,UAAnD;EACD,GAFD;;EAIAoyC,OAAKiB,QAAL,GAAgB,UAASpuD,CAAT,EAAY;EAC1B,WAAOpE,UAAUlB,MAAV,IAAoB6yD,gBAAgBC,gBAAgB,CAACxtD,CAAjC,EAAoCmtD,IAAxD,IAAgEI,aAAvE;EACD,GAFD;;EAIAJ,OAAKI,aAAL,GAAqB,UAASvtD,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoB6yD,gBAAgB,CAACvtD,CAAjB,EAAoBmtD,IAAxC,IAAgDI,aAAvD;EACD,GAFD;;EAIAJ,OAAKK,aAAL,GAAqB,UAASxtD,CAAT,EAAY;EAC/B,WAAOpE,UAAUlB,MAAV,IAAoB8yD,gBAAgB,CAACxtD,CAAjB,EAAoBmtD,IAAxC,IAAgDK,aAAvD;EACD,GAFD;;EAIAL,OAAKM,WAAL,GAAmB,UAASztD,CAAT,EAAY;EAC7B,WAAOpE,UAAUlB,MAAV,IAAoB+yD,cAAc,CAACztD,CAAf,EAAkBmtD,IAAtC,IAA8CM,WAArD;EACD,GAFD;;EAIA,SAAON,IAAP;EACD;;AAUD,EAAO,SAASkB,UAAT,CAAoBtuD,KAApB,EAA2B;EAChC,SAAOotD,KAAK/2B,MAAL,EAAar2B,KAAb,CAAP;EACD;;AAED,EAAO,SAASuuD,QAAT,CAAkBvuD,KAAlB,EAAyB;EAC9B,SAAOotD,KAAKvyD,IAAL,EAAWmF,KAAX,CAAP;EACD;;EC7KD;EACA,IAAIomC,eAAa,QAAOC,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAAuCA,OAAO/kC,MAAP,KAAkBA,MAAzD,IAAmE+kC,MAApF;;ECCA;EACA,IAAIC,aAAW,QAAOC,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2BA,IAA3B,IAAmCA,KAAKjlC,MAAL,KAAgBA,MAAnD,IAA6DilC,IAA5E;;EAEA;EACA,IAAIrO,SAAOkO,gBAAcE,UAAd,IAA0BE,SAAS,aAAT,GAArC;;ECJA;EACA,IAAIZ,YAAS1N,OAAK0N,MAAlB;;ECDA;EACA,IAAIc,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;EAKA,IAAI+5B,yBAAuBD,cAAYz6B,QAAvC;;EAEA;EACA,IAAI26B,mBAAiBhB,YAASA,UAAOiB,WAAhB,GAA8BzmC,SAAnD;;EAEA;;;;;;;EAOA,SAAS0mC,WAAT,CAAmBvoC,KAAnB,EAA0B;EACxB,MAAIwoC,QAAQn6B,iBAAe7M,IAAf,CAAoBxB,KAApB,EAA2BqoC,gBAA3B,CAAZ;EAAA,MACII,MAAMzoC,MAAMqoC,gBAAN,CADV;;EAGA,MAAI;EACFroC,UAAMqoC,gBAAN,IAAwBxmC,SAAxB;AACA,EACD,GAHD,CAGE,OAAO+S,CAAP,EAAU;;EAEZ,MAAI8zB,SAASN,uBAAqB5mC,IAArB,CAA0BxB,KAA1B,CAAb;EACA,EAAc;EACZ,QAAIwoC,KAAJ,EAAW;EACTxoC,YAAMqoC,gBAAN,IAAwBI,GAAxB;EACD,KAFD,MAEO;EACL,aAAOzoC,MAAMqoC,gBAAN,CAAP;EACD;EACF;EACD,SAAOK,MAAP;EACD;;EC3CD;EACA,IAAIP,gBAAcplC,OAAOtD,SAAzB;;EAEA;;;;;EAKA,IAAI2oC,yBAAuBD,cAAYz6B,QAAvC;;EAEA;;;;;;;EAOA,SAASm7B,gBAAT,CAAwB7oC,KAAxB,EAA+B;EAC7B,SAAOooC,uBAAqB5mC,IAArB,CAA0BxB,KAA1B,CAAP;EACD;;ECfD;EACA,IAAI8oC,YAAU,eAAd;EAAA,IACIC,iBAAe,oBADnB;;EAGA;EACA,IAAIV,mBAAiBhB,YAASA,UAAOiB,WAAhB,GAA8BzmC,SAAnD;;EAEA;;;;;;;EAOA,SAASonC,YAAT,CAAoBjpC,KAApB,EAA2B;EACzB,MAAIA,SAAS,IAAb,EAAmB;EACjB,WAAOA,UAAU6B,SAAV,GAAsBknC,cAAtB,GAAqCD,SAA5C;EACD;EACD,SAAQT,oBAAkBA,oBAAkBtlC,OAAO/C,KAAP,CAArC,GACHuoC,YAAUvoC,KAAV,CADG,GAEH6oC,iBAAe7oC,KAAf,CAFJ;EAGD;;ECzBD;;;;;;;;;;;;;;;;;;;;;;;;EAwBA,SAASwpC,cAAT,CAAsBxpC,KAAtB,EAA6B;EAC3B,SAAOA,SAAS,IAAT,IAAiB,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAAxC;EACD;;ECvBD;EACA,IAAI49C,cAAY,iBAAhB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BA,SAASqS,QAAT,CAAkBjwD,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACJwpC,eAAaxpC,KAAb,KAAuBipC,aAAWjpC,KAAX,KAAqB49C,WAD/C;EAED;;ECnCD;;;;;;;;;;;;;;;;;;;;;;;EAuBA,IAAIh9C,YAAUhD,MAAMgD,OAApB;;ECnBA;EACA,IAAI6oC,cAAY,iBAAhB;;EAEA;;;;;;;;;;;;;;;;;EAiBA,SAASC,UAAT,CAAkB1pC,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACJ,CAACY,UAAQZ,KAAR,CAAD,IAAmBwpC,eAAaxpC,KAAb,CAAnB,IAA0CipC,aAAWjpC,KAAX,KAAqBypC,WADlE;EAED;;ECzBD;EACA,IAAIymB,iBAAiBv2B,OAAKt7B,QAA1B;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BA,SAASA,UAAT,CAAkB2B,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IAA4BkwD,eAAelwD,KAAf,CAAnC;EACD;;ECjCD,IAAMmwD,YAAY,SAAZA,SAAY,CAACj6B,IAAD,EAAOk6B,KAAP;EAAA,SAAiB,CAACl6B,KAAK95B,MAAL,GAAc,CAAf,IAAoBg0D,KAApB,KAA8B,CAA/C;EAAA,CAAlB;;ECEA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAACn6B,IAAD,EAAO8e,GAAP,EAAYsb,KAAZ,EAAsB;EAC7C,MAAMC,kBAAkB,SAAlBA,eAAkB;EAAA,WAAK1zD,EAAEm4C,IAAI9e,IAAJ,CAAS35B,CAAT,CAAWi0D,QAAb,CAAL;EAAA,GAAxB;;EAEA,MAAIC,WAAWzb,IAAIsb,KAAJ,CAAUnyD,KAAV,GAAkB,CAAlB,GAAsB62C,IAAIsb,KAAJ,CAAUnyD,KAAhC,GAAwC,EAAvD;EACA,MAAI+3B,KAAK95B,MAAL,IAAeq0D,QAAnB,EAA6B;EAC3BH,UAAMnyD,KAAN,CAAY+3B,KAAK95B,MAAjB;EACA;EACD;;EAED,MAAIg0D,QAAQ,EAAZ;EACA,MAAIK,YAAY,EAAhB,EAAoB;EAClBL,YAAQK,QAAR;EACA,WAAOL,QAAQ,CAAf,EAAkB;EAChB;EACA,UAAID,UAAUj6B,IAAV,EAAgBk6B,KAAhB,CAAJ,EAA4B;EAC1B;EACD;EACD,QAAEA,KAAF;EACD;EACF,GATD,MASO;EACL,QAAID,UAAU,CAAV,CAAJ,EAAkB;EAChBC,cAAQD,UAAUj6B,IAAV,EAAgB,EAAhB,IAAsB,EAAtB,GAA2B,CAAnC;EACD,KAFD,MAEO,IAAIi6B,UAAUj6B,IAAV,EAAgB,CAAhB,CAAJ,EAAwB;EAC7Bk6B,cAAQ,CAAR;EACD,KAFM,MAEA,IAAID,UAAUj6B,IAAV,EAAgB,CAAhB,CAAJ,EAAwB;EAC7Bk6B,cAAQ,CAAR;EACD,KAFM,MAEA,IAAID,UAAUj6B,IAAV,EAAgB,CAAhB,CAAJ,EAAwB;EAC7Bk6B,cAAQ,CAAR;EACD,KAFM,MAEA,IAAID,UAAUj6B,IAAV,EAAgB,EAAhB,CAAJ,EAAyB;EAC9Bk6B,cAAQ,EAAR;EACD,KAFM,MAEA,IAAIK,YAAY,EAAZ,IAAkBN,UAAUj6B,IAAV,EAAgB,EAAhB,CAAtB,EAA2C;EAChDk6B,cAAQ,EAAR;EACD,KAFM,MAEA,IAAIK,YAAY,EAAZ,IAAkBN,UAAUj6B,IAAV,EAAgB,EAAhB,CAAtB,EAA2C;EAChDk6B,cAAQ,EAAR;EACD,KAFM,MAEA,IAAID,UAAUj6B,IAAV,EAAgB,CAAhB,CAAJ,EAAwB;EAC7Bk6B,cAAQ,CAAR;EACD;EACD;EACD;;EAED,MAAIA,QAAQ,CAAZ,EAAe;EACb,QAAI9pB,UAAU,CAAd;EACA,QAAIjlC,QAAQ,CAAZ;EACA,QAAIsS,YAAYuiB,KAAK95B,MAAL,GAAc,CAA9B;EACA,QAAIs0D,YAAYlzD,KAAKc,KAAL,CAAW,CAAC43B,KAAK95B,MAAL,GAAc,CAAf,IAAoBg0D,KAA/B,CAAhB;EACA,QAAI1oB,MAAM,IAAI9pC,KAAJ,CAAUwyD,SAASD,UAAUj6B,IAAV,EAAgBk6B,KAAhB,IAAyB,CAAzB,GAA6B,CAAtC,CAAV,CAAV;;EAEA,WAAO9pB,UAAU3yB,SAAjB,EAA4B;EAC1B+zB,UAAIrmC,OAAJ,IAAekvD,gBAAgBr6B,KAAKoQ,OAAL,CAAhB,CAAf;EACAA,iBAAWoqB,SAAX;EACD;EACDhpB,QAAIrmC,KAAJ,IAAakvD,gBAAgBr6B,KAAKviB,SAAL,CAAhB,CAAb;EACA28C,UAAMtB,UAAN,CAAiBtnB,GAAjB;EACD,GAbD,MAaO;EACL4oB,UAAMnyD,KAAN,CAAY,IAAZ;EACD;EACF,CAxDD;;ECFA,IAAMwyD,eAAe,SAAfA,YAAe,CAACC,SAAD,EAAYC,KAAZ,EAA0C;EAAA,MAAvBhB,UAAuB,uEAAV,KAAU;;EAC7D,MAAIiB,UAAU,aAAaD,KAAb,GAAqB,GAAnC;;EAEA,MAAIE,YAAYH,UAAU1sB,SAAV,CAAoB,oBAApB,CAAhB;;EAEA,MAAI2rB,eAAe,IAAnB,EAAyB;EACvBkB,cAAUlB,UAAV,GAAuB/I,QAAvB,CAAgC,GAAhC;EACD;;EAED,MAAI+J,UAAU,EAAd,EAAkB;EAChBE,cACG9rB,IADH,CACQ,WADR,EACqB6rB,OADrB,EAEG7rB,IAFH,CAEQ,IAFR,EAEc,CAAC,EAFf,EAGGA,IAHH,CAGQ,IAHR,EAGc,CAAC,CAHf,EAIG1vB,KAJH,CAIS,aAJT,EAIwB,KAJxB;EAKD,GAND,MAMO,IAAIs7C,UAAU,CAAd,EAAiB;EACtBE,cACG9rB,IADH,CACQ,WADR,EACqB6rB,OADrB,EAEG7rB,IAFH,CAEQ,IAFR,EAEc,CAFd,EAGGA,IAHH,CAGQ,IAHR,EAGc,EAHd,EAIG1vB,KAJH,CAIS,aAJT,EAIwB,QAJxB;EAKD,GANM,MAMA,IAAIs7C,UAAU,EAAV,IAAgBA,UAAU,EAA9B,EAAkC;EACvCE,cACG9rB,IADH,CACQ,WADR,EACqB6rB,OADrB,EAEG7rB,IAFH,CAEQ,IAFR,EAEc,CAAC,EAFf,EAGGA,IAHH,CAGQ,IAHR,EAGc,CAHd,EAIG1vB,KAJH,CAIS,aAJT,EAIwB,KAJxB;EAKD,GANM,MAMA,IAAIs7C,UAAU,EAAd,EAAkB;EACvBE,cACG9rB,IADH,CACQ,WADR,EACqB6rB,OADrB,EAEG7rB,IAFH,CAEQ,IAFR,EAEc,CAAC,EAFf,EAGGA,IAHH,CAGQ,IAHR,EAGc,CAAC,CAHf,EAIG1vB,KAJH,CAIS,aAJT,EAIwB,KAJxB;EAKD,GANM,MAMA,IAAIs7C,UAAU,EAAd,EAAkB;EACvBE,cACG9rB,IADH,CACQ,WADR,EACqB6rB,OADrB,EAEG7rB,IAFH,CAEQ,IAFR,EAEc,CAAC,CAFf,EAGGA,IAHH,CAGQ,IAHR,EAGc,CAHd,EAIG1vB,KAJH,CAIS,aAJT,EAIwB,KAJxB;EAKD;EACF,CAxCD;;ECAA,IAAIy7C,QAAQ,CAAZ;EAAA;EACIC,UAAU,CADd;EAAA;EAEIt0C,WAAW,CAFf;EAAA;EAGIu0C,YAAY,IAHhB;EAAA;EAIIC,QAJJ;EAAA,IAKIC,QALJ;EAAA,IAMIC,YAAY,CANhB;EAAA,IAOIC,WAAW,CAPf;EAAA,IAQIC,YAAY,CARhB;EAAA,IASIC,QAAQ,QAAOC,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmCA,YAAYhP,GAA/C,GAAqDgP,WAArD,GAAmEt+C,IAT/E;EAAA,IAUIu+C,WAAW,QAAOluB,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOmuB,qBAArC,GAA6DnuB,OAAOmuB,qBAAP,CAA6Bh0B,IAA7B,CAAkC6F,MAAlC,CAA7D,GAAyG,UAAS5mC,CAAT,EAAY;EAAEg1D,aAAWh1D,CAAX,EAAc,EAAd;EAAoB,CAV1J;;AAYA,EAAO,SAAS6lD,GAAT,GAAe;EACpB,SAAO6O,aAAaI,SAASG,QAAT,GAAoBP,WAAWE,MAAM/O,GAAN,KAAc8O,SAA1D,CAAP;EACD;;EAED,SAASM,QAAT,GAAoB;EAClBP,aAAW,CAAX;EACD;;AAED,EAAO,SAASQ,KAAT,GAAiB;EACtB,OAAKC,KAAL,GACA,KAAKC,KAAL,GACA,KAAKl1B,KAAL,GAAa,IAFb;EAGD;;EAEDg1B,MAAMryD,SAAN,GAAkBwyD,MAAMxyD,SAAN,GAAkB;EAClCE,eAAamyD,KADqB;EAElCI,WAAS,iBAAShkC,QAAT,EAAmBikC,KAAnB,EAA0BpvC,IAA1B,EAAgC;EACvC,QAAI,OAAOmL,QAAP,KAAoB,UAAxB,EAAoC,MAAM,IAAIkkC,SAAJ,CAAc,4BAAd,CAAN;EACpCrvC,WAAO,CAACA,QAAQ,IAAR,GAAe0/B,KAAf,GAAuB,CAAC1/B,IAAzB,KAAkCovC,SAAS,IAAT,GAAgB,CAAhB,GAAoB,CAACA,KAAvD,CAAP;EACA,QAAI,CAAC,KAAKr1B,KAAN,IAAes0B,aAAa,IAAhC,EAAsC;EACpC,UAAIA,QAAJ,EAAcA,SAASt0B,KAAT,GAAiB,IAAjB,CAAd,KACKq0B,WAAW,IAAX;EACLC,iBAAW,IAAX;EACD;EACD,SAAKW,KAAL,GAAa7jC,QAAb;EACA,SAAK8jC,KAAL,GAAajvC,IAAb;EACAsvC;EACD,GAbiC;EAclCl1D,QAAM,gBAAW;EACf,QAAI,KAAK40D,KAAT,EAAgB;EACd,WAAKA,KAAL,GAAa,IAAb;EACA,WAAKC,KAAL,GAAa/1C,QAAb;EACAo2C;EACD;EACF;EApBiC,CAApC;;AAuBA,EAAO,SAASJ,KAAT,CAAe/jC,QAAf,EAAyBikC,KAAzB,EAAgCpvC,IAAhC,EAAsC;EAC3C,MAAIlS,IAAI,IAAIihD,KAAJ,EAAR;EACAjhD,IAAEqhD,OAAF,CAAUhkC,QAAV,EAAoBikC,KAApB,EAA2BpvC,IAA3B;EACA,SAAOlS,CAAP;EACD;;AAED,EAAO,SAASyhD,UAAT,GAAsB;EAC3B7P,QAD2B;EAE3B,IAAEuO,KAAF,CAF2B;EAG3B,MAAIngD,IAAIsgD,QAAR;EAAA,MAAkBv8C,CAAlB;EACA,SAAO/D,CAAP,EAAU;EACR,QAAI,CAAC+D,IAAI08C,WAAWzgD,EAAEmhD,KAAlB,KAA4B,CAAhC,EAAmCnhD,EAAEkhD,KAAF,CAAQvwD,IAAR,CAAa,IAAb,EAAmBoT,CAAnB;EACnC/D,QAAIA,EAAEisB,KAAN;EACD;EACD,IAAEk0B,KAAF;EACD;;EAED,SAASuB,IAAT,GAAgB;EACdjB,aAAW,CAACD,YAAYG,MAAM/O,GAAN,EAAb,IAA4B8O,SAAvC;EACAP,UAAQC,UAAU,CAAlB;EACA,MAAI;EACFqB;EACD,GAFD,SAEU;EACRtB,YAAQ,CAAR;EACAwB;EACAlB,eAAW,CAAX;EACD;EACF;;EAED,SAASmB,IAAT,GAAgB;EACd,MAAIhQ,MAAM+O,MAAM/O,GAAN,EAAV;EAAA,MAAuB0P,QAAQ1P,MAAM4O,SAArC;EACA,MAAIc,QAAQjB,SAAZ,EAAuBK,aAAaY,KAAb,EAAoBd,YAAY5O,GAAhC;EACxB;;EAED,SAAS+P,GAAT,GAAe;EACb,MAAI5iD,EAAJ;EAAA,MAAQC,KAAKshD,QAAb;EAAA,MAAuBrhD,EAAvB;EAAA,MAA2BiT,OAAO9G,QAAlC;EACA,SAAOpM,EAAP,EAAW;EACT,QAAIA,GAAGkiD,KAAP,EAAc;EACZ,UAAIhvC,OAAOlT,GAAGmiD,KAAd,EAAqBjvC,OAAOlT,GAAGmiD,KAAV;EACrBpiD,WAAKC,EAAL,EAASA,KAAKA,GAAGitB,KAAjB;EACD,KAHD,MAGO;EACLhtB,WAAKD,GAAGitB,KAAR,EAAejtB,GAAGitB,KAAH,GAAW,IAA1B;EACAjtB,WAAKD,KAAKA,GAAGktB,KAAH,GAAWhtB,EAAhB,GAAqBqhD,WAAWrhD,EAArC;EACD;EACF;EACDshD,aAAWxhD,EAAX;EACAyiD,QAAMtvC,IAAN;EACD;;EAED,SAASsvC,KAAT,CAAetvC,IAAf,EAAqB;EACnB,MAAIiuC,KAAJ,EAAW,OADQ;EAEnB,MAAIC,OAAJ,EAAaA,UAAUyB,aAAazB,OAAb,CAAV;EACb,MAAIkB,QAAQpvC,OAAOuuC,QAAnB,CAHmB;EAInB,MAAIa,QAAQ,EAAZ,EAAgB;EACd,QAAIpvC,OAAO9G,QAAX,EAAqBg1C,UAAUW,WAAWW,IAAX,EAAiBxvC,OAAOyuC,MAAM/O,GAAN,EAAP,GAAqB8O,SAAtC,CAAV;EACrB,QAAI50C,QAAJ,EAAcA,WAAWg2C,cAAch2C,QAAd,CAAX;EACf,GAHD,MAGO;EACL,QAAI,CAACA,QAAL,EAAe00C,YAAYG,MAAM/O,GAAN,EAAZ,EAAyB9lC,WAAWi2C,YAAYH,IAAZ,EAAkBvB,SAAlB,CAApC;EACfF,YAAQ,CAAR,EAAWU,SAASa,IAAT,CAAX;EACD;EACF;;EC3Gc,oBAASrkC,QAAT,EAAmBikC,KAAnB,EAA0BpvC,IAA1B,EAAgC;EAC7C,MAAIlS,IAAI,IAAIihD,KAAJ,EAAR;EACAK,UAAQA,SAAS,IAAT,GAAgB,CAAhB,GAAoB,CAACA,KAA7B;EACAthD,IAAEqhD,OAAF,CAAU,UAASW,OAAT,EAAkB;EAC1BhiD,MAAE1T,IAAF;EACA+wB,aAAS2kC,UAAUV,KAAnB;EACD,GAHD,EAGGA,KAHH,EAGUpvC,IAHV;EAIA,SAAOlS,CAAP;EACD;;ECPD,IAAIiiD,UAAUnlC,SAAS,OAAT,EAAkB,KAAlB,EAAyB,WAAzB,CAAd;EACA,IAAIolC,aAAa,EAAjB;;AAEA,EAAO,IAAIC,UAAU,CAAd;AACP,EAAO,IAAIC,YAAY,CAAhB;AACP,EAAO,IAAIC,WAAW,CAAf;AACP,EAAO,IAAIC,UAAU,CAAd;AACP,EAAO,IAAIC,UAAU,CAAd;AACP,EAAO,IAAIC,SAAS,CAAb;AACP,EAAO,IAAIC,QAAQ,CAAZ;;AAEP,EAAe,mBAAS7kC,IAAT,EAAettB,IAAf,EAAqBoyD,EAArB,EAAyBlyD,KAAzB,EAAgC2Z,KAAhC,EAAuCw4C,MAAvC,EAA+C;EAC5D,MAAIC,YAAYhlC,KAAKilC,YAArB;EACA,MAAI,CAACD,SAAL,EAAgBhlC,KAAKilC,YAAL,GAAoB,EAApB,CAAhB,KACK,IAAIH,MAAME,SAAV,EAAqB;EAC1BzwD,WAAOyrB,IAAP,EAAa8kC,EAAb,EAAiB;EACfpyD,UAAMA,IADS;EAEfE,WAAOA,KAFQ;EAGf2Z,WAAOA,KAHQ;EAIfgT,QAAI8kC,OAJW;EAKfa,WAAOZ,UALQ;EAMfhwC,UAAMywC,OAAOzwC,IANE;EAOfovC,WAAOqB,OAAOrB,KAPC;EAQfrL,cAAU0M,OAAO1M,QARF;EASf8M,UAAMJ,OAAOI,IATE;EAUf3B,WAAO,IAVQ;EAWf3c,WAAO0d;EAXQ,GAAjB;EAaD;;AAED,EAAO,SAASa,IAAT,CAAcplC,IAAd,EAAoB8kC,EAApB,EAAwB;EAC7B,MAAIO,WAAWh0D,MAAI2uB,IAAJ,EAAU8kC,EAAV,CAAf;EACA,MAAIO,SAASxe,KAAT,GAAiB0d,OAArB,EAA8B,MAAM,IAAIl5C,KAAJ,CAAU,6BAAV,CAAN;EAC9B,SAAOg6C,QAAP;EACD;;AAED,EAAO,SAAS/zD,KAAT,CAAa0uB,IAAb,EAAmB8kC,EAAnB,EAAuB;EAC5B,MAAIO,WAAWh0D,MAAI2uB,IAAJ,EAAU8kC,EAAV,CAAf;EACA,MAAIO,SAASxe,KAAT,GAAiB4d,QAArB,EAA+B,MAAM,IAAIp5C,KAAJ,CAAU,2BAAV,CAAN;EAC/B,SAAOg6C,QAAP;EACD;;AAED,EAAO,SAASh0D,KAAT,CAAa2uB,IAAb,EAAmB8kC,EAAnB,EAAuB;EAC5B,MAAIO,WAAWrlC,KAAKilC,YAApB;EACA,MAAI,CAACI,QAAD,IAAa,EAAEA,WAAWA,SAASP,EAAT,CAAb,CAAjB,EAA6C,MAAM,IAAIz5C,KAAJ,CAAU,sBAAV,CAAN;EAC7C,SAAOg6C,QAAP;EACD;;EAED,SAAS9wD,QAAT,CAAgByrB,IAAhB,EAAsB8kC,EAAtB,EAA0BvrB,IAA1B,EAAgC;EAC9B,MAAIyrB,YAAYhlC,KAAKilC,YAArB;EAAA,MACIC,KADJ;;EAGA;EACA;EACAF,YAAUF,EAAV,IAAgBvrB,IAAhB;EACAA,OAAKiqB,KAAL,GAAaA,MAAM6B,QAAN,EAAgB,CAAhB,EAAmB9rB,KAAKjlB,IAAxB,CAAb;;EAEA,WAAS+wC,QAAT,CAAkBjB,OAAlB,EAA2B;EACzB7qB,SAAKsN,KAAL,GAAa2d,SAAb;EACAjrB,SAAKiqB,KAAL,CAAWC,OAAX,CAAmBh1D,KAAnB,EAA0B8qC,KAAKmqB,KAA/B,EAAsCnqB,KAAKjlB,IAA3C;;EAEA;EACA,QAAIilB,KAAKmqB,KAAL,IAAcU,OAAlB,EAA2B31D,MAAM21D,UAAU7qB,KAAKmqB,KAArB;EAC5B;;EAED,WAASj1D,KAAT,CAAe21D,OAAf,EAAwB;EACtB,QAAIt1D,CAAJ,EAAO4a,CAAP,EAAU9a,CAAV,EAAawD,CAAb;;EAEA;EACA,QAAImnC,KAAKsN,KAAL,KAAe2d,SAAnB,EAA8B,OAAO91D,MAAP;;EAE9B,SAAKI,CAAL,IAAUk2D,SAAV,EAAqB;EACnB5yD,UAAI4yD,UAAUl2D,CAAV,CAAJ;EACA,UAAIsD,EAAEM,IAAF,KAAW6mC,KAAK7mC,IAApB,EAA0B;;EAE1B;EACA;EACA;EACA,UAAIN,EAAEy0C,KAAF,KAAY6d,OAAhB,EAAyB,OAAOlC,UAAQ/zD,KAAR,CAAP;;EAEzB;EACA;EACA,UAAI2D,EAAEy0C,KAAF,KAAY8d,OAAhB,EAAyB;EACvBvyD,UAAEy0C,KAAF,GAAUge,KAAV;EACAzyD,UAAEoxD,KAAF,CAAQ90D,IAAR;EACA0D,UAAEmtB,EAAF,CAAKxsB,IAAL,CAAU,WAAV,EAAuBitB,IAAvB,EAA6BA,KAAKkN,QAAlC,EAA4C96B,EAAEQ,KAA9C,EAAqDR,EAAEma,KAAvD;EACA,eAAOy4C,UAAUl2D,CAAV,CAAP;EACD;;EAED;EACA;EACA;EATA,WAUK,IAAI,CAACA,CAAD,GAAKg2D,EAAT,EAAa;EAChB1yD,YAAEy0C,KAAF,GAAUge,KAAV;EACAzyD,YAAEoxD,KAAF,CAAQ90D,IAAR;EACA,iBAAOs2D,UAAUl2D,CAAV,CAAP;EACD;EACF;;EAED;EACA;EACA;EACA;EACA0zD,cAAQ,YAAW;EACjB,UAAIjpB,KAAKsN,KAAL,KAAe6d,OAAnB,EAA4B;EAC1BnrB,aAAKsN,KAAL,GAAa8d,OAAb;EACAprB,aAAKiqB,KAAL,CAAWC,OAAX,CAAmBzC,IAAnB,EAAyBznB,KAAKmqB,KAA9B,EAAqCnqB,KAAKjlB,IAA1C;EACA0sC,aAAKoD,OAAL;EACD;EACF,KAND;;EAQA;EACA;EACA7qB,SAAKsN,KAAL,GAAa4d,QAAb;EACAlrB,SAAKha,EAAL,CAAQxsB,IAAR,CAAa,OAAb,EAAsBitB,IAAtB,EAA4BA,KAAKkN,QAAjC,EAA2CqM,KAAK3mC,KAAhD,EAAuD2mC,KAAKhtB,KAA5D;EACA,QAAIgtB,KAAKsN,KAAL,KAAe4d,QAAnB,EAA6B,OAlDP;EAmDtBlrB,SAAKsN,KAAL,GAAa6d,OAAb;;EAEA;EACAQ,YAAQ,IAAI/1D,KAAJ,CAAUP,IAAI2qC,KAAK2rB,KAAL,CAAWv3D,MAAzB,CAAR;EACA,SAAKmB,IAAI,CAAJ,EAAO4a,IAAI,CAAC,CAAjB,EAAoB5a,IAAIF,CAAxB,EAA2B,EAAEE,CAA7B,EAAgC;EAC9B,UAAIsD,IAAImnC,KAAK2rB,KAAL,CAAWp2D,CAAX,EAAcyC,KAAd,CAAoBwB,IAApB,CAAyBitB,IAAzB,EAA+BA,KAAKkN,QAApC,EAA8CqM,KAAK3mC,KAAnD,EAA0D2mC,KAAKhtB,KAA/D,CAAR,EAA+E;EAC7E24C,cAAM,EAAEx7C,CAAR,IAAatX,CAAb;EACD;EACF;EACD8yD,UAAMv3D,MAAN,GAAe+b,IAAI,CAAnB;EACD;;EAED,WAASs3C,IAAT,CAAcoD,OAAd,EAAuB;EACrB,QAAIhiD,IAAIgiD,UAAU7qB,KAAK8e,QAAf,GAA0B9e,KAAK4rB,IAAL,CAAUpyD,IAAV,CAAe,IAAf,EAAqBqxD,UAAU7qB,KAAK8e,QAApC,CAA1B,IAA2E9e,KAAKiqB,KAAL,CAAWC,OAAX,CAAmB/0D,IAAnB,GAA0B6qC,KAAKsN,KAAL,GAAa+d,MAAvC,EAA+C,CAA1H,CAAR;EAAA,QACI91D,IAAI,CAAC,CADT;EAAA,QAEIF,IAAIs2D,MAAMv3D,MAFd;;EAIA,WAAO,EAAEmB,CAAF,GAAMF,CAAb,EAAgB;EACds2D,YAAMp2D,CAAN,EAASiE,IAAT,CAAc,IAAd,EAAoBqP,CAApB;EACD;;EAED;EACA,QAAIm3B,KAAKsN,KAAL,KAAe+d,MAAnB,EAA2B;EACzBrrB,WAAKha,EAAL,CAAQxsB,IAAR,CAAa,KAAb,EAAoBitB,IAApB,EAA0BA,KAAKkN,QAA/B,EAAyCqM,KAAK3mC,KAA9C,EAAqD2mC,KAAKhtB,KAA1D;EACA7d;EACD;EACF;;EAED,WAASA,IAAT,GAAgB;EACd6qC,SAAKsN,KAAL,GAAage,KAAb;EACAtrB,SAAKiqB,KAAL,CAAW90D,IAAX;EACA,WAAOs2D,UAAUF,EAAV,CAAP;EACA,SAAK,IAAIh2D,CAAT,IAAck2D,SAAd;EAAyB;EAAzB,KAJc;EAKd,WAAOhlC,KAAKilC,YAAZ;EACD;EACF;;ECxJc,oBAASjlC,IAAT,EAAettB,IAAf,EAAqB;EAClC,MAAIsyD,YAAYhlC,KAAKilC,YAArB;EAAA,MACII,WADJ;EAAA,MAEIC,MAFJ;EAAA,MAGItzD,QAAQ,IAHZ;EAAA,MAIIlD,CAJJ;;EAMA,MAAI,CAACk2D,SAAL,EAAgB;;EAEhBtyD,SAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,OAAO,EAApC;;EAEA,OAAK5D,CAAL,IAAUk2D,SAAV,EAAqB;EACnB,QAAI,CAACK,cAAWL,UAAUl2D,CAAV,CAAZ,EAA0B4D,IAA1B,KAAmCA,IAAvC,EAA6C;EAAEV,cAAQ,KAAR,CAAe;EAAW;EACzEszD,aAASD,YAASxe,KAAT,GAAiB4d,QAAjB,IAA6BY,YAASxe,KAAT,GAAiB+d,MAAvD;EACAS,gBAASxe,KAAT,GAAiBge,KAAjB;EACAQ,gBAAS7B,KAAT,CAAe90D,IAAf;EACA,QAAI42D,MAAJ,EAAYD,YAAS9lC,EAAT,CAAYxsB,IAAZ,CAAiB,WAAjB,EAA8BitB,IAA9B,EAAoCA,KAAKkN,QAAzC,EAAmDm4B,YAASzyD,KAA5D,EAAmEyyD,YAAS94C,KAA5E;EACZ,WAAOy4C,UAAUl2D,CAAV,CAAP;EACD;;EAED,MAAIkD,KAAJ,EAAW,OAAOguB,KAAKilC,YAAZ;EACZ;;ECrBc,8BAASvyD,IAAT,EAAe;EAC5B,SAAO,KAAKT,IAAL,CAAU,YAAW;EAC1BszD,cAAU,IAAV,EAAgB7yD,IAAhB;EACD,GAFM,CAAP;EAGD;;ECJD,SAAS8yD,WAAT,CAAqBV,EAArB,EAAyBpyD,IAAzB,EAA+B;EAC7B,MAAI+yD,MAAJ,EAAYC,MAAZ;EACA,SAAO,YAAW;EAChB,QAAIL,cAAW/zD,MAAI,IAAJ,EAAUwzD,EAAV,CAAf;EAAA,QACII,QAAQG,YAASH,KADrB;;EAGA;EACA;EACA;EACA,QAAIA,UAAUO,MAAd,EAAsB;EACpBC,eAASD,SAASP,KAAlB;EACA,WAAK,IAAIp2D,IAAI,CAAR,EAAWF,IAAI82D,OAAO/3D,MAA3B,EAAmCmB,IAAIF,CAAvC,EAA0C,EAAEE,CAA5C,EAA+C;EAC7C,YAAI42D,OAAO52D,CAAP,EAAU4D,IAAV,KAAmBA,IAAvB,EAA6B;EAC3BgzD,mBAASA,OAAO7zD,KAAP,EAAT;EACA6zD,iBAAO7hC,MAAP,CAAc/0B,CAAd,EAAiB,CAAjB;EACA;EACD;EACF;EACF;;EAEDu2D,gBAASH,KAAT,GAAiBQ,MAAjB;EACD,GAnBD;EAoBD;;EAED,SAASC,aAAT,CAAuBb,EAAvB,EAA2BpyD,IAA3B,EAAiCnB,KAAjC,EAAwC;EACtC,MAAIk0D,MAAJ,EAAYC,MAAZ;EACA,MAAI,OAAOn0D,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI8Z,KAAJ,EAAN;EACjC,SAAO,YAAW;EAChB,QAAIg6C,cAAW/zD,MAAI,IAAJ,EAAUwzD,EAAV,CAAf;EAAA,QACII,QAAQG,YAASH,KADrB;;EAGA;EACA;EACA;EACA,QAAIA,UAAUO,MAAd,EAAsB;EACpBC,eAAS,CAACD,SAASP,KAAV,EAAiBrzD,KAAjB,EAAT;EACA,WAAK,IAAIuQ,IAAI,EAAC1P,MAAMA,IAAP,EAAanB,OAAOA,KAApB,EAAR,EAAoCzC,IAAI,CAAxC,EAA2CF,IAAI82D,OAAO/3D,MAA3D,EAAmEmB,IAAIF,CAAvE,EAA0E,EAAEE,CAA5E,EAA+E;EAC7E,YAAI42D,OAAO52D,CAAP,EAAU4D,IAAV,KAAmBA,IAAvB,EAA6B;EAC3BgzD,iBAAO52D,CAAP,IAAYsT,CAAZ;EACA;EACD;EACF;EACD,UAAItT,MAAMF,CAAV,EAAa82D,OAAO9zD,IAAP,CAAYwQ,CAAZ;EACd;;EAEDijD,gBAASH,KAAT,GAAiBQ,MAAjB;EACD,GAnBD;EAoBD;;AAED,EAAe,2BAAShzD,IAAT,EAAenB,KAAf,EAAsB;EACnC,MAAIuzD,KAAK,KAAKhL,GAAd;;EAEApnD,UAAQ,EAAR;;EAEA,MAAI7D,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B;EACxB,QAAIu3D,QAAQ7zD,MAAI,KAAK2uB,IAAL,EAAJ,EAAiB8kC,EAAjB,EAAqBI,KAAjC;EACA,SAAK,IAAIp2D,IAAI,CAAR,EAAWF,IAAIs2D,MAAMv3D,MAArB,EAA6ByU,CAAlC,EAAqCtT,IAAIF,CAAzC,EAA4C,EAAEE,CAA9C,EAAiD;EAC/C,UAAI,CAACsT,IAAI8iD,MAAMp2D,CAAN,CAAL,EAAe4D,IAAf,KAAwBA,IAA5B,EAAkC;EAChC,eAAO0P,EAAE7Q,KAAT;EACD;EACF;EACD,WAAO,IAAP;EACD;;EAED,SAAO,KAAKU,IAAL,CAAU,CAACV,SAAS,IAAT,GAAgBi0D,WAAhB,GAA8BG,aAA/B,EAA8Cb,EAA9C,EAAkDpyD,IAAlD,EAAwDnB,KAAxD,CAAV,CAAP;EACD;;AAED,EAAO,SAASq0D,UAAT,CAAoBxE,UAApB,EAAgC1uD,IAAhC,EAAsCnB,KAAtC,EAA6C;EAClD,MAAIuzD,KAAK1D,WAAWtH,GAApB;;EAEAsH,aAAWnvD,IAAX,CAAgB,YAAW;EACzB,QAAIozD,cAAW/zD,MAAI,IAAJ,EAAUwzD,EAAV,CAAf;EACA,KAACO,YAAS9zD,KAAT,KAAmB8zD,YAAS9zD,KAAT,GAAiB,EAApC,CAAD,EAA0CmB,IAA1C,IAAkDnB,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAlD;EACD,GAHD;;EAKA,SAAO,UAASmxB,IAAT,EAAe;EACpB,WAAO3uB,MAAI2uB,IAAJ,EAAU8kC,EAAV,EAAcvzD,KAAd,CAAoBmB,IAApB,CAAP;EACD,GAFD;EAGD;;EC7Ec,wBAASnF,CAAT,EAAYC,CAAZ,EAAe;EAC5B,QAAImU,CAAJ;EACA,WAAO,CAAC,OAAOnU,CAAP,KAAa,QAAb,GAAwBq4D,iBAAxB,GACFr4D,aAAaqR,KAAb,GAAqBinD,cAArB,GACA,CAACnkD,IAAI9C,MAAMrR,CAAN,CAAL,KAAkBA,IAAImU,CAAJ,EAAOmkD,cAAzB,IACAC,iBAHC,EAGkBx4D,CAHlB,EAGqBC,CAHrB,CAAP;EAID;;ECJD,SAAS6iC,YAAT,CAAoB39B,IAApB,EAA0B;EACxB,SAAO,YAAW;EAChB,SAAK49B,eAAL,CAAqB59B,IAArB;EACD,GAFD;EAGD;;EAED,SAAS69B,cAAT,CAAsBhE,QAAtB,EAAgC;EAC9B,SAAO,YAAW;EAChB,SAAKiE,iBAAL,CAAuBjE,SAASP,KAAhC,EAAuCO,SAASN,KAAhD;EACD,GAFD;EAGD;;EAED,SAASwE,cAAT,CAAsB/9B,IAAtB,EAA4BmX,cAA5B,EAAyChZ,MAAzC,EAAiD;EAC/C,MAAIm1D,OAAJ,EACIC,YADJ;EAEA,SAAO,YAAW;EAChB,QAAIr1D,SAAS,KAAKmgC,YAAL,CAAkBr+B,IAAlB,CAAb;EACA,WAAO9B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,GAAqBC,YAArB,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8BC,MAA9B,CAFrB;EAGD,GALD;EAMD;;EAED,SAAS6/B,gBAAT,CAAwBnE,QAAxB,EAAkC1iB,cAAlC,EAA+ChZ,MAA/C,EAAuD;EACrD,MAAIm1D,OAAJ,EACIC,YADJ;EAEA,SAAO,YAAW;EAChB,QAAIr1D,SAAS,KAAKkgC,cAAL,CAAoBvE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,CAAb;EACA,WAAOr7B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,GAAqBC,YAArB,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8BC,MAA9B,CAFrB;EAGD,GALD;EAMD;;EAED,SAAS+/B,cAAT,CAAsBl+B,IAAtB,EAA4BmX,cAA5B,EAAyCtY,KAAzC,EAAgD;EAC9C,MAAIy0D,OAAJ,EACIE,OADJ,EAEID,YAFJ;EAGA,SAAO,YAAW;EAChB,QAAIr1D,MAAJ;EAAA,QAAYC,SAASU,MAAM,IAAN,CAArB;EACA,QAAIV,UAAU,IAAd,EAAoB,OAAO,KAAK,KAAKy/B,eAAL,CAAqB59B,IAArB,CAAZ;EACpB9B,aAAS,KAAKmgC,YAAL,CAAkBr+B,IAAlB,CAAT;EACA,WAAO9B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,IAAsBn1D,WAAWq1D,OAAjC,GAA2CD,YAA3C,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8Bs1D,UAAUr1D,MAAxC,CAFrB;EAGD,GAPD;EAQD;;EAED,SAASggC,gBAAT,CAAwBtE,QAAxB,EAAkC1iB,cAAlC,EAA+CtY,KAA/C,EAAsD;EACpD,MAAIy0D,OAAJ,EACIE,OADJ,EAEID,YAFJ;EAGA,SAAO,YAAW;EAChB,QAAIr1D,MAAJ;EAAA,QAAYC,SAASU,MAAM,IAAN,CAArB;EACA,QAAIV,UAAU,IAAd,EAAoB,OAAO,KAAK,KAAK2/B,iBAAL,CAAuBjE,SAASP,KAAhC,EAAuCO,SAASN,KAAhD,CAAZ;EACpBr7B,aAAS,KAAKkgC,cAAL,CAAoBvE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,CAAT;EACA,WAAOr7B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,IAAsBn1D,WAAWq1D,OAAjC,GAA2CD,YAA3C,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8Bs1D,UAAUr1D,MAAxC,CAFrB;EAGD,GAPD;EAQD;;AAED,EAAe,0BAAS6B,IAAT,EAAenB,KAAf,EAAsB;EACnC,MAAIg7B,WAAWC,UAAU95B,IAAV,CAAf;EAAA,MAAgC5D,IAAIy9B,aAAa,WAAb,GAA2B3kB,uBAA3B,GAAkDiC,aAAtF;EACA,SAAO,KAAKs8C,SAAL,CAAezzD,IAAf,EAAqB,OAAOnB,KAAP,KAAiB,UAAjB,GACtB,CAACg7B,SAASN,KAAT,GAAiB4E,gBAAjB,GAAkCD,cAAnC,EAAiDrE,QAAjD,EAA2Dz9B,CAA3D,EAA8D82D,WAAW,IAAX,EAAiB,UAAUlzD,IAA3B,EAAiCnB,KAAjC,CAA9D,CADsB,GAEtBA,SAAS,IAAT,GAAgB,CAACg7B,SAASN,KAAT,GAAiBsE,cAAjB,GAAgCF,YAAjC,EAA6C9D,QAA7C,CAAhB,GACA,CAACA,SAASN,KAAT,GAAiByE,gBAAjB,GAAkCD,cAAnC,EAAiDlE,QAAjD,EAA2Dz9B,CAA3D,EAA8DyC,QAAQ,EAAtE,CAHC,CAAP;EAID;;ECvED,SAAS60D,WAAT,CAAqB75B,QAArB,EAA+Bh7B,KAA/B,EAAsC;EACpC,WAAS2zD,KAAT,GAAiB;EACf,QAAIllC,OAAO,IAAX;EAAA,QAAiBlxB,IAAIyC,MAAMsuB,KAAN,CAAYG,IAAZ,EAAkBnxB,SAAlB,CAArB;EACA,WAAOC,KAAK,UAASsT,CAAT,EAAY;EACtB4d,WAAK2Q,cAAL,CAAoBpE,SAASP,KAA7B,EAAoCO,SAASN,KAA7C,EAAoDn9B,EAAEsT,CAAF,CAApD;EACD,KAFD;EAGD;EACD8iD,QAAMmB,MAAN,GAAe90D,KAAf;EACA,SAAO2zD,KAAP;EACD;;EAED,SAASiB,SAAT,CAAmBzzD,IAAnB,EAAyBnB,KAAzB,EAAgC;EAC9B,WAAS2zD,KAAT,GAAiB;EACf,QAAIllC,OAAO,IAAX;EAAA,QAAiBlxB,IAAIyC,MAAMsuB,KAAN,CAAYG,IAAZ,EAAkBnxB,SAAlB,CAArB;EACA,WAAOC,KAAK,UAASsT,CAAT,EAAY;EACtB4d,WAAKxY,YAAL,CAAkB9U,IAAlB,EAAwB5D,EAAEsT,CAAF,CAAxB;EACD,KAFD;EAGD;EACD8iD,QAAMmB,MAAN,GAAe90D,KAAf;EACA,SAAO2zD,KAAP;EACD;;AAED,EAAe,+BAASxyD,IAAT,EAAenB,KAAf,EAAsB;EACnC,MAAIH,MAAM,UAAUsB,IAApB;EACA,MAAI7D,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B,OAAO,CAACyD,MAAM,KAAK8zD,KAAL,CAAW9zD,GAAX,CAAP,KAA2BA,IAAIi1D,MAAtC;EAC1B,MAAI90D,SAAS,IAAb,EAAmB,OAAO,KAAK2zD,KAAL,CAAW9zD,GAAX,EAAgB,IAAhB,CAAP;EACnB,MAAI,OAAOG,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI8Z,KAAJ,EAAN;EACjC,MAAIkhB,WAAWC,UAAU95B,IAAV,CAAf;EACA,SAAO,KAAKwyD,KAAL,CAAW9zD,GAAX,EAAgB,CAACm7B,SAASN,KAAT,GAAiBm6B,WAAjB,GAA+BD,SAAhC,EAA2C55B,QAA3C,EAAqDh7B,KAArD,CAAhB,CAAP;EACD;;EC7BD,SAAS+0D,aAAT,CAAuBxB,EAAvB,EAA2BvzD,KAA3B,EAAkC;EAChC,SAAO,YAAW;EAChB6zD,SAAK,IAAL,EAAWN,EAAX,EAAepB,KAAf,GAAuB,CAACnyD,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAAxB;EACD,GAFD;EAGD;;EAED,SAAS03D,aAAT,CAAuBzB,EAAvB,EAA2BvzD,KAA3B,EAAkC;EAChC,SAAOA,QAAQ,CAACA,KAAT,EAAgB,YAAW;EAChC6zD,SAAK,IAAL,EAAWN,EAAX,EAAepB,KAAf,GAAuBnyD,KAAvB;EACD,GAFD;EAGD;;AAED,EAAe,2BAASA,KAAT,EAAgB;EAC7B,MAAIuzD,KAAK,KAAKhL,GAAd;;EAEA,SAAOjrD,UAAUlB,MAAV,GACD,KAAKsE,IAAL,CAAU,CAAC,OAAOV,KAAP,KAAiB,UAAjB,GACP+0D,aADO,GAEPC,aAFM,EAESzB,EAFT,EAEavzD,KAFb,CAAV,CADC,GAIDF,MAAI,KAAK2uB,IAAL,EAAJ,EAAiB8kC,EAAjB,EAAqBpB,KAJ3B;EAKD;;ECpBD,SAAS8C,gBAAT,CAA0B1B,EAA1B,EAA8BvzD,KAA9B,EAAqC;EACnC,SAAO,YAAW;EAChBD,UAAI,IAAJ,EAAUwzD,EAAV,EAAczM,QAAd,GAAyB,CAAC9mD,MAAMsuB,KAAN,CAAY,IAAZ,EAAkBhxB,SAAlB,CAA1B;EACD,GAFD;EAGD;;EAED,SAAS43D,gBAAT,CAA0B3B,EAA1B,EAA8BvzD,KAA9B,EAAqC;EACnC,SAAOA,QAAQ,CAACA,KAAT,EAAgB,YAAW;EAChCD,UAAI,IAAJ,EAAUwzD,EAAV,EAAczM,QAAd,GAAyB9mD,KAAzB;EACD,GAFD;EAGD;;AAED,EAAe,8BAASA,KAAT,EAAgB;EAC7B,MAAIuzD,KAAK,KAAKhL,GAAd;;EAEA,SAAOjrD,UAAUlB,MAAV,GACD,KAAKsE,IAAL,CAAU,CAAC,OAAOV,KAAP,KAAiB,UAAjB,GACPi1D,gBADO,GAEPC,gBAFM,EAEY3B,EAFZ,EAEgBvzD,KAFhB,CAAV,CADC,GAIDF,MAAI,KAAK2uB,IAAL,EAAJ,EAAiB8kC,EAAjB,EAAqBzM,QAJ3B;EAKD;;ECpBD,SAASqO,YAAT,CAAsB5B,EAAtB,EAA0BvzD,KAA1B,EAAiC;EAC/B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI8Z,KAAJ,EAAN;EACjC,SAAO,YAAW;EAChB/Z,UAAI,IAAJ,EAAUwzD,EAAV,EAAcK,IAAd,GAAqB5zD,KAArB;EACD,GAFD;EAGD;;AAED,EAAe,0BAASA,KAAT,EAAgB;EAC7B,MAAIuzD,KAAK,KAAKhL,GAAd;;EAEA,SAAOjrD,UAAUlB,MAAV,GACD,KAAKsE,IAAL,CAAUy0D,aAAa5B,EAAb,EAAiBvzD,KAAjB,CAAV,CADC,GAEDF,MAAI,KAAK2uB,IAAL,EAAJ,EAAiB8kC,EAAjB,EAAqBK,IAF3B;EAGD;;ECZc,4BAAS/5C,KAAT,EAAgB;EAC7B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiCA,QAAQoiB,UAAQpiB,KAAR,CAAR;;EAEjC,OAAK,IAAIyhB,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,IAAI59B,KAAJ,CAAUgQ,CAAV,CAA1D,EAAwEuK,IAAI,CAAjF,EAAoFA,IAAIvK,CAAxF,EAA2F,EAAEuK,CAA7F,EAAgG;EAC9F,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCq/B,WAAWD,UAAUrjB,CAAV,IAAe,EAAnE,EAAuEsW,IAAvE,EAA6ElxB,IAAI,CAAtF,EAAyFA,IAAIF,CAA7F,EAAgG,EAAEE,CAAlG,EAAqG;EACnG,UAAI,CAACkxB,OAAOzT,MAAMzd,CAAN,CAAR,KAAqBsc,MAAMrY,IAAN,CAAWitB,IAAX,EAAiBA,KAAKkN,QAAtB,EAAgCp+B,CAAhC,EAAmCyd,KAAnC,CAAzB,EAAoE;EAClEygB,iBAASp7B,IAAT,CAAcouB,IAAd;EACD;EACF;EACF;;EAED,SAAO,IAAI2mC,UAAJ,CAAe55B,SAAf,EAA0B,KAAKK,QAA/B,EAAyC,KAAKw5B,KAA9C,EAAqD,KAAK9M,GAA1D,CAAP;EACD;;ECbc,2BAASsH,aAAT,EAAqB;EAClC,MAAIA,cAAWtH,GAAX,KAAmB,KAAKA,GAA5B,EAAiC,MAAM,IAAIzuC,KAAJ,EAAN;;EAEjC,OAAK,IAAImkB,UAAU,KAAK1C,OAAnB,EAA4B2C,UAAU2xB,cAAWt0B,OAAjD,EAA0D4C,KAAKF,QAAQ7hC,MAAvE,EAA+E+S,KAAK+uB,QAAQ9hC,MAA5F,EAAoGwR,IAAIpQ,KAAKgF,GAAL,CAAS27B,EAAT,EAAahvB,EAAb,CAAxG,EAA0HivB,SAAS,IAAIxgC,KAAJ,CAAUugC,EAAV,CAAnI,EAAkJhmB,IAAI,CAA3J,EAA8JA,IAAIvK,CAAlK,EAAqK,EAAEuK,CAAvK,EAA0K;EACxK,SAAK,IAAIkmB,SAASJ,QAAQ9lB,CAAR,CAAb,EAAyBmmB,SAASJ,QAAQ/lB,CAAR,CAAlC,EAA8C9a,IAAIghC,OAAOjiC,MAAzD,EAAiEmiC,QAAQH,OAAOjmB,CAAP,IAAY,IAAIva,KAAJ,CAAUP,CAAV,CAArF,EAAmGoxB,IAAnG,EAAyGlxB,IAAI,CAAlH,EAAqHA,IAAIF,CAAzH,EAA4H,EAAEE,CAA9H,EAAiI;EAC/H,UAAIkxB,OAAO4P,OAAO9gC,CAAP,KAAa+gC,OAAO/gC,CAAP,CAAxB,EAAmC;EACjCghC,cAAMhhC,CAAN,IAAWkxB,IAAX;EACD;EACF;EACF;;EAED,SAAOtW,IAAIgmB,EAAX,EAAe,EAAEhmB,CAAjB,EAAoB;EAClBimB,WAAOjmB,CAAP,IAAY8lB,QAAQ9lB,CAAR,CAAZ;EACD;;EAED,SAAO,IAAIi9C,UAAJ,CAAeh3B,MAAf,EAAuB,KAAKvC,QAA5B,EAAsC,KAAKw5B,KAA3C,EAAkD,KAAK9M,GAAvD,CAAP;EACD;;EChBD,SAASrrD,KAAT,CAAeiE,IAAf,EAAqB;EACnB,SAAO,CAACA,OAAO,EAAR,EAAY0M,IAAZ,GAAmBgI,KAAnB,CAAyB,OAAzB,EAAkC8H,KAAlC,CAAwC,UAAS9M,CAAT,EAAY;EACzD,QAAItT,IAAIsT,EAAEmI,OAAF,CAAU,GAAV,CAAR;EACA,QAAIzb,KAAK,CAAT,EAAYsT,IAAIA,EAAEvQ,KAAF,CAAQ,CAAR,EAAW/C,CAAX,CAAJ;EACZ,WAAO,CAACsT,CAAD,IAAMA,MAAM,OAAnB;EACD,GAJM,CAAP;EAKD;;EAED,SAASykD,UAAT,CAAoB/B,EAApB,EAAwBpyD,IAAxB,EAA8BmhC,QAA9B,EAAwC;EACtC,MAAIizB,GAAJ;EAAA,MAASC,GAAT;EAAA,MAAcC,MAAMv4D,MAAMiE,IAAN,IAAc0yD,IAAd,GAAqB9zD,KAAzC;EACA,SAAO,YAAW;EAChB,QAAI+zD,cAAW2B,IAAI,IAAJ,EAAUlC,EAAV,CAAf;EAAA,QACIvlC,KAAK8lC,YAAS9lC,EADlB;;EAGA;EACA;EACA;EACA,QAAIA,OAAOunC,GAAX,EAAgB,CAACC,MAAM,CAACD,MAAMvnC,EAAP,EAAWrsB,IAAX,EAAP,EAA0BqsB,EAA1B,CAA6B7sB,IAA7B,EAAmCmhC,QAAnC;;EAEhBwxB,gBAAS9lC,EAAT,GAAcwnC,GAAd;EACD,GAVD;EAWD;;AAED,EAAe,wBAASr0D,IAAT,EAAemhC,QAAf,EAAyB;EACtC,MAAIixB,KAAK,KAAKhL,GAAd;;EAEA,SAAOjrD,UAAUlB,MAAV,GAAmB,CAAnB,GACD0D,MAAI,KAAK2uB,IAAL,EAAJ,EAAiB8kC,EAAjB,EAAqBvlC,EAArB,CAAwBA,EAAxB,CAA2B7sB,IAA3B,CADC,GAED,KAAKT,IAAL,CAAU40D,WAAW/B,EAAX,EAAepyD,IAAf,EAAqBmhC,QAArB,CAAV,CAFN;EAGD;;EC/BD,SAASozB,cAAT,CAAwBnC,EAAxB,EAA4B;EAC1B,SAAO,YAAW;EAChB,QAAI1wD,SAAS,KAAK47B,UAAlB;EACA,SAAK,IAAIlhC,CAAT,IAAc,KAAKm2D,YAAnB;EAAiC,UAAI,CAACn2D,CAAD,KAAOg2D,EAAX,EAAe;EAAhD,KACA,IAAI1wD,MAAJ,EAAYA,OAAO+S,WAAP,CAAmB,IAAnB;EACb,GAJD;EAKD;;AAED,EAAe,8BAAW;EACxB,SAAO,KAAKoY,EAAL,CAAQ,YAAR,EAAsB0nC,eAAe,KAAKnN,GAApB,CAAtB,CAAP;EACD;;ECNc,4BAASltB,SAAT,EAAiB;EAC9B,MAAIl6B,OAAO,KAAKk0D,KAAhB;EAAA,MACI9B,KAAK,KAAKhL,GADd;;EAGA,MAAI,OAAOltB,SAAP,KAAkB,UAAtB,EAAkCA,YAASF,SAASE,SAAT,CAAT;;EAElC,OAAK,IAAIC,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,IAAI59B,KAAJ,CAAUgQ,CAAV,CAA1D,EAAwEuK,IAAI,CAAjF,EAAoFA,IAAIvK,CAAxF,EAA2F,EAAEuK,CAA7F,EAAgG;EAC9F,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCq/B,WAAWD,UAAUrjB,CAAV,IAAe,IAAIva,KAAJ,CAAUP,CAAV,CAAnE,EAAiFoxB,IAAjF,EAAuFiN,OAAvF,EAAgGn+B,IAAI,CAAzG,EAA4GA,IAAIF,CAAhH,EAAmH,EAAEE,CAArH,EAAwH;EACtH,UAAI,CAACkxB,OAAOzT,MAAMzd,CAAN,CAAR,MAAsBm+B,UAAUL,UAAO75B,IAAP,CAAYitB,IAAZ,EAAkBA,KAAKkN,QAAvB,EAAiCp+B,CAAjC,EAAoCyd,KAApC,CAAhC,CAAJ,EAAiF;EAC/E,YAAI,cAAcyT,IAAlB,EAAwBiN,QAAQC,QAAR,GAAmBlN,KAAKkN,QAAxB;EACxBF,iBAASl+B,CAAT,IAAcm+B,OAAd;EACAo4B,iBAASr4B,SAASl+B,CAAT,CAAT,EAAsB4D,IAAtB,EAA4BoyD,EAA5B,EAAgCh2D,CAAhC,EAAmCk+B,QAAnC,EAA6C37B,MAAI2uB,IAAJ,EAAU8kC,EAAV,CAA7C;EACD;EACF;EACF;;EAED,SAAO,IAAI6B,UAAJ,CAAe55B,SAAf,EAA0B,KAAKK,QAA/B,EAAyC16B,IAAzC,EAA+CoyD,EAA/C,CAAP;EACD;;ECjBc,+BAASl4B,SAAT,EAAiB;EAC9B,MAAIl6B,OAAO,KAAKk0D,KAAhB;EAAA,MACI9B,KAAK,KAAKhL,GADd;;EAGA,MAAI,OAAOltB,SAAP,KAAkB,UAAtB,EAAkCA,YAASU,YAAYV,SAAZ,CAAT;;EAElC,OAAK,IAAIC,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8Co/B,YAAY,EAA1D,EAA8DQ,UAAU,EAAxE,EAA4E7jB,IAAI,CAArF,EAAwFA,IAAIvK,CAA5F,EAA+F,EAAEuK,CAAjG,EAAoG;EAClG,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCqyB,IAAzC,EAA+ClxB,IAAI,CAAxD,EAA2DA,IAAIF,CAA/D,EAAkE,EAAEE,CAApE,EAAuE;EACrE,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnB,aAAK,IAAIo4D,WAAWt6B,UAAO75B,IAAP,CAAYitB,IAAZ,EAAkBA,KAAKkN,QAAvB,EAAiCp+B,CAAjC,EAAoCyd,KAApC,CAAf,EAA2D2d,KAA3D,EAAkEi9B,UAAU91D,MAAI2uB,IAAJ,EAAU8kC,EAAV,CAA5E,EAA2F7kD,IAAI,CAA/F,EAAkGI,IAAI6mD,SAASv5D,MAApH,EAA4HsS,IAAII,CAAhI,EAAmI,EAAEJ,CAArI,EAAwI;EACtI,cAAIiqB,QAAQg9B,SAASjnD,CAAT,CAAZ,EAAyB;EACvBolD,qBAASn7B,KAAT,EAAgBx3B,IAAhB,EAAsBoyD,EAAtB,EAA0B7kD,CAA1B,EAA6BinD,QAA7B,EAAuCC,OAAvC;EACD;EACF;EACDp6B,kBAAUn7B,IAAV,CAAes1D,QAAf;EACA35B,gBAAQ37B,IAAR,CAAaouB,IAAb;EACD;EACF;EACF;;EAED,SAAO,IAAI2mC,UAAJ,CAAe55B,SAAf,EAA0BQ,OAA1B,EAAmC76B,IAAnC,EAAyCoyD,EAAzC,CAAP;EACD;;ECvBD,IAAI33B,cAAYoC,UAAUv+B,SAAV,CAAoBE,WAApC;;AAEA,EAAe,iCAAW;EACxB,SAAO,IAAIi8B,WAAJ,CAAc,KAAKL,OAAnB,EAA4B,KAAKM,QAAjC,CAAP;EACD;;ECDD,SAAS4D,aAAT,CAAqBt+B,IAArB,EAA2BmX,cAA3B,EAAwC;EACtC,QAAIm8C,OAAJ,EACIE,OADJ,EAEID,YAFJ;EAGA,WAAO,YAAW;EAChB,YAAIr1D,SAASkW,WAAM,IAAN,EAAYpU,IAAZ,CAAb;EAAA,YACI7B,UAAU,KAAKiW,KAAL,CAAWmqB,cAAX,CAA0Bv+B,IAA1B,GAAiCoU,WAAM,IAAN,EAAYpU,IAAZ,CAA3C,CADJ;EAEA,eAAO9B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,IAAsBn1D,WAAWq1D,OAAjC,GAA2CD,YAA3C,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8Bs1D,UAAUr1D,MAAxC,CAFrB;EAGD,KAND;EAOD;;EAED,SAASu2D,cAAT,CAAwB10D,IAAxB,EAA8B;EAC5B,WAAO,YAAW;EAChB,aAAKoU,KAAL,CAAWmqB,cAAX,CAA0Bv+B,IAA1B;EACD,KAFD;EAGD;;EAED,SAASw+B,eAAT,CAAuBx+B,IAAvB,EAA6BmX,cAA7B,EAA0ChZ,MAA1C,EAAkD;EAChD,QAAIm1D,OAAJ,EACIC,YADJ;EAEA,WAAO,YAAW;EAChB,YAAIr1D,SAASkW,WAAM,IAAN,EAAYpU,IAAZ,CAAb;EACA,eAAO9B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,GAAqBC,YAArB,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8BC,MAA9B,CAFrB;EAGD,KALD;EAMD;;EAED,SAASwgC,eAAT,CAAuB3+B,IAAvB,EAA6BmX,cAA7B,EAA0CtY,KAA1C,EAAiD;EAC/C,QAAIy0D,OAAJ,EACIE,OADJ,EAEID,YAFJ;EAGA,WAAO,YAAW;EAChB,YAAIr1D,SAASkW,WAAM,IAAN,EAAYpU,IAAZ,CAAb;EAAA,YACI7B,SAASU,MAAM,IAAN,CADb;EAEA,YAAIV,UAAU,IAAd,EAAoBA,UAAU,KAAKiW,KAAL,CAAWmqB,cAAX,CAA0Bv+B,IAA1B,GAAiCoU,WAAM,IAAN,EAAYpU,IAAZ,CAA3C;EACpB,eAAO9B,WAAWC,MAAX,GAAoB,IAApB,GACDD,WAAWo1D,OAAX,IAAsBn1D,WAAWq1D,OAAjC,GAA2CD,YAA3C,GACAA,eAAep8C,eAAYm8C,UAAUp1D,MAAtB,EAA8Bs1D,UAAUr1D,MAAxC,CAFrB;EAGD,KAPD;EAQD;;AAED,EAAe,2BAAS6B,IAAT,EAAenB,KAAf,EAAsB4/B,QAAtB,EAAgC;EAC7C,QAAIriC,IAAI,CAAC4D,QAAQ,EAAT,MAAiB,WAAjB,GAA+BkV,uBAA/B,GAAsDiC,aAA9D;EACA,WAAOtY,SAAS,IAAT,GAAgB,KACd81D,UADc,CACH30D,IADG,EACGs+B,cAAYt+B,IAAZ,EAAkB5D,CAAlB,CADH,EAEdywB,EAFc,CAEX,eAAe7sB,IAFJ,EAEU00D,eAAe10D,IAAf,CAFV,CAAhB,GAGD,KAAK20D,UAAL,CAAgB30D,IAAhB,EAAsB,OAAOnB,KAAP,KAAiB,UAAjB,GAClB8/B,gBAAc3+B,IAAd,EAAoB5D,CAApB,EAAuB82D,WAAW,IAAX,EAAiB,WAAWlzD,IAA5B,EAAkCnB,KAAlC,CAAvB,CADkB,GAElB2/B,gBAAcx+B,IAAd,EAAoB5D,CAApB,EAAuByC,QAAQ,EAA/B,CAFJ,EAEwC4/B,QAFxC,CAHN;EAMD;;ECzDD,SAASk2B,UAAT,CAAoB30D,IAApB,EAA0BnB,KAA1B,EAAiC4/B,QAAjC,EAA2C;EACzC,WAAS+zB,KAAT,GAAiB;EACf,QAAIllC,OAAO,IAAX;EAAA,QAAiBlxB,IAAIyC,MAAMsuB,KAAN,CAAYG,IAAZ,EAAkBnxB,SAAlB,CAArB;EACA,WAAOC,KAAK,UAASsT,CAAT,EAAY;EACtB4d,WAAKlZ,KAAL,CAAWsqB,WAAX,CAAuB1+B,IAAvB,EAA6B5D,EAAEsT,CAAF,CAA7B,EAAmC+uB,QAAnC;EACD,KAFD;EAGD;EACD+zB,QAAMmB,MAAN,GAAe90D,KAAf;EACA,SAAO2zD,KAAP;EACD;;AAED,EAAe,gCAASxyD,IAAT,EAAenB,KAAf,EAAsB4/B,QAAtB,EAAgC;EAC7C,MAAI//B,MAAM,YAAYsB,QAAQ,EAApB,CAAV;EACA,MAAI7D,UAAUlB,MAAV,GAAmB,CAAvB,EAA0B,OAAO,CAACyD,MAAM,KAAK8zD,KAAL,CAAW9zD,GAAX,CAAP,KAA2BA,IAAIi1D,MAAtC;EAC1B,MAAI90D,SAAS,IAAb,EAAmB,OAAO,KAAK2zD,KAAL,CAAW9zD,GAAX,EAAgB,IAAhB,CAAP;EACnB,MAAI,OAAOG,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI8Z,KAAJ,EAAN;EACjC,SAAO,KAAK65C,KAAL,CAAW9zD,GAAX,EAAgBi2D,WAAW30D,IAAX,EAAiBnB,KAAjB,EAAwB4/B,YAAY,IAAZ,GAAmB,EAAnB,GAAwBA,QAAhD,CAAhB,CAAP;EACD;;ECfD,SAASqB,cAAT,CAAsBjhC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,SAAKghC,WAAL,GAAmBhhC,KAAnB;EACD,GAFD;EAGD;;EAED,SAASkhC,cAAT,CAAsBlhC,KAAtB,EAA6B;EAC3B,SAAO,YAAW;EAChB,QAAIV,SAASU,MAAM,IAAN,CAAb;EACA,SAAKghC,WAAL,GAAmB1hC,UAAU,IAAV,GAAiB,EAAjB,GAAsBA,MAAzC;EACD,GAHD;EAID;;AAED,EAAe,0BAASU,KAAT,EAAgB;EAC7B,SAAO,KAAK2zD,KAAL,CAAW,MAAX,EAAmB,OAAO3zD,KAAP,KAAiB,UAAjB,GACpBkhC,eAAamzB,WAAW,IAAX,EAAiB,MAAjB,EAAyBr0D,KAAzB,CAAb,CADoB,GAEpBihC,eAAajhC,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,QAAQ,EAA1C,CAFC,CAAP;EAGD;;EChBc,kCAAW;EACxB,MAAImB,OAAO,KAAKk0D,KAAhB;EAAA,MACIU,MAAM,KAAKxN,GADf;EAAA,MAEIyN,MAAMC,OAFV;;EAIA,OAAK,IAAI36B,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8C+b,IAAI,CAAvD,EAA0DA,IAAIvK,CAA9D,EAAiE,EAAEuK,CAAnE,EAAsE;EACpE,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCqyB,IAAzC,EAA+ClxB,IAAI,CAAxD,EAA2DA,IAAIF,CAA/D,EAAkE,EAAEE,CAApE,EAAuE;EACrE,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnB,YAAIq4D,UAAU91D,MAAI2uB,IAAJ,EAAUsnC,GAAV,CAAd;EACAjC,iBAASrlC,IAAT,EAAettB,IAAf,EAAqB60D,GAArB,EAA0Bz4D,CAA1B,EAA6Byd,KAA7B,EAAoC;EAClC+H,gBAAM6yC,QAAQ7yC,IAAR,GAAe6yC,QAAQzD,KAAvB,GAA+ByD,QAAQ9O,QADX;EAElCqL,iBAAO,CAF2B;EAGlCrL,oBAAU8O,QAAQ9O,QAHgB;EAIlC8M,gBAAMgC,QAAQhC;EAJoB,SAApC;EAMD;EACF;EACF;;EAED,SAAO,IAAIwB,UAAJ,CAAe95B,MAAf,EAAuB,KAAKO,QAA5B,EAAsC16B,IAAtC,EAA4C60D,GAA5C,CAAP;EACD;;ECJD,IAAIzC,KAAK,CAAT;;AAEA,EAAO,SAAS6B,UAAT,CAAoB95B,MAApB,EAA4BU,OAA5B,EAAqC76B,IAArC,EAA2CoyD,EAA3C,EAA+C;EACpD,OAAKh4B,OAAL,GAAeD,MAAf;EACA,OAAKO,QAAL,GAAgBG,OAAhB;EACA,OAAKq5B,KAAL,GAAal0D,IAAb;EACA,OAAKonD,GAAL,GAAWgL,EAAX;EACD;;AAED,EAAe,SAAS1D,UAAT,CAAoB1uD,IAApB,EAA0B;EACvC,SAAO68B,YAAY6xB,UAAZ,CAAuB1uD,IAAvB,CAAP;EACD;;AAED,EAAO,SAAS80D,KAAT,GAAiB;EACtB,SAAO,EAAE1C,EAAT;EACD;;EAED,IAAI2C,sBAAsBl4B,UAAUv+B,SAApC;;EAEA21D,WAAW31D,SAAX,GAAuBowD,WAAWpwD,SAAX,GAAuB;EAC5CE,eAAay1D,UAD+B;EAE5C/5B,UAAQ86B,iBAFoC;EAG5CjyB,aAAWkyB,oBAHiC;EAI5C14C,UAAQ24C,iBAJoC;EAK5C93B,SAAO+3B,gBALqC;EAM5Ct4B,aAAWu4B,oBANiC;EAO5C1G,cAAY2G,qBAPgC;EAQ5Ch1D,QAAM00D,oBAAoB10D,IARkB;EAS5Cu3B,SAAOm9B,oBAAoBn9B,KATiB;EAU5CtK,QAAMynC,oBAAoBznC,IAVkB;EAW5CjuB,QAAM01D,oBAAoB11D,IAXkB;EAY5CC,SAAOy1D,oBAAoBz1D,KAZiB;EAa5CC,QAAMw1D,oBAAoBx1D,IAbkB;EAc5CstB,MAAIyoC,aAdwC;EAe5CxxB,QAAMyxB,eAfsC;EAgB5C9B,aAAW+B,oBAhBiC;EAiB5CphD,SAAOqhD,gBAjBqC;EAkB5Cd,cAAYe,qBAlBgC;EAmB5CtxB,QAAMuxB,eAnBsC;EAoB5C72D,UAAQ82D,iBApBoC;EAqB5CpD,SAAOqD,gBArBqC;EAsB5C7E,SAAO8E,gBAtBqC;EAuB5CnQ,YAAUoQ,mBAvBkC;EAwB5CtD,QAAMuD;EAxBsC,CAA9C;;EC9BO,SAASC,UAAT,CAAoBvmD,CAApB,EAAuB;EAC5B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgBA,IAAIA,CAAJ,GAAQA,CAAxB,GAA4B,CAACA,KAAK,CAAN,IAAWA,CAAX,GAAeA,CAAf,GAAmB,CAAhD,IAAqD,CAA5D;EACD;;MCVGwmD,KAAK75D,KAAK8R,EAAd;;MCAIgoD,MAAM,IAAI95D,KAAK8R,EAAnB;;ECKA,IAAIioD,gBAAgB;EAClBx0C,QAAM,IADY;EAElBovC,SAAO,CAFW;EAGlBrL,YAAU,GAHQ;EAIlB8M,QAAM4D;EAJY,CAApB;;EAOA,SAAS5B,OAAT,CAAiBnnC,IAAjB,EAAuB8kC,EAAvB,EAA2B;EACzB,MAAIC,MAAJ;EACA,SAAO,EAAEA,SAAS/kC,KAAKilC,YAAhB,KAAiC,EAAEF,SAASA,OAAOD,EAAP,CAAX,CAAxC,EAAgE;EAC9D,QAAI,EAAE9kC,OAAOA,KAAKgQ,UAAd,CAAJ,EAA+B;EAC7B,aAAO84B,cAAcx0C,IAAd,GAAqB0/B,KAArB,EAA4B8U,aAAnC;EACD;EACF;EACD,SAAO/D,MAAP;EACD;;AAED,EAAe,+BAASryD,IAAT,EAAe;EAC5B,MAAIoyD,EAAJ,EACIC,MADJ;;EAGA,MAAIryD,gBAAgBi0D,UAApB,EAAgC;EAC9B7B,SAAKpyD,KAAKonD,GAAV,EAAepnD,OAAOA,KAAKk0D,KAA3B;EACD,GAFD,MAEO;EACL9B,SAAK0C,OAAL,EAAc,CAACzC,SAAS+D,aAAV,EAAyBx0C,IAAzB,GAAgC0/B,KAA9C,EAAqDthD,OAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,OAAO,EAAzF;EACD;;EAED,OAAK,IAAIm6B,SAAS,KAAKC,OAAlB,EAA2B3tB,IAAI0tB,OAAOl/B,MAAtC,EAA8C+b,IAAI,CAAvD,EAA0DA,IAAIvK,CAA9D,EAAiE,EAAEuK,CAAnE,EAAsE;EACpE,SAAK,IAAI6C,QAAQsgB,OAAOnjB,CAAP,CAAZ,EAAuB9a,IAAI2d,MAAM5e,MAAjC,EAAyCqyB,IAAzC,EAA+ClxB,IAAI,CAAxD,EAA2DA,IAAIF,CAA/D,EAAkE,EAAEE,CAApE,EAAuE;EACrE,UAAIkxB,OAAOzT,MAAMzd,CAAN,CAAX,EAAqB;EACnBu2D,iBAASrlC,IAAT,EAAettB,IAAf,EAAqBoyD,EAArB,EAAyBh2D,CAAzB,EAA4Byd,KAA5B,EAAmCw4C,UAAUoC,QAAQnnC,IAAR,EAAc8kC,EAAd,CAA7C;EACD;EACF;EACF;;EAED,SAAO,IAAI6B,UAAJ,CAAe95B,MAAf,EAAuB,KAAKO,QAA5B,EAAsC16B,IAAtC,EAA4CoyD,EAA5C,CAAP;EACD;;ECrCDv1B,UAAUv+B,SAAV,CAAoBu0D,SAApB,GAAgCyD,mBAAhC;EACAz5B,UAAUv+B,SAAV,CAAoBowD,UAApB,GAAiC6H,oBAAjC;;ECFA,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACv9B,GAAD,EAAMlE,IAAN,EAAY8e,GAAZ,EAAiBsb,KAAjB,EAAwBsH,KAAxB,EAAkC;EACxD,MAAMC,cAAchI,aAAa/I,QAAb,CAAsB9R,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBrqB,MAA7C,CAApB;EACA,MAAM01B,QAAQ,SAARA,KAAQ,CAACt1D,CAAD,EAAIU,CAAJ;EAAA,WAAWA,IAAI24B,KAAK95B,MAAV,GAAoB44C,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBrqB,MAArD;EAAA,GAAd;;EAEAo7B,cACGx8B,MADH,CACU,SADV,EAEG82B,KAFH,CAESA,KAFT,EAGG3wD,IAHH,CAGQ8uD,KAHR;;EAKAuH,cACGx8B,MADH,CACU,SADV,EAEG82B,KAFH,CAESA,KAFT,EAGG3wD,IAHH,CAGQo2D,KAHR;;EAKAx9B,MACGiB,MADH,CACU,SADV,EAEG6I,SAFH,CAEa,OAFb,EAGGe,IAHH,CAGQ,SAHR,EAGmB+P,IAAIsb,KAAJ,CAAUwH,SAAV,KAAwB,IAAxB,GAA+B,CAA/B,GAAmC,CAHtD;EAIA19B,MACGiB,MADH,CACU,SADV,EAEG6I,SAFH,CAEa,OAFb,EAGGe,IAHH,CAGQ,SAHR,EAGmB+P,IAAI4iB,KAAJ,CAAU,CAAV,EAAaE,SAAb,KAA2B,IAA3B,GAAkC,CAAlC,GAAsC,CAHzD;EAIAnH,eAAav2B,GAAb,EAAkB4a,IAAIsb,KAAJ,CAAUyH,UAA5B,EAAwC,KAAxC;EACD,CAvBD;;ECSA,IAAMC,eAAe,SAAfA,YAAe,OAAQ;EAC3B,MAAMC,KAAKC,eAAiB;EAC1Bt1C,cAAU,gBADgB;EAE1B1O,UAAM,UAFoB;EAG1B6O,UAAM,UAHoB;EAI1BE,aAAS,CAAC,IAAD,EAAO,IAAP,CAJiB;EAK1BhE,UAAM,CACJ,KADI,EAEJ,KAFI,EAGJ,KAHI,EAIJ,KAJI,EAKJ,KALI,EAMJ,KANI,EAOJ,KAPI,CALoB;EAc1BmE,eAAW,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAde;EAe1BpD,YAAQ,CACN,IADM,EAEN,IAFM,EAGN,IAHM,EAIN,IAJM,EAKN,IALM,EAMN,IANM,EAON,IAPM,EAQN,IARM,EASN,IATM,EAUN,IAVM,EAWN,KAXM,EAYN,KAZM,CAfkB;EA6B1BuD,iBAAa,CACX,IADW,EAEX,IAFW,EAGX,IAHW,EAIX,IAJW,EAKX,IALW,EAMX,IANW,EAOX,IAPW,EAQX,IARW,EASX,IATW,EAUX,IAVW,EAWX,KAXW,EAYX,KAZW;EA7Ba,GAAjB,CAAX;;EA6CA,MAAMoI,oBAAoBssC,GAAGtqD,MAAH,CAAU,KAAV,CAA1B;EAAA,MACEie,eAAeqsC,GAAGtqD,MAAH,CAAU,KAAV,CADjB;EAAA,MAEEke,eAAeosC,GAAGtqD,MAAH,CAAU,OAAV,CAFjB;EAAA,MAGEme,aAAamsC,GAAGtqD,MAAH,CAAU,OAAV,CAHf;EAAA,MAIEoe,YAAYksC,GAAGtqD,MAAH,CAAU,OAAV,CAJd;EAAA,MAKEqe,aAAaisC,GAAGtqD,MAAH,CAAU,OAAV,CALf;EAAA,MAME6W,cAAcyzC,GAAGtqD,MAAH,CAAU,IAAV,CANhB;EAAA,MAOE+X,aAAauyC,GAAGtqD,MAAH,CAAU,IAAV,CAPf;;EASA,SAAO,CAAC4e,OAAWrY,IAAX,IAAmBA,IAAnB,GACJyX,iBADI,GAEJW,OAAWpY,IAAX,IAAmBA,IAAnB,GACA0X,YADA,GAEAS,KAASnY,IAAT,IAAiBA,IAAjB,GACA2X,YADA,GAEAhC,IAAQ3V,IAAR,IAAgBA,IAAhB,GACA4X,UADA,GAEAK,MAAUjY,IAAV,IAAkBA,IAAlB,GACAkY,OAASlY,IAAT,IAAiBA,IAAjB,GACE6X,SADF,GAEEC,UAHF,GAIAvB,KAASvW,IAAT,IAAiBA,IAAjB,GACAsQ,WADA,GAEAkB,UAdG,EAcSxR,IAdT,CAAP;EAeD,CAtED;;ECZA,IAAMikD,QAAQ,SAARA,KAAQ;EAAA,SACZ9T,QAAQM,KAAR,CAAcvqC,IAAd,KAAuB,KAAvB,IACAiqC,QAAQM,KAAR,CAAcvqC,IAAd,KAAuB,gBADvB,IAEAiqC,QAAQM,KAAR,CAAcvqC,IAAd,KAAuB,aAFvB,IAGAiqC,QAAQM,KAAR,CAAcvqC,IAAd,KAAuB,aAHvB,IAIAiqC,QAAQM,KAAR,CAAcvqC,IAAd,KAAuB,cALX;EAAA,CAAd;;ECcA,IAAMg+C,aAAa,SAAbA,UAAa,CAAC9iB,KAAD,EAAQuM,OAAR,EAAoB;EAAA,MACvBznB,GADuB,GACOkb,KADP,CAC7B6P,IAD6B;EAAA,MAClB5T,KADkB,GACO+D,KADP,CAClB/D,KADkB;EAAA,MACDyD,GADC,GACOM,KADP,CACXG,QADW;;;EAGrC,MAAMvf,OACJ2rB,YAAY,IAAZ,GAAmBtQ,MAAM8mB,MAAN,CAAa,CAAb,EAAgBr5D,MAAhB,CAAuBU,GAAvB,CAA2B;EAAA,WAAK7C,EAAEq5B,IAAP;EAAA,GAA3B,CAAnB,GAA6Dqb,KAD/D;;EAGA,MAAI+mB,YAAYtjB,IAAI9e,IAAJ,CAAS35B,CAAzB;EACA,MAAIg8D,SAASvjB,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,CAAb;EACA,MAAIioD,SAASF,UAAU72D,KAAvB;EACA,MAAIg3D,SAASF,OAAO92D,KAApB;EACA,MAAM6uD,QAAQP,YAAd;EACA,MAAM6H,QAAQ5H,UAAd;;EAEA;EACA,MAAImI,MAAMnjB,GAAN,MAAe,IAAnB,EAAyB;EACvBqb,qBAAiBn6B,IAAjB,EAAuB8e,GAAvB,EAA4Bsb,KAA5B;EACD,GAFD,MAEO;EACL,QAAIgI,UAAUl+C,IAAV,KAAmB85B,QAAQC,QAAR,CAAiBC,IAAxC,EAA8C;EAC5C,UAAIY,IAAIsb,KAAJ,CAAUnyD,KAAV,GAAkB,CAAtB,EAAyB;EACvB;EACAmyD,cAAMnyD,KAAN,CAAYX,KAAKgF,GAAL,CAAS0zB,KAAK95B,MAAd,EAAsB44C,IAAIsb,KAAJ,CAAUnyD,KAAhC,CAAZ;EACD,OAHD,MAGO,IAAI+3B,KAAK95B,MAAL,GAAc,EAAlB,EAAsB;EAC3Bk0D,cAAMnyD,KAAN,CAAY,EAAZ;EACD,OAFM,MAEA;EACLmyD,cAAMnyD,KAAN,CAAY+3B,KAAK95B,MAAjB;EACD;EACF,KATD,MASO,IAAIk8D,UAAUl+C,IAAV,KAAmB85B,QAAQC,QAAR,CAAiBE,MAAxC,EAAgD;EACrD,UAAIW,IAAI0jB,QAAJ,CAAalI,QAAb,KAA0Bxb,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,EAAcigD,QAA5C,EAAsD;EACpD,YAAIxb,IAAIsb,KAAJ,CAAUnyD,KAAV,GAAkB,CAAtB,EAAyB;EACvB;EACAmyD,gBAAMnyD,KAAN,CAAYX,KAAKgF,GAAL,CAAS0zB,KAAK95B,MAAd,EAAsB44C,IAAIsb,KAAJ,CAAUnyD,KAAhC,CAAZ;EACD,SAHD,MAGO;EACLmyD,gBAAMnyD,KAAN,CAAY,IAAZ;EACD;EACF,OAPD,MAOO;EACLkyD,yBAAiBn6B,IAAjB,EAAuB8e,GAAvB,EAA4Bsb,KAA5B;EACD;EACF,KAXM,MAWA,IAAIgI,UAAUl+C,IAAV,KAAmB85B,QAAQC,QAAR,CAAiBG,MAAxC,EAAgD;EACrD+b,uBAAiBn6B,IAAjB,EAAuB8e,GAAvB,EAA4Bsb,KAA5B;EACD;EACF;;EAEDmI,SAAO/7C,IAAP;;EAEA;EACA,MAAIgtB,WAASsL,IAAI4iB,KAAJ,CAAU,CAAV,EAAan7C,UAAtB,CAAJ,EAAuC;EACrCm7C,UAAMn7C,UAAN,CAAiB9O,OAAOqnC,IAAI4iB,KAAJ,CAAU,CAAV,EAAan7C,UAApB,CAAjB;EACD,GAFD,MAEO;EACLm7C,UAAMn7C,UAAN,CAAiB,IAAjB;EACD;;EAED,MAAIitB,WAASsL,IAAIsb,KAAJ,CAAU7zC,UAAnB,KAAkCu4B,IAAIsb,KAAJ,CAAU7zC,UAAV,CAAqBrgB,MAArB,GAA8B,CAApE,EAAuE;EACrEk0D,UAAM7zC,UAAN,CAAiB9O,OAAOqnC,IAAIsb,KAAJ,CAAU7zC,UAAjB,CAAjB;EACD,GAFD,MAEO,IAAI67C,UAAUl+C,IAAV,KAAmB85B,QAAQC,QAAR,CAAiBC,IAAxC,EAA8C;EACnD,QAAIY,IAAIj6B,MAAJ,KAAe,IAAnB,EAAyB;EACvBu1C,YAAM7zC,UAAN,CAAiBu7C,YAAjB;EACD,KAFD,MAEO;EACL1H,YAAM7zC,UAAN,CAAiB,IAAjB;EACD;EACF,GANM,MAMA;EACL6zC,UAAM7zC,UAAN,CAAiB,IAAjB;EACD;;EAED6zC,QAAM7uD,KAAN,CAAY+2D,MAAZ;EACAZ,QAAMn2D,KAAN,CAAYg3D,MAAZ;EACA,MACExI,SAASjb,IAAI4iB,KAAJ,CAAU,CAAV,EAAaz5D,KAAtB,KACAE,WAAS22C,IAAI4iB,KAAJ,CAAU,CAAV,EAAaz5D,KAAtB,CADA,IAEA62C,IAAI4iB,KAAJ,CAAU,CAAV,EAAaz5D,KAAb,GAAqB,CAHvB,EAIE;EACAy5D,UAAMz5D,KAAN,CAAYo6D,OAAOI,SAAnB;EACD;;EAEDhB,kBAAgBv9B,GAAhB,EAAqBlE,IAArB,EAA2B8e,GAA3B,EAAgCsb,KAAhC,EAAuCsH,KAAvC;;EAEA,SAAO;EACLr7D,OAAG+zD,KADE;EAEL//C,OAAGqnD;EAFE,GAAP;EAID,CA/ED;;ECXA,IAAMgB,aAAa,SAAbA,UAAa,CAACtjB,KAAD,EAA4B;EAAA,MAApBuM,OAAoB,uEAAV,KAAU;EAAA,MAC/BznB,GAD+B,GACRkb,KADQ,CACrC6P,IADqC;EAAA,MAChBnQ,GADgB,GACRM,KADQ,CAC1BG,QAD0B;;EAAA,oBAEZ2iB,WAAW9iB,KAAX,EAAkBuM,OAAlB,CAFY;EAAA,MAElCgX,MAFkC,eAErCt8D,CAFqC;EAAA,MAEvBu8D,MAFuB,eAE1BvoD,CAF0B;;EAI7C,MAAM+/C,QAAQl2B,IACXyL,MADW,CACJ,GADI,EAEXZ,IAFW,CAEN,OAFM,EAEG,QAFH,EAGXA,IAHW,CAGN,WAHM,EAGO,iBAAiB+P,IAAI2P,KAAJ,CAAU6B,WAA3B,GAAyC,GAHhD,EAIXhlD,IAJW,CAINq3D,MAJM,CAAd;;EAMA,MAAMjB,QAAQx9B,IACXyL,MADW,CACJ,GADI,EAEXZ,IAFW,CAEN,OAFM,EAEG,QAFH,EAGXzjC,IAHW,CAGNs3D,MAHM,CAAd;;EAKA,MAAI9jB,IAAI4iB,KAAJ,CAAUx7D,MAAV,GAAmB,CAAnB,IAAwB44C,IAAI4iB,KAAJ,CAAU,CAAV,EAAapQ,KAAb,CAAmBjiB,IAAnB,IAA2B,IAAvD,EAA6D;EAC3DnL,QACGyL,MADH,CACU,MADV,EAEGZ,IAFH,CAEQ,OAFR,EAEiB,YAFjB,EAGGA,IAHH,CAGQ,WAHR,EAGqB,aAHrB,EAIGA,IAJH,CAIQ,GAJR,EAIa,IAAI+P,IAAI2P,KAAJ,CAAUE,MAAV,CAAiBvoD,IAArB,GAA4B04C,IAAI4iB,KAAJ,CAAU,CAAV,EAAapQ,KAAb,CAAmBhqC,MAJ5D,EAKGynB,IALH,CAKQ,GALR,EAKa,IAAI+P,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CALzC,EAMGvhB,IANH,CAMQ,IANR,EAMc,KANd,EAOG1vB,KAPH,CAOS,aAPT,EAOwB,QAPxB,EAQGgwB,IARH,CAQQyP,IAAI4iB,KAAJ,CAAU,CAAV,EAAapQ,KAAb,CAAmBjiB,IAR3B;EASD;;EAED,MAAIyP,IAAIsb,KAAJ,CAAU9I,KAAV,CAAgBjiB,IAAhB,IAAwB,IAA5B,EAAkC;EAChCnL,QACGyL,MADH,CACU,MADV,EAEGZ,IAFH,CAEQ,OAFR,EAEiB,YAFjB,EAGGA,IAHH,CAII,WAJJ,EAKI,eACE+P,IAAI2P,KAAJ,CAAU4B,UAAV,GAAuB,CADzB,GAEE,IAFF,IAGGvR,IAAI2P,KAAJ,CAAU6B,WAAV,GACCxR,IAAI2P,KAAJ,CAAUE,MAAV,CAAiB5d,GADlB,GAEC+N,IAAIsb,KAAJ,CAAU9I,KAAV,CAAgBhqC,MALpB,IAME,GAXN,EAaGjI,KAbH,CAaS,aAbT,EAawB,QAbxB,EAcGgwB,IAdH,CAcQyP,IAAIsb,KAAJ,CAAU9I,KAAV,CAAgBjiB,IAdxB;EAeD;;EAED+qB,QACGpsB,SADH,CACa,OADb,EAEGe,IAFH,CAEQ,SAFR,EAEmB+P,IAAIsb,KAAJ,CAAUwH,SAAV,KAAwB,IAAxB,GAA+B,CAA/B,GAAmC,CAFtD;EAGAF,QACG1zB,SADH,CACa,OADb,EAEGe,IAFH,CAEQ,SAFR,EAEmB+P,IAAI4iB,KAAJ,CAAU,CAAV,EAAaE,SAAb,KAA2B,IAA3B,GAAkC,CAAlC,GAAsC,CAFzD;;EAIAnH,eAAav2B,GAAb,EAAkB4a,IAAIsb,KAAJ,CAAUyH,UAA5B,EAAwC,KAAxC;EACD,CArDD;;ECDA,IAAMgB,0BAA0B;EAC9BpU,SAAO;EACLE,YAAQ;EACNvoD,YAAM,EADA;EAENw7B,cAAQ,EAFF;EAGNn7B,aAAO,EAHD;EAINsqC,WAAK;EAJC;EADH,GADuB;EAS9B35B,SAAO;EACLsf,YAAQqiB,UADH;EAEL70B,UAAM85B,QAAQK,SAAR,CAAkBG;EAFnB,GATuB;EAa9BgkB,YAAU;EACRlI,cAAU,IADF;EAERwI,eAAW;EAFH,GAboB;;EAkB9BC,UAAQ;EACNC,mBAAe,KADT;EAENz3D,WAAO,IAFD;EAGNhE,SAAK,IAHC;EAIN+E,SAAK,IAJC;EAKNrE,WAAO,CALD;EAMNqpD,WAAO;EACLjiB,YAAM,EADD;EAELhwB,aAAO;EAFF;EAND,GAlBsB;;EA8B9B+6C,SAAO;EACLwH,eAAW,IADN;EAELoB,mBAAe,KAFV;EAGLz3D,WAAO,IAHF;EAILtD,WAAO,CAJF;EAKLse,gBAAY,IALP;EAMLhf,SAAK,IANA;EAOL+E,SAAK,IAPA;EAQLu1D,gBAAY,CARP;;EAULvQ,WAAO;EACLjiB,YAAM,IADD;EAELhwB,aAAO;EAFF;EAVF,GA9BuB;;EA8C9BqiD,SAAO,CACL;EACEE,eAAW,IADb;EAEEoB,mBAAe,KAFjB;EAGEz3D,WAAO,IAHT;EAIEhE,SAAK,IAJP;EAKE+E,SAAK,IALP;EAMErE,WAAO,CANT;EAOEqpD,WAAO;EACLjiB,YAAM,IADD;EAELhwB,aAAO;EAFF;EAPT,GADK,CA9CuB;;EA6D9B2gB,QAAM;EACJrnB,OAAG;EACD2hD,gBAAU,IADT;EAEDp2C,YAAM85B,QAAQC,QAAR,CAAiBG,MAFtB;EAGDiT,iBAAW,qBAAW;EAHrB,KADC;EAMJhrD,OAAG;EACDi0D,gBAAU,IADT;EAEDp2C,YAAM85B,QAAQC,QAAR,CAAiBG,MAFtB;EAGDiT,iBAAW,qBAAM;EAHhB,KANC;EAWJh3C,OAAG,CACD;EACEigD,gBAAU,IADZ;EAEEp2C,YAAM85B,QAAQC,QAAR,CAAiBE,MAFzB;EAGEkT,iBAAW,qBAAW,EAHxB;EAIEqQ,aAAO;EAJT,KADC;EAXC;EA7DwB,CAAhC;;ECCA,IAAMuB,4BAA4B,SAA5BA,yBAA4B,CAACC,QAAD,EAAWlR,OAAX,EAAuB;EACvD,MAAMmR,eAAe3R,aAAaqR,uBAAb,EAAsCK,QAAtC,EAAgDlR,OAAhD,CAArB;;EAEAmR,eAAaX,QAAb,CAAsBlI,QAAtB,GAAiC6I,aAAanjC,IAAb,CAAkB35B,CAAlB,CAAoBi0D,QAArD;;EAEA,SAAO6I,YAAP;EACD,CAND;;ECHA,IAAMC,SAAS;EACbC,UAAQ,QADK;EAEbC,QAAM,MAFO;EAGbC,cAAY,YAHC;EAIbC,UAAQ,QAJK;EAKbC,aAAW;EALE,CAAf;;ECAA,IAAMC,kBAAkB,SAAlBA,eAAkB;EAAA,SACtB5kB,IAAI9e,IAAJ,CAASrnB,CAAT,KAAehN,SAAf,IACAmzC,IAAI9e,IAAJ,CAASrnB,CAAT,KAAe,IADf,IAEAmmC,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW2hD,QAAX,KAAwB3uD,SAFxB,IAGAmzC,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW2hD,QAAX,KAAwB,IAJF;EAAA,CAAxB;;ECEA,IAAMqJ,gBAAgB,SAAhBA,aAAgB,MAAO;EAC3B,MAAIC,YAAY,GAAGhtC,MAAH,CAAUkoB,IAAI9e,IAAJ,CAAS35B,CAAnB,EAAsBy4C,IAAI9e,IAAJ,CAAS3lB,CAA/B,CAAhB;;EAEA,MAAIqpD,gBAAgB5kB,GAAhB,CAAJ,EAA0B;EACxB8kB,gBAAYA,UAAUhtC,MAAV,CAAiB,CAACkoB,IAAI9e,IAAJ,CAASrnB,CAAV,CAAjB,CAAZ;EACD;;EAED,SAAOirD,SAAP;EACD,CARD;;ECAA,IAAMC,aAAa,SAAbA,UAAa,MAAO;EACxB,MAAMD,YAAYD,cAAc7kB,GAAd,CAAlB;;EAEA,MAAMglB,SAASF,UAAUrjC,IAAV,CAAe;EAAA,WAAK51B,EAAE2vD,QAAF,KAAexb,IAAI0jB,QAAJ,CAAalI,QAAjC;EAAA,GAAf,CAAf;;EAEA,MAAIwJ,WAAWn4D,SAAX,IAAwBm4D,WAAW,IAAvC,EAA6C;EAC3C,UAAM,IAAIlgD,KAAJ,CAAU,8BAAV,CAAN;EACD;;EAED,SAAOkgD,MAAP;EACD,CAVD;;ECCA,IAAMC,WAAW,SAAXA,QAAW,CAAC1oB,KAAD,EAAQkE,QAAR,EAAqB;EACpC,MAAIA,SAASpnC,cAAT,CAAwB,UAAxB,CAAJ,EAAyC;EACvC,QAAI2rD,SAASD,WAAWtkB,QAAX,CAAb;;EAEA,QAAIykB,YAAYF,OAAOxJ,QAAvB;;EAEA,QAAI0J,cAAcr4D,SAAd,IAA2Bq4D,cAAc,IAA7C,EAAmD;EACjD,cAAQF,OAAO5/C,IAAf;EACE,aAAK85B,QAAQC,QAAR,CAAiBG,MAAtB;EACE/C,gBAAMr0B,IAAN,CAAW,UAAClhB,CAAD,EAAIC,CAAJ,EAAU;EACnB,mBAAOw5C,SAASijB,QAAT,CAAkBM,SAAlB,KAAgC,KAAhC,GACHh9D,EAAEk+D,SAAF,EAAaC,aAAb,CAA2Bl+D,EAAEi+D,SAAF,CAA3B,CADG,GAEHj+D,EAAEi+D,SAAF,EAAaC,aAAb,CAA2Bn+D,EAAEk+D,SAAF,CAA3B,CAFJ;EAGD,WAJD;EAKA;EACF;EACE3oB,gBAAMr0B,IAAN,CAAW,UAAClhB,CAAD,EAAIC,CAAJ,EAAU;EACnB,mBAAOw5C,SAASijB,QAAT,CAAkBM,SAAlB,KAAgC,KAAhC,GACHh9D,EAAEk+D,SAAF,IAAej+D,EAAEi+D,SAAF,CADZ,GAEHj+D,EAAEi+D,SAAF,IAAel+D,EAAEk+D,SAAF,CAFnB;EAGD,WAJD;;EAMA;EAfJ;EAiBD;EACF;EACF,CA1BD;;ECHA;;;;;;;;;EASA,SAASE,QAAT,CAAkBn5D,KAAlB,EAAyB04C,QAAzB,EAAmC;EACjC,MAAIt4C,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MADvC;EAAA,MAEIssC,SAAS9qC,MAAMxB,MAAN,CAFb;;EAIA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvBssC,WAAOrnC,KAAP,IAAgBs4C,SAAS14C,MAAMI,KAAN,CAAT,EAAuBA,KAAvB,EAA8BJ,KAA9B,CAAhB;EACD;EACD,SAAOynC,MAAP;EACD;;ECfD;EACA,IAAI2xB,YAAY,iBAAhB;;EAEA;;;;;;;;;;;;;;;;;EAiBA,SAASC,QAAT,CAAkBt6D,KAAlB,EAAyB;EACvB,SAAO,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAAhB,IACJwpC,eAAaxpC,KAAb,KAAuBipC,aAAWjpC,KAAX,KAAqBq6D,SAD/C;EAED;;ECrBD;EACA,IAAIE,WAAW,IAAI,CAAnB;;EAEA;EACA,IAAIC,cAAcnzB,YAASA,UAAO5nC,SAAhB,GAA4BoC,SAA9C;EAAA,IACI44D,iBAAiBD,cAAcA,YAAY9sD,QAA1B,GAAqC7L,SAD1D;;EAGA;;;;;;;;EAQA,SAAS64D,YAAT,CAAsB16D,KAAtB,EAA6B;EAC3B;EACA,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;EAC5B,WAAOA,KAAP;EACD;EACD,MAAIY,UAAQZ,KAAR,CAAJ,EAAoB;EAClB;EACA,WAAOo6D,SAASp6D,KAAT,EAAgB06D,YAAhB,IAAgC,EAAvC;EACD;EACD,MAAIJ,SAASt6D,KAAT,CAAJ,EAAqB;EACnB,WAAOy6D,iBAAiBA,eAAej5D,IAAf,CAAoBxB,KAApB,CAAjB,GAA8C,EAArD;EACD;EACD,MAAI0oC,SAAU1oC,QAAQ,EAAtB;EACA,SAAQ0oC,UAAU,GAAV,IAAkB,IAAI1oC,KAAL,IAAe,CAACu6D,QAAlC,GAA8C,IAA9C,GAAqD7xB,MAA5D;EACD;;EChCD;;;;;;;;;;;;;;;;;;;;;EAqBA,SAASh7B,QAAT,CAAkB1N,KAAlB,EAAyB;EACvB,SAAOA,SAAS,IAAT,GAAgB,EAAhB,GAAqB06D,aAAa16D,KAAb,CAA5B;EACD;;ECzBD;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAASkpC,UAAT,CAAkBlpC,KAAlB,EAAyB;EACvB,MAAIoa,cAAcpa,KAAd,yCAAcA,KAAd,CAAJ;EACA,SAAOA,SAAS,IAAT,KAAkBoa,QAAQ,QAAR,IAAoBA,QAAQ,UAA9C,CAAP;EACD;;ECzBD;EACA,IAAIugD,MAAM,IAAI,CAAd;;EAEA;EACA,IAAIC,SAAS,YAAb;;EAEA;EACA,IAAIC,aAAa,oBAAjB;;EAEA;EACA,IAAIC,aAAa,YAAjB;;EAEA;EACA,IAAIC,YAAY,aAAhB;;EAEA;EACA,IAAIC,eAAehtD,QAAnB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;EAuBA,SAASitD,QAAT,CAAkBj7D,KAAlB,EAAyB;EACvB,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;EAC5B,WAAOA,KAAP;EACD;EACD,MAAIs6D,SAASt6D,KAAT,CAAJ,EAAqB;EACnB,WAAO26D,GAAP;EACD;EACD,MAAIzxB,WAASlpC,KAAT,CAAJ,EAAqB;EACnB,QAAI41C,QAAQ,OAAO51C,MAAMmU,OAAb,IAAwB,UAAxB,GAAqCnU,MAAMmU,OAAN,EAArC,GAAuDnU,KAAnE;EACAA,YAAQkpC,WAAS0M,KAAT,IAAmBA,QAAQ,EAA3B,GAAiCA,KAAzC;EACD;EACD,MAAI,OAAO51C,KAAP,IAAgB,QAApB,EAA8B;EAC5B,WAAOA,UAAU,CAAV,GAAcA,KAAd,GAAsB,CAACA,KAA9B;EACD;EACDA,UAAQA,MAAMwZ,OAAN,CAAcohD,MAAd,EAAsB,EAAtB,CAAR;EACA,MAAIM,WAAWJ,WAAWt/C,IAAX,CAAgBxb,KAAhB,CAAf;EACA,SAAQk7D,YAAYH,UAAUv/C,IAAV,CAAexb,KAAf,CAAb,GACHg7D,aAAah7D,MAAMM,KAAN,CAAY,CAAZ,CAAb,EAA6B46D,WAAW,CAAX,GAAe,CAA5C,CADG,GAEFL,WAAWr/C,IAAX,CAAgBxb,KAAhB,IAAyB26D,GAAzB,GAA+B,CAAC36D,KAFrC;EAGD;;EC/DD;;;;;;;;;;;;;;;;;EAiBA,SAASm7D,WAAT,CAAqBn7D,KAArB,EAA4B;EAC1B,SAAOA,UAAU6B,SAAjB;EACD;;ECnBD;;;;;;;;;;;;;;;;;EAiBA,SAASu5D,MAAT,CAAgBp7D,KAAhB,EAAuB;EACrB,SAAOA,UAAU,IAAjB;EACD;;EChBD;EACA,IAAIw9C,YAAU,eAAd;;EAEA;;;;;;;EAOA,SAAS6d,UAAT,CAAoBr7D,KAApB,EAA2B;EACzB,SAAOwpC,eAAaxpC,KAAb,KAAuBipC,aAAWjpC,KAAX,KAAqBw9C,SAAnD;EACD;;ECfD;;;;;;;EAOA,SAASuB,WAAT,CAAmBjI,IAAnB,EAAyB;EACvB,SAAO,UAAS92C,KAAT,EAAgB;EACrB,WAAO82C,KAAK92C,KAAL,CAAP;EACD,GAFD;EAGD;;ECTD;EACA,IAAIg6C,gBAAc,QAAOC,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IAAyC,CAACA,QAAQC,QAAlD,IAA8DD,OAAhF;;EAEA;EACA,IAAIE,eAAaH,iBAAe,QAAOI,MAAP,yCAAOA,MAAP,MAAiB,QAAhC,IAA4CA,MAA5C,IAAsD,CAACA,OAAOF,QAA9D,IAA0EE,MAA3F;;EAEA;EACA,IAAIC,kBAAgBF,gBAAcA,aAAWF,OAAX,KAAuBD,aAAzD;;EAEA;EACA,IAAImF,gBAAc9E,mBAAiBxS,aAAWuX,OAA9C;;EAEA;EACA,IAAIC,aAAY,YAAW;EACzB,MAAI;EACF;EACA,QAAItxB,QAAQosB,gBAAcA,aAAWmF,OAAzB,IAAoCnF,aAAWmF,OAAX,CAAmB,MAAnB,EAA2BvxB,KAA3E;;EAEA,QAAIA,KAAJ,EAAW;EACT,aAAOA,KAAP;EACD;;EAED;EACA,WAAOoxB,iBAAeA,cAAYI,OAA3B,IAAsCJ,cAAYI,OAAZ,CAAoB,MAApB,CAA7C;EACD,GAVD,CAUE,OAAO3qC,CAAP,EAAU;EACb,CAZe,EAAhB;;ECXA;EACA,IAAI0mD,aAAajc,cAAYA,WAASkc,MAAtC;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIA,SAASD,aAAavc,YAAUuc,UAAV,CAAb,GAAqCD,UAAlD;;ECrBA;EACA,IAAIlyB,aAAW,wBAAf;EAAA,IACIC,YAAU,mBADd;EAAA,IAEIC,WAAS,4BAFb;EAAA,IAGIC,aAAW,gBAHf;;EAKA;;;;;;;;;;;;;;;;;EAiBA,SAASC,YAAT,CAAoBvpC,KAApB,EAA2B;EACzB,MAAI,CAACkpC,WAASlpC,KAAT,CAAL,EAAsB;EACpB,WAAO,KAAP;EACD;EACD;EACA;EACA,MAAIyoC,MAAMQ,aAAWjpC,KAAX,CAAV;EACA,SAAOyoC,OAAOW,SAAP,IAAkBX,OAAOY,QAAzB,IAAmCZ,OAAOU,UAA1C,IAAsDV,OAAOa,UAApE;EACD;;ECxBD,IAAI2L,UAAU,SAAVA,OAAU,CAAC1D,KAAD,EAAQkE,QAAR,EAAqB;EACjC,MAAI+lB,aAAaC,cAAahmB,QAAb,CAAjB;;EAEA,SAAOlE,MAAM7xC,GAAN,CAAU,aAAK;EACpB,QAAIg8D,KAAK7+D,CAAT;;EADoB;EAAA;EAAA;;EAAA;EAGpB,2BAAiB2+D,UAAjB,8HAA6B;EAAA,YAApBG,IAAoB;;EAC3B,gBAAQA,KAAKvhD,IAAb;EACE,eAAK85B,QAAQC,QAAR,CAAiBC,IAAtB;EACE,gBAAIgnB,OAAOO,KAAKhuD,MAAZ,KAAuBwtD,YAAYQ,KAAKhuD,MAAjB,CAA3B,EAAqD;EACnD,kBAAI,CAAC4tD,OAAO1+D,EAAE8+D,KAAKnL,QAAP,CAAP,CAAL,EAA+B;EAC7B,sBAAM,IAAI12C,KAAJ,CACJ6hD,KAAKnL,QAAL,GAAgB,kCADZ,CAAN;EAGD,eAJD,MAIO;EACLkL,mBAAGC,KAAKnL,QAAR,IAAoB3zD,EAAE8+D,KAAKnL,QAAP,CAApB;EACD;EACF,aARD,MAQO;EACL,kBAAIjnB,aAAWoyB,KAAKhuD,MAAhB,CAAJ,EAA6B;EAC3B+tD,mBAAGC,KAAKnL,QAAR,IAAoBmL,KAAKhuD,MAAL,CAAY9Q,EAAE8+D,KAAKnL,QAAP,CAAZ,CAApB;EACD,eAFD,MAEO;EACL,oBAAMoL,SAAS3wC,UAAU0wC,KAAKhuD,MAAf,CAAf;EACA+tD,mBAAGC,KAAKnL,QAAR,IAAoBoL,OAAO/+D,EAAE8+D,KAAKnL,QAAP,CAAP,CAApB;EACD;EACF;;EAED;;EAEF,eAAKtc,QAAQC,QAAR,CAAiBE,MAAtB;EACEqnB,eAAGC,KAAKnL,QAAR,IAAoByK,SAASp+D,EAAE8+D,KAAKnL,QAAP,CAAT,CAApB;;EAEA;EACF,eAAKtc,QAAQC,QAAR,CAAiBG,MAAtB;EACEonB,eAAGC,KAAKnL,QAAR,IAAoB9iD,SAAS7Q,EAAE8+D,KAAKnL,QAAP,CAAT,CAApB;EACA;;EAEF;EACEkL,eAAGC,KAAKnL,QAAR,IAAoB3zD,EAAE8+D,KAAKnL,QAAP,CAApB;EACA;EA/BJ;EAiCD;EArCmB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAuCpB,WAAOkL,EAAP;EACD,GAxCM,CAAP;EAyCD,CA5CD;;ECVA,IAAMG,UAAU,SAAVA,OAAU,MAAO;EAAA;EAAA;EAAA;;EAAA;EACrB,yBAAc7mB,IAAI9e,IAAJ,CAAS3lB,CAAvB,8HAA0B;EAAA,UAAjBA,CAAiB;;EACxB,UAAIykC,IAAI0jB,QAAJ,CAAalI,QAAb,KAA0BjgD,EAAEigD,QAAhC,EAA0C;EACxC,eAAO,IAAP;EACD;EACF;EALoB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAOrB,SAAO,KAAP;EACD,CARD;;ECQA,IAAMsL,OAAO,SAAPA,IAAO,CAAC5lC,IAAD,EAAO6lC,GAAP;EAAA,SACX7lC,KACGx2B,GADH,CACO;EAAA,WAAK7C,EAAEk/D,IAAIvL,QAAN,CAAL;EAAA,GADP,EAEG9yC,MAFH,CAEU,UAACs+C,GAAD,EAAMC,GAAN,EAAWv0B,GAAX;EAAA,WAAmBA,IAAI1uB,OAAJ,CAAYgjD,GAAZ,MAAqBC,GAAxC;EAAA,GAFV,CADW;EAAA,CAAb;;EAKA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAAChmC,IAAD,EAAO8e,GAAP,EAAe;EAC1C,MAAM+mB,MAAM/mB,IAAI9e,IAAJ,CAAS35B,CAArB;;EAEA,MAAI47D,MAAMnjB,GAAN,CAAJ,EAAgB;EACd+mB,QAAI/8D,MAAJ,GAAa88D,KAAK5lC,IAAL,EAAW6lC,GAAX,CAAb;;EAEAA,QAAIt6D,KAAJ,GAAY06D,OACT76D,MADS,CACFy6D,IAAI/8D,MADF,EAETrB,KAFS,CAEH,CAAC,CAAD,EAAIq3C,IAAI2P,KAAJ,CAAU4B,UAAd,CAFG,EAGTtkD,YAHS,CAGI,GAHJ,EAITC,YAJS,CAII,GAJJ,CAAZ;;EAMA;EACD;;EAED,MAAI25D,QAAQ7mB,GAAR,CAAJ,EAAkB;EAChB+mB,QAAI/8D,MAAJ,GAAa88D,KAAK5lC,IAAL,EAAW6lC,GAAX,CAAb;EACAA,QAAIt6D,KAAJ,GAAY26D,QACT96D,MADS,CACFy6D,IAAI/8D,MADF,EAETrB,KAFS,CAEH,CAAC,CAAD,EAAIq3C,IAAI2P,KAAJ,CAAU4B,UAAd,CAFG,CAAZ;;EAIA;EACD;;EAED,UAAQwV,IAAI3hD,IAAZ;EACE,SAAK85B,QAAQC,QAAR,CAAiBC,IAAtB;EACE2nB,UAAI/8D,MAAJ,GAAa88D,KAAK5lC,IAAL,EAAW6lC,GAAX,CAAb;;EAEA,UAAIM,SAAStmC,SAAOG,IAAP,EAAa;EAAA,eAAKr5B,EAAEk/D,IAAIvL,QAAN,CAAL;EAAA,OAAb,CAAb;;EAEAuL,UAAIv5D,GAAJ,GAAU65D,OAAO,CAAP,CAAV;EACAN,UAAIt+D,GAAJ,GAAU4+D,OAAO,CAAP,CAAV;;EAEAN,UAAIt6D,KAAJ,GAAY66D,YACTh7D,MADS,CACF0zC,IAAI0jB,QAAJ,CAAaM,SAAb,KAA2B,KAA3B,GAAmCqD,MAAnC,GAA4CA,OAAOn+D,OAAP,EAD1C,EAETP,KAFS,CAEH,CAAC,CAAD,EAAIq3C,IAAI2P,KAAJ,CAAU4B,UAAd,CAFG,EAGTjuC,WAHS,CAGGQ,gBAHH,CAAZ;;EAKA;;EAEF,SAAKo7B,QAAQC,QAAR,CAAiBE,MAAtB;EACE;EACA0nB,UAAI/8D,MAAJ,GAAa88D,KAAK5lC,IAAL,EAAW6lC,GAAX,CAAb;;EAEA,UAAIQ,WAAWxmC,SAAOG,IAAP,EAAa;EAAA,eAAKr5B,EAAEk/D,IAAIvL,QAAN,CAAL;EAAA,OAAb,CAAf;;EAEAuL,UAAIv5D,GAAJ,GAAU+5D,SAAS,CAAT,CAAV;EACAR,UAAIt+D,GAAJ,GAAU8+D,SAAS,CAAT,CAAV;;EAEAR,UAAIt6D,KAAJ,GAAYgwC,WACTnwC,MADS,CAER0zC,IAAI0jB,QAAJ,CAAaM,SAAb,KAA2B,KAA3B,GAAmCuD,QAAnC,GAA8CA,SAASr+D,OAAT,EAFtC,EAITP,KAJS,CAIH,CAAC,CAAD,EAAIq3C,IAAI2P,KAAJ,CAAU4B,UAAd,CAJG,CAAZ;;EAMA;EACF,SAAKrS,QAAQC,QAAR,CAAiBG,MAAtB;EACEynB,UAAI/8D,MAAJ,GAAa88D,KAAK5lC,IAAL,EAAW6lC,GAAX,CAAb;EACAA,UAAIt6D,KAAJ,GAAY26D,QACT96D,MADS,CACFy6D,IAAI/8D,MADF,EAETrB,KAFS,CAEH,CAAC,CAAD,EAAIq3C,IAAI2P,KAAJ,CAAU4B,UAAd,CAFG,CAAZ;;EAIA;;EAEF;EACE;EAzCJ;EA2CD,CAnED;;ECXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA4BA,SAAS53C,OAAT,CAAe3O,KAAf,EAAsB;EACpB;EACA;EACA;EACA,SAAOiwD,SAASjwD,KAAT,KAAmBA,SAAS,CAACA,KAApC;EACD;;EC/BD,IAAMw8D,YAAY,SAAZA,SAAY;EAAA,SAAah/D,KAAKmB,GAAL,CAAS,EAAT,EAAa89D,SAAb,CAAb;EAAA,CAAlB;;EAEA,IAAMC,aAAa,SAAbA,UAAa,MAAO;EACxB,MAAIj/D,OAAO,CAAX,EAAc;EACZ,WAAOD,KAAKwE,KAAL,CAAWvE,GAAX,EAAgBiQ,QAAhB,GAA2BtR,MAAlC;EACD,GAFD,MAEO;EACL,QAAIqgE,YAAY,CAAhB;EACA,WAAOh/D,MAAMD,KAAKmB,GAAL,CAAS,EAAT,EAAa89D,YAAY,CAAzB,CAAb,EAA0C;EACxCA,kBAAYA,YAAY,CAAxB;EACD;EACD,WAAOA,SAAP;EACD;EACF,CAVD;;EAYA;EACA,IAAME,gBAAgB,SAAhBA,aAAgB,CAACh/D,KAAD,EAAQQ,KAAR,EAAey+D,IAAf,EAAwB;EAC5C,MAAIp6D,MAAM,CAAV;EACA,MAAI/E,MAAME,MAAM,CAAN,CAAV;EACA,MAAIk/D,SAAS,MAAb;EACA,MAAIpM,WAAW,CAAf;;EAEA,MACE,OAAOtyD,KAAP,IAAgB,QAAhB,IACA,CAACwQ,QAAMX,SAAS7P,KAAT,CAAN,CADD,IAEAE,SAASF,KAAT,CAFA,IAGAA,QAAQ,CAJV,EAKE;EACAsyD,eAAWtyD,KAAX;EACD;;EAED,MAAIV,MAAM+E,GAAN,IAAa,CAAb,IAAmBA,AAAY/E,OAAO,CAA1C,EAA8C;EAC5C,WAAO,CAAC+E,GAAD,EAAM,CAAN,EAASiuD,YAAY,CAAZ,GAAgB,CAAhB,GAAoBjzD,KAAKgF,GAAL,CAASiuD,QAAT,EAAmB,CAAnB,CAA7B,CAAP;EACD,GAFD,MAEO,IAAIA,YAAY,CAAhB,EAAmB;EACxB,WAAO,CAACjuD,GAAD,EAAM/E,GAAN,EAAW,CAAX,CAAP;EACD;;EAED,MACE,OAAOm/D,IAAP,IAAe,QAAf,IACA,CAACjuD,QAAMmuD,WAAWF,IAAX,CAAN,CADD,IAEAv+D,SAASu+D,IAAT,CAFA,IAGAA,OAAO,CAHP,IAIAn/D,MAAMm/D,IAAN,IAAcnM,QALhB,EAME;EACA,QAAInqB,UAAUs2B,IAAd;EACA,QAAIG,WAAWp/D,MAAM,CAAN,CAAf;EACA,QAAIQ,SAAQ,CAAZ;EACA,WAAO,IAAP,EAAa;EACX,UAAIV,MAAMo/D,SAASv2B,OAAnB,EAA4B;EAC1By2B,mBAAWz2B,OAAX;EACA;EACD,OAHD,MAGO;EACLA,kBAAUA,UAAUs2B,IAApB;EACAz+D,iBAAQA,SAAQ,CAAhB;EACD;EACF;EACD,WAAO,CAACqE,GAAD,EAAMu6D,QAAN,EAAgB5+D,MAAhB,CAAP;EACD,GApBD,MAoBO;EACL,QAAIs+D,YAAYC,WAAWj/D,GAAX,CAAhB;EACA,QAAIs/D,YAAWP,UAAUC,SAAV,CAAf;EACA,QAAIllD,OAAO,CAAX;EACA,QAAIylD,aAAa,CAAjB;;EAEA,QAAIvM,YAAY,CAAhB,EAAmB;EACjB,UAAIhzD,MAAOo/D,SAASE,SAAV,GAAsB,CAAhC,EAAmC;EACjCxlD,eAAO,EAAP;EACD,OAFD,MAEO,IAAI9Z,MAAOo/D,SAASE,SAAV,GAAsB,CAAhC,EAAmC;EACxCxlD,eAAO,EAAP;EACD,OAFM,MAEA,IAAI9Z,MAAMo/D,SAASE,SAAnB,EAA6B;EAClCxlD,eAAO,EAAP;EACD;EACF,KARD,MAQO;EACLylD,mBAAavM,QAAb;EACAl5C,aAAO/Z,KAAKmB,GAAL,CAAS,EAAT,EAAa8xD,SAAS/iD,QAAT,GAAoBtR,MAAjC,CAAP;EACA,UAAIqB,MAAOo/D,SAASE,SAAT,GAAoB,CAArB,GAA0BxlD,IAApC,EAA0C;EACxCA,eAAOA,OAAO,CAAd;EACD,OAFD,MAEO,IAAI9Z,MAAOo/D,SAASE,SAAT,GAAoB,CAArB,GAA0BxlD,IAApC,EAA0C;EAC/CA,eAAOA,OAAO,CAAd;EACD;EACF;;EAED,QAAIqlD,QAAOG,YAAWxlD,IAAtB;EACA,QAAI+uB,WAAUs2B,QAAOI,UAArB;EACA,QAAI7+D,UAAQ,CAAZ;;EAEA,WAAO,IAAP,EAAa;EACX,UAAIV,MAAMo/D,SAASv2B,QAAnB,EAA4B;EAC1By2B,oBAAWz2B,QAAX;EACA;EACD,OAHD,MAGO;EACLA,mBAAUA,WAAUs2B,QAAOI,UAA3B;EACA7+D,kBAAQA,UAAQ,CAAhB;EACD;EACF;;EAED,QAAIsyD,YAAY,CAAhB,EAAmB;EACjB;EACA,cAAQtyD,OAAR;EACE,aAAK,EAAL;EACEA,oBAAQ,CAAR;EACA;EACF,aAAK,CAAL;EACEA,oBAAQ,CAAR;EACA;EACF,aAAK,CAAL;EACEA,oBAAQ,CAAR;EACA;EATJ;EAWD,KAbD,MAaO;EACL,UAAI8+D,WAAWxM,QAAf;EACA,aAAOhzD,MAAMo/D,UAAUE,YAAWH,QAAOz+D,OAA5B,CAAb,EAAiD;EAC/C4+D,oBAAWA,YAAWH,QAAOz+D,OAA7B;EACA8+D;EACD;EACD9+D,gBAAQ8+D,QAAR;EACD;;EAED,QAAIR,YAAY,CAAhB,EAAmB;EACjB,UAAItiD,YAAY3c,KAAKmB,GAAL,CAAS,EAAT,EAAa,CAAC,CAAD,GAAK89D,SAAL,GAAiB,CAA9B,CAAhB;EACAM,kBAAWv/D,KAAKwE,KAAL,CAAW+6D,YAAW5iD,SAAtB,IAAmCA,SAA9C;EACD;;EAED,WAAO,CAAC3X,GAAD,EAAMu6D,SAAN,EAAgB5+D,OAAhB,CAAP;EACD;EACF,CA5GD;;EA8GA;EACA,IAAM++D,8BAA8B,SAA9BA,2BAA8B,CAACv/D,KAAD,EAAQQ,KAAR,EAAey+D,IAAf,EAAwB;EAC1D,MAAIC,SAAS,MAAb;EACA,MAAIpM,WAAW,CAAf;;EAEA,MACE,OAAOtyD,KAAP,IAAgB,QAAhB,IACA,CAACwQ,QAAMX,SAAS7P,KAAT,CAAN,CADD,IAEAE,SAASF,KAAT,CAFA,IAGAA,QAAQ,CAJV,EAKE;EACAsyD,eAAWtyD,KAAX;EACD;EACD,MAAIsyD,YAAY,CAAhB,EAAmB;EACjB,WAAO,CAAC9yD,MAAM,CAAN,CAAD,EAAWA,MAAM,CAAN,CAAX,EAAqB,CAArB,CAAP;EACD;;EAED,MACE,OAAOi/D,IAAP,IAAe,QAAf,IACA,CAACjuD,QAAMmuD,WAAWF,IAAX,CAAN,CADD,IAEAv+D,SAASu+D,IAAT,CAFA,IAGAA,OAAO,CAHP,IAIA,CAACp/D,KAAKsB,GAAL,CAASnB,MAAM,CAAN,CAAT,IAAqBH,KAAKsB,GAAL,CAASnB,MAAM,CAAN,CAAT,CAAtB,IAA4Ci/D,IAA5C,IAAoDnM,QALtD,EAME;EACA,QAAI0M,WAAWx/D,MAAM,CAAN,CAAf;EACA,QAAI2oC,UAAUs2B,OAAO,CAAC,CAAtB;EACA,QAAIz+D,UAAQ,CAAZ;EACA,WAAO,IAAP,EAAa;EACX,UAAIg/D,WAAWN,SAASv2B,OAAxB,EAAiC;EAC/B62B,mBAAW72B,OAAX;EACA;EACD,OAHD,MAGO;EACLA,kBAAUA,UAAUs2B,IAApB;EACAz+D,kBAAQA,UAAQ,CAAhB;EACD;EACF;;EAED,QAAI4+D,WAAWp/D,MAAM,CAAN,CAAf;EACA2oC,cAAUs2B,IAAV;;EAEA,WAAO,IAAP,EAAa;EACX,UAAIj/D,QAAQk/D,SAASv2B,OAArB,EAA8B;EAC5By2B,mBAAWz2B,OAAX;EACA;EACD,OAHD,MAGO;EACLA,kBAAUA,UAAUs2B,IAApB;EACAz+D,kBAAQA,UAAQ,CAAhB;EACD;EACF;EACD,WAAO,CAACg/D,QAAD,EAAWJ,QAAX,EAAqB5+D,OAArB,CAAP;EACD,GAjCD,MAiCO;EACL,QAAIi/D,SAAS5/D,KAAKsB,GAAL,CAASnB,MAAM,CAAN,CAAT,CAAb;EACA,QAAI6E,MAAM46D,SAASz/D,MAAM,CAAN,CAAT,GAAoBy/D,MAApB,GAA6Bz/D,MAAM,CAAN,CAAvC;EACA,QAAIF,MAAM2/D,SAASz/D,MAAM,CAAN,CAAT,GAAoBy/D,MAApB,GAA6Bz/D,MAAM,CAAN,CAAvC;;EAEA,QAAI8+D,YAAYC,WAAWj/D,GAAX,CAAhB;EACA,QAAIs/D,aAAWP,UAAUC,SAAV,CAAf;EACA,QAAIU,YAAW36D,GAAf;EACA,QAAI+U,OAAO,CAAX;EACA,QAAIylD,aAAa,CAAjB;;EAEA,QAAIvM,YAAY,CAAhB,EAAmB;EACjB,UAAIhzD,MAAOo/D,SAASE,UAAV,GAAsB,CAAhC,EAAmC;EACjCxlD,eAAO,EAAP;EACD,OAFD,MAEO,IAAI9Z,MAAOo/D,SAASE,UAAV,GAAsB,CAAhC,EAAmC;EACxCxlD,eAAO,EAAP;EACD,OAFM,MAEA,IAAI9Z,MAAMo/D,SAASE,UAAnB,EAA6B;EAClCxlD,eAAO,EAAP;EACD;EACF,KARD,MAQO;EACLylD,mBAAavM,QAAb;EACAl5C,aAAO/Z,KAAKmB,GAAL,CAAS,EAAT,EAAa8xD,SAAS/iD,QAAT,GAAoBtR,MAAjC,CAAP;EACA,UAAIqB,MAAOo/D,SAASE,UAAT,GAAoB,CAArB,GAA0BxlD,IAApC,EAA0C;EACxCA,eAAOA,OAAO,CAAd;EACD,OAFD,MAEO,IAAI9Z,MAAOo/D,SAASE,UAAT,GAAoB,CAArB,GAA0BxlD,IAApC,EAA0C;EAC/CA,eAAOA,OAAO,CAAd;EACD;EACF;;EAED,QAAIqlD,SAAOG,aAAWxlD,IAAtB;EACA,QAAI+uB,YAAUs2B,SAAOI,UAArB;EACA,QAAI7+D,UAAQ,CAAZ;;EAEA,WAAO,IAAP,EAAa;EACX,UAAIV,MAAMo/D,SAASv2B,SAAnB,EAA4B;EAC1By2B,qBAAWz2B,SAAX;EACA;EACD,OAHD,MAGO;EACLA,oBAAUA,YAAUs2B,SAAOI,UAA3B;EACA7+D,kBAAQA,UAAQ,CAAhB;EACD;EACF;;EAED;EACAmoC,gBAAUs2B,SAAOI,UAAjB;EACA,WAAO,IAAP,EAAa;EACX,UAAIx6D,MAAMq6D,SAASv2B,SAAnB,EAA4B;EAC1B62B,oBAAW72B,SAAX;EACA;EACD,OAHD,MAGO;EACLA,oBAAUA,YAAUs2B,SAAOI,UAA3B;EACA7+D,kBAAQA,UAAQ,CAAhB;EACD;EACF;;EAED,QAAIsyD,WAAW,CAAf,EAAkB;EAChB,UAAIwM,WAAWxM,QAAf;EACA,aAAOhzD,MAAMo/D,UAAUE,aAAWH,SAAOz+D,OAA5B,CAAb,EAAiD;EAC/C4+D,qBAAWA,aAAWH,SAAOz+D,OAA7B;EACA8+D;EACD;EACD,aAAOz6D,MAAMq6D,UAAUM,YAAWP,SAAOz+D,OAA5B,CAAb,EAAiD;EAC/Cg/D,oBAAWA,YAAWP,SAAOz+D,OAA7B;EACA8+D;EACD;EACD9+D,gBAAQ8+D,QAAR;EACD;;EAED,WAAOG,SAASz/D,MAAM,CAAN,CAAT,GACH,CAACw/D,YAAW,CAAC,CAAb,EAAgBJ,UAAhB,EAA0B5+D,OAA1B,CADG,GAEH,CAAC4+D,aAAW,CAAC,CAAb,EAAgBI,SAAhB,EAA0Bh/D,OAA1B,CAFJ;EAGD;EACF,CAzHD;;EA2HA,IAAMk/D,YAAY,SAAZA,SAAY,CAAC1/D,KAAD,EAAQQ,KAAR,EAAey+D,IAAf,EAAwB;EACxC,MACEj/D,MAAMvB,MAAN,IAAgB,CAAhB,IACA++D,YAAYx9D,MAAM,CAAN,CAAZ,CADA,IAEAy9D,OAAOz9D,MAAM,CAAN,CAAP,CAFA,IAGAgR,QAAMhR,MAAM,CAAN,CAAN,CAHA,IAIAw9D,YAAYx9D,MAAM,CAAN,CAAZ,CAJA,IAKAy9D,OAAOz9D,MAAM,CAAN,CAAP,CALA,IAMAgR,QAAMhR,MAAM,CAAN,CAAN,CAPF,EAQE;EACA,WAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;EACD,GAVD,MAUO,IAAIA,MAAM,CAAN,KAAY,CAAhB,EAAmB;EACxB;EACA,WAAOg/D,cAAch/D,KAAd,EAAqBQ,KAArB,EAA4By+D,IAA5B,CAAP;EACD,GAHM,MAGA,IAAIj/D,MAAM,CAAN,KAAY,CAAhB,EAAmB;EACxB;EACA,QAAI8D,QAAQk7D,cAAc,CAACh/D,MAAM,CAAN,IAAW,CAAC,CAAb,EAAgBA,MAAM,CAAN,IAAW,CAAC,CAA5B,CAAd,EAA8CQ,KAA9C,EAAqDy+D,IAArD,CAAZ;EACA,WAAO,CAACn7D,MAAM,CAAN,IAAW,CAAC,CAAb,EAAgBA,MAAM,CAAN,IAAW,CAAC,CAA5B,CAAP;EACD,GAJM,MAIA;EACL;EACA,WAAOy7D,4BAA4Bv/D,KAA5B,EAAmCQ,KAAnC,EAA0Cy+D,IAA1C,CAAP;EACD;EACF,CAtBD;;ECpPA,IAAMU,UAAU,SAAVA,OAAU;EAAA,SAAK,CAACnC,YAAYt+D,CAAZ,CAAD,IAAmB,CAACu+D,OAAOv+D,CAAP,CAApB,IAAiCozD,SAASpzD,CAAT,CAAtC;EAAA,CAAhB;;EAEA,IAAM0gE,oBAAoB,SAApBA,iBAAoB,CAACrnC,IAAD,EAAO8e,GAAP,EAAe;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA,UAC3Bz3C,CAD2B;EAAA,UACxBhB,CADwB;;EAErC,UAAMihE,QAAQxoB,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAWmN,MAAX,CAAkB;EAAA,eAAK7gB,EAAE+6D,KAAF,KAAYr6D,CAAjB;EAAA,OAAlB,CAAd;EACA,UAAMkgE,YAAYD,MAAM99D,GAAN,CAAU;EAAA,eAAKq2B,SAAOG,IAAP,EAAa;EAAA,iBAAS2G,MAAMhgC,EAAE2zD,QAAR,CAAT;EAAA,SAAb,CAAL;EAAA,OAAV,CAAlB;;EAEA,UAAIkN,eAAel7D,MAAIi7D,SAAJ,EAAe;EAAA,eAAK5gE,EAAE,CAAF,CAAL;EAAA,OAAf,CAAnB;EACA,UAAI8gE,eAAelgE,MAAIggE,SAAJ,EAAe;EAAA,eAAK5gE,EAAE,CAAF,CAAL;EAAA,OAAf,CAAnB;;EAEA,UAAIygE,QAAQ/gE,EAAEiG,GAAV,CAAJ,EAAoB;EAClB,YAAIjG,EAAEiG,GAAF,GAAQk7D,YAAZ,EAA0B;EACxB7vB,kBAAQnvC,KAAR,CAAc,qDAAd;EACD,SAFD,MAEO;EACLg/D,yBAAenhE,EAAEiG,GAAjB;EACD;EACF;;EAED,UAAI86D,QAAQ/gE,EAAEkB,GAAV,CAAJ,EAAoB;EAClB,YAAIlB,EAAEkB,GAAF,GAAQkgE,YAAZ,EAA0B;EACxB9vB,kBAAQnvC,KAAR,CAAc,qDAAd;EACD,SAFD,MAEO;EACLi/D,yBAAephE,EAAEkB,GAAjB;EACD;EACF;;EAEDlB,QAAEiG,GAAF,GAAQk7D,YAAR;EACAnhE,QAAEkB,GAAF,GAAQkgE,YAAR;EAzBqC;;EACvC,yBAAqB3oB,IAAI4iB,KAAJ,CAAUr3D,OAAV,EAArB,8HAA0C;EAAA;EAyBzC;EA1BsC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;;EAAA;EA4BvC,0BAAcy0C,IAAI9e,IAAJ,CAAS3lB,CAAvB,mIAA0B;EAAA,UAAjB3C,CAAiB;;EACxBA,QAAEgqD,KAAF,GAAUhqD,EAAEgqD,KAAF,IAAW,CAArB;;EAEA,UAAI5iB,IAAI4iB,KAAJ,CAAUx7D,MAAV,GAAmBwR,EAAEgqD,KAAF,GAAU,CAAjC,EAAoC;EAClC,cAAM,IAAI99C,KAAJ,CAAU,0CAA0ClM,EAAE4iD,QAAtD,CAAN;EACD;;EAED,UAAMoN,UAAU5oB,IAAI4iB,KAAJ,CAAUhqD,EAAEgqD,KAAZ,CAAhB;EACA,UAAMj6D,QAAQ,CAACigE,QAAQp7D,GAAT,EAAco7D,QAAQngE,GAAtB,CAAd;;EAEA,UAAIogE,eAAeR,UACjB1/D,KADiB,EAEjBq3C,IAAI4iB,KAAJ,CAAUhqD,EAAEgqD,KAAZ,EAAmBz5D,KAFF,EAGjB62C,IAAI4iB,KAAJ,CAAUhqD,EAAEgqD,KAAZ,EAAmBgF,IAHF,CAAnB;;EAMAhvD,QAAEkwD,QAAF,GAAaD,aAAa,CAAb,CAAb;EACAjwD,QAAEmwD,QAAF,GAAaF,aAAa,CAAb,CAAb;EACAjwD,QAAE+qD,SAAF,GAAckF,aAAa,CAAb,CAAd;;EAEAjwD,QAAEpL,GAAF,GAAQ7E,MAAM,CAAN,CAAR;EACAiQ,QAAEnQ,GAAF,GAAQE,MAAM,CAAN,CAAR;;EAEAiQ,QAAEnM,KAAF,GAAUgwC,WACPnwC,MADO,CACA,CAACsM,EAAEkwD,QAAH,EAAalwD,EAAEmwD,QAAf,CADA,EAEPpgE,KAFO,CAED,CAACq3C,IAAI2P,KAAJ,CAAU6B,WAAX,EAAwB,CAAxB,CAFC,CAAV;EAGD;EAtDsC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAuDxC,CAvDD;;ECRA,IAAMwX,qBAAqB,SAArBA,kBAAqB,CAAC9nC,IAAD,EAAO8e,GAAP,EAAe;EACxCknB,uBAAqBhmC,IAArB,EAA2B8e,GAA3B;EACAuoB,oBAAkBrnC,IAAlB,EAAwB8e,GAAxB;EACD,CAHD;;ECCA;;;;;EAKA,IAAMipB,uBAAuB,SAAvBA,oBAAuB,CAAC/nC,IAAD,EAAO8e,GAAP,EAAmC;EAAA,MAAvBkpB,WAAuB,uEAAT,IAAS;;EAC9D,MAAMv8D,OAAOu0B,KAAK51B,KAAL,EAAb;EACA;EACA,MAAI69D,WAAWD,gBAAgB,IAAhB,GAAuBjpB,QAAQtzC,IAAR,EAAcqzC,GAAd,CAAvB,GAA4CrzC,IAA3D;;EAEAs4D,WAASkE,QAAT,EAAmBnpB,GAAnB;EACAgpB,qBAAmBG,QAAnB,EAA6BnpB,GAA7B;;EAEA,SAAOmpB,QAAP;EACD,CATD;;ECTA,IAAI9G,OAAK75D,KAAK8R,EAAd;EAAA,IACIgoD,QAAM,IAAID,IADd;EAAA,IAEInmC,YAAU,IAFd;EAAA,IAGIktC,aAAa9G,QAAMpmC,SAHvB;;EAKA,SAASmtC,IAAT,GAAgB;EACd,OAAK/mC,GAAL,GAAW,KAAKC,GAAL;EACX,OAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,IADtB,CADc;EAGd,OAAK/1B,CAAL,GAAS,EAAT;EACD;;EAED,SAAS8tD,IAAT,GAAgB;EACd,SAAO,IAAI6O,IAAJ,EAAP;EACD;;EAEDA,KAAK5+D,SAAL,GAAiB+vD,KAAK/vD,SAAL,GAAiB;EAChCE,eAAa0+D,IADmB;EAEhC5T,UAAQ,gBAASluD,CAAT,EAAYgU,CAAZ,EAAe;EACrB,SAAK7O,CAAL,IAAU,OAAO,KAAK41B,GAAL,GAAW,KAAKE,GAAL,GAAW,CAACj7B,CAA9B,IAAmC,GAAnC,IAA0C,KAAKg7B,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAClnB,CAAjE,CAAV;EACD,GAJ+B;EAKhCo6C,aAAW,qBAAW;EACpB,QAAI,KAAKnzB,GAAL,KAAa,IAAjB,EAAuB;EACrB,WAAKA,GAAL,GAAW,KAAKF,GAAhB,EAAqB,KAAKG,GAAL,GAAW,KAAKF,GAArC;EACA,WAAK71B,CAAL,IAAU,GAAV;EACD;EACF,GAV+B;EAWhCgpD,UAAQ,gBAASnuD,CAAT,EAAYgU,CAAZ,EAAe;EACrB,SAAK7O,CAAL,IAAU,OAAO,KAAK81B,GAAL,GAAW,CAACj7B,CAAnB,IAAwB,GAAxB,IAA+B,KAAKk7B,GAAL,GAAW,CAAClnB,CAA3C,CAAV;EACD,GAb+B;EAchC+tD,oBAAkB,0BAASzhD,EAAT,EAAaoT,EAAb,EAAiB1zB,CAAjB,EAAoBgU,CAApB,EAAuB;EACvC,SAAK7O,CAAL,IAAU,MAAO,CAACmb,EAAR,GAAc,GAAd,GAAqB,CAACoT,EAAtB,GAA4B,GAA5B,IAAmC,KAAKuH,GAAL,GAAW,CAACj7B,CAA/C,IAAoD,GAApD,IAA2D,KAAKk7B,GAAL,GAAW,CAAClnB,CAAvE,CAAV;EACD,GAhB+B;EAiBhCguD,iBAAe,uBAAS1hD,EAAT,EAAaoT,EAAb,EAAiBkI,EAAjB,EAAqBC,EAArB,EAAyB77B,CAAzB,EAA4BgU,CAA5B,EAA+B;EAC5C,SAAK7O,CAAL,IAAU,MAAO,CAACmb,EAAR,GAAc,GAAd,GAAqB,CAACoT,EAAtB,GAA4B,GAA5B,GAAmC,CAACkI,EAApC,GAA0C,GAA1C,GAAiD,CAACC,EAAlD,GAAwD,GAAxD,IAA+D,KAAKZ,GAAL,GAAW,CAACj7B,CAA3E,IAAgF,GAAhF,IAAuF,KAAKk7B,GAAL,GAAW,CAAClnB,CAAnG,CAAV;EACD,GAnB+B;EAoBhCiuD,SAAO,eAAS3hD,EAAT,EAAaoT,EAAb,EAAiBkI,EAAjB,EAAqBC,EAArB,EAAyB9pB,CAAzB,EAA4B;EACjCuO,SAAK,CAACA,EAAN,EAAUoT,KAAK,CAACA,EAAhB,EAAoBkI,KAAK,CAACA,EAA1B,EAA8BC,KAAK,CAACA,EAApC,EAAwC9pB,IAAI,CAACA,CAA7C;EACA,QAAIsO,KAAK,KAAK4a,GAAd;EAAA,QACIxH,KAAK,KAAKyH,GADd;EAAA,QAEIgnC,MAAMtmC,KAAKtb,EAFf;EAAA,QAGI6hD,MAAMtmC,KAAKnI,EAHf;EAAA,QAII0uC,MAAM/hD,KAAKC,EAJf;EAAA,QAKI+hD,MAAM5uC,KAAKC,EALf;EAAA,QAMI4uC,QAAQF,MAAMA,GAAN,GAAYC,MAAMA,GAN9B;;EAQA;EACA,QAAItwD,IAAI,CAAR,EAAW,MAAM,IAAIwL,KAAJ,CAAU,sBAAsBxL,CAAhC,CAAN;;EAEX;EACA,QAAI,KAAKkpB,GAAL,KAAa,IAAjB,EAAuB;EACrB,WAAK91B,CAAL,IAAU,OAAO,KAAK81B,GAAL,GAAW3a,EAAlB,IAAwB,GAAxB,IAA+B,KAAK4a,GAAL,GAAWxH,EAA1C,CAAV;EACD;;EAED;EAJA,SAKK,IAAI,EAAE4uC,QAAQ3tC,SAAV,CAAJ,EAAuB;;EAE5B;EACA;EACA;EAJK,WAKA,IAAI,EAAE1zB,KAAKsB,GAAL,CAAS8/D,MAAMH,GAAN,GAAYC,MAAMC,GAA3B,IAAkCztC,SAApC,KAAgD,CAAC5iB,CAArD,EAAwD;EAC3D,eAAK5M,CAAL,IAAU,OAAO,KAAK81B,GAAL,GAAW3a,EAAlB,IAAwB,GAAxB,IAA+B,KAAK4a,GAAL,GAAWxH,EAA1C,CAAV;EACD;;EAED;EAJK,aAKA;EACH,gBAAI6uC,MAAM3mC,KAAKvb,EAAf;EAAA,gBACImiD,MAAM3mC,KAAKpI,EADf;EAAA,gBAEIgvC,QAAQP,MAAMA,GAAN,GAAYC,MAAMA,GAF9B;EAAA,gBAGIO,QAAQH,MAAMA,GAAN,GAAYC,MAAMA,GAH9B;EAAA,gBAIIG,MAAM1hE,KAAKM,IAAL,CAAUkhE,KAAV,CAJV;EAAA,gBAKIG,MAAM3hE,KAAKM,IAAL,CAAU+gE,KAAV,CALV;EAAA,gBAMI/vD,IAAIR,IAAI9Q,KAAKkP,GAAL,CAAS,CAAC2qD,OAAK75D,KAAK4hE,IAAL,CAAU,CAACJ,QAAQH,KAAR,GAAgBI,KAAjB,KAA2B,IAAIC,GAAJ,GAAUC,GAArC,CAAV,CAAN,IAA8D,CAAvE,CANZ;EAAA,gBAOIE,MAAMvwD,IAAIqwD,GAPd;EAAA,gBAQIG,MAAMxwD,IAAIowD,GARd;;EAUA;EACA,gBAAI1hE,KAAKsB,GAAL,CAASugE,MAAM,CAAf,IAAoBnuC,SAAxB,EAAiC;EAC/B,mBAAKxvB,CAAL,IAAU,OAAOmb,KAAKwiD,MAAMV,GAAlB,IAAyB,GAAzB,IAAgC1uC,KAAKovC,MAAMT,GAA3C,CAAV;EACD;;EAED,iBAAKl9D,CAAL,IAAU,MAAM4M,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,OAApB,GAA+B,EAAEswD,MAAME,GAAN,GAAYH,MAAMI,GAApB,CAA/B,GAA2D,GAA3D,IAAkE,KAAKvnC,GAAL,GAAW3a,KAAKyiD,MAAMb,GAAxF,IAA+F,GAA/F,IAAsG,KAAKhnC,GAAL,GAAWxH,KAAKqvC,MAAMZ,GAA5H,CAAV;EACD;EACF,GAnE+B;EAoEhC1rC,OAAK,aAASz2B,CAAT,EAAYgU,CAAZ,EAAejC,CAAf,EAAkBixD,EAAlB,EAAsBC,EAAtB,EAA0BC,GAA1B,EAA+B;EAClCljE,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb,EAAgBjC,IAAI,CAACA,CAArB;EACA,QAAIgiB,KAAKhiB,IAAI9Q,KAAK2S,GAAL,CAASovD,EAAT,CAAb;EAAA,QACIhvC,KAAKjiB,IAAI9Q,KAAK6S,GAAL,CAASkvD,EAAT,CADb;EAAA,QAEI3iD,KAAKrgB,IAAI+zB,EAFb;EAAA,QAGIN,KAAKzf,IAAIggB,EAHb;EAAA,QAIImvC,KAAK,IAAID,GAJb;EAAA,QAKIE,KAAKF,MAAMF,KAAKC,EAAX,GAAgBA,KAAKD,EAL9B;;EAOA;EACA,QAAIjxD,IAAI,CAAR,EAAW,MAAM,IAAIwL,KAAJ,CAAU,sBAAsBxL,CAAhC,CAAN;;EAEX;EACA,QAAI,KAAKkpB,GAAL,KAAa,IAAjB,EAAuB;EACrB,WAAK91B,CAAL,IAAU,MAAMkb,EAAN,GAAW,GAAX,GAAiBoT,EAA3B;EACD;;EAED;EAJA,SAKK,IAAIxyB,KAAKsB,GAAL,CAAS,KAAK04B,GAAL,GAAW5a,EAApB,IAA0BsU,SAA1B,IAAqC1zB,KAAKsB,GAAL,CAAS,KAAK24B,GAAL,GAAWzH,EAApB,IAA0BkB,SAAnE,EAA4E;EAC/E,aAAKxvB,CAAL,IAAU,MAAMkb,EAAN,GAAW,GAAX,GAAiBoT,EAA3B;EACD;;EAED;EACA,QAAI,CAAC1hB,CAAL,EAAQ;;EAER;EACA,QAAIqxD,KAAK,CAAT,EAAYA,KAAKA,KAAKrI,KAAL,GAAWA,KAAhB;;EAEZ;EACA,QAAIqI,KAAKvB,UAAT,EAAqB;EACnB,WAAK18D,CAAL,IAAU,MAAM4M,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,OAApB,GAA8BoxD,EAA9B,GAAmC,GAAnC,IAA0CnjE,IAAI+zB,EAA9C,IAAoD,GAApD,IAA2D/f,IAAIggB,EAA/D,IAAqE,GAArE,GAA2EjiB,CAA3E,GAA+E,GAA/E,GAAqFA,CAArF,GAAyF,OAAzF,GAAmGoxD,EAAnG,GAAwG,GAAxG,IAA+G,KAAKloC,GAAL,GAAW5a,EAA1H,IAAgI,GAAhI,IAAuI,KAAK6a,GAAL,GAAWzH,EAAlJ,CAAV;EACD;;EAED;EAJA,SAKK,IAAI2vC,KAAKzuC,SAAT,EAAkB;EACrB,aAAKxvB,CAAL,IAAU,MAAM4M,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,KAApB,GAA6B,EAAEqxD,MAAMtI,IAAR,CAA7B,GAA4C,GAA5C,GAAkDqI,EAAlD,GAAuD,GAAvD,IAA8D,KAAKloC,GAAL,GAAWj7B,IAAI+R,IAAI9Q,KAAK2S,GAAL,CAASqvD,EAAT,CAAjF,IAAiG,GAAjG,IAAwG,KAAK/nC,GAAL,GAAWlnB,IAAIjC,IAAI9Q,KAAK6S,GAAL,CAASmvD,EAAT,CAA3H,CAAV;EACD;EACF,GAzG+B;EA0GhC14B,QAAM,cAASvqC,CAAT,EAAYgU,CAAZ,EAAeoZ,CAAf,EAAkB/a,CAAlB,EAAqB;EACzB,SAAKlN,CAAL,IAAU,OAAO,KAAK41B,GAAL,GAAW,KAAKE,GAAL,GAAW,CAACj7B,CAA9B,IAAmC,GAAnC,IAA0C,KAAKg7B,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAClnB,CAAjE,IAAsE,GAAtE,GAA6E,CAACoZ,CAA9E,GAAmF,GAAnF,GAA0F,CAAC/a,CAA3F,GAAgG,GAAhG,GAAuG,CAAC+a,CAAxG,GAA6G,GAAvH;EACD,GA5G+B;EA6GhCjc,YAAU,oBAAW;EACnB,WAAO,KAAKhM,CAAZ;EACD;EA/G+B,CAAlC;;ECfe,qBAASnF,CAAT,EAAY;EACzB,SAAO,SAASgW,QAAT,GAAoB;EACzB,WAAOhW,CAAP;EACD,GAFD;EAGD;;ECJM,IAAIuC,MAAMtB,KAAKsB,GAAf;AACP,EAAO,IAAIiS,QAAQvT,KAAKuT,KAAjB;AACP,EAAO,IAAIZ,MAAM3S,KAAK2S,GAAf;AACP,EAAO,IAAI1S,QAAMD,KAAKC,GAAf;AACP,EAAO,IAAI+E,QAAMhF,KAAKgF,GAAf;AACP,EAAO,IAAI6N,MAAM7S,KAAK6S,GAAf;AACP,EAAO,IAAIvS,SAAON,KAAKM,IAAhB;;AAEP,EAAO,IAAIozB,YAAU,KAAd;AACP,EAAO,IAAImmC,OAAK75D,KAAK8R,EAAd;AACP,EAAO,IAAIswD,WAASvI,OAAK,CAAlB;AACP,EAAO,IAAIC,QAAM,IAAID,IAAd;;AAEP,EAAO,SAAS+H,IAAT,CAAc7iE,CAAd,EAAiB;EACtB,SAAOA,IAAI,CAAJ,GAAQ,CAAR,GAAYA,IAAI,CAAC,CAAL,GAAS86D,IAAT,GAAc75D,KAAK4hE,IAAL,CAAU7iE,CAAV,CAAjC;EACD;;AAED,EAAO,SAASsjE,IAAT,CAActjE,CAAd,EAAiB;EACtB,SAAOA,KAAK,CAAL,GAASqjE,QAAT,GAAkBrjE,KAAK,CAAC,CAAN,GAAU,CAACqjE,QAAX,GAAoBpiE,KAAKqiE,IAAL,CAAUtjE,CAAV,CAA7C;EACD;;ECfD,SAASujE,cAAT,CAAwBjjE,CAAxB,EAA2B;EACzB,SAAOA,EAAEqwD,WAAT;EACD;;EAED,SAAS6S,cAAT,CAAwBljE,CAAxB,EAA2B;EACzB,SAAOA,EAAEswD,WAAT;EACD;;EAED,SAAS6S,aAAT,CAAuBnjE,CAAvB,EAA0B;EACxB,SAAOA,EAAEsvD,UAAT;EACD;;EAED,SAAS8T,WAAT,CAAqBpjE,CAArB,EAAwB;EACtB,SAAOA,EAAEqjE,QAAT;EACD;;EAED,SAASC,WAAT,CAAqBtjE,CAArB,EAAwB;EACtB,SAAOA,KAAKA,EAAEujE,QAAd,CADsB;EAEvB;;EAED,SAASC,SAAT,CAAmBzjD,EAAnB,EAAuBoT,EAAvB,EAA2BnT,EAA3B,EAA+BoT,EAA/B,EAAmCkI,EAAnC,EAAuCC,EAAvC,EAA2CC,EAA3C,EAA+CC,EAA/C,EAAmD;EACjD,MAAIgoC,MAAMzjD,KAAKD,EAAf;EAAA,MAAmB2jD,MAAMtwC,KAAKD,EAA9B;EAAA,MACIwwC,MAAMnoC,KAAKF,EADf;EAAA,MACmBsoC,MAAMnoC,KAAKF,EAD9B;EAAA,MAEIvnB,IAAI,CAAC2vD,OAAOxwC,KAAKoI,EAAZ,IAAkBqoC,OAAO7jD,KAAKub,EAAZ,CAAnB,KAAuCsoC,MAAMH,GAAN,GAAYE,MAAMD,GAAzD,CAFR;EAGA,SAAO,CAAC3jD,KAAK/L,IAAIyvD,GAAV,EAAetwC,KAAKnf,IAAI0vD,GAAxB,CAAP;EACD;;EAED;EACA;EACA,SAASG,cAAT,CAAwB9jD,EAAxB,EAA4BoT,EAA5B,EAAgCnT,EAAhC,EAAoCoT,EAApC,EAAwChY,EAAxC,EAA4C0oD,EAA5C,EAAgDjB,EAAhD,EAAoD;EAClD,MAAIf,MAAM/hD,KAAKC,EAAf;EAAA,MACI+hD,MAAM5uC,KAAKC,EADf;EAAA,MAEIzzB,KAAK,CAACkjE,KAAKiB,EAAL,GAAU,CAACA,EAAZ,IAAkB7iE,OAAK6gE,MAAMA,GAAN,GAAYC,MAAMA,GAAvB,CAF3B;EAAA,MAGIgC,KAAKpkE,KAAKoiE,GAHd;EAAA,MAIIiC,KAAK,CAACrkE,EAAD,GAAMmiE,GAJf;EAAA,MAKImC,MAAMlkD,KAAKgkD,EALf;EAAA,MAMIG,MAAM/wC,KAAK6wC,EANf;EAAA,MAOIP,MAAMzjD,KAAK+jD,EAPf;EAAA,MAQIL,MAAMtwC,KAAK4wC,EARf;EAAA,MASIG,MAAM,CAACF,MAAMR,GAAP,IAAc,CATxB;EAAA,MAUIW,MAAM,CAACF,MAAMR,GAAP,IAAc,CAVxB;EAAA,MAWIjwC,KAAKgwC,MAAMQ,GAXf;EAAA,MAYIvwC,KAAKgwC,MAAMQ,GAZf;EAAA,MAaIxuC,KAAKjC,KAAKA,EAAL,GAAUC,KAAKA,EAbxB;EAAA,MAcIjiB,IAAI2J,KAAK0oD,EAdb;EAAA,MAeIvvD,IAAI0vD,MAAMP,GAAN,GAAYD,MAAMS,GAf1B;EAAA,MAgBIlkE,IAAI,CAAC0zB,KAAK,CAAL,GAAS,CAAC,CAAV,GAAc,CAAf,IAAoBzyB,OAAKL,MAAI,CAAJ,EAAO6Q,IAAIA,CAAJ,GAAQikB,EAAR,GAAanhB,IAAIA,CAAxB,CAAL,CAhB5B;EAAA,MAiBI8vD,MAAM,CAAC9vD,IAAImf,EAAJ,GAASD,KAAKzzB,CAAf,IAAoB01B,EAjB9B;EAAA,MAkBI4uC,MAAM,CAAC,CAAC/vD,CAAD,GAAKkf,EAAL,GAAUC,KAAK1zB,CAAhB,IAAqB01B,EAlB/B;EAAA,MAmBI6uC,MAAM,CAAChwD,IAAImf,EAAJ,GAASD,KAAKzzB,CAAf,IAAoB01B,EAnB9B;EAAA,MAoBI8uC,MAAM,CAAC,CAACjwD,CAAD,GAAKkf,EAAL,GAAUC,KAAK1zB,CAAhB,IAAqB01B,EApB/B;EAAA,MAqBI+uC,MAAMJ,MAAMF,GArBhB;EAAA,MAsBIO,MAAMJ,MAAMF,GAtBhB;EAAA,MAuBIO,MAAMJ,MAAMJ,GAvBhB;EAAA,MAwBIS,MAAMJ,MAAMJ,GAxBhB;;EA0BA;EACA;EACA,MAAIK,MAAMA,GAAN,GAAYC,MAAMA,GAAlB,GAAwBC,MAAMA,GAAN,GAAYC,MAAMA,GAA9C,EAAmDP,MAAME,GAAN,EAAWD,MAAME,GAAjB;;EAEnD,SAAO;EACL7tC,QAAI0tC,GADC;EAELjuC,QAAIkuC,GAFC;EAGLxC,SAAK,CAACiC,EAHD;EAILhC,SAAK,CAACiC,EAJD;EAKLC,SAAKI,OAAOjpD,KAAK3J,CAAL,GAAS,CAAhB,CALA;EAMLyyD,SAAKI,OAAOlpD,KAAK3J,CAAL,GAAS,CAAhB;EANA,GAAP;EAQD;;AAED,EAAe,gBAAW;EACxB,MAAI4+C,cAAc4S,cAAlB;EAAA,MACI3S,cAAc4S,cADlB;EAAA,MAEI2B,eAAenvD,WAAS,CAAT,CAFnB;EAAA,MAGIovD,YAAY,IAHhB;EAAA,MAIIxV,aAAa6T,aAJjB;EAAA,MAKIE,WAAWD,WALf;EAAA,MAMIG,WAAWD,WANf;EAAA,MAOI3V,UAAU,IAPd;;EASA,WAASx3B,GAAT,GAAe;EACb,QAAIynB,MAAJ;EAAA,QACInsC,CADJ;EAAA,QAEI0J,KAAK,CAACk1C,YAAY5+B,KAAZ,CAAkB,IAAlB,EAAwBhxB,SAAxB,CAFV;EAAA,QAGI2a,KAAK,CAACk1C,YAAY7+B,KAAZ,CAAkB,IAAlB,EAAwBhxB,SAAxB,CAHV;EAAA,QAIIiiE,KAAKpT,WAAW79B,KAAX,CAAiB,IAAjB,EAAuBhxB,SAAvB,IAAoCsiE,QAJ7C;EAAA,QAKIJ,KAAKU,SAAS5xC,KAAT,CAAe,IAAf,EAAqBhxB,SAArB,IAAkCsiE,QAL3C;EAAA,QAMID,KAAK7gE,IAAI0gE,KAAKD,EAAT,CANT;EAAA,QAOIG,KAAKF,KAAKD,EAPd;;EASA,QAAI,CAAC/U,OAAL,EAAcA,UAAU/P,SAAS+U,MAAnB;;EAEd;EACA,QAAIv3C,KAAKD,EAAT,EAAa1J,IAAI2J,EAAJ,EAAQA,KAAKD,EAAb,EAAiBA,KAAK1J,CAAtB;;EAEb;EACA,QAAI,EAAE2J,KAAKiZ,SAAP,CAAJ,EAAqBs5B,QAAQC,MAAR,CAAe,CAAf,EAAkB,CAAlB;;EAErB;EAFA,SAGK,IAAIkV,KAAKrI,QAAMpmC,SAAf,EAAwB;EAC3Bs5B,gBAAQC,MAAR,CAAexyC,KAAK9H,IAAIovD,EAAJ,CAApB,EAA6BtnD,KAAK5H,IAAIkvD,EAAJ,CAAlC;EACA/U,gBAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/a,EAAlB,EAAsBsnD,EAAtB,EAA0BC,EAA1B,EAA8B,CAACE,EAA/B;EACA,YAAI1nD,KAAKkZ,SAAT,EAAkB;EAChBs5B,kBAAQC,MAAR,CAAezyC,KAAK7H,IAAIqvD,EAAJ,CAApB,EAA6BxnD,KAAK3H,IAAImvD,EAAJ,CAAlC;EACAhV,kBAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkBhb,EAAlB,EAAsBwnD,EAAtB,EAA0BD,EAA1B,EAA8BG,EAA9B;EACD;EACF;;EAED;EATK,WAUA;EACH,cAAIkC,MAAMrC,EAAV;EAAA,cACIsC,MAAMrC,EADV;EAAA,cAEIsC,MAAMvC,EAFV;EAAA,cAGIwC,MAAMvC,EAHV;EAAA,cAIIwC,MAAMrC,EAJV;EAAA,cAKIsC,MAAMtC,EALV;EAAA,cAMIuC,KAAK9B,SAAS9xC,KAAT,CAAe,IAAf,EAAqBhxB,SAArB,IAAkC,CAN3C;EAAA,cAOI6kE,KAAMD,KAAKhxC,SAAN,KAAmBywC,YAAY,CAACA,UAAUrzC,KAAV,CAAgB,IAAhB,EAAsBhxB,SAAtB,CAAb,GAAgDQ,OAAKka,KAAKA,EAAL,GAAUC,KAAKA,EAApB,CAAnE,CAPT;EAAA,cAQI0oD,KAAKn+D,MAAI1D,IAAImZ,KAAKD,EAAT,IAAe,CAAnB,EAAsB,CAAC0pD,aAAapzC,KAAb,CAAmB,IAAnB,EAAyBhxB,SAAzB,CAAvB,CART;EAAA,cASI8kE,MAAMzB,EATV;EAAA,cAUI0B,MAAM1B,EAVV;EAAA,cAWI/wD,EAXJ;EAAA,cAYIC,EAZJ;;EAcA;EACA,cAAIsyD,KAAKjxC,SAAT,EAAkB;EAChB,gBAAIoxC,KAAKzC,KAAKsC,KAAKnqD,EAAL,GAAU3H,IAAI6xD,EAAJ,CAAf,CAAT;EAAA,gBACIK,KAAK1C,KAAKsC,KAAKlqD,EAAL,GAAU5H,IAAI6xD,EAAJ,CAAf,CADT;EAEA,gBAAI,CAACF,OAAOM,KAAK,CAAb,IAAkBpxC,SAAtB,EAA+BoxC,MAAO5C,KAAK,CAAL,GAAS,CAAC,CAAjB,EAAqBoC,OAAOQ,EAA5B,EAAgCP,OAAOO,EAAvC,CAA/B,KACKN,MAAM,CAAN,EAASF,MAAMC,MAAM,CAACxC,KAAKC,EAAN,IAAY,CAAjC;EACL,gBAAI,CAACyC,OAAOM,KAAK,CAAb,IAAkBrxC,SAAtB,EAA+BqxC,MAAO7C,KAAK,CAAL,GAAS,CAAC,CAAjB,EAAqBkC,OAAOW,EAA5B,EAAgCV,OAAOU,EAAvC,CAA/B,KACKN,MAAM,CAAN,EAASL,MAAMC,MAAM,CAACtC,KAAKC,EAAN,IAAY,CAAjC;EACN;;EAED,cAAIb,MAAM1mD,KAAK9H,IAAIyxD,GAAJ,CAAf;EAAA,cACIhD,MAAM3mD,KAAK5H,IAAIuxD,GAAJ,CADf;EAAA,cAEItB,MAAMtoD,KAAK7H,IAAI4xD,GAAJ,CAFf;EAAA,cAGIxB,MAAMvoD,KAAK3H,IAAI0xD,GAAJ,CAHf;;EAKA;EACA,cAAIpB,KAAKzvC,SAAT,EAAkB;EAChB,gBAAI4vC,MAAM7oD,KAAK9H,IAAI0xD,GAAJ,CAAf;EAAA,gBACId,MAAM9oD,KAAK5H,IAAIwxD,GAAJ,CADf;EAAA,gBAEIb,MAAMhpD,KAAK7H,IAAI2xD,GAAJ,CAFf;EAAA,gBAGIb,MAAMjpD,KAAK3H,IAAIyxD,GAAJ,CAHf;;EAKA;EACA,gBAAInC,KAAKtI,IAAT,EAAa;EACX,kBAAImL,KAAKR,MAAM9wC,SAAN,GAAgBmvC,UAAU1B,GAAV,EAAeC,GAAf,EAAoBoC,GAApB,EAAyBC,GAAzB,EAA8BH,GAA9B,EAAmCC,GAAnC,EAAwCT,GAAxC,EAA6CC,GAA7C,CAAhB,GAAoE,CAACD,GAAD,EAAMC,GAAN,CAA7E;EAAA,kBACIrwC,KAAKyuC,MAAM6D,GAAG,CAAH,CADf;EAAA,kBAEIryC,KAAKyuC,MAAM4D,GAAG,CAAH,CAFf;EAAA,kBAGIpyC,KAAK0wC,MAAM0B,GAAG,CAAH,CAHf;EAAA,kBAIInyC,KAAK0wC,MAAMyB,GAAG,CAAH,CAJf;EAAA,kBAKIC,KAAK,IAAIpyD,IAAI+uD,KAAK,CAAClvC,KAAKE,EAAL,GAAUD,KAAKE,EAAhB,KAAuBvyB,OAAKoyB,KAAKA,EAAL,GAAUC,KAAKA,EAApB,IAA0BryB,OAAKsyB,KAAKA,EAAL,GAAUC,KAAKA,EAApB,CAAjD,CAAL,IAAkF,CAAtF,CALb;EAAA,kBAMIqyC,KAAK5kE,OAAK0kE,GAAG,CAAH,IAAQA,GAAG,CAAH,CAAR,GAAgBA,GAAG,CAAH,IAAQA,GAAG,CAAH,CAA7B,CANT;EAOAJ,oBAAM5/D,MAAIm+D,EAAJ,EAAQ,CAAC3oD,KAAK0qD,EAAN,KAAaD,KAAK,CAAlB,CAAR,CAAN;EACAJ,oBAAM7/D,MAAIm+D,EAAJ,EAAQ,CAAC1oD,KAAKyqD,EAAN,KAAaD,KAAK,CAAlB,CAAR,CAAN;EACD;EACF;;EAED;EACA,cAAI,EAAER,MAAM/wC,SAAR,CAAJ,EAAsBs5B,QAAQC,MAAR,CAAekU,GAAf,EAAoBC,GAApB;;EAEtB;EAFA,eAGK,IAAIyD,MAAMnxC,SAAV,EAAmB;EACtBthB,mBAAK8wD,eAAeM,GAAf,EAAoBC,GAApB,EAAyBtC,GAAzB,EAA8BC,GAA9B,EAAmC3mD,EAAnC,EAAuCoqD,GAAvC,EAA4C3C,EAA5C,CAAL;EACA7vD,mBAAK6wD,eAAeI,GAAf,EAAoBC,GAApB,EAAyBT,GAAzB,EAA8BC,GAA9B,EAAmCtoD,EAAnC,EAAuCoqD,GAAvC,EAA4C3C,EAA5C,CAAL;;EAEAlV,sBAAQC,MAAR,CAAe76C,GAAG4jB,EAAH,GAAQ5jB,GAAG+uD,GAA1B,EAA+B/uD,GAAGqjB,EAAH,GAAQrjB,GAAGgvD,GAA1C;;EAEA;EACA,kBAAIyD,MAAM1B,EAAV,EAAcnW,QAAQx3B,GAAR,CAAYpjB,GAAG4jB,EAAf,EAAmB5jB,GAAGqjB,EAAtB,EAA0BovC,GAA1B,EAA+BtxD,MAAMnB,GAAGgvD,GAAT,EAAchvD,GAAG+uD,GAAjB,CAA/B,EAAsD5tD,MAAMlB,GAAG+uD,GAAT,EAAc/uD,GAAG8uD,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;;EAEd;EAFA,mBAGK;EACHlV,0BAAQx3B,GAAR,CAAYpjB,GAAG4jB,EAAf,EAAmB5jB,GAAGqjB,EAAtB,EAA0BovC,GAA1B,EAA+BtxD,MAAMnB,GAAGgvD,GAAT,EAAchvD,GAAG+uD,GAAjB,CAA/B,EAAsD5tD,MAAMnB,GAAGmxD,GAAT,EAAcnxD,GAAGkxD,GAAjB,CAAtD,EAA6E,CAACpB,EAA9E;EACAlV,0BAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/a,EAAlB,EAAsBlH,MAAMnB,GAAGqjB,EAAH,GAAQrjB,GAAGmxD,GAAjB,EAAsBnxD,GAAG4jB,EAAH,GAAQ5jB,GAAGkxD,GAAjC,CAAtB,EAA6D/vD,MAAMlB,GAAGojB,EAAH,GAAQpjB,GAAGkxD,GAAjB,EAAsBlxD,GAAG2jB,EAAH,GAAQ3jB,GAAGixD,GAAjC,CAA7D,EAAoG,CAACpB,EAArG;EACAlV,0BAAQx3B,GAAR,CAAYnjB,GAAG2jB,EAAf,EAAmB3jB,GAAGojB,EAAtB,EAA0BovC,GAA1B,EAA+BtxD,MAAMlB,GAAGkxD,GAAT,EAAclxD,GAAGixD,GAAjB,CAA/B,EAAsD/vD,MAAMlB,GAAG+uD,GAAT,EAAc/uD,GAAG8uD,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;EACD;EACF;;EAED;EAjBK,iBAkBAlV,QAAQC,MAAR,CAAekU,GAAf,EAAoBC,GAApB,GAA0BpU,QAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/a,EAAlB,EAAsB2pD,GAAtB,EAA2BC,GAA3B,EAAgC,CAACnC,EAAjC,CAA1B;;EAEL;EACA;EACA,cAAI,EAAE1nD,KAAKkZ,SAAP,KAAmB,EAAE8wC,MAAM9wC,SAAR,CAAvB,EAAyCs5B,QAAQE,MAAR,CAAe4V,GAAf,EAAoBC,GAApB;;EAEzC;EAFA,eAGK,IAAI6B,MAAMlxC,SAAV,EAAmB;EACtBthB,mBAAK8wD,eAAeJ,GAAf,EAAoBC,GAApB,EAAyBO,GAAzB,EAA8BC,GAA9B,EAAmC/oD,EAAnC,EAAuC,CAACoqD,GAAxC,EAA6C1C,EAA7C,CAAL;EACA7vD,mBAAK6wD,eAAe/B,GAAf,EAAoBC,GAApB,EAAyBoC,GAAzB,EAA8BC,GAA9B,EAAmCjpD,EAAnC,EAAuC,CAACoqD,GAAxC,EAA6C1C,EAA7C,CAAL;;EAEAlV,sBAAQE,MAAR,CAAe96C,GAAG4jB,EAAH,GAAQ5jB,GAAG+uD,GAA1B,EAA+B/uD,GAAGqjB,EAAH,GAAQrjB,GAAGgvD,GAA1C;;EAEA;EACA,kBAAIwD,MAAMzB,EAAV,EAAcnW,QAAQx3B,GAAR,CAAYpjB,GAAG4jB,EAAf,EAAmB5jB,GAAGqjB,EAAtB,EAA0BmvC,GAA1B,EAA+BrxD,MAAMnB,GAAGgvD,GAAT,EAAchvD,GAAG+uD,GAAjB,CAA/B,EAAsD5tD,MAAMlB,GAAG+uD,GAAT,EAAc/uD,GAAG8uD,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;;EAEd;EAFA,mBAGK;EACHlV,0BAAQx3B,GAAR,CAAYpjB,GAAG4jB,EAAf,EAAmB5jB,GAAGqjB,EAAtB,EAA0BmvC,GAA1B,EAA+BrxD,MAAMnB,GAAGgvD,GAAT,EAAchvD,GAAG+uD,GAAjB,CAA/B,EAAsD5tD,MAAMnB,GAAGmxD,GAAT,EAAcnxD,GAAGkxD,GAAjB,CAAtD,EAA6E,CAACpB,EAA9E;EACAlV,0BAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkBhb,EAAlB,EAAsBjH,MAAMnB,GAAGqjB,EAAH,GAAQrjB,GAAGmxD,GAAjB,EAAsBnxD,GAAG4jB,EAAH,GAAQ5jB,GAAGkxD,GAAjC,CAAtB,EAA6D/vD,MAAMlB,GAAGojB,EAAH,GAAQpjB,GAAGkxD,GAAjB,EAAsBlxD,GAAG2jB,EAAH,GAAQ3jB,GAAGixD,GAAjC,CAA7D,EAAoGpB,EAApG;EACAlV,0BAAQx3B,GAAR,CAAYnjB,GAAG2jB,EAAf,EAAmB3jB,GAAGojB,EAAtB,EAA0BmvC,GAA1B,EAA+BrxD,MAAMlB,GAAGkxD,GAAT,EAAclxD,GAAGixD,GAAjB,CAA/B,EAAsD/vD,MAAMlB,GAAG+uD,GAAT,EAAc/uD,GAAG8uD,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;EACD;EACF;;EAED;EAjBK,iBAkBAlV,QAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkBhb,EAAlB,EAAsB+pD,GAAtB,EAA2BD,GAA3B,EAAgCpC,EAAhC;EACN;;EAEDlV,YAAQG,SAAR;;EAEA,QAAIlQ,MAAJ,EAAY,OAAO+P,UAAU,IAAV,EAAgB/P,SAAS,EAAT,IAAe,IAAtC;EACb;;EAEDznB,MAAI2vC,QAAJ,GAAe,YAAW;EACxB,QAAIr0D,IAAI,CAAC,CAAC4+C,YAAY5+B,KAAZ,CAAkB,IAAlB,EAAwBhxB,SAAxB,CAAD,GAAsC,CAAC6vD,YAAY7+B,KAAZ,CAAkB,IAAlB,EAAwBhxB,SAAxB,CAAxC,IAA8E,CAAtF;EAAA,QACItB,IAAI,CAAC,CAACmwD,WAAW79B,KAAX,CAAiB,IAAjB,EAAuBhxB,SAAvB,CAAD,GAAqC,CAAC4iE,SAAS5xC,KAAT,CAAe,IAAf,EAAqBhxB,SAArB,CAAvC,IAA0E,CAA1E,GAA8E+5D,OAAK,CAD3F;EAEA,WAAO,CAAClnD,IAAInU,CAAJ,IAASsS,CAAV,EAAa+B,IAAIrU,CAAJ,IAASsS,CAAtB,CAAP;EACD,GAJD;;EAMA0kB,MAAIk6B,WAAJ,GAAkB,UAASxrD,CAAT,EAAY;EAC5B,WAAOpE,UAAUlB,MAAV,IAAoB8wD,cAAc,OAAOxrD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA5C,EAA0DsxB,GAA9E,IAAqFk6B,WAA5F;EACD,GAFD;;EAIAl6B,MAAIm6B,WAAJ,GAAkB,UAASzrD,CAAT,EAAY;EAC5B,WAAOpE,UAAUlB,MAAV,IAAoB+wD,cAAc,OAAOzrD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA5C,EAA0DsxB,GAA9E,IAAqFm6B,WAA5F;EACD,GAFD;;EAIAn6B,MAAI0uC,YAAJ,GAAmB,UAAShgE,CAAT,EAAY;EAC7B,WAAOpE,UAAUlB,MAAV,IAAoBslE,eAAe,OAAOhgE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA7C,EAA2DsxB,GAA/E,IAAsF0uC,YAA7F;EACD,GAFD;;EAIA1uC,MAAI2uC,SAAJ,GAAgB,UAASjgE,CAAT,EAAY;EAC1B,WAAOpE,UAAUlB,MAAV,IAAoBulE,YAAYjgE,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA7D,EAA2EsxB,GAA/F,IAAsG2uC,SAA7G;EACD,GAFD;;EAIA3uC,MAAIm5B,UAAJ,GAAiB,UAASzqD,CAAT,EAAY;EAC3B,WAAOpE,UAAUlB,MAAV,IAAoB+vD,aAAa,OAAOzqD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA3C,EAAyDsxB,GAA7E,IAAoFm5B,UAA3F;EACD,GAFD;;EAIAn5B,MAAIktC,QAAJ,GAAe,UAASx+D,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoB8jE,WAAW,OAAOx+D,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAzC,EAAuDsxB,GAA3E,IAAkFktC,QAAzF;EACD,GAFD;;EAIAltC,MAAIotC,QAAJ,GAAe,UAAS1+D,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBgkE,WAAW,OAAO1+D,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAzC,EAAuDsxB,GAA3E,IAAkFotC,QAAzF;EACD,GAFD;;EAIAptC,MAAIw3B,OAAJ,GAAc,UAAS9oD,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAqBouD,UAAU9oD,KAAK,IAAL,GAAY,IAAZ,GAAmBA,CAA9B,EAAkCsxB,GAAtD,IAA6Dw3B,OAApE;EACD,GAFD;;EAIA,SAAOx3B,GAAP;EACD;;EClQD,SAAS4vC,MAAT,CAAgBpY,OAAhB,EAAyB;EACvB,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDoY,OAAOnjE,SAAP,GAAmB;EACjBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHgB;EAIjBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANgB;EAOjB+mE,aAAW,qBAAW;EACpB,SAAKC,MAAL,GAAc,CAAd;EACD,GATgB;EAUjBC,WAAS,mBAAW;EAClB,QAAI,KAAKJ,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAbgB;EAcjBrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAFV;EAGE;EAAS,aAAKL,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,EAA4B;EAHvC;EAKD;EArBgB,CAAnB;;AAwBA,EAAe,sBAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAIoY,MAAJ,CAAWpY,OAAX,CAAP;EACD;;EC9BM,SAASjuD,GAAT,CAAW0C,CAAX,EAAc;EACnB,SAAOA,EAAE,CAAF,CAAP;EACD;;AAED,EAAO,SAASsR,GAAT,CAAWtR,CAAX,EAAc;EACnB,SAAOA,EAAE,CAAF,CAAP;EACD;;ECDc,iBAAW;EACxB,MAAI1C,OAAIw6B,GAAR;EAAA,MACIxmB,OAAIymB,GADR;EAAA,MAEIosC,UAAU7wD,WAAS,IAAT,CAFd;EAAA,MAGIi4C,UAAU,IAHd;EAAA,MAII6Y,QAAQC,WAJZ;EAAA,MAKI3qD,SAAS,IALb;;EAOA,WAASi3C,IAAT,CAAc15B,IAAd,EAAoB;EAClB,QAAI34B,CAAJ;EAAA,QACIF,IAAI64B,KAAK95B,MADb;EAAA,QAEIS,CAFJ;EAAA,QAGI0mE,WAAW,KAHf;EAAA,QAII9oB,MAJJ;;EAMA,QAAI+P,WAAW,IAAf,EAAqB7xC,SAAS0qD,MAAM5oB,SAAS+U,MAAf,CAAT;;EAErB,SAAKjyD,IAAI,CAAT,EAAYA,KAAKF,CAAjB,EAAoB,EAAEE,CAAtB,EAAyB;EACvB,UAAI,EAAEA,IAAIF,CAAJ,IAAS+lE,QAAQvmE,IAAIq5B,KAAK34B,CAAL,CAAZ,EAAqBA,CAArB,EAAwB24B,IAAxB,CAAX,MAA8CqtC,QAAlD,EAA4D;EAC1D,YAAIA,WAAW,CAACA,QAAhB,EAA0B5qD,OAAOsqD,SAAP,GAA1B,KACKtqD,OAAOwqD,OAAP;EACN;EACD,UAAII,QAAJ,EAAc5qD,OAAOjW,KAAP,CAAa,CAACnG,KAAEM,CAAF,EAAKU,CAAL,EAAQ24B,IAAR,CAAd,EAA6B,CAAC3lB,KAAE1T,CAAF,EAAKU,CAAL,EAAQ24B,IAAR,CAA9B;EACf;;EAED,QAAIukB,MAAJ,EAAY,OAAO9hC,SAAS,IAAT,EAAe8hC,SAAS,EAAT,IAAe,IAArC;EACb;;EAEDmV,OAAKrzD,CAAL,GAAS,UAASmF,CAAT,EAAY;EACnB,WAAOpE,UAAUlB,MAAV,IAAoBG,OAAI,OAAOmF,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAlC,EAAgDkuD,IAApE,IAA4ErzD,IAAnF;EACD,GAFD;;EAIAqzD,OAAKr/C,CAAL,GAAS,UAAS7O,CAAT,EAAY;EACnB,WAAOpE,UAAUlB,MAAV,IAAoBmU,OAAI,OAAO7O,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAlC,EAAgDkuD,IAApE,IAA4Er/C,IAAnF;EACD,GAFD;;EAIAq/C,OAAKwT,OAAL,GAAe,UAAS1hE,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBgnE,UAAU,OAAO1hE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC,CAAC7Q,CAAX,CAAxC,EAAuDkuD,IAA3E,IAAmFwT,OAA1F;EACD,GAFD;;EAIAxT,OAAKyT,KAAL,GAAa,UAAS3hE,CAAT,EAAY;EACvB,WAAOpE,UAAUlB,MAAV,IAAoBinE,QAAQ3hE,CAAR,EAAW8oD,WAAW,IAAX,KAAoB7xC,SAAS0qD,MAAM7Y,OAAN,CAA7B,CAAX,EAAyDoF,IAA7E,IAAqFyT,KAA5F;EACD,GAFD;;EAIAzT,OAAKpF,OAAL,GAAe,UAAS9oD,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBsF,KAAK,IAAL,GAAY8oD,UAAU7xC,SAAS,IAA/B,GAAsCA,SAAS0qD,MAAM7Y,UAAU9oD,CAAhB,CAA/C,EAAmEkuD,IAAvF,IAA+FpF,OAAtG;EACD,GAFD;;EAIA,SAAOoF,IAAP;EACD;;EChDc,iBAAW;EACxB,MAAIhzC,KAAKma,GAAT;EAAA,MACIla,KAAK,IADT;EAAA,MAEImT,KAAKzd,WAAS,CAAT,CAFT;EAAA,MAGI0d,KAAK+G,GAHT;EAAA,MAIIosC,UAAU7wD,WAAS,IAAT,CAJd;EAAA,MAKIi4C,UAAU,IALd;EAAA,MAMI6Y,QAAQC,WANZ;EAAA,MAOI3qD,SAAS,IAPb;;EASA,WAAS6qD,IAAT,CAActtC,IAAd,EAAoB;EAClB,QAAI34B,CAAJ;EAAA,QACI4a,CADJ;EAAA,QAEIzJ,CAFJ;EAAA,QAGIrR,IAAI64B,KAAK95B,MAHb;EAAA,QAIIS,CAJJ;EAAA,QAKI0mE,WAAW,KALf;EAAA,QAMI9oB,MANJ;EAAA,QAOIgpB,MAAM,IAAI7lE,KAAJ,CAAUP,CAAV,CAPV;EAAA,QAQIqmE,MAAM,IAAI9lE,KAAJ,CAAUP,CAAV,CARV;;EAUA,QAAImtD,WAAW,IAAf,EAAqB7xC,SAAS0qD,MAAM5oB,SAAS+U,MAAf,CAAT;;EAErB,SAAKjyD,IAAI,CAAT,EAAYA,KAAKF,CAAjB,EAAoB,EAAEE,CAAtB,EAAyB;EACvB,UAAI,EAAEA,IAAIF,CAAJ,IAAS+lE,QAAQvmE,IAAIq5B,KAAK34B,CAAL,CAAZ,EAAqBA,CAArB,EAAwB24B,IAAxB,CAAX,MAA8CqtC,QAAlD,EAA4D;EAC1D,YAAIA,WAAW,CAACA,QAAhB,EAA0B;EACxBprD,cAAI5a,CAAJ;EACAob,iBAAOmqD,SAAP;EACAnqD,iBAAOsqD,SAAP;EACD,SAJD,MAIO;EACLtqD,iBAAOwqD,OAAP;EACAxqD,iBAAOsqD,SAAP;EACA,eAAKv0D,IAAInR,IAAI,CAAb,EAAgBmR,KAAKyJ,CAArB,EAAwB,EAAEzJ,CAA1B,EAA6B;EAC3BiK,mBAAOjW,KAAP,CAAa+gE,IAAI/0D,CAAJ,CAAb,EAAqBg1D,IAAIh1D,CAAJ,CAArB;EACD;EACDiK,iBAAOwqD,OAAP;EACAxqD,iBAAOqqD,OAAP;EACD;EACF;EACD,UAAIO,QAAJ,EAAc;EACZE,YAAIlmE,CAAJ,IAAS,CAACqf,GAAG/f,CAAH,EAAMU,CAAN,EAAS24B,IAAT,CAAV,EAA0BwtC,IAAInmE,CAAJ,IAAS,CAACyyB,GAAGnzB,CAAH,EAAMU,CAAN,EAAS24B,IAAT,CAApC;EACAvd,eAAOjW,KAAP,CAAama,KAAK,CAACA,GAAGhgB,CAAH,EAAMU,CAAN,EAAS24B,IAAT,CAAN,GAAuButC,IAAIlmE,CAAJ,CAApC,EAA4C0yB,KAAK,CAACA,GAAGpzB,CAAH,EAAMU,CAAN,EAAS24B,IAAT,CAAN,GAAuBwtC,IAAInmE,CAAJ,CAAnE;EACD;EACF;;EAED,QAAIk9C,MAAJ,EAAY,OAAO9hC,SAAS,IAAT,EAAe8hC,SAAS,EAAT,IAAe,IAArC;EACb;;EAED,WAASkpB,QAAT,GAAoB;EAClB,WAAO/T,OAAOwT,OAAP,CAAeA,OAAf,EAAwBC,KAAxB,CAA8BA,KAA9B,EAAqC7Y,OAArC,CAA6CA,OAA7C,CAAP;EACD;;EAEDgZ,OAAKjnE,CAAL,GAAS,UAASmF,CAAT,EAAY;EACnB,WAAOpE,UAAUlB,MAAV,IAAoBwgB,KAAK,OAAOlb,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAnC,EAAiDmb,KAAK,IAAtD,EAA4D2mD,IAAhF,IAAwF5mD,EAA/F;EACD,GAFD;;EAIA4mD,OAAK5mD,EAAL,GAAU,UAASlb,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,IAAoBwgB,KAAK,OAAOlb,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAnC,EAAiD8hE,IAArE,IAA6E5mD,EAApF;EACD,GAFD;;EAIA4mD,OAAK3mD,EAAL,GAAU,UAASnb,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,IAAoBygB,KAAKnb,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAtD,EAAoE8hE,IAAxF,IAAgG3mD,EAAvG;EACD,GAFD;;EAIA2mD,OAAKjzD,CAAL,GAAS,UAAS7O,CAAT,EAAY;EACnB,WAAOpE,UAAUlB,MAAV,IAAoB4zB,KAAK,OAAOtuB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAnC,EAAiDuuB,KAAK,IAAtD,EAA4DuzC,IAAhF,IAAwFxzC,EAA/F;EACD,GAFD;;EAIAwzC,OAAKxzC,EAAL,GAAU,UAAStuB,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,IAAoB4zB,KAAK,OAAOtuB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAnC,EAAiD8hE,IAArE,IAA6ExzC,EAApF;EACD,GAFD;;EAIAwzC,OAAKvzC,EAAL,GAAU,UAASvuB,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,IAAoB6zB,KAAKvuB,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAtD,EAAoE8hE,IAAxF,IAAgGvzC,EAAvG;EACD,GAFD;;EAIAuzC,OAAKI,MAAL,GACAJ,KAAKK,MAAL,GAAc,YAAW;EACvB,WAAOF,WAAWpnE,CAAX,CAAaqgB,EAAb,EAAiBrM,CAAjB,CAAmByf,EAAnB,CAAP;EACD,GAHD;;EAKAwzC,OAAKM,MAAL,GAAc,YAAW;EACvB,WAAOH,WAAWpnE,CAAX,CAAaqgB,EAAb,EAAiBrM,CAAjB,CAAmB0f,EAAnB,CAAP;EACD,GAFD;;EAIAuzC,OAAKO,MAAL,GAAc,YAAW;EACvB,WAAOJ,WAAWpnE,CAAX,CAAasgB,EAAb,EAAiBtM,CAAjB,CAAmByf,EAAnB,CAAP;EACD,GAFD;;EAIAwzC,OAAKJ,OAAL,GAAe,UAAS1hE,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBgnE,UAAU,OAAO1hE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC,CAAC7Q,CAAX,CAAxC,EAAuD8hE,IAA3E,IAAmFJ,OAA1F;EACD,GAFD;;EAIAI,OAAKH,KAAL,GAAa,UAAS3hE,CAAT,EAAY;EACvB,WAAOpE,UAAUlB,MAAV,IAAoBinE,QAAQ3hE,CAAR,EAAW8oD,WAAW,IAAX,KAAoB7xC,SAAS0qD,MAAM7Y,OAAN,CAA7B,CAAX,EAAyDgZ,IAA7E,IAAqFH,KAA5F;EACD,GAFD;;EAIAG,OAAKhZ,OAAL,GAAe,UAAS9oD,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBsF,KAAK,IAAL,GAAY8oD,UAAU7xC,SAAS,IAA/B,GAAsCA,SAAS0qD,MAAM7Y,UAAU9oD,CAAhB,CAA/C,EAAmE8hE,IAAvF,IAA+FhZ,OAAtG;EACD,GAFD;;EAIA,SAAOgZ,IAAP;EACD;;EC5Gc,uBAASxnE,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOA,IAAID,CAAJ,GAAQ,CAAC,CAAT,GAAaC,IAAID,CAAJ,GAAQ,CAAR,GAAYC,KAAKD,CAAL,GAAS,CAAT,GAAaE,GAA7C;EACD;;ECFc,qBAASW,CAAT,EAAY;EACzB,SAAOA,CAAP;EACD;;ECGc,gBAAW;EACxB,MAAImD,QAAQqU,UAAZ;EAAA,MACI2vD,aAAaC,YADjB;EAAA,MAEI/mD,OAAO,IAFX;EAAA,MAGIivC,aAAa55C,WAAS,CAAT,CAHjB;EAAA,MAII2tD,WAAW3tD,WAAS+kD,KAAT,CAJf;EAAA,MAKI8I,WAAW7tD,WAAS,CAAT,CALf;;EAOA,WAAS2xD,GAAT,CAAahuC,IAAb,EAAmB;EACjB,QAAI34B,CAAJ;EAAA,QACIF,IAAI64B,KAAK95B,MADb;EAAA,QAEI+b,CAFJ;EAAA,QAGIzJ,CAHJ;EAAA,QAII+e,MAAM,CAJV;EAAA,QAKIpsB,QAAQ,IAAIzD,KAAJ,CAAUP,CAAV,CALZ;EAAA,QAMI8mE,OAAO,IAAIvmE,KAAJ,CAAUP,CAAV,CANX;EAAA,QAOIkiE,KAAK,CAACpT,WAAW79B,KAAX,CAAiB,IAAjB,EAAuBhxB,SAAvB,CAPV;EAAA,QAQIqiE,KAAKniE,KAAKgF,GAAL,CAAS80D,KAAT,EAAc95D,KAAKC,GAAL,CAAS,CAAC65D,KAAV,EAAe4I,SAAS5xC,KAAT,CAAe,IAAf,EAAqBhxB,SAArB,IAAkCiiE,EAAjD,CAAd,CART;EAAA,QASIC,EATJ;EAAA,QAUIvgE,IAAIzB,KAAKgF,GAAL,CAAShF,KAAKsB,GAAL,CAAS6gE,EAAT,IAAetiE,CAAxB,EAA2B+iE,SAAS9xC,KAAT,CAAe,IAAf,EAAqBhxB,SAArB,CAA3B,CAVR;EAAA,QAWI8mE,KAAKnlE,KAAK0gE,KAAK,CAAL,GAAS,CAAC,CAAV,GAAc,CAAnB,CAXT;EAAA,QAYI/oC,CAZJ;;EAcA,SAAKr5B,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtB,UAAI,CAACq5B,IAAIutC,KAAK9iE,MAAM9D,CAAN,IAAWA,CAAhB,IAAqB,CAACyC,MAAMk2B,KAAK34B,CAAL,CAAN,EAAeA,CAAf,EAAkB24B,IAAlB,CAA3B,IAAsD,CAA1D,EAA6D;EAC3DzI,eAAOmJ,CAAP;EACD;EACF;;EAED;EACA,QAAIotC,cAAc,IAAlB,EAAwB3iE,MAAM6b,IAAN,CAAW,UAAS3f,CAAT,EAAY4a,CAAZ,EAAe;EAAE,aAAO6rD,WAAWG,KAAK5mE,CAAL,CAAX,EAAoB4mE,KAAKhsD,CAAL,CAApB,CAAP;EAAsC,KAAlE,EAAxB,KACK,IAAI+E,QAAQ,IAAZ,EAAkB7b,MAAM6b,IAAN,CAAW,UAAS3f,CAAT,EAAY4a,CAAZ,EAAe;EAAE,aAAO+E,KAAKgZ,KAAK34B,CAAL,CAAL,EAAc24B,KAAK/d,CAAL,CAAd,CAAP;EAAgC,KAA5D;;EAEvB;EACA,SAAK5a,IAAI,CAAJ,EAAOmR,IAAI+e,MAAM,CAACkyC,KAAKtiE,IAAI+mE,EAAV,IAAgB32C,GAAtB,GAA4B,CAA5C,EAA+ClwB,IAAIF,CAAnD,EAAsD,EAAEE,CAAF,EAAKgiE,KAAKC,EAAhE,EAAoE;EAClErnD,UAAI9W,MAAM9D,CAAN,CAAJ,EAAcq5B,IAAIutC,KAAKhsD,CAAL,CAAlB,EAA2BqnD,KAAKD,MAAM3oC,IAAI,CAAJ,GAAQA,IAAIloB,CAAZ,GAAgB,CAAtB,IAA2B01D,EAA3D,EAA+DD,KAAKhsD,CAAL,IAAU;EACvE+d,cAAMA,KAAK/d,CAAL,CADiE;EAEvE9W,eAAO9D,CAFgE;EAGvEyC,eAAO42B,CAHgE;EAIvEu1B,oBAAYoT,EAJ2D;EAKvEW,kBAAUV,EAL6D;EAMvEY,kBAAUnhE;EAN6D,OAAzE;EAQD;;EAED,WAAOklE,IAAP;EACD;;EAEDD,MAAIlkE,KAAJ,GAAY,UAAS0B,CAAT,EAAY;EACtB,WAAOpE,UAAUlB,MAAV,IAAoB4D,QAAQ,OAAO0B,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAtC,EAAoDwiE,GAAxE,IAA+ElkE,KAAtF;EACD,GAFD;;EAIAkkE,MAAIF,UAAJ,GAAiB,UAAStiE,CAAT,EAAY;EAC3B,WAAOpE,UAAUlB,MAAV,IAAoB4nE,aAAatiE,CAAb,EAAgBwb,OAAO,IAAvB,EAA6BgnD,GAAjD,IAAwDF,UAA/D;EACD,GAFD;;EAIAE,MAAIhnD,IAAJ,GAAW,UAASxb,CAAT,EAAY;EACrB,WAAOpE,UAAUlB,MAAV,IAAoB8gB,OAAOxb,CAAP,EAAUsiE,aAAa,IAAvB,EAA6BE,GAAjD,IAAwDhnD,IAA/D;EACD,GAFD;;EAIAgnD,MAAI/X,UAAJ,GAAiB,UAASzqD,CAAT,EAAY;EAC3B,WAAOpE,UAAUlB,MAAV,IAAoB+vD,aAAa,OAAOzqD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAA3C,EAAyDwiE,GAA7E,IAAoF/X,UAA3F;EACD,GAFD;;EAIA+X,MAAIhE,QAAJ,GAAe,UAASx+D,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoB8jE,WAAW,OAAOx+D,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAzC,EAAuDwiE,GAA3E,IAAkFhE,QAAzF;EACD,GAFD;;EAIAgE,MAAI9D,QAAJ,GAAe,UAAS1+D,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBgkE,WAAW,OAAO1+D,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAzC,EAAuDwiE,GAA3E,IAAkF9D,QAAzF;EACD,GAFD;;EAIA,SAAO8D,GAAP;EACD;;EC5EM,IAAIG,oBAAoBC,YAAYhB,WAAZ,CAAxB;;EAEP,SAASiB,MAAT,CAAgBlB,KAAhB,EAAuB;EACrB,OAAKmB,MAAL,GAAcnB,KAAd;EACD;;EAEDkB,OAAO9kE,SAAP,GAAmB;EACjBqjE,aAAW,qBAAW;EACpB,SAAK0B,MAAL,CAAY1B,SAAZ;EACD,GAHgB;EAIjBE,WAAS,mBAAW;EAClB,SAAKwB,MAAL,CAAYxB,OAAZ;EACD,GANgB;EAOjBC,aAAW,qBAAW;EACpB,SAAKuB,MAAL,CAAYvB,SAAZ;EACD,GATgB;EAUjBE,WAAS,mBAAW;EAClB,SAAKqB,MAAL,CAAYrB,OAAZ;EACD,GAZgB;EAajBzgE,SAAO,eAAS1G,CAAT,EAAYsS,CAAZ,EAAe;EACpB,SAAKk2D,MAAL,CAAY9hE,KAAZ,CAAkB4L,IAAI9Q,KAAK6S,GAAL,CAASrU,CAAT,CAAtB,EAAmCsS,IAAI,CAAC9Q,KAAK2S,GAAL,CAASnU,CAAT,CAAxC;EACD;EAfgB,CAAnB;;AAkBA,EAAe,SAASsoE,WAAT,CAAqBjB,KAArB,EAA4B;;EAEzC,WAASoB,MAAT,CAAgBja,OAAhB,EAAyB;EACvB,WAAO,IAAI+Z,MAAJ,CAAWlB,MAAM7Y,OAAN,CAAX,CAAP;EACD;;EAEDia,SAAOD,MAAP,GAAgBnB,KAAhB;;EAEA,SAAOoB,MAAP;EACD;;EChCM,SAASC,UAAT,CAAoB51D,CAApB,EAAuB;EAC5B,MAAIsB,IAAItB,EAAEu0D,KAAV;;EAEAv0D,IAAE+hD,KAAF,GAAU/hD,EAAEvS,CAAZ,EAAe,OAAOuS,EAAEvS,CAAxB;EACAuS,IAAE4nB,MAAF,GAAW5nB,EAAEyB,CAAb,EAAgB,OAAOzB,EAAEyB,CAAzB;;EAEAzB,IAAEu0D,KAAF,GAAU,UAAS3hE,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,GAAmBgU,EAAEk0D,YAAY5iE,CAAZ,CAAF,CAAnB,GAAuC0O,IAAIo0D,MAAlD;EACD,GAFD;;EAIA,SAAO11D,CAAP;EACD;;AAED,EAAe,uBAAW;EACxB,SAAO41D,WAAW9U,OAAOyT,KAAP,CAAagB,iBAAb,CAAX,CAAP;EACD;;ECdc,uBAAW;EACxB,MAAIroE,IAAIwnE,OAAOH,KAAP,CAAagB,iBAAb,CAAR;EAAA,MACIj0D,IAAIpU,EAAEqnE,KADV;EAAA,MAEIzmD,KAAK5gB,EAAE4nE,MAFX;EAAA,MAGI/mD,KAAK7gB,EAAE+nE,MAHX;EAAA,MAII/zC,KAAKh0B,EAAE6nE,MAJX;EAAA,MAKI5zC,KAAKj0B,EAAE8nE,MALX;;EAOA9nE,IAAE60D,KAAF,GAAU70D,EAAEO,CAAZ,EAAe,OAAOP,EAAEO,CAAxB;EACAP,IAAEmwD,UAAF,GAAenwD,EAAE4gB,EAAjB,EAAqB,OAAO5gB,EAAE4gB,EAA9B;EACA5gB,IAAEkkE,QAAF,GAAalkE,EAAE6gB,EAAf,EAAmB,OAAO7gB,EAAE6gB,EAA5B;EACA7gB,IAAE06B,MAAF,GAAW16B,EAAEuU,CAAb,EAAgB,OAAOvU,EAAEuU,CAAzB;EACAvU,IAAEkxD,WAAF,GAAgBlxD,EAAEg0B,EAAlB,EAAsB,OAAOh0B,EAAEg0B,EAA/B;EACAh0B,IAAEmxD,WAAF,GAAgBnxD,EAAEi0B,EAAlB,EAAsB,OAAOj0B,EAAEi0B,EAA/B;EACAj0B,IAAE2oE,cAAF,GAAmB,YAAW;EAAE,WAAOD,WAAW9nD,IAAX,CAAP;EAA0B,GAA1D,EAA4D,OAAO5gB,EAAE4nE,MAArE;EACA5nE,IAAE4oE,YAAF,GAAiB,YAAW;EAAE,WAAOF,WAAW7nD,IAAX,CAAP;EAA0B,GAAxD,EAA0D,OAAO7gB,EAAE+nE,MAAnE;EACA/nE,IAAE6oE,eAAF,GAAoB,YAAW;EAAE,WAAOH,WAAW10C,IAAX,CAAP;EAA0B,GAA3D,EAA6D,OAAOh0B,EAAE6nE,MAAtE;EACA7nE,IAAE8oE,eAAF,GAAoB,YAAW;EAAE,WAAOJ,WAAWz0C,IAAX,CAAP;EAA0B,GAA3D,EAA6D,OAAOj0B,EAAE8nE,MAAtE;;EAEA9nE,IAAEqnE,KAAF,GAAU,UAAS3hE,CAAT,EAAY;EACpB,WAAOpE,UAAUlB,MAAV,GAAmBgU,EAAEk0D,YAAY5iE,CAAZ,CAAF,CAAnB,GAAuC0O,IAAIo0D,MAAlD;EACD,GAFD;;EAIA,SAAOxoE,CAAP;EACD;;EC5BM,IAAIsE,UAAQ1C,MAAM6B,SAAN,CAAgBa,KAA5B;;ECAQ,mBAAW;;ECAnB,SAASoC,MAAT,CAAe0rB,IAAf,EAAqB7xB,CAArB,EAAwBgU,CAAxB,EAA2B;EAChC6d,OAAKy0C,QAAL,CAActE,aAAd,CACE,CAAC,IAAInwC,KAAKkJ,GAAT,GAAelJ,KAAKoJ,GAArB,IAA4B,CAD9B,EAEE,CAAC,IAAIpJ,KAAKmJ,GAAT,GAAenJ,KAAKqJ,GAArB,IAA4B,CAF9B,EAGE,CAACrJ,KAAKkJ,GAAL,GAAW,IAAIlJ,KAAKoJ,GAArB,IAA4B,CAH9B,EAIE,CAACpJ,KAAKmJ,GAAL,GAAW,IAAInJ,KAAKqJ,GAArB,IAA4B,CAJ9B,EAKE,CAACrJ,KAAKkJ,GAAL,GAAW,IAAIlJ,KAAKoJ,GAApB,GAA0Bj7B,CAA3B,IAAgC,CALlC,EAME,CAAC6xB,KAAKmJ,GAAL,GAAW,IAAInJ,KAAKqJ,GAApB,GAA0BlnB,CAA3B,IAAgC,CANlC;EAQD;;AAED,EAAO,SAASw0D,KAAT,CAAeva,OAAf,EAAwB;EAC7B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDua,MAAMtlE,SAAN,GAAkB;EAChBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHe;EAIhBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANe;EAOhB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GAAWv7B,GADtB;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAXe;EAYhBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQxgE,eAAM,IAAN,EAAY,KAAK80B,GAAjB,EAAsB,KAAKC,GAA3B,EADV;EAEE,WAAK,CAAL;EAAQ,aAAKorC,QAAL,CAAcnY,MAAd,CAAqB,KAAKlzB,GAA1B,EAA+B,KAAKC,GAApC,EAA0C;EAFpD;EAIA,QAAI,KAAKsrC,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAnBe;EAoBhBrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKL,QAAL,CAAcnY,MAAd,CAAqB,CAAC,IAAI,KAAKpzB,GAAT,GAAe,KAAKE,GAArB,IAA4B,CAAjD,EAAoD,CAAC,IAAI,KAAKD,GAAT,GAAe,KAAKE,GAArB,IAA4B,CAAhF,EAH3B;EAIE;EAAS/0B,eAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;EAMA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWj7B,CAAhC;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWlnB,CAAhC;EACD;EA9Be,CAAlB;;AAiCA,EAAe,qBAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAIua,KAAJ,CAAUva,OAAV,CAAP;EACD;;EC/CD,SAASwa,WAAT,CAAqBxa,OAArB,EAA8B;EAC5B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDwa,YAAYvlE,SAAZ,GAAwB;EACtBqjE,aAAWp1C,MADW;EAEtBs1C,WAASt1C,MAFa;EAGtBu1C,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAC5C,KAAK5tC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAWppE,GADvD;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAPqB;EAQtBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ;EACN,eAAKL,QAAL,CAAcpY,MAAd,CAAqB,KAAKwa,GAA1B,EAA+B,KAAKG,GAApC;EACA,eAAKvC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKkY,QAAL,CAAcpY,MAAd,CAAqB,CAAC,KAAKwa,GAAL,GAAW,IAAI,KAAKC,GAArB,IAA4B,CAAjD,EAAoD,CAAC,KAAKE,GAAL,GAAW,IAAI,KAAKC,GAArB,IAA4B,CAAhF;EACA,eAAKxC,QAAL,CAAcnY,MAAd,CAAqB,CAAC,KAAKwa,GAAL,GAAW,IAAI,KAAKD,GAArB,IAA4B,CAAjD,EAAoD,CAAC,KAAKI,GAAL,GAAW,IAAI,KAAKD,GAArB,IAA4B,CAAhF;EACA,eAAKvC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKjoD,KAAL,CAAW,KAAKuiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK1iE,KAAL,CAAW,KAAKwiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK3iE,KAAL,CAAW,KAAKyiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA;EACD;EAjBH;EAmBD,GA5BqB;EA6BtB5iE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAK+B,GAAL,GAAW1oE,CAAX,EAAc,KAAK6oE,GAAL,GAAW70D,CAAzB,CAA4B;EACrD,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKgC,GAAL,GAAW3oE,CAAX,EAAc,KAAK8oE,GAAL,GAAW90D,CAAzB,CAA4B;EACrD,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKiC,GAAL,GAAW5oE,CAAX,EAAc,KAAK+oE,GAAL,GAAW/0D,CAAzB,CAA4B,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqB,CAAC,KAAKnzB,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0Bj7B,CAA3B,IAAgC,CAArD,EAAwD,CAAC,KAAKg7B,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0BlnB,CAA3B,IAAgC,CAAxF,EAA4F;EACjJ;EAAS7N,eAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;EAMA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWj7B,CAAhC;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWlnB,CAAhC;EACD;EAvCqB,CAAxB;;AA0CA,EAAe,2BAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAIwa,WAAJ,CAAgBxa,OAAhB,CAAP;EACD;;ECjDD,SAAS+a,SAAT,CAAmB/a,OAAnB,EAA4B;EAC1B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAED+a,UAAU9lE,SAAV,GAAsB;EACpBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHmB;EAIpBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANmB;EAOpB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GAAWv7B,GADtB;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAXmB;EAYpBC,WAAS,mBAAW;EAClB,QAAI,KAAKJ,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAfmB;EAgBpBrgE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,IAAItmD,KAAK,CAAC,KAAK0a,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0Bj7B,CAA3B,IAAgC,CAAzC;EAAA,YAA4CyzB,KAAK,CAAC,KAAKuH,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0BlnB,CAA3B,IAAgC,CAAjF,CAAoF,KAAKwyD,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqB9tC,EAArB,EAAyBoT,EAAzB,CAAb,GAA4C,KAAK6yC,QAAL,CAAcpY,MAAd,CAAqB7tC,EAArB,EAAyBoT,EAAzB,CAA5C,CAA0E;EACvL,WAAK,CAAL;EAAQ,aAAKkzC,MAAL,GAAc,CAAd,CAJV;EAKE;EAASxgE,eAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAL9B;EAOA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWj7B,CAAhC;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWlnB,CAAhC;EACD;EA3BmB,CAAtB;;AA8BA,EAAe,yBAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAI+a,SAAJ,CAAc/a,OAAd,CAAP;EACD;;ECpCD,SAASgb,MAAT,CAAgBhb,OAAhB,EAAyBib,IAAzB,EAA+B;EAC7B,OAAKC,MAAL,GAAc,IAAIX,KAAJ,CAAUva,OAAV,CAAd;EACA,OAAKmb,KAAL,GAAaF,IAAb;EACD;;EAEDD,OAAO/lE,SAAP,GAAmB;EACjBwjE,aAAW,qBAAW;EACpB,SAAK/rC,EAAL,GAAU,EAAV;EACA,SAAKC,EAAL,GAAU,EAAV;EACA,SAAKuuC,MAAL,CAAYzC,SAAZ;EACD,GALgB;EAMjBE,WAAS,mBAAW;EAClB,QAAI5mE,IAAI,KAAK26B,EAAb;EAAA,QACI3mB,IAAI,KAAK4mB,EADb;EAAA,QAEIhf,IAAI5b,EAAEH,MAAF,GAAW,CAFnB;;EAIA,QAAI+b,IAAI,CAAR,EAAW;EACT,UAAIyE,KAAKrgB,EAAE,CAAF,CAAT;EAAA,UACIyzB,KAAKzf,EAAE,CAAF,CADT;EAAA,UAEI+f,KAAK/zB,EAAE4b,CAAF,IAAOyE,EAFhB;EAAA,UAGI2T,KAAKhgB,EAAE4H,CAAF,IAAO6X,EAHhB;EAAA,UAIIzyB,IAAI,CAAC,CAJT;EAAA,UAKIsT,CALJ;;EAOA,aAAO,EAAEtT,CAAF,IAAO4a,CAAd,EAAiB;EACftH,YAAItT,IAAI4a,CAAR;EACA,aAAKutD,MAAL,CAAYhjE,KAAZ,CACE,KAAKijE,KAAL,GAAappE,EAAEgB,CAAF,CAAb,GAAoB,CAAC,IAAI,KAAKooE,KAAV,KAAoB/oD,KAAK/L,IAAIyf,EAA7B,CADtB,EAEE,KAAKq1C,KAAL,GAAap1D,EAAEhT,CAAF,CAAb,GAAoB,CAAC,IAAI,KAAKooE,KAAV,KAAoB31C,KAAKnf,IAAI0f,EAA7B,CAFtB;EAID;EACF;;EAED,SAAK2G,EAAL,GAAU,KAAKC,EAAL,GAAU,IAApB;EACA,SAAKuuC,MAAL,CAAYvC,OAAZ;EACD,GA9BgB;EA+BjBzgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpB,SAAK2mB,EAAL,CAAQ72B,IAAR,CAAa,CAAC9D,CAAd;EACA,SAAK46B,EAAL,CAAQ92B,IAAR,CAAa,CAACkQ,CAAd;EACD;EAlCgB,CAAnB;;AAqCA,oBAAe,CAAC,SAASq1D,MAAT,CAAgBH,IAAhB,EAAsB;;EAEpC,WAASI,MAAT,CAAgBrb,OAAhB,EAAyB;EACvB,WAAOib,SAAS,CAAT,GAAa,IAAIV,KAAJ,CAAUva,OAAV,CAAb,GAAkC,IAAIgb,MAAJ,CAAWhb,OAAX,EAAoBib,IAApB,CAAzC;EACD;;EAEDI,SAAOJ,IAAP,GAAc,UAASA,IAAT,EAAe;EAC3B,WAAOG,OAAO,CAACH,IAAR,CAAP;EACD,GAFD;;EAIA,SAAOI,MAAP;EACD,CAXc,EAWZ,IAXY,CAAf;;EC5CO,SAASnjE,QAAT,CAAe0rB,IAAf,EAAqB7xB,CAArB,EAAwBgU,CAAxB,EAA2B;EAChC6d,OAAKy0C,QAAL,CAActE,aAAd,CACEnwC,KAAKoJ,GAAL,GAAWpJ,KAAK03C,EAAL,IAAW13C,KAAK62C,GAAL,GAAW72C,KAAKkJ,GAA3B,CADb,EAEElJ,KAAKqJ,GAAL,GAAWrJ,KAAK03C,EAAL,IAAW13C,KAAKg3C,GAAL,GAAWh3C,KAAKmJ,GAA3B,CAFb,EAGEnJ,KAAK62C,GAAL,GAAW72C,KAAK03C,EAAL,IAAW13C,KAAKoJ,GAAL,GAAWj7B,CAAtB,CAHb,EAIE6xB,KAAKg3C,GAAL,GAAWh3C,KAAK03C,EAAL,IAAW13C,KAAKqJ,GAAL,GAAWlnB,CAAtB,CAJb,EAKE6d,KAAK62C,GALP,EAME72C,KAAKg3C,GANP;EAQD;;AAED,EAAO,SAASW,QAAT,CAAkBvb,OAAlB,EAA2Bwb,OAA3B,EAAoC;EACzC,OAAKnD,QAAL,GAAgBrY,OAAhB;EACA,OAAKsb,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;EACD;;EAEDD,SAAStmE,SAAT,GAAqB;EACnBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHkB;EAInBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANkB;EAOnB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GACtB,KAAK1tC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAWlpE,GADjC;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAXkB;EAYnBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKL,QAAL,CAAcnY,MAAd,CAAqB,KAAKua,GAA1B,EAA+B,KAAKG,GAApC,EAA0C;EAClD,WAAK,CAAL;EAAQ1iE,iBAAM,IAAN,EAAY,KAAK80B,GAAjB,EAAsB,KAAKC,GAA3B,EAAiC;EAF3C;EAIA,QAAI,KAAKsrC,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAnBkB;EAoBnBrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAK1rC,GAAL,GAAWj7B,CAAX,EAAc,KAAKk7B,GAAL,GAAWlnB,CAAzB,CAA4B;EACrD,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAHV;EAIE;EAASxgE,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;EAMA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EA9BkB,CAArB;;AAiCA,sBAAe,CAAC,SAASq1D,MAAT,CAAgBI,OAAhB,EAAyB;;EAEvC,WAASC,QAAT,CAAkBzb,OAAlB,EAA2B;EACzB,WAAO,IAAIub,QAAJ,CAAavb,OAAb,EAAsBwb,OAAtB,CAAP;EACD;;EAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;EACnC,WAAOJ,OAAO,CAACI,OAAR,CAAP;EACD,GAFD;;EAIA,SAAOC,QAAP;EACD,CAXc,EAWZ,CAXY,CAAf;;EC9CO,SAASC,cAAT,CAAwB1b,OAAxB,EAAiCwb,OAAjC,EAA0C;EAC/C,OAAKnD,QAAL,GAAgBrY,OAAhB;EACA,OAAKsb,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;EACD;;EAEDE,eAAezmE,SAAf,GAA2B;EACzBqjE,aAAWp1C,MADc;EAEzBs1C,WAASt1C,MAFgB;EAGzBu1C,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKgB,GAAL,GACvD,KAAK5uC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKc,GAAL,GAAWlqE,GADlE;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAPwB;EAQzBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ;EACN,eAAKL,QAAL,CAAcpY,MAAd,CAAqB,KAAKya,GAA1B,EAA+B,KAAKG,GAApC;EACA,eAAKxC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKkY,QAAL,CAAcnY,MAAd,CAAqB,KAAKwa,GAA1B,EAA+B,KAAKG,GAApC;EACA,eAAKxC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKjoD,KAAL,CAAW,KAAKwiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK3iE,KAAL,CAAW,KAAKyiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK5iE,KAAL,CAAW,KAAKyjE,GAAhB,EAAqB,KAAKC,GAA1B;EACA;EACD;EAhBH;EAkBD,GA3BwB;EA4BzB1jE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKgC,GAAL,GAAW3oE,CAAX,EAAc,KAAK8oE,GAAL,GAAW90D,CAAzB,CAA4B;EACrD,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKL,QAAL,CAAcpY,MAAd,CAAqB,KAAK0a,GAAL,GAAW5oE,CAAhC,EAAmC,KAAK+oE,GAAL,GAAW/0D,CAA9C,EAAkD;EAC3E,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKiD,GAAL,GAAW5pE,CAAX,EAAc,KAAK6pE,GAAL,GAAW71D,CAAzB,CAA4B;EACrD;EAAS7N,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;EAMA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EAtCwB,CAA3B;;AAyCA,4BAAe,CAAC,SAASq1D,MAAT,CAAgBI,OAAhB,EAAyB;;EAEvC,WAASC,QAAT,CAAkBzb,OAAlB,EAA2B;EACzB,WAAO,IAAI0b,cAAJ,CAAmB1b,OAAnB,EAA4Bwb,OAA5B,CAAP;EACD;;EAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;EACnC,WAAOJ,OAAO,CAACI,OAAR,CAAP;EACD,GAFD;;EAIA,SAAOC,QAAP;EACD,CAXc,EAWZ,CAXY,CAAf;;EC/CO,SAASI,YAAT,CAAsB7b,OAAtB,EAA+Bwb,OAA/B,EAAwC;EAC7C,OAAKnD,QAAL,GAAgBrY,OAAhB;EACA,OAAKsb,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;EACD;;EAEDK,aAAa5mE,SAAb,GAAyB;EACvBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHsB;EAIvBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANsB;EAOvB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GACtB,KAAK1tC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAWlpE,GADjC;EAEA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAXsB;EAYvBC,WAAS,mBAAW;EAClB,QAAI,KAAKJ,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAfsB;EAgBvBrgE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqB,KAAKua,GAA1B,EAA+B,KAAKG,GAApC,CAAb,GAAwD,KAAKvC,QAAL,CAAcpY,MAAd,CAAqB,KAAKwa,GAA1B,EAA+B,KAAKG,GAApC,CAAxD,CAAkG;EAC3H,WAAK,CAAL;EAAQ,aAAKlC,MAAL,GAAc,CAAd,CAJV;EAKE;EAASxgE,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAL9B;EAOA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EA3BsB,CAAzB;;AA8BA,0BAAe,CAAC,SAASq1D,MAAT,CAAgBI,OAAhB,EAAyB;;EAEvC,WAASC,QAAT,CAAkBzb,OAAlB,EAA2B;EACzB,WAAO,IAAI6b,YAAJ,CAAiB7b,OAAjB,EAA0Bwb,OAA1B,CAAP;EACD;;EAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;EACnC,WAAOJ,OAAO,CAACI,OAAR,CAAP;EACD,GAFD;;EAIA,SAAOC,QAAP;EACD,CAXc,EAWZ,CAXY,CAAf;;EClCO,SAASvjE,QAAT,CAAe0rB,IAAf,EAAqB7xB,CAArB,EAAwBgU,CAAxB,EAA2B;EAChC,MAAIsM,KAAKuR,KAAKoJ,GAAd;EAAA,MACIvH,KAAK7B,KAAKqJ,GADd;EAAA,MAEIU,KAAK/J,KAAK62C,GAFd;EAAA,MAGI7sC,KAAKhK,KAAKg3C,GAHd;;EAKA,MAAIh3C,KAAKk4C,MAAL,GAAcp1C,SAAlB,EAA2B;EACzB,QAAIl1B,IAAI,IAAIoyB,KAAKm4C,OAAT,GAAmB,IAAIn4C,KAAKk4C,MAAT,GAAkBl4C,KAAKo4C,MAA1C,GAAmDp4C,KAAKq4C,OAAhE;EAAA,QACIppE,IAAI,IAAI+wB,KAAKk4C,MAAT,IAAmBl4C,KAAKk4C,MAAL,GAAcl4C,KAAKo4C,MAAtC,CADR;EAEA3pD,SAAK,CAACA,KAAK7gB,CAAL,GAASoyB,KAAKkJ,GAAL,GAAWlJ,KAAKq4C,OAAzB,GAAmCr4C,KAAK62C,GAAL,GAAW72C,KAAKm4C,OAApD,IAA+DlpE,CAApE;EACA4yB,SAAK,CAACA,KAAKj0B,CAAL,GAASoyB,KAAKmJ,GAAL,GAAWnJ,KAAKq4C,OAAzB,GAAmCr4C,KAAKg3C,GAAL,GAAWh3C,KAAKm4C,OAApD,IAA+DlpE,CAApE;EACD;;EAED,MAAI+wB,KAAKs4C,MAAL,GAAcx1C,SAAlB,EAA2B;EACzB,QAAIj1B,IAAI,IAAImyB,KAAKu4C,OAAT,GAAmB,IAAIv4C,KAAKs4C,MAAT,GAAkBt4C,KAAKo4C,MAA1C,GAAmDp4C,KAAKq4C,OAAhE;EAAA,QACI74D,IAAI,IAAIwgB,KAAKs4C,MAAT,IAAmBt4C,KAAKs4C,MAAL,GAAct4C,KAAKo4C,MAAtC,CADR;EAEAruC,SAAK,CAACA,KAAKl8B,CAAL,GAASmyB,KAAKoJ,GAAL,GAAWpJ,KAAKu4C,OAAzB,GAAmCpqE,IAAI6xB,KAAKq4C,OAA7C,IAAwD74D,CAA7D;EACAwqB,SAAK,CAACA,KAAKn8B,CAAL,GAASmyB,KAAKqJ,GAAL,GAAWrJ,KAAKu4C,OAAzB,GAAmCp2D,IAAI6d,KAAKq4C,OAA7C,IAAwD74D,CAA7D;EACD;;EAEDwgB,OAAKy0C,QAAL,CAActE,aAAd,CAA4B1hD,EAA5B,EAAgCoT,EAAhC,EAAoCkI,EAApC,EAAwCC,EAAxC,EAA4ChK,KAAK62C,GAAjD,EAAsD72C,KAAKg3C,GAA3D;EACD;;EAED,SAASwB,UAAT,CAAoBpc,OAApB,EAA6BgE,KAA7B,EAAoC;EAClC,OAAKqU,QAAL,GAAgBrY,OAAhB;EACA,OAAKqc,MAAL,GAAcrY,KAAd;EACD;;EAEDoY,WAAWnnE,SAAX,GAAuB;EACrBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHoB;EAIrBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANoB;EAOrB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GACtB,KAAK1tC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAWlpE,GADjC;EAEA,SAAKoqE,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAKzD,MAAL,GAAc,CAFd;EAGD,GAboB;EAcrBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKL,QAAL,CAAcnY,MAAd,CAAqB,KAAKua,GAA1B,EAA+B,KAAKG,GAApC,EAA0C;EAClD,WAAK,CAAL;EAAQ,aAAK1iE,KAAL,CAAW,KAAKuiE,GAAhB,EAAqB,KAAKG,GAA1B,EAAgC;EAF1C;EAIA,QAAI,KAAKrC,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GArBoB;EAsBrBrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;;EAEA,QAAI,KAAK2yD,MAAT,EAAiB;EACf,UAAI4D,MAAM,KAAK7B,GAAL,GAAW1oE,CAArB;EAAA,UACIwqE,MAAM,KAAK3B,GAAL,GAAW70D,CADrB;EAEA,WAAKm2D,MAAL,GAAclpE,KAAKM,IAAL,CAAU,KAAK6oE,OAAL,GAAenpE,KAAKmB,GAAL,CAASmoE,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;EACD;;EAED,YAAQ,KAAK3D,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAHV;EAIE;EAASxgE,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;;EAOA,SAAK+1D,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;EACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;EACA,SAAKrvC,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EA1CoB,CAAvB;;AA6CA,wBAAe,CAAC,SAASq1D,MAAT,CAAgBpX,KAAhB,EAAuB;;EAErC,WAASwY,UAAT,CAAoBxc,OAApB,EAA6B;EAC3B,WAAOgE,QAAQ,IAAIoY,UAAJ,CAAepc,OAAf,EAAwBgE,KAAxB,CAAR,GAAyC,IAAIuX,QAAJ,CAAavb,OAAb,EAAsB,CAAtB,CAAhD;EACD;;EAEDwc,aAAWxY,KAAX,GAAmB,UAASA,KAAT,EAAgB;EACjC,WAAOoX,OAAO,CAACpX,KAAR,CAAP;EACD,GAFD;;EAIA,SAAOwY,UAAP;EACD,CAXc,EAWZ,GAXY,CAAf;;ECxEA,SAASC,gBAAT,CAA0Bzc,OAA1B,EAAmCgE,KAAnC,EAA0C;EACxC,OAAKqU,QAAL,GAAgBrY,OAAhB;EACA,OAAKqc,MAAL,GAAcrY,KAAd;EACD;;EAEDyY,iBAAiBxnE,SAAjB,GAA6B;EAC3BqjE,aAAWp1C,MADgB;EAE3Bs1C,WAASt1C,MAFkB;EAG3Bu1C,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKgB,GAAL,GACvD,KAAK5uC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKc,GAAL,GAAWlqE,GADlE;EAEA,SAAKoqE,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAKzD,MAAL,GAAc,CAFd;EAGD,GAT0B;EAU3BC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ;EACN,eAAKL,QAAL,CAAcpY,MAAd,CAAqB,KAAKya,GAA1B,EAA+B,KAAKG,GAApC;EACA,eAAKxC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKkY,QAAL,CAAcnY,MAAd,CAAqB,KAAKwa,GAA1B,EAA+B,KAAKG,GAApC;EACA,eAAKxC,QAAL,CAAclY,SAAd;EACA;EACD;EACD,WAAK,CAAL;EAAQ;EACN,eAAKjoD,KAAL,CAAW,KAAKwiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK3iE,KAAL,CAAW,KAAKyiE,GAAhB,EAAqB,KAAKG,GAA1B;EACA,eAAK5iE,KAAL,CAAW,KAAKyjE,GAAhB,EAAqB,KAAKC,GAA1B;EACA;EACD;EAhBH;EAkBD,GA7B0B;EA8B3B1jE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;;EAEA,QAAI,KAAK2yD,MAAT,EAAiB;EACf,UAAI4D,MAAM,KAAK7B,GAAL,GAAW1oE,CAArB;EAAA,UACIwqE,MAAM,KAAK3B,GAAL,GAAW70D,CADrB;EAEA,WAAKm2D,MAAL,GAAclpE,KAAKM,IAAL,CAAU,KAAK6oE,OAAL,GAAenpE,KAAKmB,GAAL,CAASmoE,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;EACD;;EAED,YAAQ,KAAK3D,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKgC,GAAL,GAAW3oE,CAAX,EAAc,KAAK8oE,GAAL,GAAW90D,CAAzB,CAA4B;EACrD,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKL,QAAL,CAAcpY,MAAd,CAAqB,KAAK0a,GAAL,GAAW5oE,CAAhC,EAAmC,KAAK+oE,GAAL,GAAW/0D,CAA9C,EAAkD;EAC3E,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB,KAAKiD,GAAL,GAAW5pE,CAAX,EAAc,KAAK6pE,GAAL,GAAW71D,CAAzB,CAA4B;EACrD;EAAS7N,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAJ9B;;EAOA,SAAK+1D,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;EACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;EACA,SAAKrvC,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EAlD0B,CAA7B;;AAqDA,8BAAe,CAAC,SAASq1D,MAAT,CAAgBpX,KAAhB,EAAuB;;EAErC,WAASwY,UAAT,CAAoBxc,OAApB,EAA6B;EAC3B,WAAOgE,QAAQ,IAAIyY,gBAAJ,CAAqBzc,OAArB,EAA8BgE,KAA9B,CAAR,GAA+C,IAAI0X,cAAJ,CAAmB1b,OAAnB,EAA4B,CAA5B,CAAtD;EACD;;EAEDwc,aAAWxY,KAAX,GAAmB,UAASA,KAAT,EAAgB;EACjC,WAAOoX,OAAO,CAACpX,KAAR,CAAP;EACD,GAFD;;EAIA,SAAOwY,UAAP;EACD,CAXc,EAWZ,GAXY,CAAf;;EC3DA,SAASE,cAAT,CAAwB1c,OAAxB,EAAiCgE,KAAjC,EAAwC;EACtC,OAAKqU,QAAL,GAAgBrY,OAAhB;EACA,OAAKqc,MAAL,GAAcrY,KAAd;EACD;;EAED0Y,eAAeznE,SAAf,GAA2B;EACzBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHwB;EAIzBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANwB;EAOzB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKytC,GAAL,GACtB,KAAK1tC,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAK2tC,GAAL,GAAWlpE,GADjC;EAEA,SAAKoqE,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAKzD,MAAL,GAAc,CAFd;EAGD,GAbwB;EAczBC,WAAS,mBAAW;EAClB,QAAI,KAAKJ,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GAjBwB;EAkBzBrgE,SAAO,kBAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;;EAEA,QAAI,KAAK2yD,MAAT,EAAiB;EACf,UAAI4D,MAAM,KAAK7B,GAAL,GAAW1oE,CAArB;EAAA,UACIwqE,MAAM,KAAK3B,GAAL,GAAW70D,CADrB;EAEA,WAAKm2D,MAAL,GAAclpE,KAAKM,IAAL,CAAU,KAAK6oE,OAAL,GAAenpE,KAAKmB,GAAL,CAASmoE,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;EACD;;EAED,YAAQ,KAAK3D,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqB,KAAKua,GAA1B,EAA+B,KAAKG,GAApC,CAAb,GAAwD,KAAKvC,QAAL,CAAcpY,MAAd,CAAqB,KAAKwa,GAA1B,EAA+B,KAAKG,GAApC,CAAxD,CAAkG;EAC3H,WAAK,CAAL;EAAQ,aAAKlC,MAAL,GAAc,CAAd,CAJV;EAKE;EAASxgE,iBAAM,IAAN,EAAYnG,CAAZ,EAAegU,CAAf,EAAmB;EAL9B;;EAQA,SAAK+1D,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;EACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;EACA,SAAKrvC,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKytC,GAArC,EAA0C,KAAKA,GAAL,GAAW1oE,CAArD;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAK2tC,GAArC,EAA0C,KAAKA,GAAL,GAAW70D,CAArD;EACD;EAvCwB,CAA3B;;AA0CA,4BAAe,CAAC,SAASq1D,MAAT,CAAgBpX,KAAhB,EAAuB;;EAErC,WAASwY,UAAT,CAAoBxc,OAApB,EAA6B;EAC3B,WAAOgE,QAAQ,IAAI0Y,cAAJ,CAAmB1c,OAAnB,EAA4BgE,KAA5B,CAAR,GAA6C,IAAI6X,YAAJ,CAAiB7b,OAAjB,EAA0B,CAA1B,CAApD;EACD;;EAEDwc,aAAWxY,KAAX,GAAmB,UAASA,KAAT,EAAgB;EACjC,WAAOoX,OAAO,CAACpX,KAAR,CAAP;EACD,GAFD;;EAIA,SAAOwY,UAAP;EACD,CAXc,EAWZ,GAXY,CAAf;;EChDA,SAASG,YAAT,CAAsB3c,OAAtB,EAA+B;EAC7B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAED2c,aAAa1nE,SAAb,GAAyB;EACvBqjE,aAAWp1C,MADY;EAEvBs1C,WAASt1C,MAFc;EAGvBu1C,aAAW,qBAAW;EACpB,SAAKC,MAAL,GAAc,CAAd;EACD,GALsB;EAMvBC,WAAS,mBAAW;EAClB,QAAI,KAAKD,MAAT,EAAiB,KAAKL,QAAL,CAAclY,SAAd;EAClB,GARsB;EASvBjoD,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,QAAI,KAAK2yD,MAAT,EAAiB,KAAKL,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,EAAjB,KACK,KAAK2yD,MAAL,GAAc,CAAd,EAAiB,KAAKL,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAAjB;EACN;EAbsB,CAAzB;;AAgBA,EAAe,4BAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAI2c,YAAJ,CAAiB3c,OAAjB,CAAP;EACD;;ECxBD,SAASxwC,IAAT,CAAczd,CAAd,EAAiB;EACf,SAAOA,IAAI,CAAJ,GAAQ,CAAC,CAAT,GAAa,CAApB;EACD;;EAED;EACA;EACA;EACA;EACA,SAAS6qE,MAAT,CAAgBh5C,IAAhB,EAAsB+J,EAAtB,EAA0BC,EAA1B,EAA8B;EAC5B,MAAIivC,KAAKj5C,KAAKoJ,GAAL,GAAWpJ,KAAKkJ,GAAzB;EAAA,MACIgwC,KAAKnvC,KAAK/J,KAAKoJ,GADnB;EAAA,MAEInB,KAAK,CAACjI,KAAKqJ,GAAL,GAAWrJ,KAAKmJ,GAAjB,KAAyB8vC,MAAMC,KAAK,CAAL,IAAU,CAAC,CAA1C,CAFT;EAAA,MAGI/wC,KAAK,CAAC6B,KAAKhK,KAAKqJ,GAAX,KAAmB6vC,MAAMD,KAAK,CAAL,IAAU,CAAC,CAApC,CAHT;EAAA,MAIIpoE,IAAI,CAACo3B,KAAKixC,EAAL,GAAU/wC,KAAK8wC,EAAhB,KAAuBA,KAAKC,EAA5B,CAJR;EAKA,SAAO,CAACttD,KAAKqc,EAAL,IAAWrc,KAAKuc,EAAL,CAAZ,IAAwB/4B,KAAKgF,GAAL,CAAShF,KAAKsB,GAAL,CAASu3B,EAAT,CAAT,EAAuB74B,KAAKsB,GAAL,CAASy3B,EAAT,CAAvB,EAAqC,MAAM/4B,KAAKsB,GAAL,CAASG,CAAT,CAA3C,CAAxB,IAAmF,CAA1F;EACD;;EAED;EACA,SAASsoE,MAAT,CAAgBn5C,IAAhB,EAAsBvd,CAAtB,EAAyB;EACvB,MAAIjC,IAAIwf,KAAKoJ,GAAL,GAAWpJ,KAAKkJ,GAAxB;EACA,SAAO1oB,IAAI,CAAC,KAAKwf,KAAKqJ,GAAL,GAAWrJ,KAAKmJ,GAArB,IAA4B3oB,CAA5B,GAAgCiC,CAAjC,IAAsC,CAA1C,GAA8CA,CAArD;EACD;;EAED;EACA;EACA;EACA,SAASnO,QAAT,CAAe0rB,IAAf,EAAqBxe,EAArB,EAAyBC,EAAzB,EAA6B;EAC3B,MAAI+M,KAAKwR,KAAKkJ,GAAd;EAAA,MACItH,KAAK5B,KAAKmJ,GADd;EAAA,MAEI1a,KAAKuR,KAAKoJ,GAFd;EAAA,MAGIvH,KAAK7B,KAAKqJ,GAHd;EAAA,MAIInH,KAAK,CAACzT,KAAKD,EAAN,IAAY,CAJrB;EAKAwR,OAAKy0C,QAAL,CAActE,aAAd,CAA4B3hD,KAAK0T,EAAjC,EAAqCN,KAAKM,KAAK1gB,EAA/C,EAAmDiN,KAAKyT,EAAxD,EAA4DL,KAAKK,KAAKzgB,EAAtE,EAA0EgN,EAA1E,EAA8EoT,EAA9E;EACD;;EAED,SAASu3C,SAAT,CAAmBhd,OAAnB,EAA4B;EAC1B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDgd,UAAU/nE,SAAV,GAAsB;EACpBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHmB;EAIpBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANmB;EAOpB+mE,aAAW,qBAAW;EACpB,SAAK3rC,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKgwC,GAAL,GAAWvrE,GAFX;EAGA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAZmB;EAapBC,WAAS,mBAAW;EAClB,YAAQ,KAAKD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKL,QAAL,CAAcnY,MAAd,CAAqB,KAAKlzB,GAA1B,EAA+B,KAAKC,GAApC,EAA0C;EAClD,WAAK,CAAL;EAAQ/0B,iBAAM,IAAN,EAAY,KAAK+kE,GAAjB,EAAsBF,OAAO,IAAP,EAAa,KAAKE,GAAlB,CAAtB,EAA+C;EAFzD;EAIA,QAAI,KAAK1E,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACD,GApBmB;EAqBpBrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpB,QAAIV,KAAK3T,GAAT;;EAEAK,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,QAAIhU,MAAM,KAAKi7B,GAAX,IAAkBjnB,MAAM,KAAKknB,GAAjC,EAAsC,OAJlB;EAKpB,YAAQ,KAAKyrC,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAAiB;EACzB,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiBxgE,SAAM,IAAN,EAAY6kE,OAAO,IAAP,EAAa13D,KAAKu3D,OAAO,IAAP,EAAa7qE,CAAb,EAAgBgU,CAAhB,CAAlB,CAAZ,EAAmDV,EAAnD,EAAwD;EACjF;EAASnN,iBAAM,IAAN,EAAY,KAAK+kE,GAAjB,EAAsB53D,KAAKu3D,OAAO,IAAP,EAAa7qE,CAAb,EAAgBgU,CAAhB,CAA3B,EAAgD;EAJ3D;;EAOA,SAAK+mB,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWj7B,CAAhC;EACA,SAAKg7B,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAWlnB,CAAhC;EACA,SAAKk3D,GAAL,GAAW53D,EAAX;EACD;EApCmB,CAAtB;;EAuCA,SAAS63D,SAAT,CAAmBld,OAAnB,EAA4B;EAC1B,OAAKqY,QAAL,GAAgB,IAAI8E,cAAJ,CAAmBnd,OAAnB,CAAhB;EACD;;EAED,CAACkd,UAAUjoE,SAAV,GAAsBsD,OAAOC,MAAP,CAAcwkE,UAAU/nE,SAAxB,CAAvB,EAA2DiD,KAA3D,GAAmE,UAASnG,CAAT,EAAYgU,CAAZ,EAAe;EAChFi3D,YAAU/nE,SAAV,CAAoBiD,KAApB,CAA0BlB,IAA1B,CAA+B,IAA/B,EAAqC+O,CAArC,EAAwChU,CAAxC;EACD,CAFD;;EAIA,SAASorE,cAAT,CAAwBnd,OAAxB,EAAiC;EAC/B,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDmd,eAAeloE,SAAf,GAA2B;EACzBgrD,UAAQ,gBAASluD,CAAT,EAAYgU,CAAZ,EAAe;EAAE,SAAKsyD,QAAL,CAAcpY,MAAd,CAAqBl6C,CAArB,EAAwBhU,CAAxB;EAA6B,GAD7B;EAEzBouD,aAAW,qBAAW;EAAE,SAAKkY,QAAL,CAAclY,SAAd;EAA4B,GAF3B;EAGzBD,UAAQ,gBAASnuD,CAAT,EAAYgU,CAAZ,EAAe;EAAE,SAAKsyD,QAAL,CAAcnY,MAAd,CAAqBn6C,CAArB,EAAwBhU,CAAxB;EAA6B,GAH7B;EAIzBgiE,iBAAe,uBAAS1hD,EAAT,EAAaoT,EAAb,EAAiBkI,EAAjB,EAAqBC,EAArB,EAAyB77B,CAAzB,EAA4BgU,CAA5B,EAA+B;EAAE,SAAKsyD,QAAL,CAActE,aAAd,CAA4BtuC,EAA5B,EAAgCpT,EAAhC,EAAoCub,EAApC,EAAwCD,EAAxC,EAA4C5nB,CAA5C,EAA+ChU,CAA/C;EAAoD;EAJ3E,CAA3B;;AAOA,EAAO,SAASqrE,SAAT,CAAmBpd,OAAnB,EAA4B;EACjC,SAAO,IAAIgd,SAAJ,CAAchd,OAAd,CAAP;EACD;;AAED,EAAO,SAASqd,SAAT,CAAmBrd,OAAnB,EAA4B;EACjC,SAAO,IAAIkd,SAAJ,CAAcld,OAAd,CAAP;EACD;;ECvGD,SAASsd,OAAT,CAAiBtd,OAAjB,EAA0B;EACxB,OAAKqY,QAAL,GAAgBrY,OAAhB;EACD;;EAEDsd,QAAQroE,SAAR,GAAoB;EAClBqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHiB;EAIlBC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANiB;EAOlB+mE,aAAW,qBAAW;EACpB,SAAK/rC,EAAL,GAAU,EAAV;EACA,SAAKC,EAAL,GAAU,EAAV;EACD,GAViB;EAWlBgsC,WAAS,mBAAW;EAClB,QAAI5mE,IAAI,KAAK26B,EAAb;EAAA,QACI3mB,IAAI,KAAK4mB,EADb;EAAA,QAEI95B,IAAId,EAAEH,MAFV;;EAIA,QAAIiB,CAAJ,EAAO;EACL,WAAK0lE,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,EAAE,CAAF,CAArB,EAA2BgU,EAAE,CAAF,CAA3B,CAAb,GAAgD,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,EAAE,CAAF,CAArB,EAA2BgU,EAAE,CAAF,CAA3B,CAAhD;EACA,UAAIlT,MAAM,CAAV,EAAa;EACX,aAAKwlE,QAAL,CAAcnY,MAAd,CAAqBnuD,EAAE,CAAF,CAArB,EAA2BgU,EAAE,CAAF,CAA3B;EACD,OAFD,MAEO;EACL,YAAIw3D,KAAKC,cAAczrE,CAAd,CAAT;EAAA,YACI0rE,KAAKD,cAAcz3D,CAAd,CADT;EAEA,aAAK,IAAInR,KAAK,CAAT,EAAYkb,KAAK,CAAtB,EAAyBA,KAAKjd,CAA9B,EAAiC,EAAE+B,EAAF,EAAM,EAAEkb,EAAzC,EAA6C;EAC3C,eAAKuoD,QAAL,CAActE,aAAd,CAA4BwJ,GAAG,CAAH,EAAM3oE,EAAN,CAA5B,EAAuC6oE,GAAG,CAAH,EAAM7oE,EAAN,CAAvC,EAAkD2oE,GAAG,CAAH,EAAM3oE,EAAN,CAAlD,EAA6D6oE,GAAG,CAAH,EAAM7oE,EAAN,CAA7D,EAAwE7C,EAAE+d,EAAF,CAAxE,EAA+E/J,EAAE+J,EAAF,CAA/E;EACD;EACF;EACF;;EAED,QAAI,KAAKyoD,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB1lE,MAAM,CAA7C,EAAiD,KAAKwlE,QAAL,CAAclY,SAAd;EACjD,SAAKoY,KAAL,GAAa,IAAI,KAAKA,KAAtB;EACA,SAAK7rC,EAAL,GAAU,KAAKC,EAAL,GAAU,IAApB;EACD,GAhCiB;EAiClBz0B,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpB,SAAK2mB,EAAL,CAAQ72B,IAAR,CAAa,CAAC9D,CAAd;EACA,SAAK46B,EAAL,CAAQ92B,IAAR,CAAa,CAACkQ,CAAd;EACD;EApCiB,CAApB;;EAuCA;EACA,SAASy3D,aAAT,CAAuBzrE,CAAvB,EAA0B;EACxB,MAAIgB,CAAJ;EAAA,MACIF,IAAId,EAAEH,MAAF,GAAW,CADnB;EAAA,MAEIwR,CAFJ;EAAA,MAGI5R,IAAI,IAAI4B,KAAJ,CAAUP,CAAV,CAHR;EAAA,MAIIpB,IAAI,IAAI2B,KAAJ,CAAUP,CAAV,CAJR;EAAA,MAKIiR,IAAI,IAAI1Q,KAAJ,CAAUP,CAAV,CALR;EAMArB,IAAE,CAAF,IAAO,CAAP,EAAUC,EAAE,CAAF,IAAO,CAAjB,EAAoBqS,EAAE,CAAF,IAAO/R,EAAE,CAAF,IAAO,IAAIA,EAAE,CAAF,CAAtC;EACA,OAAKgB,IAAI,CAAT,EAAYA,IAAIF,IAAI,CAApB,EAAuB,EAAEE,CAAzB;EAA4BvB,MAAEuB,CAAF,IAAO,CAAP,EAAUtB,EAAEsB,CAAF,IAAO,CAAjB,EAAoB+Q,EAAE/Q,CAAF,IAAO,IAAIhB,EAAEgB,CAAF,CAAJ,GAAW,IAAIhB,EAAEgB,IAAI,CAAN,CAA1C;EAA5B,GACAvB,EAAEqB,IAAI,CAAN,IAAW,CAAX,EAAcpB,EAAEoB,IAAI,CAAN,IAAW,CAAzB,EAA4BiR,EAAEjR,IAAI,CAAN,IAAW,IAAId,EAAEc,IAAI,CAAN,CAAJ,GAAed,EAAEc,CAAF,CAAtD;EACA,OAAKE,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB;EAAwBqQ,QAAI5R,EAAEuB,CAAF,IAAOtB,EAAEsB,IAAI,CAAN,CAAX,EAAqBtB,EAAEsB,CAAF,KAAQqQ,CAA7B,EAAgCU,EAAE/Q,CAAF,KAAQqQ,IAAIU,EAAE/Q,IAAI,CAAN,CAA5C;EAAxB,GACAvB,EAAEqB,IAAI,CAAN,IAAWiR,EAAEjR,IAAI,CAAN,IAAWpB,EAAEoB,IAAI,CAAN,CAAtB;EACA,OAAKE,IAAIF,IAAI,CAAb,EAAgBE,KAAK,CAArB,EAAwB,EAAEA,CAA1B;EAA6BvB,MAAEuB,CAAF,IAAO,CAAC+Q,EAAE/Q,CAAF,IAAOvB,EAAEuB,IAAI,CAAN,CAAR,IAAoBtB,EAAEsB,CAAF,CAA3B;EAA7B,GACAtB,EAAEoB,IAAI,CAAN,IAAW,CAACd,EAAEc,CAAF,IAAOrB,EAAEqB,IAAI,CAAN,CAAR,IAAoB,CAA/B;EACA,OAAKE,IAAI,CAAT,EAAYA,IAAIF,IAAI,CAApB,EAAuB,EAAEE,CAAzB;EAA4BtB,MAAEsB,CAAF,IAAO,IAAIhB,EAAEgB,IAAI,CAAN,CAAJ,GAAevB,EAAEuB,IAAI,CAAN,CAAtB;EAA5B,GACA,OAAO,CAACvB,CAAD,EAAIC,CAAJ,CAAP;EACD;;AAED,EAAe,uBAASuuD,OAAT,EAAkB;EAC/B,SAAO,IAAIsd,OAAJ,CAAYtd,OAAZ,CAAP;EACD;;EChED,SAAS0d,IAAT,CAAc1d,OAAd,EAAuB35C,CAAvB,EAA0B;EACxB,OAAKgyD,QAAL,GAAgBrY,OAAhB;EACA,OAAK2d,EAAL,GAAUt3D,CAAV;EACD;;EAEDq3D,KAAKzoE,SAAL,GAAiB;EACfqjE,aAAW,qBAAW;EACpB,SAAKC,KAAL,GAAa,CAAb;EACD,GAHc;EAIfC,WAAS,mBAAW;EAClB,SAAKD,KAAL,GAAa7mE,GAAb;EACD,GANc;EAOf+mE,aAAW,qBAAW;EACpB,SAAK/rC,EAAL,GAAU,KAAKC,EAAL,GAAUj7B,GAApB;EACA,SAAKgnE,MAAL,GAAc,CAAd;EACD,GAVc;EAWfC,WAAS,mBAAW;EAClB,QAAI,IAAI,KAAKgF,EAAT,IAAe,KAAKA,EAAL,GAAU,CAAzB,IAA8B,KAAKjF,MAAL,KAAgB,CAAlD,EAAqD,KAAKL,QAAL,CAAcnY,MAAd,CAAqB,KAAKxzB,EAA1B,EAA8B,KAAKC,EAAnC;EACrD,QAAI,KAAK4rC,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKG,MAAL,KAAgB,CAAvD,EAA2D,KAAKL,QAAL,CAAclY,SAAd;EAC3D,QAAI,KAAKoY,KAAL,IAAc,CAAlB,EAAqB,KAAKoF,EAAL,GAAU,IAAI,KAAKA,EAAnB,EAAuB,KAAKpF,KAAL,GAAa,IAAI,KAAKA,KAA7C;EACtB,GAfc;EAgBfrgE,SAAO,eAASnG,CAAT,EAAYgU,CAAZ,EAAe;EACpBhU,QAAI,CAACA,CAAL,EAAQgU,IAAI,CAACA,CAAb;EACA,YAAQ,KAAK2yD,MAAb;EACE,WAAK,CAAL;EAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKH,KAAL,GAAa,KAAKF,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB,CAAb,GAA0C,KAAKsyD,QAAL,CAAcpY,MAAd,CAAqBluD,CAArB,EAAwBgU,CAAxB,CAA1C,CAAsE;EAC/F,WAAK,CAAL;EAAQ,aAAK2yD,MAAL,GAAc,CAAd,CAFV;EAGE;EAAS;EACP,cAAI,KAAKiF,EAAL,IAAW,CAAf,EAAkB;EAChB,iBAAKtF,QAAL,CAAcnY,MAAd,CAAqB,KAAKxzB,EAA1B,EAA8B3mB,CAA9B;EACA,iBAAKsyD,QAAL,CAAcnY,MAAd,CAAqBnuD,CAArB,EAAwBgU,CAAxB;EACD,WAHD,MAGO;EACL,gBAAIsM,KAAK,KAAKqa,EAAL,IAAW,IAAI,KAAKixC,EAApB,IAA0B5rE,IAAI,KAAK4rE,EAA5C;EACA,iBAAKtF,QAAL,CAAcnY,MAAd,CAAqB7tC,EAArB,EAAyB,KAAKsa,EAA9B;EACA,iBAAK0rC,QAAL,CAAcnY,MAAd,CAAqB7tC,EAArB,EAAyBtM,CAAzB;EACD;EACD;EACD;EAbH;EAeA,SAAK2mB,EAAL,GAAU36B,CAAV,EAAa,KAAK46B,EAAL,GAAU5mB,CAAvB;EACD;EAlCc,CAAjB;;AAqCA,EAAe,oBAASi6C,OAAT,EAAkB;EAC/B,SAAO,IAAI0d,IAAJ,CAAS1d,OAAT,EAAkB,GAAlB,CAAP;EACD;;AAED,EAAO,SAAS4d,UAAT,CAAoB5d,OAApB,EAA6B;EAClC,SAAO,IAAI0d,IAAJ,CAAS1d,OAAT,EAAkB,CAAlB,CAAP;EACD;;AAED,EAAO,SAAS6d,SAAT,CAAmB7d,OAAnB,EAA4B;EACjC,SAAO,IAAI0d,IAAJ,CAAS1d,OAAT,EAAkB,CAAlB,CAAP;EACD;;ECpDc,iBAASyO,MAAT,EAAiBp6B,KAAjB,EAAwB;EACrC,MAAI,EAAE,CAACxhC,IAAI47D,OAAO78D,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;EAChC,OAAK,IAAImB,IAAI,CAAR,EAAW4a,CAAX,EAAcke,EAAd,EAAkBE,KAAK0iC,OAAOp6B,MAAM,CAAN,CAAP,CAAvB,EAAyCxhC,CAAzC,EAA4CuQ,IAAI2oB,GAAGn6B,MAAxD,EAAgEmB,IAAIF,CAApE,EAAuE,EAAEE,CAAzE,EAA4E;EAC1E84B,SAAKE,EAAL,EAASA,KAAK0iC,OAAOp6B,MAAMthC,CAAN,CAAP,CAAd;EACA,SAAK4a,IAAI,CAAT,EAAYA,IAAIvK,CAAhB,EAAmB,EAAEuK,CAArB,EAAwB;EACtBoe,SAAGpe,CAAH,EAAM,CAAN,KAAYoe,GAAGpe,CAAH,EAAM,CAAN,IAAWxJ,MAAM0nB,GAAGle,CAAH,EAAM,CAAN,CAAN,IAAkBke,GAAGle,CAAH,EAAM,CAAN,CAAlB,GAA6Bke,GAAGle,CAAH,EAAM,CAAN,CAApD;EACD;EACF;EACF;;ECRc,iBAAS8gD,MAAT,EAAiB;EAC9B,MAAI57D,IAAI47D,OAAO78D,MAAf;EAAA,MAAuByE,IAAI,IAAIjD,KAAJ,CAAUP,CAAV,CAA3B;EACA,SAAO,EAAEA,CAAF,IAAO,CAAd;EAAiBwD,MAAExD,CAAF,IAAOA,CAAP;EAAjB,GACA,OAAOwD,CAAP;EACD;;ECCD,SAASynE,UAAT,CAAoBzrE,CAApB,EAAuBgD,GAAvB,EAA4B;EAC1B,SAAOhD,EAAEgD,GAAF,CAAP;EACD;;AAED,EAAe,kBAAW;EACxB,MAAIO,OAAOmS,WAAS,EAAT,CAAX;EAAA,MACIssB,QAAQ0pC,MADZ;EAAA,MAEI/qD,SAASgrD,MAFb;EAAA,MAGIxoE,QAAQsoE,UAHZ;;EAKA,WAAS3mB,KAAT,CAAezrB,IAAf,EAAqB;EACnB,QAAIuyC,KAAKroE,KAAKkuB,KAAL,CAAW,IAAX,EAAiBhxB,SAAjB,CAAT;EAAA,QACIC,CADJ;EAAA,QAEIqQ,IAAIsoB,KAAK95B,MAFb;EAAA,QAGIiB,IAAIorE,GAAGrsE,MAHX;EAAA,QAIIssE,KAAK,IAAI9qE,KAAJ,CAAUP,CAAV,CAJT;EAAA,QAKIsrE,EALJ;;EAOA,SAAKprE,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtB,WAAK,IAAIqrE,KAAKH,GAAGlrE,CAAH,CAAT,EAAgBsrE,KAAKH,GAAGnrE,CAAH,IAAQ,IAAIK,KAAJ,CAAUgQ,CAAV,CAA7B,EAA2CuK,IAAI,CAA/C,EAAkD2wD,GAAvD,EAA4D3wD,IAAIvK,CAAhE,EAAmE,EAAEuK,CAArE,EAAwE;EACtE0wD,WAAG1wD,CAAH,IAAQ2wD,MAAM,CAAC,CAAD,EAAI,CAAC9oE,MAAMk2B,KAAK/d,CAAL,CAAN,EAAeywD,EAAf,EAAmBzwD,CAAnB,EAAsB+d,IAAtB,CAAL,CAAd;EACA4yC,YAAI5yC,IAAJ,GAAWA,KAAK/d,CAAL,CAAX;EACD;EACD0wD,SAAGhpE,GAAH,GAAS+oE,EAAT;EACD;;EAED,SAAKrrE,IAAI,CAAJ,EAAOorE,KAAK9pC,MAAM6pC,EAAN,CAAjB,EAA4BnrE,IAAIF,CAAhC,EAAmC,EAAEE,CAArC,EAAwC;EACtCmrE,SAAGC,GAAGprE,CAAH,CAAH,EAAU8D,KAAV,GAAkB9D,CAAlB;EACD;;EAEDigB,WAAOkrD,EAAP,EAAWC,EAAX;EACA,WAAOD,EAAP;EACD;;EAED/mB,QAAMvhD,IAAN,GAAa,UAASsB,CAAT,EAAY;EACvB,WAAOpE,UAAUlB,MAAV,IAAoBgE,OAAO,OAAOsB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAASjS,QAAMkB,IAAN,CAAWE,CAAX,CAAT,CAArC,EAA8DigD,KAAlF,IAA2FvhD,IAAlG;EACD,GAFD;;EAIAuhD,QAAM3hD,KAAN,GAAc,UAAS0B,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoB4D,QAAQ,OAAO0B,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC7Q,CAAV,CAAtC,EAAoDigD,KAAxE,IAAiF3hD,KAAxF;EACD,GAFD;;EAIA2hD,QAAM9iB,KAAN,GAAc,UAASn9B,CAAT,EAAY;EACxB,WAAOpE,UAAUlB,MAAV,IAAoByiC,QAAQn9B,KAAK,IAAL,GAAY6mE,MAAZ,GAAwB,OAAO7mE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAASjS,QAAMkB,IAAN,CAAWE,CAAX,CAAT,CAA9D,EAAuFigD,KAA3G,IAAoH9iB,KAA3H;EACD,GAFD;;EAIA8iB,QAAMnkC,MAAN,GAAe,UAAS9b,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBohB,SAAS9b,KAAK,IAAL,GAAY8mE,MAAZ,GAAyB9mE,CAAlC,EAAqCigD,KAAzD,IAAkEnkC,MAAzE;EACD,GAFD;;EAIA,SAAOmkC,KAAP;EACD;;ECtDc,4BAASsX,MAAT,EAAiBp6B,KAAjB,EAAwB;EACrC,MAAI,EAAE,CAACxhC,IAAI47D,OAAO78D,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;EAChC,OAAK,IAAImB,CAAJ,EAAOF,CAAP,EAAU8a,IAAI,CAAd,EAAiBvK,IAAIqrD,OAAO,CAAP,EAAU78D,MAA/B,EAAuCmU,CAA5C,EAA+C4H,IAAIvK,CAAnD,EAAsD,EAAEuK,CAAxD,EAA2D;EACzD,SAAK5H,IAAIhT,IAAI,CAAb,EAAgBA,IAAIF,CAApB,EAAuB,EAAEE,CAAzB;EAA4BgT,WAAK0oD,OAAO17D,CAAP,EAAU4a,CAAV,EAAa,CAAb,KAAmB,CAAxB;EAA5B,KACA,IAAI5H,CAAJ,EAAO,KAAKhT,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB;EAAwB07D,aAAO17D,CAAP,EAAU4a,CAAV,EAAa,CAAb,KAAmB5H,CAAnB;EAAxB;EACR;EACD2qB,SAAK+9B,MAAL,EAAap6B,KAAb;EACD;;ECTc,+BAASo6B,MAAT,EAAiBp6B,KAAjB,EAAwB;EACrC,MAAI,EAAE,CAACxhC,IAAI47D,OAAO78D,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;EAChC,OAAK,IAAImB,CAAJ,EAAO4a,IAAI,CAAX,EAActb,CAAd,EAAiB0zB,EAAjB,EAAqBsH,EAArB,EAAyBkxC,EAAzB,EAA6B1rE,CAA7B,EAAgCuQ,IAAIqrD,OAAOp6B,MAAM,CAAN,CAAP,EAAiBziC,MAA1D,EAAkE+b,IAAIvK,CAAtE,EAAyE,EAAEuK,CAA3E,EAA8E;EAC5E,SAAK0f,KAAKkxC,KAAK,CAAV,EAAaxrE,IAAI,CAAtB,EAAyBA,IAAIF,CAA7B,EAAgC,EAAEE,CAAlC,EAAqC;EACnC,UAAI,CAACgzB,KAAK,CAAC1zB,IAAIo8D,OAAOp6B,MAAMthC,CAAN,CAAP,EAAiB4a,CAAjB,CAAL,EAA0B,CAA1B,IAA+Btb,EAAE,CAAF,CAArC,KAA8C,CAAlD,EAAqD;EACnDA,UAAE,CAAF,IAAOg7B,EAAP,EAAWh7B,EAAE,CAAF,IAAOg7B,MAAMtH,EAAxB;EACD,OAFD,MAEO,IAAIA,KAAK,CAAT,EAAY;EACjB1zB,UAAE,CAAF,IAAOksE,EAAP,EAAWlsE,EAAE,CAAF,IAAOksE,MAAMx4C,EAAxB;EACD,OAFM,MAEA;EACL1zB,UAAE,CAAF,IAAOg7B,EAAP;EACD;EACF;EACF;EACF;;ECXc,gCAASohC,MAAT,EAAiBp6B,KAAjB,EAAwB;EACrC,MAAI,EAAE,CAACxhC,IAAI47D,OAAO78D,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;EAChC,OAAK,IAAI+b,IAAI,CAAR,EAAWke,KAAK4iC,OAAOp6B,MAAM,CAAN,CAAP,CAAhB,EAAkCxhC,CAAlC,EAAqCuQ,IAAIyoB,GAAGj6B,MAAjD,EAAyD+b,IAAIvK,CAA7D,EAAgE,EAAEuK,CAAlE,EAAqE;EACnE,SAAK,IAAI5a,IAAI,CAAR,EAAWgT,IAAI,CAApB,EAAuBhT,IAAIF,CAA3B,EAA8B,EAAEE,CAAhC;EAAmCgT,WAAK0oD,OAAO17D,CAAP,EAAU4a,CAAV,EAAa,CAAb,KAAmB,CAAxB;EAAnC,KACAke,GAAGle,CAAH,EAAM,CAAN,KAAYke,GAAGle,CAAH,EAAM,CAAN,IAAW,CAAC5H,CAAD,GAAK,CAA5B;EACD;EACD2qB,SAAK+9B,MAAL,EAAap6B,KAAb;EACD;;ECPc,4BAASo6B,MAAT,EAAiBp6B,KAAjB,EAAwB;EACrC,MAAI,EAAE,CAACxhC,IAAI47D,OAAO78D,MAAZ,IAAsB,CAAxB,KAA8B,EAAE,CAACwR,IAAI,CAACyoB,KAAK4iC,OAAOp6B,MAAM,CAAN,CAAP,CAAN,EAAwBziC,MAA7B,IAAuC,CAAzC,CAAlC,EAA+E;EAC/E,OAAK,IAAImU,IAAI,CAAR,EAAW4H,IAAI,CAAf,EAAkBke,EAAlB,EAAsBzoB,CAAtB,EAAyBvQ,CAA9B,EAAiC8a,IAAIvK,CAArC,EAAwC,EAAEuK,CAA1C,EAA6C;EAC3C,SAAK,IAAI5a,IAAI,CAAR,EAAWg5B,KAAK,CAAhB,EAAmByyC,KAAK,CAA7B,EAAgCzrE,IAAIF,CAApC,EAAuC,EAAEE,CAAzC,EAA4C;EAC1C,UAAIsrE,KAAK5P,OAAOp6B,MAAMthC,CAAN,CAAP,CAAT;EAAA,UACI0rE,OAAOJ,GAAG1wD,CAAH,EAAM,CAAN,KAAY,CADvB;EAAA,UAEI+wD,OAAOL,GAAG1wD,IAAI,CAAP,EAAU,CAAV,KAAgB,CAF3B;EAAA,UAGIgxD,KAAK,CAACF,OAAOC,IAAR,IAAgB,CAHzB;EAIA,WAAK,IAAIx6D,IAAI,CAAb,EAAgBA,IAAInR,CAApB,EAAuB,EAAEmR,CAAzB,EAA4B;EAC1B,YAAI06D,KAAKnQ,OAAOp6B,MAAMnwB,CAAN,CAAP,CAAT;EAAA,YACI26D,OAAOD,GAAGjxD,CAAH,EAAM,CAAN,KAAY,CADvB;EAAA,YAEImxD,OAAOF,GAAGjxD,IAAI,CAAP,EAAU,CAAV,KAAgB,CAF3B;EAGAgxD,cAAME,OAAOC,IAAb;EACD;EACD/yC,YAAM0yC,IAAN,EAAYD,MAAMG,KAAKF,IAAvB;EACD;EACD5yC,OAAGle,IAAI,CAAP,EAAU,CAAV,KAAgBke,GAAGle,IAAI,CAAP,EAAU,CAAV,IAAe5H,CAA/B;EACA,QAAIgmB,EAAJ,EAAQhmB,KAAKy4D,KAAKzyC,EAAV;EACT;EACDF,KAAGle,IAAI,CAAP,EAAU,CAAV,KAAgBke,GAAGle,IAAI,CAAP,EAAU,CAAV,IAAe5H,CAA/B;EACA2qB,SAAK+9B,MAAL,EAAap6B,KAAb;EACD;;ECrBc,sBAASo6B,MAAT,EAAiB;EAC9B,MAAItpB,OAAOspB,OAAOv5D,GAAP,CAAW+tB,KAAX,CAAX;EACA,SAAOyN,OAAK+9B,MAAL,EAAa/7C,IAAb,CAAkB,UAASlhB,CAAT,EAAYC,CAAZ,EAAe;EAAE,WAAO0zC,KAAK3zC,CAAL,IAAU2zC,KAAK1zC,CAAL,CAAjB;EAA2B,GAA9D,CAAP;EACD;;AAED,EAAO,SAASwxB,KAAT,CAAawrC,MAAb,EAAqB;EAC1B,MAAIpqD,IAAI,CAAR;EAAA,MAAWtR,IAAI,CAAC,CAAhB;EAAA,MAAmBF,IAAI47D,OAAO78D,MAA9B;EAAA,MAAsCw6B,CAAtC;EACA,SAAO,EAAEr5B,CAAF,GAAMF,CAAb;EAAgB,QAAIu5B,IAAI,CAACqiC,OAAO17D,CAAP,EAAU,CAAV,CAAT,EAAuBsR,KAAK+nB,CAAL;EAAvC,GACA,OAAO/nB,CAAP;EACD;;ECTc,+BAASoqD,MAAT,EAAiB;EAC9B,SAAOn8D,YAAUm8D,MAAV,EAAkB/6D,OAAlB,EAAP;EACD;;ECDc,8BAAS+6D,MAAT,EAAiB;EAC9B,MAAI57D,IAAI47D,OAAO78D,MAAf;EAAA,MACImB,CADJ;EAAA,MAEI4a,CAFJ;EAAA,MAGIw3B,OAAOspB,OAAOv5D,GAAP,CAAW+tB,KAAX,CAHX;EAAA,MAIIoR,QAAQ3D,OAAK+9B,MAAL,EAAa/7C,IAAb,CAAkB,UAASlhB,CAAT,EAAYC,CAAZ,EAAe;EAAE,WAAO0zC,KAAK1zC,CAAL,IAAU0zC,KAAK3zC,CAAL,CAAjB;EAA2B,GAA9D,CAJZ;EAAA,MAKIirC,MAAM,CALV;EAAA,MAMInP,SAAS,CANb;EAAA,MAOIyxC,OAAO,EAPX;EAAA,MAQIC,UAAU,EARd;;EAUA,OAAKjsE,IAAI,CAAT,EAAYA,IAAIF,CAAhB,EAAmB,EAAEE,CAArB,EAAwB;EACtB4a,QAAI0mB,MAAMthC,CAAN,CAAJ;EACA,QAAI0pC,MAAMnP,MAAV,EAAkB;EAChBmP,aAAO0I,KAAKx3B,CAAL,CAAP;EACAoxD,WAAKlpE,IAAL,CAAU8X,CAAV;EACD,KAHD,MAGO;EACL2f,gBAAU6X,KAAKx3B,CAAL,CAAV;EACAqxD,cAAQnpE,IAAR,CAAa8X,CAAb;EACD;EACF;;EAED,SAAOqxD,QAAQtrE,OAAR,GAAkB4uB,MAAlB,CAAyBy8C,IAAzB,CAAP;EACD;;ECxBc,4BAAStQ,MAAT,EAAiB;EAC9B,SAAO/9B,OAAK+9B,MAAL,EAAa/6D,OAAb,EAAP;EACD;;ECYD,IAAMurE,oBAAoB,SAApBA,iBAAoB,MAAO;EAC/B,UAAQz0B,IAAI0jB,QAAJ,CAAaM,SAArB;EACE,SAAK,KAAL;EACE,aAAO0Q,WAAP;EACF,SAAK,MAAL;EACE,aAAOC,oBAAP;EACF,SAAK,MAAL;EACE,aAAOC,MAAP;EACF,SAAK,SAAL;EACE,aAAOC,iBAAP;EACF;EACE,aAAOD,MAAP;EAVJ;EAYD,CAbD;;EAeA,IAAME,WAAW,SAAXA,QAAW,MAAO;EACtB,MAAMC,cAAcpoB,OAApB;EACA,MAAM+W,WAAW+Q,kBAAkBz0B,GAAlB,CAAjB;;EAEA,UAAQA,IAAIsS,KAAJ,CAAU0iB,WAAlB;EACE,SAAK1Q,OAAOC,MAAZ;EACEwQ,kBAAYvsD,MAAZ,CAAmBysD,iBAAnB,EAAsCprC,KAAtC,CAA4C65B,QAA5C;EACA;EACF,SAAKY,OAAOE,IAAZ;EACEuQ,kBAAYvsD,MAAZ,CAAmB0sD,MAAnB,EAAoCrrC,KAApC,CAA0C65B,QAA1C;EACA;EACF,SAAKY,OAAOG,UAAZ;EACEsQ,kBAAYvsD,MAAZ,CAAmB2sD,qBAAnB,EAA0CtrC,KAA1C,CAAgDurC,mBAAhD;EACA;EACF,SAAK9Q,OAAOI,MAAZ;EACEqQ,kBAAYvsD,MAAZ,CAAmB6sD,iBAAnB,EAAsCxrC,KAAtC,CAA4CurC,mBAA5C;EACA;EACF,SAAK9Q,OAAOK,SAAZ;EACEoQ,kBAAYvsD,MAAZ,CAAmB8sD,oBAAnB,EAAyCzrC,KAAzC,CAA+CurC,mBAA/C;EACA;;EAEF;EACEL,kBAAYvsD,MAAZ,CAAmB0sD,MAAnB;EACA;EAnBJ;;EAsBA,SAAOH,WAAP;EACD,CA3BD;;EC7BA;EACA,IAAItzB,eAAa9c,OAAK,oBAAL,CAAjB;;ECDA;EACA,IAAI+c,eAAc,YAAW;EAC3B,MAAIC,MAAM,SAAS5oC,IAAT,CAAc0oC,gBAAcA,aAAWr2C,IAAzB,IAAiCq2C,aAAWr2C,IAAX,CAAgBw2C,QAAjD,IAA6D,EAA3E,CAAV;EACA,SAAOD,MAAO,mBAAmBA,GAA1B,GAAiC,EAAxC;EACD,CAHiB,EAAlB;;EAKA;;;;;;;EAOA,SAASE,UAAT,CAAkBC,IAAlB,EAAwB;EACtB,SAAO,CAAC,CAACJ,YAAF,IAAiBA,gBAAcI,IAAtC;EACD;;ECjBD;EACA,IAAIC,cAAY9O,SAASxoC,SAAzB;;EAEA;EACA,IAAIu3C,iBAAeD,YAAUrpC,QAA7B;;EAEA;;;;;;;EAOA,SAASupC,UAAT,CAAkBH,IAAlB,EAAwB;EACtB,MAAIA,QAAQ,IAAZ,EAAkB;EAChB,QAAI;EACF,aAAOE,eAAax1C,IAAb,CAAkBs1C,IAAlB,CAAP;EACD,KAFD,CAEE,OAAOliC,CAAP,EAAU;EACZ,QAAI;EACF,aAAQkiC,OAAO,EAAf;EACD,KAFD,CAEE,OAAOliC,CAAP,EAAU;EACb;EACD,SAAO,EAAP;EACD;;EClBD;;;;EAIA,IAAIsiC,iBAAe,qBAAnB;;EAEA;EACA,IAAIC,iBAAe,6BAAnB;;EAEA;EACA,IAAIJ,cAAY9O,SAASxoC,SAAzB;EAAA,IACI0oC,gBAAcplC,OAAOtD,SADzB;;EAGA;EACA,IAAIu3C,iBAAeD,YAAUrpC,QAA7B;;EAEA;EACA,IAAIW,mBAAiB85B,cAAY95B,cAAjC;;EAEA;EACA,IAAImpC,eAAa9zC,OAAO,MACtBszC,eAAax1C,IAAb,CAAkB6M,gBAAlB,EAAkCmL,OAAlC,CAA0C09B,cAA1C,EAAwD,MAAxD,EACC19B,OADD,CACS,wDADT,EACmE,OADnE,CADsB,GAEwD,GAF/D,CAAjB;;EAKA;;;;;;;;EAQA,SAASi+B,cAAT,CAAsBz3C,KAAtB,EAA6B;EAC3B,MAAI,CAACkpC,WAASlpC,KAAT,CAAD,IAAoB62C,WAAS72C,KAAT,CAAxB,EAAyC;EACvC,WAAO,KAAP;EACD;EACD,MAAI03C,UAAUnO,aAAWvpC,KAAX,IAAoBw3C,YAApB,GAAiCL,cAA/C;EACA,SAAOO,QAAQl8B,IAAR,CAAay7B,WAASj3C,KAAT,CAAb,CAAP;EACD;;EC5CD;;;;;;;;EAQA,SAAS23C,UAAT,CAAkBh3C,MAAlB,EAA0Bd,GAA1B,EAA+B;EAC7B,SAAOc,UAAU,IAAV,GAAiBkB,SAAjB,GAA6BlB,OAAOd,GAAP,CAApC;EACD;;ECPD;;;;;;;;EAQA,SAAS+3C,WAAT,CAAmBj3C,MAAnB,EAA2Bd,GAA3B,EAAgC;EAC9B,MAAIG,QAAQ23C,WAASh3C,MAAT,EAAiBd,GAAjB,CAAZ;EACA,SAAO43C,eAAaz3C,KAAb,IAAsBA,KAAtB,GAA8B6B,SAArC;EACD;;ECZD,IAAI0oE,mBAAkB,YAAW;EAC/B,MAAI;EACF,QAAIzzB,OAAOc,YAAU70C,MAAV,EAAkB,gBAAlB,CAAX;EACA+zC,SAAK,EAAL,EAAS,EAAT,EAAa,EAAb;EACA,WAAOA,IAAP;EACD,GAJD,CAIE,OAAOliC,CAAP,EAAU;EACb,CANqB,EAAtB;;ECAA;;;;;;;;;EASA,SAAS2kC,iBAAT,CAAyB54C,MAAzB,EAAiCd,GAAjC,EAAsCG,KAAtC,EAA6C;EAC3C,MAAIH,OAAO,WAAP,IAAsB0qE,gBAA1B,EAA0C;EACxCA,qBAAe5pE,MAAf,EAAuBd,GAAvB,EAA4B;EAC1B,sBAAgB,IADU;EAE1B,oBAAc,IAFY;EAG1B,eAASG,KAHiB;EAI1B,kBAAY;EAJc,KAA5B;EAMD,GAPD,MAOO;EACLW,WAAOd,GAAP,IAAcG,KAAd;EACD;EACF;;ECtBD;;;;;;;;;;EAUA,SAASwqE,eAAT,CAAyBvpE,KAAzB,EAAgCwpE,MAAhC,EAAwC9wB,QAAxC,EAAkD+wB,WAAlD,EAA+D;EAC7D,MAAIrpE,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MADvC;;EAGA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAI4D,QAAQiB,MAAMI,KAAN,CAAZ;EACAopE,WAAOC,WAAP,EAAoB1qE,KAApB,EAA2B25C,SAAS35C,KAAT,CAA3B,EAA4CiB,KAA5C;EACD;EACD,SAAOypE,WAAP;EACD;;ECnBD;;;;;;;EAOA,SAASjxB,eAAT,CAAuBC,SAAvB,EAAkC;EAChC,SAAO,UAAS/4C,MAAT,EAAiBg5C,QAAjB,EAA2BC,QAA3B,EAAqC;EAC1C,QAAIv4C,QAAQ,CAAC,CAAb;EAAA,QACIw4C,WAAW92C,OAAOpC,MAAP,CADf;EAAA,QAEIm5C,QAAQF,SAASj5C,MAAT,CAFZ;EAAA,QAGIvE,SAAS09C,MAAM19C,MAHnB;;EAKA,WAAOA,QAAP,EAAiB;EACf,UAAIyD,MAAMi6C,MAAMJ,YAAYt9C,MAAZ,GAAqB,EAAEiF,KAA7B,CAAV;EACA,UAAIs4C,SAASE,SAASh6C,GAAT,CAAT,EAAwBA,GAAxB,EAA6Bg6C,QAA7B,MAA2C,KAA/C,EAAsD;EACpD;EACD;EACF;EACD,WAAOl5C,MAAP;EACD,GAbD;EAcD;;ECpBD;;;;;;;;;;;EAWA,IAAIo5C,YAAUN,iBAAd;;ECbA;;;;;;;;;EASA,SAAS0G,WAAT,CAAmB9iD,CAAnB,EAAsBs8C,QAAtB,EAAgC;EAC9B,MAAIt4C,QAAQ,CAAC,CAAb;EAAA,MACIqnC,SAAS9qC,MAAMP,CAAN,CADb;;EAGA,SAAO,EAAEgE,KAAF,GAAUhE,CAAjB,EAAoB;EAClBqrC,WAAOrnC,KAAP,IAAgBs4C,SAASt4C,KAAT,CAAhB;EACD;EACD,SAAOqnC,MAAP;EACD;;ECdD;EACA,IAAImT,YAAU,oBAAd;;EAEA;;;;;;;EAOA,SAASC,iBAAT,CAAyB97C,KAAzB,EAAgC;EAC9B,SAAOwpC,eAAaxpC,KAAb,KAAuBipC,aAAWjpC,KAAX,KAAqB67C,SAAnD;EACD;;ECZD;EACA,IAAI1T,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;EACA,IAAI4tC,yBAAuB9T,cAAY8T,oBAAvC;;EAEA;;;;;;;;;;;;;;;;;;EAkBA,IAAIC,gBAAcJ,kBAAgB,YAAW;EAAE,SAAOx+C,SAAP;EAAmB,CAAhC,EAAhB,IAAsDw+C,iBAAtD,GAAwE,UAAS97C,KAAT,EAAgB;EACxG,SAAOwpC,eAAaxpC,KAAb,KAAuBqO,iBAAe7M,IAAf,CAAoBxB,KAApB,EAA2B,QAA3B,CAAvB,IACL,CAACi8C,uBAAqBz6C,IAArB,CAA0BxB,KAA1B,EAAiC,QAAjC,CADH;EAED,CAHD;;EC9BA;;;;;;;;;;;;;EAaA,SAASu8C,WAAT,GAAqB;EACnB,SAAO,KAAP;EACD;;ECZD;EACA,IAAIvC,gBAAc,QAAOC,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IAAyC,CAACA,QAAQC,QAAlD,IAA8DD,OAAhF;;EAEA;EACA,IAAIE,eAAaH,iBAAe,QAAOI,MAAP,yCAAOA,MAAP,MAAiB,QAAhC,IAA4CA,MAA5C,IAAsD,CAACA,OAAOF,QAA9D,IAA0EE,MAA3F;;EAEA;EACA,IAAIC,kBAAgBF,gBAAcA,aAAWF,OAAX,KAAuBD,aAAzD;;EAEA;EACA,IAAIM,WAASD,kBAAgB1gB,OAAK2gB,MAArB,GAA8Bz4C,SAA3C;;EAEA;EACA,IAAI+6C,mBAAiBtC,WAASA,SAAOuC,QAAhB,GAA2Bh7C,SAAhD;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIg7C,aAAWD,oBAAkBL,WAAjC;;ECnCA;EACA,IAAIJ,qBAAmB,gBAAvB;;EAEA;EACA,IAAIkE,aAAW,kBAAf;;EAEA;;;;;;;;EAQA,SAASC,SAAT,CAAiBtgD,KAAjB,EAAwB5D,MAAxB,EAAgC;EAC9B,MAAIge,cAAcpa,KAAd,yCAAcA,KAAd,CAAJ;EACA5D,WAASA,UAAU,IAAV,GAAiB+/C,kBAAjB,GAAoC//C,MAA7C;;EAEA,SAAO,CAAC,CAACA,MAAF,KACJge,QAAQ,QAAR,IACEA,QAAQ,QAAR,IAAoBimC,WAAS7kC,IAAT,CAAcxb,KAAd,CAFlB,KAGAA,QAAQ,CAAC,CAAT,IAAcA,QAAQ,CAAR,IAAa,CAA3B,IAAgCA,QAAQ5D,MAH/C;EAID;;ECtBD;EACA,IAAI+/C,qBAAmB,gBAAvB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BA,SAASC,UAAT,CAAkBp8C,KAAlB,EAAyB;EACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACLA,QAAQ,CAAC,CADJ,IACSA,QAAQ,CAAR,IAAa,CADtB,IAC2BA,SAASm8C,kBAD3C;EAED;;EC5BD;EACA,IAAIN,YAAU,oBAAd;EAAA,IACIyB,aAAW,gBADf;EAAA,IAEIC,YAAU,kBAFd;EAAA,IAGIC,YAAU,eAHd;EAAA,IAIIC,aAAW,gBAJf;EAAA,IAKIrU,YAAU,mBALd;EAAA,IAMIuU,WAAS,cANb;EAAA,IAOIC,cAAY,iBAPhB;EAAA,IAQId,cAAY,iBARhB;EAAA,IASIgB,cAAY,iBAThB;EAAA,IAUIC,WAAS,cAVb;EAAA,IAWItU,cAAY,iBAXhB;EAAA,IAYIwU,eAAa,kBAZjB;;EAcA,IAAIC,mBAAiB,sBAArB;EAAA,IACIC,gBAAc,mBADlB;EAAA,IAEIC,eAAa,uBAFjB;EAAA,IAGIC,eAAa,uBAHjB;EAAA,IAIIC,YAAU,oBAJd;EAAA,IAKIC,aAAW,qBALf;EAAA,IAMIC,aAAW,qBANf;EAAA,IAOIC,aAAW,qBAPf;EAAA,IAQIC,oBAAkB,4BARtB;EAAA,IASIC,cAAY,sBAThB;EAAA,IAUIC,cAAY,sBAVhB;;EAYA;EACA,IAAIC,mBAAiB,EAArB;AACAA,mBAAeT,YAAf,IAA6BS,iBAAeR,YAAf,IAC7BQ,iBAAeP,SAAf,IAA0BO,iBAAeN,UAAf,IAC1BM,iBAAeL,UAAf,IAA2BK,iBAAeJ,UAAf,IAC3BI,iBAAeH,iBAAf,IAAkCG,iBAAeF,WAAf,IAClCE,iBAAeD,WAAf,IAA4B,IAJ5B;AAKAC,mBAAehD,SAAf,IAA0BgD,iBAAevB,UAAf,IAC1BuB,iBAAeX,gBAAf,IAAiCW,iBAAetB,SAAf,IACjCsB,iBAAeV,aAAf,IAA8BU,iBAAerB,SAAf,IAC9BqB,iBAAepB,UAAf,IAA2BoB,iBAAezV,SAAf,IAC3ByV,iBAAelB,QAAf,IAAyBkB,iBAAejB,WAAf,IACzBiB,iBAAe/B,WAAf,IAA4B+B,iBAAef,WAAf,IAC5Be,iBAAed,QAAf,IAAyBc,iBAAepV,WAAf,IACzBoV,iBAAeZ,YAAf,IAA6B,KAP7B;;EASA;;;;;;;EAOA,SAASa,kBAAT,CAA0B9+C,KAA1B,EAAiC;EAC/B,WAAOwpC,eAAaxpC,KAAb,KACLo8C,WAASp8C,MAAM5D,MAAf,CADK,IACqB,CAAC,CAACyiD,iBAAe5V,aAAWjpC,KAAX,CAAf,CAD9B;EAED;;ECrDD;EACA,IAAIw/C,qBAAmBH,cAAYA,WAASI,YAA5C;;EAEA;;;;;;;;;;;;;;;;;EAiBA,IAAIA,iBAAeD,qBAAmBT,YAAUS,kBAAV,CAAnB,GAAiDV,kBAApE;;ECjBA;EACA,IAAI3W,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;EAQA,SAASoyC,eAAT,CAAuBzgD,KAAvB,EAA8B0gD,SAA9B,EAAyC;EACvC,MAAIC,QAAQ//C,UAAQZ,KAAR,CAAZ;EAAA,MACI4gD,QAAQ,CAACD,KAAD,IAAUzE,cAAYl8C,KAAZ,CADtB;EAAA,MAEI6gD,SAAS,CAACF,KAAD,IAAU,CAACC,KAAX,IAAoB/D,WAAS78C,KAAT,CAFjC;EAAA,MAGI8gD,SAAS,CAACH,KAAD,IAAU,CAACC,KAAX,IAAoB,CAACC,MAArB,IAA+BpB,eAAaz/C,KAAb,CAH5C;EAAA,MAII+gD,cAAcJ,SAASC,KAAT,IAAkBC,MAAlB,IAA4BC,MAJ9C;EAAA,MAKIpY,SAASqY,cAAcZ,YAAUngD,MAAM5D,MAAhB,EAAwB4kD,MAAxB,CAAd,GAAgD,EAL7D;EAAA,MAMI5kD,SAASssC,OAAOtsC,MANpB;;EAQA,OAAK,IAAIyD,GAAT,IAAgBG,KAAhB,EAAuB;EACrB,QAAI,CAAC0gD,aAAaryC,iBAAe7M,IAAf,CAAoBxB,KAApB,EAA2BH,GAA3B,CAAd,KACA,EAAEkhD;EACC;EACAlhD,WAAO,QAAP;EACA;EACCghD,eAAWhhD,OAAO,QAAP,IAAmBA,OAAO,QAArC,CAFD;EAGA;EACCihD,eAAWjhD,OAAO,QAAP,IAAmBA,OAAO,YAA1B,IAA0CA,OAAO,YAA5D,CAJD;EAKA;EACAygD,cAAQzgD,GAAR,EAAazD,MAAb,CARD,CAAF,CADJ,EAUQ;EACNssC,aAAOroC,IAAP,CAAYR,GAAZ;EACD;EACF;EACD,SAAO6oC,MAAP;EACD;;EC9CD;EACA,IAAIP,gBAAcplC,OAAOtD,SAAzB;;EAEA;;;;;;;EAOA,SAASi8C,aAAT,CAAqB17C,KAArB,EAA4B;EAC1B,MAAI27C,OAAO37C,SAASA,MAAML,WAA1B;EAAA,MACIoB,QAAS,OAAO46C,IAAP,IAAe,UAAf,IAA6BA,KAAKl8C,SAAnC,IAAiD0oC,aAD7D;;EAGA,SAAOnoC,UAAUe,KAAjB;EACD;;ECfD;;;;;;;;EAQA,SAASs6C,SAAT,CAAiBvE,IAAjB,EAAuBthC,SAAvB,EAAkC;EAChC,SAAO,UAAS8lC,GAAT,EAAc;EACnB,WAAOxE,KAAKthC,UAAU8lC,GAAV,CAAL,CAAP;EACD,GAFD;EAGD;;ECVD;EACA,IAAIqvB,aAAatvB,UAAQt4C,OAAO3C,IAAf,EAAqB2C,MAArB,CAAjB;;ECAA;EACA,IAAIolC,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;EAOA,SAASu8D,QAAT,CAAkBjqE,MAAlB,EAA0B;EACxB,MAAI,CAAC+6C,cAAY/6C,MAAZ,CAAL,EAA0B;EACxB,WAAOgqE,WAAWhqE,MAAX,CAAP;EACD;EACD,MAAI+nC,SAAS,EAAb;EACA,OAAK,IAAI7oC,GAAT,IAAgBkD,OAAOpC,MAAP,CAAhB,EAAgC;EAC9B,QAAI0N,iBAAe7M,IAAf,CAAoBb,MAApB,EAA4Bd,GAA5B,KAAoCA,OAAO,aAA/C,EAA8D;EAC5D6oC,aAAOroC,IAAP,CAAYR,GAAZ;EACD;EACF;EACD,SAAO6oC,MAAP;EACD;;ECxBD;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAAS2T,aAAT,CAAqBr8C,KAArB,EAA4B;EAC1B,SAAOA,SAAS,IAAT,IAAiBo8C,WAASp8C,MAAM5D,MAAf,CAAjB,IAA2C,CAACmtC,aAAWvpC,KAAX,CAAnD;EACD;;EC1BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA4BA,SAASI,MAAT,CAAcO,MAAd,EAAsB;EACpB,SAAO07C,cAAY17C,MAAZ,IAAsB8/C,gBAAc9/C,MAAd,CAAtB,GAA8CiqE,SAASjqE,MAAT,CAArD;EACD;;EC/BD;;;;;;;;EAQA,SAASkqE,UAAT,CAAoBlqE,MAApB,EAA4Bg5C,QAA5B,EAAsC;EACpC,SAAOh5C,UAAUo5C,UAAQp5C,MAAR,EAAgBg5C,QAAhB,EAA0Bv5C,MAA1B,CAAjB;EACD;;ECXD;;;;;;;;EAQA,SAAS0qE,cAAT,CAAwBC,QAAxB,EAAkCrxB,SAAlC,EAA6C;EAC3C,SAAO,UAASsxB,UAAT,EAAqBrxB,QAArB,EAA+B;EACpC,QAAIqxB,cAAc,IAAlB,EAAwB;EACtB,aAAOA,UAAP;EACD;EACD,QAAI,CAAC3uB,cAAY2uB,UAAZ,CAAL,EAA8B;EAC5B,aAAOD,SAASC,UAAT,EAAqBrxB,QAArB,CAAP;EACD;EACD,QAAIv9C,SAAS4uE,WAAW5uE,MAAxB;EAAA,QACIiF,QAAQq4C,YAAYt9C,MAAZ,GAAqB,CAAC,CADlC;EAAA,QAEIy9C,WAAW92C,OAAOioE,UAAP,CAFf;;EAIA,WAAQtxB,YAAYr4C,OAAZ,GAAsB,EAAEA,KAAF,GAAUjF,MAAxC,EAAiD;EAC/C,UAAIu9C,SAASE,SAASx4C,KAAT,CAAT,EAA0BA,KAA1B,EAAiCw4C,QAAjC,MAA+C,KAAnD,EAA0D;EACxD;EACD;EACF;EACD,WAAOmxB,UAAP;EACD,GAjBD;EAkBD;;EC1BD;;;;;;;;EAQA,IAAIC,WAAWH,eAAeD,UAAf,CAAf;;ECTA;;;;;;;;;;;EAWA,SAASK,cAAT,CAAwBF,UAAxB,EAAoCP,MAApC,EAA4C9wB,QAA5C,EAAsD+wB,WAAtD,EAAmE;EACjEO,WAASD,UAAT,EAAqB,UAAShrE,KAAT,EAAgBH,GAAhB,EAAqBmrE,UAArB,EAAiC;EACpDP,WAAOC,WAAP,EAAoB1qE,KAApB,EAA2B25C,SAAS35C,KAAT,CAA3B,EAA4CgrE,UAA5C;EACD,GAFD;EAGA,SAAON,WAAP;EACD;;EClBD;;;;;;;EAOA,SAASh1B,gBAAT,GAA0B;EACxB,OAAK/Z,QAAL,GAAgB,EAAhB;EACA,OAAKn7B,IAAL,GAAY,CAAZ;EACD;;ECVD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAgCA,SAASm1C,IAAT,CAAY31C,KAAZ,EAAmB41C,KAAnB,EAA0B;EACxB,SAAO51C,UAAU41C,KAAV,IAAoB51C,UAAUA,KAAV,IAAmB41C,UAAUA,KAAxD;EACD;;EChCD;;;;;;;;EAQA,SAASC,cAAT,CAAsB50C,KAAtB,EAA6BpB,GAA7B,EAAkC;EAChC,MAAIzD,SAAS6E,MAAM7E,MAAnB;EACA,SAAOA,QAAP,EAAiB;EACf,QAAIu5C,KAAG10C,MAAM7E,MAAN,EAAc,CAAd,CAAH,EAAqByD,GAArB,CAAJ,EAA+B;EAC7B,aAAOzD,MAAP;EACD;EACF;EACD,SAAO,CAAC,CAAR;EACD;;EChBD;EACA,IAAI05C,eAAal4C,MAAM6B,SAAvB;;EAEA;EACA,IAAI6yB,WAASwjB,aAAWxjB,MAAxB;;EAEA;;;;;;;;;EASA,SAASyjB,iBAAT,CAAyBl2C,GAAzB,EAA8B;EAC5B,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,eAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,MAAIwB,QAAQ,CAAZ,EAAe;EACb,WAAO,KAAP;EACD;EACD,MAAIsS,YAAYuiB,KAAK95B,MAAL,GAAc,CAA9B;EACA,MAAIiF,SAASsS,SAAb,EAAwB;EACtBuiB,SAAKxf,GAAL;EACD,GAFD,MAEO;EACL4b,aAAO9wB,IAAP,CAAY00B,IAAZ,EAAkB70B,KAAlB,EAAyB,CAAzB;EACD;EACD,IAAE,KAAKb,IAAP;EACA,SAAO,IAAP;EACD;;EC9BD;;;;;;;;;EASA,SAASw1C,cAAT,CAAsBn2C,GAAtB,EAA2B;EACzB,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,eAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,SAAOwB,QAAQ,CAAR,GAAYQ,SAAZ,GAAwBq0B,KAAK70B,KAAL,EAAY,CAAZ,CAA/B;EACD;;ECdD;;;;;;;;;EASA,SAAS40C,cAAT,CAAsBp2C,GAAtB,EAA2B;EACzB,SAAOg2C,eAAa,KAAKla,QAAlB,EAA4B97B,GAA5B,IAAmC,CAAC,CAA3C;EACD;;ECXD;;;;;;;;;;EAUA,SAASq2C,cAAT,CAAsBr2C,GAAtB,EAA2BG,KAA3B,EAAkC;EAChC,MAAIk2B,OAAO,KAAKyF,QAAhB;EAAA,MACIt6B,QAAQw0C,eAAa3f,IAAb,EAAmBr2B,GAAnB,CADZ;;EAGA,MAAIwB,QAAQ,CAAZ,EAAe;EACb,MAAE,KAAKb,IAAP;EACA01B,SAAK71B,IAAL,CAAU,CAACR,GAAD,EAAMG,KAAN,CAAV;EACD,GAHD,MAGO;EACLk2B,SAAK70B,KAAL,EAAY,CAAZ,IAAiBrB,KAAjB;EACD;EACD,SAAO,IAAP;EACD;;ECjBD;;;;;;;EAOA,SAASm2C,WAAT,CAAmB51C,OAAnB,EAA4B;EAC1B,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;AACAD,cAAU12C,SAAV,CAAoBU,KAApB,GAA4Bu1C,gBAA5B;AACAS,cAAU12C,SAAV,CAAoB,QAApB,IAAgCs2C,iBAAhC;AACAI,cAAU12C,SAAV,CAAoBK,GAApB,GAA0Bk2C,cAA1B;AACAG,cAAU12C,SAAV,CAAoBG,GAApB,GAA0Bq2C,cAA1B;AACAE,cAAU12C,SAAV,CAAoBM,GAApB,GAA0Bm2C,cAA1B;;EC3BA;;;;;;;EAOA,SAASG,YAAT,GAAsB;EACpB,OAAK1a,QAAL,GAAgB,IAAIwa,WAAJ,EAAhB;EACA,OAAK31C,IAAL,GAAY,CAAZ;EACD;;ECZD;;;;;;;;;EASA,SAAS81C,aAAT,CAAqBz2C,GAArB,EAA0B;EACxB,MAAIq2B,OAAO,KAAKyF,QAAhB;EAAA,MACI+M,SAASxS,KAAK,QAAL,EAAer2B,GAAf,CADb;;EAGA,OAAKW,IAAL,GAAY01B,KAAK11B,IAAjB;EACA,SAAOkoC,MAAP;EACD;;ECfD;;;;;;;;;EASA,SAAS6N,UAAT,CAAkB12C,GAAlB,EAAuB;EACrB,SAAO,KAAK87B,QAAL,CAAc77B,GAAd,CAAkBD,GAAlB,CAAP;EACD;;ECXD;;;;;;;;;EASA,SAAS22C,UAAT,CAAkB32C,GAAlB,EAAuB;EACrB,SAAO,KAAK87B,QAAL,CAAc/7B,GAAd,CAAkBC,GAAlB,CAAP;EACD;;ECRD;EACA,IAAIL,QAAMo4C,YAAUje,MAAV,EAAgB,KAAhB,CAAV;;ECFA;EACA,IAAIke,iBAAeD,YAAU70C,MAAV,EAAkB,QAAlB,CAAnB;;ECDA;;;;;;;EAOA,SAAS+0C,WAAT,GAAqB;EACnB,OAAKnc,QAAL,GAAgBkc,iBAAeA,eAAa,IAAb,CAAf,GAAoC,EAApD;EACA,OAAKr3C,IAAL,GAAY,CAAZ;EACD;;ECZD;;;;;;;;;;EAUA,SAASu3C,YAAT,CAAoBl4C,GAApB,EAAyB;EACvB,MAAI6oC,SAAS,KAAK9oC,GAAL,CAASC,GAAT,KAAiB,OAAO,KAAK87B,QAAL,CAAc97B,GAAd,CAArC;EACA,OAAKW,IAAL,IAAakoC,SAAS,CAAT,GAAa,CAA1B;EACA,SAAOA,MAAP;EACD;;ECZD;EACA,IAAIsP,mBAAiB,2BAArB;;EAEA;EACA,IAAI7P,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;;EASA,SAAS8pC,SAAT,CAAiBt4C,GAAjB,EAAsB;EACpB,MAAIq2B,OAAO,KAAKyF,QAAhB;EACA,MAAIkc,cAAJ,EAAkB;EAChB,QAAInP,SAASxS,KAAKr2B,GAAL,CAAb;EACA,WAAO6oC,WAAWsP,gBAAX,GAA4Bn2C,SAA5B,GAAwC6mC,MAA/C;EACD;EACD,SAAOr6B,iBAAe7M,IAAf,CAAoB00B,IAApB,EAA0Br2B,GAA1B,IAAiCq2B,KAAKr2B,GAAL,CAAjC,GAA6CgC,SAApD;EACD;;ECzBD;EACA,IAAIsmC,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;;EASA,SAASiqC,SAAT,CAAiBz4C,GAAjB,EAAsB;EACpB,MAAIq2B,OAAO,KAAKyF,QAAhB;EACA,SAAOkc,iBAAgB3hB,KAAKr2B,GAAL,MAAcgC,SAA9B,GAA2CwM,iBAAe7M,IAAf,CAAoB00B,IAApB,EAA0Br2B,GAA1B,CAAlD;EACD;;EClBD;EACA,IAAIm4C,mBAAiB,2BAArB;;EAEA;;;;;;;;;;EAUA,SAASQ,SAAT,CAAiB34C,GAAjB,EAAsBG,KAAtB,EAA6B;EAC3B,MAAIk2B,OAAO,KAAKyF,QAAhB;EACA,OAAKn7B,IAAL,IAAa,KAAKZ,GAAL,CAASC,GAAT,IAAgB,CAAhB,GAAoB,CAAjC;EACAq2B,OAAKr2B,GAAL,IAAag4C,kBAAgB73C,UAAU6B,SAA3B,GAAwCm2C,gBAAxC,GAAyDh4C,KAArE;EACA,SAAO,IAAP;EACD;;ECdD;;;;;;;EAOA,SAASy4C,MAAT,CAAcl4C,OAAd,EAAuB;EACrB,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;AACAqC,SAAKh5C,SAAL,CAAeU,KAAf,GAAuB23C,WAAvB;AACAW,SAAKh5C,SAAL,CAAe,QAAf,IAA2Bs4C,YAA3B;AACAU,SAAKh5C,SAAL,CAAeK,GAAf,GAAqBq4C,SAArB;AACAM,SAAKh5C,SAAL,CAAeG,GAAf,GAAqB04C,SAArB;AACAG,SAAKh5C,SAAL,CAAeM,GAAf,GAAqBy4C,SAArB;;ECzBA;;;;;;;EAOA,SAASE,eAAT,GAAyB;EACvB,OAAKl4C,IAAL,GAAY,CAAZ;EACA,OAAKm7B,QAAL,GAAgB;EACd,YAAQ,IAAI8c,MAAJ,EADM;EAEd,WAAO,KAAKj5C,SAAO22C,WAAZ,GAFO;EAGd,cAAU,IAAIsC,MAAJ;EAHI,GAAhB;EAKD;;EClBD;;;;;;;EAOA,SAASE,WAAT,CAAmB34C,KAAnB,EAA0B;EACxB,MAAIoa,cAAcpa,KAAd,yCAAcA,KAAd,CAAJ;EACA,SAAQoa,QAAQ,QAAR,IAAoBA,QAAQ,QAA5B,IAAwCA,QAAQ,QAAhD,IAA4DA,QAAQ,SAArE,GACFpa,UAAU,WADR,GAEFA,UAAU,IAFf;EAGD;;ECVD;;;;;;;;EAQA,SAAS44C,YAAT,CAAoBl5C,GAApB,EAAyBG,GAAzB,EAA8B;EAC5B,MAAIq2B,OAAOx2B,IAAIi8B,QAAf;EACA,SAAOgd,YAAU94C,GAAV,IACHq2B,KAAK,OAAOr2B,GAAP,IAAc,QAAd,GAAyB,QAAzB,GAAoC,MAAzC,CADG,GAEHq2B,KAAKx2B,GAFT;EAGD;;ECbD;;;;;;;;;EASA,SAASm5C,gBAAT,CAAwBh5C,GAAxB,EAA6B;EAC3B,MAAI6oC,SAASkQ,aAAW,IAAX,EAAiB/4C,GAAjB,EAAsB,QAAtB,EAAgCA,GAAhC,CAAb;EACA,OAAKW,IAAL,IAAakoC,SAAS,CAAT,GAAa,CAA1B;EACA,SAAOA,MAAP;EACD;;ECbD;;;;;;;;;EASA,SAASoQ,aAAT,CAAqBj5C,GAArB,EAA0B;EACxB,SAAO+4C,aAAW,IAAX,EAAiB/4C,GAAjB,EAAsBC,GAAtB,CAA0BD,GAA1B,CAAP;EACD;;ECXD;;;;;;;;;EASA,SAASk5C,aAAT,CAAqBl5C,GAArB,EAA0B;EACxB,SAAO+4C,aAAW,IAAX,EAAiB/4C,GAAjB,EAAsBD,GAAtB,CAA0BC,GAA1B,CAAP;EACD;;ECXD;;;;;;;;;;EAUA,SAASm5C,aAAT,CAAqBn5C,GAArB,EAA0BG,KAA1B,EAAiC;EAC/B,MAAIk2B,OAAO0iB,aAAW,IAAX,EAAiB/4C,GAAjB,CAAX;EAAA,MACIW,OAAO01B,KAAK11B,IADhB;;EAGA01B,OAAKn2B,GAAL,CAASF,GAAT,EAAcG,KAAd;EACA,OAAKQ,IAAL,IAAa01B,KAAK11B,IAAL,IAAaA,IAAb,GAAoB,CAApB,GAAwB,CAArC;EACA,SAAO,IAAP;EACD;;ECbD;;;;;;;EAOA,SAASy4C,UAAT,CAAkB14C,OAAlB,EAA2B;EACzB,MAAIc,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASmE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,QAAQnE,MAD3C;;EAGA,OAAK+D,KAAL;EACA,SAAO,EAAEkB,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIg6C,QAAQ71C,QAAQc,KAAR,CAAZ;EACA,SAAKtB,GAAL,CAASq2C,MAAM,CAAN,CAAT,EAAmBA,MAAM,CAAN,CAAnB;EACD;EACF;;EAED;AACA6C,aAASx5C,SAAT,CAAmBU,KAAnB,GAA2Bu4C,eAA3B;AACAO,aAASx5C,SAAT,CAAmB,QAAnB,IAA+Bo5C,gBAA/B;AACAI,aAASx5C,SAAT,CAAmBK,GAAnB,GAAyBg5C,aAAzB;AACAG,aAASx5C,SAAT,CAAmBG,GAAnB,GAAyBm5C,aAAzB;AACAE,aAASx5C,SAAT,CAAmBM,GAAnB,GAAyBi5C,aAAzB;;ECzBA;EACA,IAAIE,qBAAmB,GAAvB;;EAEA;;;;;;;;;;EAUA,SAASC,UAAT,CAAkBt5C,GAAlB,EAAuBG,KAAvB,EAA8B;EAC5B,MAAIk2B,OAAO,KAAKyF,QAAhB;EACA,MAAIzF,gBAAgBigB,WAApB,EAA+B;EAC7B,QAAIiD,QAAQljB,KAAKyF,QAAjB;EACA,QAAI,CAACn8B,KAAD,IAAS45C,MAAMh9C,MAAN,GAAe88C,qBAAmB,CAA/C,EAAmD;EACjDE,YAAM/4C,IAAN,CAAW,CAACR,GAAD,EAAMG,KAAN,CAAX;EACA,WAAKQ,IAAL,GAAY,EAAE01B,KAAK11B,IAAnB;EACA,aAAO,IAAP;EACD;EACD01B,WAAO,KAAKyF,QAAL,GAAgB,IAAIsd,UAAJ,CAAaG,KAAb,CAAvB;EACD;EACDljB,OAAKn2B,GAAL,CAASF,GAAT,EAAcG,KAAd;EACA,OAAKQ,IAAL,GAAY01B,KAAK11B,IAAjB;EACA,SAAO,IAAP;EACD;;ECxBD;;;;;;;EAOA,SAAS64C,OAAT,CAAe94C,OAAf,EAAwB;EACtB,MAAI21B,OAAO,KAAKyF,QAAL,GAAgB,IAAIwa,WAAJ,CAAc51C,OAAd,CAA3B;EACA,OAAKC,IAAL,GAAY01B,KAAK11B,IAAjB;EACD;;EAED;AACA64C,UAAM55C,SAAN,CAAgBU,KAAhB,GAAwBk2C,YAAxB;AACAgD,UAAM55C,SAAN,CAAgB,QAAhB,IAA4B62C,aAA5B;AACA+C,UAAM55C,SAAN,CAAgBK,GAAhB,GAAsBy2C,UAAtB;AACA8C,UAAM55C,SAAN,CAAgBG,GAAhB,GAAsB42C,UAAtB;AACA6C,UAAM55C,SAAN,CAAgBM,GAAhB,GAAsBo5C,UAAtB;;ECxBA;EACA,IAAInB,mBAAiB,2BAArB;;EAEA;;;;;;;;;;EAUA,SAASmzB,WAAT,CAAqBnrE,KAArB,EAA4B;EAC1B,OAAK27B,QAAL,CAAc57B,GAAd,CAAkBC,KAAlB,EAAyBg4C,gBAAzB;EACA,SAAO,IAAP;EACD;;EChBD;;;;;;;;;EASA,SAASozB,WAAT,CAAqBprE,KAArB,EAA4B;EAC1B,SAAO,KAAK27B,QAAL,CAAc/7B,GAAd,CAAkBI,KAAlB,CAAP;EACD;;ECPD;;;;;;;;EAQA,SAASqrE,QAAT,CAAkBrsE,MAAlB,EAA0B;EACxB,MAAIqC,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS4C,UAAU,IAAV,GAAiB,CAAjB,GAAqBA,OAAO5C,MADzC;;EAGA,OAAKu/B,QAAL,GAAgB,IAAIsd,UAAJ,EAAhB;EACA,SAAO,EAAE53C,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,SAAK4E,GAAL,CAAShC,OAAOqC,KAAP,CAAT;EACD;EACF;;EAED;EACAgqE,SAAS5rE,SAAT,CAAmBuB,GAAnB,GAAyBqqE,SAAS5rE,SAAT,CAAmBY,IAAnB,GAA0B8qE,WAAnD;EACAE,SAAS5rE,SAAT,CAAmBG,GAAnB,GAAyBwrE,WAAzB;;ECxBA;;;;;;;;;;EAUA,SAASE,SAAT,CAAmBrqE,KAAnB,EAA0BsqE,SAA1B,EAAqC;EACnC,MAAIlqE,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MADvC;;EAGA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAImvE,UAAUtqE,MAAMI,KAAN,CAAV,EAAwBA,KAAxB,EAA+BJ,KAA/B,CAAJ,EAA2C;EACzC,aAAO,IAAP;EACD;EACF;EACD,SAAO,KAAP;EACD;;ECpBD;;;;;;;;EAQA,SAASuqE,QAAT,CAAkBC,KAAlB,EAAyB5rE,GAAzB,EAA8B;EAC5B,SAAO4rE,MAAM7rE,GAAN,CAAUC,GAAV,CAAP;EACD;;ECND;EACA,IAAI6rE,uBAAuB,CAA3B;EAAA,IACIC,yBAAyB,CAD7B;;EAGA;;;;;;;;;;;;;EAaA,SAASC,WAAT,CAAqB3qE,KAArB,EAA4B20C,KAA5B,EAAmCi2B,OAAnC,EAA4C7rB,UAA5C,EAAwD8rB,SAAxD,EAAmEnqB,KAAnE,EAA0E;EACxE,MAAIoqB,YAAYF,UAAUH,oBAA1B;EAAA,MACIM,YAAY/qE,MAAM7E,MADtB;EAAA,MAEI6vE,YAAYr2B,MAAMx5C,MAFtB;;EAIA,MAAI4vE,aAAaC,SAAb,IAA0B,EAAEF,aAAaE,YAAYD,SAA3B,CAA9B,EAAqE;EACnE,WAAO,KAAP;EACD;EACD;EACA,MAAInqB,UAAUF,MAAM7hD,GAAN,CAAUmB,KAAV,CAAd;EACA,MAAI4gD,WAAWF,MAAM7hD,GAAN,CAAU81C,KAAV,CAAf,EAAiC;EAC/B,WAAOiM,WAAWjM,KAAlB;EACD;EACD,MAAIv0C,QAAQ,CAAC,CAAb;EAAA,MACIqnC,SAAS,IADb;EAAA,MAEIwjC,OAAQL,UAAUF,sBAAX,GAAqC,IAAIN,QAAJ,EAArC,GAAoDxpE,SAF/D;;EAIA8/C,QAAM5hD,GAAN,CAAUkB,KAAV,EAAiB20C,KAAjB;EACA+L,QAAM5hD,GAAN,CAAU61C,KAAV,EAAiB30C,KAAjB;;EAEA;EACA,SAAO,EAAEI,KAAF,GAAU2qE,SAAjB,EAA4B;EAC1B,QAAIG,WAAWlrE,MAAMI,KAAN,CAAf;EAAA,QACI+qE,WAAWx2B,MAAMv0C,KAAN,CADf;;EAGA,QAAI2+C,UAAJ,EAAgB;EACd,UAAIqsB,WAAWN,YACX/rB,WAAWosB,QAAX,EAAqBD,QAArB,EAA+B9qE,KAA/B,EAAsCu0C,KAAtC,EAA6C30C,KAA7C,EAAoD0gD,KAApD,CADW,GAEX3B,WAAWmsB,QAAX,EAAqBC,QAArB,EAA+B/qE,KAA/B,EAAsCJ,KAAtC,EAA6C20C,KAA7C,EAAoD+L,KAApD,CAFJ;EAGD;EACD,QAAI0qB,aAAaxqE,SAAjB,EAA4B;EAC1B,UAAIwqE,QAAJ,EAAc;EACZ;EACD;EACD3jC,eAAS,KAAT;EACA;EACD;EACD;EACA,QAAIwjC,IAAJ,EAAU;EACR,UAAI,CAACZ,UAAU11B,KAAV,EAAiB,UAASw2B,QAAT,EAAmBE,QAAnB,EAA6B;EAC7C,YAAI,CAACd,SAASU,IAAT,EAAeI,QAAf,CAAD,KACCH,aAAaC,QAAb,IAAyBN,UAAUK,QAAV,EAAoBC,QAApB,EAA8BP,OAA9B,EAAuC7rB,UAAvC,EAAmD2B,KAAnD,CAD1B,CAAJ,EAC0F;EACxF,iBAAOuqB,KAAK7rE,IAAL,CAAUisE,QAAV,CAAP;EACD;EACF,OALA,CAAL,EAKQ;EACN5jC,iBAAS,KAAT;EACA;EACD;EACF,KAVD,MAUO,IAAI,EACLyjC,aAAaC,QAAb,IACEN,UAAUK,QAAV,EAAoBC,QAApB,EAA8BP,OAA9B,EAAuC7rB,UAAvC,EAAmD2B,KAAnD,CAFG,CAAJ,EAGA;EACLjZ,eAAS,KAAT;EACA;EACD;EACF;EACDiZ,QAAM,QAAN,EAAgB1gD,KAAhB;EACA0gD,QAAM,QAAN,EAAgB/L,KAAhB;EACA,SAAOlN,MAAP;EACD;;EC9ED;EACA,IAAIiS,eAAahhB,OAAKghB,UAAtB;;ECHA;;;;;;;EAOA,SAAS4xB,UAAT,CAAoB7sE,GAApB,EAAyB;EACvB,MAAI2B,QAAQ,CAAC,CAAb;EAAA,MACIqnC,SAAS9qC,MAAM8B,IAAIc,IAAV,CADb;;EAGAd,MAAI02B,OAAJ,CAAY,UAASp2B,KAAT,EAAgBH,GAAhB,EAAqB;EAC/B6oC,WAAO,EAAErnC,KAAT,IAAkB,CAACxB,GAAD,EAAMG,KAAN,CAAlB;EACD,GAFD;EAGA,SAAO0oC,MAAP;EACD;;ECfD;;;;;;;EAOA,SAAS8jC,UAAT,CAAoBzsE,GAApB,EAAyB;EACvB,MAAIsB,QAAQ,CAAC,CAAb;EAAA,MACIqnC,SAAS9qC,MAAMmC,IAAIS,IAAV,CADb;;EAGAT,MAAIq2B,OAAJ,CAAY,UAASp2B,KAAT,EAAgB;EAC1B0oC,WAAO,EAAErnC,KAAT,IAAkBrB,KAAlB;EACD,GAFD;EAGA,SAAO0oC,MAAP;EACD;;ECRD;EACA,IAAIgjC,yBAAuB,CAA3B;EAAA,IACIC,2BAAyB,CAD7B;;EAGA;EACA,IAAIpuB,YAAU,kBAAd;EAAA,IACIC,YAAU,eADd;EAAA,IAEIC,aAAW,gBAFf;EAAA,IAGIE,WAAS,cAHb;EAAA,IAIIC,cAAY,iBAJhB;EAAA,IAKIE,cAAY,iBALhB;EAAA,IAMIC,WAAS,cANb;EAAA,IAOItU,cAAY,iBAPhB;EAAA,IAQI4wB,cAAY,iBARhB;;EAUA,IAAInc,mBAAiB,sBAArB;EAAA,IACIC,gBAAc,mBADlB;;EAGA;EACA,IAAIqc,gBAAcnzB,YAASA,UAAO5nC,SAAhB,GAA4BoC,SAA9C;EAAA,IACI4qE,gBAAgBjS,gBAAcA,cAAYrmD,OAA1B,GAAoCtS,SADxD;;EAGA;;;;;;;;;;;;;;;;;EAiBA,SAAS6qE,UAAT,CAAoB/rE,MAApB,EAA4Bi1C,KAA5B,EAAmCnN,GAAnC,EAAwCojC,OAAxC,EAAiD7rB,UAAjD,EAA6D8rB,SAA7D,EAAwEnqB,KAAxE,EAA+E;EAC7E,UAAQlZ,GAAR;EACE,SAAK0V,aAAL;EACE,UAAKx9C,OAAOm6C,UAAP,IAAqBlF,MAAMkF,UAA5B,IACCn6C,OAAOs6C,UAAP,IAAqBrF,MAAMqF,UADhC,EAC6C;EAC3C,eAAO,KAAP;EACD;EACDt6C,eAASA,OAAO85C,MAAhB;EACA7E,cAAQA,MAAM6E,MAAd;;EAEF,SAAKyD,gBAAL;EACE,UAAKv9C,OAAOm6C,UAAP,IAAqBlF,MAAMkF,UAA5B,IACA,CAACgxB,UAAU,IAAInxB,YAAJ,CAAeh6C,MAAf,CAAV,EAAkC,IAAIg6C,YAAJ,CAAe/E,KAAf,CAAlC,CADL,EAC+D;EAC7D,eAAO,KAAP;EACD;EACD,aAAO,IAAP;;EAEF,SAAK2H,SAAL;EACA,SAAKC,SAAL;EACA,SAAKI,WAAL;EACE;EACA;EACA,aAAOjI,KAAG,CAACh1C,MAAJ,EAAY,CAACi1C,KAAb,CAAP;;EAEF,SAAK6H,UAAL;EACE,aAAO98C,OAAOQ,IAAP,IAAey0C,MAAMz0C,IAArB,IAA6BR,OAAOgsE,OAAP,IAAkB/2B,MAAM+2B,OAA5D;;EAEF,SAAK7uB,WAAL;EACA,SAAKrU,WAAL;EACE;EACA;EACA;EACA,aAAO9oC,UAAWi1C,QAAQ,EAA1B;;EAEF,SAAK+H,QAAL;EACE,UAAIivB,UAAUL,UAAd;;EAEF,SAAKxuB,QAAL;EACE,UAAIguB,YAAYF,UAAUH,sBAA1B;EACAkB,kBAAYA,UAAUJ,UAAtB;;EAEA,UAAI7rE,OAAOH,IAAP,IAAeo1C,MAAMp1C,IAArB,IAA6B,CAACurE,SAAlC,EAA6C;EAC3C,eAAO,KAAP;EACD;EACD;EACA,UAAIlqB,UAAUF,MAAM7hD,GAAN,CAAUa,MAAV,CAAd;EACA,UAAIkhD,OAAJ,EAAa;EACX,eAAOA,WAAWjM,KAAlB;EACD;EACDi2B,iBAAWF,wBAAX;;EAEA;EACAhqB,YAAM5hD,GAAN,CAAUY,MAAV,EAAkBi1C,KAAlB;EACA,UAAIlN,SAASkjC,YAAYgB,QAAQjsE,MAAR,CAAZ,EAA6BisE,QAAQh3B,KAAR,CAA7B,EAA6Ci2B,OAA7C,EAAsD7rB,UAAtD,EAAkE8rB,SAAlE,EAA6EnqB,KAA7E,CAAb;EACAA,YAAM,QAAN,EAAgBhhD,MAAhB;EACA,aAAO+nC,MAAP;;EAEF,SAAK2xB,WAAL;EACE,UAAIoS,aAAJ,EAAmB;EACjB,eAAOA,cAAcjrE,IAAd,CAAmBb,MAAnB,KAA8B8rE,cAAcjrE,IAAd,CAAmBo0C,KAAnB,CAArC;EACD;EA3DL;EA6DA,SAAO,KAAP;EACD;;EC7GD;;;;;;;;EAQA,SAASi3B,SAAT,CAAmB5rE,KAAnB,EAA0BjC,MAA1B,EAAkC;EAChC,MAAIqC,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS4C,OAAO5C,MADpB;EAAA,MAEIohB,SAASvc,MAAM7E,MAFnB;;EAIA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB6E,UAAMuc,SAASnc,KAAf,IAAwBrC,OAAOqC,KAAP,CAAxB;EACD;EACD,SAAOJ,KAAP;EACD;;ECdD;;;;;;;;;;;EAWA,SAAS6rE,cAAT,CAAwBnsE,MAAxB,EAAgCi5C,QAAhC,EAA0CmzB,WAA1C,EAAuD;EACrD,MAAIrkC,SAASkR,SAASj5C,MAAT,CAAb;EACA,SAAOC,UAAQD,MAAR,IAAkB+nC,MAAlB,GAA2BmkC,UAAUnkC,MAAV,EAAkBqkC,YAAYpsE,MAAZ,CAAlB,CAAlC;EACD;;ECjBD;;;;;;;;;EASA,SAASqsE,WAAT,CAAqB/rE,KAArB,EAA4BsqE,SAA5B,EAAuC;EACrC,MAAIlqE,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MADvC;EAAA,MAEI6wE,WAAW,CAFf;EAAA,MAGIvkC,SAAS,EAHb;;EAKA,SAAO,EAAErnC,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAI4D,QAAQiB,MAAMI,KAAN,CAAZ;EACA,QAAIkqE,UAAUvrE,KAAV,EAAiBqB,KAAjB,EAAwBJ,KAAxB,CAAJ,EAAoC;EAClCynC,aAAOukC,UAAP,IAAqBjtE,KAArB;EACD;EACF;EACD,SAAO0oC,MAAP;EACD;;ECtBD;;;;;;;;;;;;;;;;;;EAkBA,SAASwkC,SAAT,GAAqB;EACnB,SAAO,EAAP;EACD;;ECjBD;EACA,IAAI/kC,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAIw8C,yBAAuB9T,cAAY8T,oBAAvC;;EAEA;EACA,IAAIkxB,mBAAmBpqE,OAAOqqE,qBAA9B;;EAEA;;;;;;;EAOA,IAAIC,aAAa,CAACF,gBAAD,GAAoBD,SAApB,GAAgC,UAASvsE,MAAT,EAAiB;EAChE,MAAIA,UAAU,IAAd,EAAoB;EAClB,WAAO,EAAP;EACD;EACDA,WAASoC,OAAOpC,MAAP,CAAT;EACA,SAAOqsE,YAAYG,iBAAiBxsE,MAAjB,CAAZ,EAAsC,UAASsZ,MAAT,EAAiB;EAC5D,WAAOgiC,uBAAqBz6C,IAArB,CAA0Bb,MAA1B,EAAkCsZ,MAAlC,CAAP;EACD,GAFM,CAAP;EAGD,CARD;;ECfA;;;;;;;EAOA,SAASqzD,UAAT,CAAoB3sE,MAApB,EAA4B;EAC1B,SAAOmsE,eAAensE,MAAf,EAAuBP,MAAvB,EAA6BitE,UAA7B,CAAP;EACD;;ECXD;EACA,IAAI3B,yBAAuB,CAA3B;;EAEA;EACA,IAAIvjC,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;;;;;;EAaA,SAASk/D,YAAT,CAAsB5sE,MAAtB,EAA8Bi1C,KAA9B,EAAqCi2B,OAArC,EAA8C7rB,UAA9C,EAA0D8rB,SAA1D,EAAqEnqB,KAArE,EAA4E;EAC1E,MAAIoqB,YAAYF,UAAUH,sBAA1B;EAAA,MACI8B,WAAWF,WAAW3sE,MAAX,CADf;EAAA,MAEI8sE,YAAYD,SAASpxE,MAFzB;EAAA,MAGIsxE,WAAWJ,WAAW13B,KAAX,CAHf;EAAA,MAIIq2B,YAAYyB,SAAStxE,MAJzB;;EAMA,MAAIqxE,aAAaxB,SAAb,IAA0B,CAACF,SAA/B,EAA0C;EACxC,WAAO,KAAP;EACD;EACD,MAAI1qE,QAAQosE,SAAZ;EACA,SAAOpsE,OAAP,EAAgB;EACd,QAAIxB,MAAM2tE,SAASnsE,KAAT,CAAV;EACA,QAAI,EAAE0qE,YAAYlsE,OAAO+1C,KAAnB,GAA2BvnC,iBAAe7M,IAAf,CAAoBo0C,KAApB,EAA2B/1C,GAA3B,CAA7B,CAAJ,EAAmE;EACjE,aAAO,KAAP;EACD;EACF;EACD;EACA,MAAIgiD,UAAUF,MAAM7hD,GAAN,CAAUa,MAAV,CAAd;EACA,MAAIkhD,WAAWF,MAAM7hD,GAAN,CAAU81C,KAAV,CAAf,EAAiC;EAC/B,WAAOiM,WAAWjM,KAAlB;EACD;EACD,MAAIlN,SAAS,IAAb;EACAiZ,QAAM5hD,GAAN,CAAUY,MAAV,EAAkBi1C,KAAlB;EACA+L,QAAM5hD,GAAN,CAAU61C,KAAV,EAAiBj1C,MAAjB;;EAEA,MAAIgtE,WAAW5B,SAAf;EACA,SAAO,EAAE1qE,KAAF,GAAUosE,SAAjB,EAA4B;EAC1B5tE,UAAM2tE,SAASnsE,KAAT,CAAN;EACA,QAAIy+C,WAAWn/C,OAAOd,GAAP,CAAf;EAAA,QACIusE,WAAWx2B,MAAM/1C,GAAN,CADf;;EAGA,QAAImgD,UAAJ,EAAgB;EACd,UAAIqsB,WAAWN,YACX/rB,WAAWosB,QAAX,EAAqBtsB,QAArB,EAA+BjgD,GAA/B,EAAoC+1C,KAApC,EAA2Cj1C,MAA3C,EAAmDghD,KAAnD,CADW,GAEX3B,WAAWF,QAAX,EAAqBssB,QAArB,EAA+BvsE,GAA/B,EAAoCc,MAApC,EAA4Ci1C,KAA5C,EAAmD+L,KAAnD,CAFJ;EAGD;EACD;EACA,QAAI,EAAE0qB,aAAaxqE,SAAb,GACGi+C,aAAassB,QAAb,IAAyBN,UAAUhsB,QAAV,EAAoBssB,QAApB,EAA8BP,OAA9B,EAAuC7rB,UAAvC,EAAmD2B,KAAnD,CAD5B,GAEE0qB,QAFJ,CAAJ,EAGO;EACL3jC,eAAS,KAAT;EACA;EACD;EACDilC,iBAAaA,WAAW9tE,OAAO,aAA/B;EACD;EACD,MAAI6oC,UAAU,CAACilC,QAAf,EAAyB;EACvB,QAAIC,UAAUjtE,OAAOhB,WAArB;EAAA,QACIkuE,UAAUj4B,MAAMj2C,WADpB;;EAGA;EACA,QAAIiuE,WAAWC,OAAX,IACC,iBAAiBltE,MAAjB,IAA2B,iBAAiBi1C,KAD7C,IAEA,EAAE,OAAOg4B,OAAP,IAAkB,UAAlB,IAAgCA,mBAAmBA,OAAnD,IACA,OAAOC,OAAP,IAAkB,UADlB,IACgCA,mBAAmBA,OADrD,CAFJ,EAGmE;EACjEnlC,eAAS,KAAT;EACD;EACF;EACDiZ,QAAM,QAAN,EAAgBhhD,MAAhB;EACAghD,QAAM,QAAN,EAAgB/L,KAAhB;EACA,SAAOlN,MAAP;EACD;;ECnFD;EACA,IAAIolC,WAAWl2B,YAAUje,MAAV,EAAgB,UAAhB,CAAf;;ECDA;EACA,IAAIo0C,YAAUn2B,YAAUje,MAAV,EAAgB,SAAhB,CAAd;;ECDA;EACA,IAAI74B,QAAM82C,YAAUje,MAAV,EAAgB,KAAhB,CAAV;;ECDA;EACA,IAAIq0C,UAAUp2B,YAAUje,MAAV,EAAgB,SAAhB,CAAd;;ECIA;EACA,IAAIgkB,WAAS,cAAb;EAAA,IACIb,cAAY,iBADhB;EAAA,IAEImxB,aAAa,kBAFjB;EAAA,IAGIlwB,WAAS,cAHb;EAAA,IAIIE,eAAa,kBAJjB;;EAMA,IAAIE,gBAAc,mBAAlB;;EAEA;EACA,IAAI+vB,qBAAqBj3B,WAAS62B,QAAT,CAAzB;EAAA,IACIK,gBAAgBl3B,WAASz3C,KAAT,CADpB;EAAA,IAEI4uE,oBAAoBn3B,WAAS82B,SAAT,CAFxB;EAAA,IAGIM,gBAAgBp3B,WAASn2C,KAAT,CAHpB;EAAA,IAIIwtE,oBAAoBr3B,WAAS+2B,OAAT,CAJxB;;EAMA;;;;;;;EAOA,IAAIO,SAAStlC,YAAb;;EAEA;EACA,IAAK6kC,YAAYS,OAAO,IAAIT,QAAJ,CAAa,IAAIU,WAAJ,CAAgB,CAAhB,CAAb,CAAP,KAA4CrwB,aAAzD,IACC3+C,SAAO+uE,OAAO,IAAI/uE,KAAJ,EAAP,KAAmBm+C,QAD3B,IAECowB,aAAWQ,OAAOR,UAAQU,OAAR,EAAP,KAA6BR,UAFzC,IAGCntE,SAAOytE,OAAO,IAAIztE,KAAJ,EAAP,KAAmBi9C,QAH3B,IAICiwB,WAAWO,OAAO,IAAIP,OAAJ,EAAP,KAAuB/vB,YAJvC,EAIoD;EAClDswB,aAAS,gBAASvuE,KAAT,EAAgB;EACvB,YAAI0oC,SAASO,aAAWjpC,KAAX,CAAb;EAAA,YACI27C,OAAOjT,UAAUoU,WAAV,GAAsB98C,MAAML,WAA5B,GAA0CkC,SADrD;EAAA,YAEI6sE,aAAa/yB,OAAO1E,WAAS0E,IAAT,CAAP,GAAwB,EAFzC;;EAIA,YAAI+yB,UAAJ,EAAgB;EACd,oBAAQA,UAAR;EACE,qBAAKR,kBAAL;EAAyB,2BAAO/vB,aAAP;EACzB,qBAAKgwB,aAAL;EAAoB,2BAAOxwB,QAAP;EACpB,qBAAKywB,iBAAL;EAAwB,2BAAOH,UAAP;EACxB,qBAAKI,aAAL;EAAoB,2BAAOtwB,QAAP;EACpB,qBAAKuwB,iBAAL;EAAwB,2BAAOrwB,YAAP;EAL1B;EAOD;EACD,eAAOvV,MAAP;EACD,KAfD;EAgBD;;AAED,iBAAe6lC,MAAf;;EChDA;EACA,IAAI7C,yBAAuB,CAA3B;;EAEA;EACA,IAAI7vB,YAAU,oBAAd;EAAA,IACIyB,aAAW,gBADf;EAAA,IAEIR,cAAY,iBAFhB;;EAIA;EACA,IAAI3U,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;;;;;;;EAcA,SAASsgE,eAAT,CAAyBhuE,MAAzB,EAAiCi1C,KAAjC,EAAwCi2B,OAAxC,EAAiD7rB,UAAjD,EAA6D8rB,SAA7D,EAAwEnqB,KAAxE,EAA+E;EAC7E,MAAIitB,WAAWhuE,UAAQD,MAAR,CAAf;EAAA,MACIkuE,WAAWjuE,UAAQg1C,KAAR,CADf;EAAA,MAEIk5B,SAASF,WAAWtxB,UAAX,GAAsBixB,SAAO5tE,MAAP,CAFnC;EAAA,MAGIouE,SAASF,WAAWvxB,UAAX,GAAsBixB,SAAO34B,KAAP,CAHnC;;EAKAk5B,WAASA,UAAUjzB,SAAV,GAAoBiB,WAApB,GAAgCgyB,MAAzC;EACAC,WAASA,UAAUlzB,SAAV,GAAoBiB,WAApB,GAAgCiyB,MAAzC;;EAEA,MAAIC,WAAWF,UAAUhyB,WAAzB;EAAA,MACImyB,WAAWF,UAAUjyB,WADzB;EAAA,MAEIoyB,YAAYJ,UAAUC,MAF1B;;EAIA,MAAIG,aAAaryB,WAASl8C,MAAT,CAAjB,EAAmC;EACjC,QAAI,CAACk8C,WAASjH,KAAT,CAAL,EAAsB;EACpB,aAAO,KAAP;EACD;EACDg5B,eAAW,IAAX;EACAI,eAAW,KAAX;EACD;EACD,MAAIE,aAAa,CAACF,QAAlB,EAA4B;EAC1BrtB,cAAUA,QAAQ,IAAItI,OAAJ,EAAlB;EACA,WAAQu1B,YAAYnvB,eAAa9+C,MAAb,CAAb,GACHirE,YAAYjrE,MAAZ,EAAoBi1C,KAApB,EAA2Bi2B,OAA3B,EAAoC7rB,UAApC,EAAgD8rB,SAAhD,EAA2DnqB,KAA3D,CADG,GAEH+qB,WAAW/rE,MAAX,EAAmBi1C,KAAnB,EAA0Bk5B,MAA1B,EAAkCjD,OAAlC,EAA2C7rB,UAA3C,EAAuD8rB,SAAvD,EAAkEnqB,KAAlE,CAFJ;EAGD;EACD,MAAI,EAAEkqB,UAAUH,sBAAZ,CAAJ,EAAuC;EACrC,QAAIyD,eAAeH,YAAY3gE,iBAAe7M,IAAf,CAAoBb,MAApB,EAA4B,aAA5B,CAA/B;EAAA,QACIyuE,eAAeH,YAAY5gE,iBAAe7M,IAAf,CAAoBo0C,KAApB,EAA2B,aAA3B,CAD/B;;EAGA,QAAIu5B,gBAAgBC,YAApB,EAAkC;EAChC,UAAIC,eAAeF,eAAexuE,OAAOX,KAAP,EAAf,GAAgCW,MAAnD;EAAA,UACI2uE,eAAeF,eAAex5B,MAAM51C,KAAN,EAAf,GAA+B41C,KADlD;;EAGA+L,gBAAUA,QAAQ,IAAItI,OAAJ,EAAlB;EACA,aAAOyyB,UAAUuD,YAAV,EAAwBC,YAAxB,EAAsCzD,OAAtC,EAA+C7rB,UAA/C,EAA2D2B,KAA3D,CAAP;EACD;EACF;EACD,MAAI,CAACutB,SAAL,EAAgB;EACd,WAAO,KAAP;EACD;EACDvtB,YAAUA,QAAQ,IAAItI,OAAJ,EAAlB;EACA,SAAOk0B,aAAa5sE,MAAb,EAAqBi1C,KAArB,EAA4Bi2B,OAA5B,EAAqC7rB,UAArC,EAAiD8rB,SAAjD,EAA4DnqB,KAA5D,CAAP;EACD;;EC7ED;;;;;;;;;;;;;;EAcA,SAAS4tB,WAAT,CAAqBvvE,KAArB,EAA4B41C,KAA5B,EAAmCi2B,OAAnC,EAA4C7rB,UAA5C,EAAwD2B,KAAxD,EAA+D;EAC7D,MAAI3hD,UAAU41C,KAAd,EAAqB;EACnB,WAAO,IAAP;EACD;EACD,MAAI51C,SAAS,IAAT,IAAiB41C,SAAS,IAA1B,IAAmC,CAACpM,eAAaxpC,KAAb,CAAD,IAAwB,CAACwpC,eAAaoM,KAAb,CAAhE,EAAsF;EACpF,WAAO51C,UAAUA,KAAV,IAAmB41C,UAAUA,KAApC;EACD;EACD,SAAO+4B,gBAAgB3uE,KAAhB,EAAuB41C,KAAvB,EAA8Bi2B,OAA9B,EAAuC7rB,UAAvC,EAAmDuvB,WAAnD,EAAgE5tB,KAAhE,CAAP;EACD;;ECtBD;EACA,IAAI+pB,yBAAuB,CAA3B;EAAA,IACIC,2BAAyB,CAD7B;;EAGA;;;;;;;;;;EAUA,SAAS6D,WAAT,CAAqB7uE,MAArB,EAA6B4S,MAA7B,EAAqCk8D,SAArC,EAAgDzvB,UAAhD,EAA4D;EAC1D,MAAI3+C,QAAQouE,UAAUrzE,MAAtB;EAAA,MACIA,SAASiF,KADb;EAAA,MAEIquE,eAAe,CAAC1vB,UAFpB;;EAIA,MAAIr/C,UAAU,IAAd,EAAoB;EAClB,WAAO,CAACvE,MAAR;EACD;EACDuE,WAASoC,OAAOpC,MAAP,CAAT;EACA,SAAOU,OAAP,EAAgB;EACd,QAAI60B,OAAOu5C,UAAUpuE,KAAV,CAAX;EACA,QAAKquE,gBAAgBx5C,KAAK,CAAL,CAAjB,GACIA,KAAK,CAAL,MAAYv1B,OAAOu1B,KAAK,CAAL,CAAP,CADhB,GAEI,EAAEA,KAAK,CAAL,KAAWv1B,MAAb,CAFR,EAGM;EACJ,aAAO,KAAP;EACD;EACF;EACD,SAAO,EAAEU,KAAF,GAAUjF,MAAjB,EAAyB;EACvB85B,WAAOu5C,UAAUpuE,KAAV,CAAP;EACA,QAAIxB,MAAMq2B,KAAK,CAAL,CAAV;EAAA,QACI4pB,WAAWn/C,OAAOd,GAAP,CADf;EAAA,QAEI+hD,WAAW1rB,KAAK,CAAL,CAFf;;EAIA,QAAIw5C,gBAAgBx5C,KAAK,CAAL,CAApB,EAA6B;EAC3B,UAAI4pB,aAAaj+C,SAAb,IAA0B,EAAEhC,OAAOc,MAAT,CAA9B,EAAgD;EAC9C,eAAO,KAAP;EACD;EACF,KAJD,MAIO;EACL,UAAIghD,QAAQ,IAAItI,OAAJ,EAAZ;EACA,UAAI2G,UAAJ,EAAgB;EACd,YAAItX,SAASsX,WAAWF,QAAX,EAAqB8B,QAArB,EAA+B/hD,GAA/B,EAAoCc,MAApC,EAA4C4S,MAA5C,EAAoDouC,KAApD,CAAb;EACD;EACD,UAAI,EAAEjZ,WAAW7mC,SAAX,GACE0tE,YAAY3tB,QAAZ,EAAsB9B,QAAtB,EAAgC4rB,yBAAuBC,wBAAvD,EAA+E3rB,UAA/E,EAA2F2B,KAA3F,CADF,GAEEjZ,MAFJ,CAAJ,EAGO;EACL,eAAO,KAAP;EACD;EACF;EACF;EACD,SAAO,IAAP;EACD;;ECzDD;;;;;;;;EAQA,SAASinC,kBAAT,CAA4B3vE,KAA5B,EAAmC;EACjC,SAAOA,UAAUA,KAAV,IAAmB,CAACkpC,WAASlpC,KAAT,CAA3B;EACD;;ECTD;;;;;;;EAOA,SAAS4vE,YAAT,CAAsBjvE,MAAtB,EAA8B;EAC5B,MAAI+nC,SAAStoC,OAAKO,MAAL,CAAb;EAAA,MACIvE,SAASssC,OAAOtsC,MADpB;;EAGA,SAAOA,QAAP,EAAiB;EACf,QAAIyD,MAAM6oC,OAAOtsC,MAAP,CAAV;EAAA,QACI4D,QAAQW,OAAOd,GAAP,CADZ;;EAGA6oC,WAAOtsC,MAAP,IAAiB,CAACyD,GAAD,EAAMG,KAAN,EAAa2vE,mBAAmB3vE,KAAnB,CAAb,CAAjB;EACD;EACD,SAAO0oC,MAAP;EACD;;ECrBD;;;;;;;;;EASA,SAASmnC,uBAAT,CAAiChwE,GAAjC,EAAsC+hD,QAAtC,EAAgD;EAC9C,SAAO,UAASjhD,MAAT,EAAiB;EACtB,QAAIA,UAAU,IAAd,EAAoB;EAClB,aAAO,KAAP;EACD;EACD,WAAOA,OAAOd,GAAP,MAAgB+hD,QAAhB,KACJA,aAAa//C,SAAb,IAA2BhC,OAAOkD,OAAOpC,MAAP,CAD9B,CAAP;EAED,GAND;EAOD;;ECbD;;;;;;;EAOA,SAASmvE,WAAT,CAAqBv8D,MAArB,EAA6B;EAC3B,MAAIk8D,YAAYG,aAAar8D,MAAb,CAAhB;EACA,MAAIk8D,UAAUrzE,MAAV,IAAoB,CAApB,IAAyBqzE,UAAU,CAAV,EAAa,CAAb,CAA7B,EAA8C;EAC5C,WAAOI,wBAAwBJ,UAAU,CAAV,EAAa,CAAb,CAAxB,EAAyCA,UAAU,CAAV,EAAa,CAAb,CAAzC,CAAP;EACD;EACD,SAAO,UAAS9uE,MAAT,EAAiB;EACtB,WAAOA,WAAW4S,MAAX,IAAqBi8D,YAAY7uE,MAAZ,EAAoB4S,MAApB,EAA4Bk8D,SAA5B,CAA5B;EACD,GAFD;EAGD;;EChBD;EACA,IAAIM,eAAe,kDAAnB;EAAA,IACIC,gBAAgB,OADpB;;EAGA;;;;;;;;EAQA,SAASC,KAAT,CAAejwE,KAAf,EAAsBW,MAAtB,EAA8B;EAC5B,MAAIC,UAAQZ,KAAR,CAAJ,EAAoB;EAClB,WAAO,KAAP;EACD;EACD,MAAIoa,cAAcpa,KAAd,yCAAcA,KAAd,CAAJ;EACA,MAAIoa,QAAQ,QAAR,IAAoBA,QAAQ,QAA5B,IAAwCA,QAAQ,SAAhD,IACApa,SAAS,IADT,IACiBs6D,SAASt6D,KAAT,CADrB,EACsC;EACpC,WAAO,IAAP;EACD;EACD,SAAOgwE,cAAcx0D,IAAd,CAAmBxb,KAAnB,KAA6B,CAAC+vE,aAAav0D,IAAb,CAAkBxb,KAAlB,CAA9B,IACJW,UAAU,IAAV,IAAkBX,SAAS+C,OAAOpC,MAAP,CAD9B;EAED;;ECxBD;EACA,IAAIuvE,kBAAkB,qBAAtB;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA4CA,SAASC,OAAT,CAAiBr5B,IAAjB,EAAuBs5B,QAAvB,EAAiC;EAC/B,MAAI,OAAOt5B,IAAP,IAAe,UAAf,IAA8Bs5B,YAAY,IAAZ,IAAoB,OAAOA,QAAP,IAAmB,UAAzE,EAAsF;EACpF,UAAM,IAAIhe,SAAJ,CAAc8d,eAAd,CAAN;EACD;EACD,MAAIG,WAAW,SAAXA,QAAW,GAAW;EACxB,QAAIhiD,OAAO/wB,SAAX;EAAA,QACIuC,MAAMuwE,WAAWA,SAAS9hD,KAAT,CAAe,IAAf,EAAqBD,IAArB,CAAX,GAAwCA,KAAK,CAAL,CADlD;EAAA,QAEIo9C,QAAQ4E,SAAS5E,KAFrB;;EAIA,QAAIA,MAAM7rE,GAAN,CAAUC,GAAV,CAAJ,EAAoB;EAClB,aAAO4rE,MAAM3rE,GAAN,CAAUD,GAAV,CAAP;EACD;EACD,QAAI6oC,SAASoO,KAAKxoB,KAAL,CAAW,IAAX,EAAiBD,IAAjB,CAAb;EACAgiD,aAAS5E,KAAT,GAAiBA,MAAM1rE,GAAN,CAAUF,GAAV,EAAe6oC,MAAf,KAA0B+iC,KAA3C;EACA,WAAO/iC,MAAP;EACD,GAXD;EAYA2nC,WAAS5E,KAAT,GAAiB,KAAK0E,QAAQG,KAAR,IAAiBr3B,UAAtB,GAAjB;EACA,SAAOo3B,QAAP;EACD;;EAED;EACAF,QAAQG,KAAR,GAAgBr3B,UAAhB;;ECpEA;EACA,IAAIs3B,mBAAmB,GAAvB;;EAEA;;;;;;;;EAQA,SAASC,aAAT,CAAuB15B,IAAvB,EAA6B;EAC3B,MAAIpO,SAASynC,QAAQr5B,IAAR,EAAc,UAASj3C,GAAT,EAAc;EACvC,QAAI4rE,MAAMjrE,IAAN,KAAe+vE,gBAAnB,EAAqC;EACnC9E,YAAMtrE,KAAN;EACD;EACD,WAAON,GAAP;EACD,GALY,CAAb;;EAOA,MAAI4rE,QAAQ/iC,OAAO+iC,KAAnB;EACA,SAAO/iC,MAAP;EACD;;ECrBD;EACA,IAAI+nC,aAAa,kGAAjB;;EAEA;EACA,IAAIC,eAAe,UAAnB;;EAEA;;;;;;;EAOA,IAAIC,eAAeH,cAAc,UAASv8D,MAAT,EAAiB;EAChD,MAAIy0B,SAAS,EAAb;EACA,MAAIz0B,OAAO+H,UAAP,CAAkB,CAAlB,MAAyB,EAA7B,UAAyC;EACvC0sB,aAAOroC,IAAP,CAAY,EAAZ;EACD;EACD4T,SAAOuF,OAAP,CAAei3D,UAAf,EAA2B,UAAS52D,KAAT,EAAgB1a,MAAhB,EAAwByxE,KAAxB,EAA+BC,SAA/B,EAA0C;EACnEnoC,WAAOroC,IAAP,CAAYuwE,QAAQC,UAAUr3D,OAAV,CAAkBk3D,YAAlB,EAAgC,IAAhC,CAAR,GAAiDvxE,UAAU0a,KAAvE;EACD,GAFD;EAGA,SAAO6uB,MAAP;EACD,CATkB,CAAnB;;ECVA;;;;;;;;EAQA,SAASooC,QAAT,CAAkB9wE,KAAlB,EAAyBW,MAAzB,EAAiC;EAC/B,MAAIC,UAAQZ,KAAR,CAAJ,EAAoB;EAClB,WAAOA,KAAP;EACD;EACD,SAAOiwE,MAAMjwE,KAAN,EAAaW,MAAb,IAAuB,CAACX,KAAD,CAAvB,GAAiC2wE,aAAajjE,SAAS1N,KAAT,CAAb,CAAxC;EACD;;EChBD;EACA,IAAIu6D,aAAW,IAAI,CAAnB;;EAEA;;;;;;;EAOA,SAASwW,KAAT,CAAe/wE,KAAf,EAAsB;EACpB,MAAI,OAAOA,KAAP,IAAgB,QAAhB,IAA4Bs6D,SAASt6D,KAAT,CAAhC,EAAiD;EAC/C,WAAOA,KAAP;EACD;EACD,MAAI0oC,SAAU1oC,QAAQ,EAAtB;EACA,SAAQ0oC,UAAU,GAAV,IAAkB,IAAI1oC,KAAL,IAAe,CAACu6D,UAAlC,GAA8C,IAA9C,GAAqD7xB,MAA5D;EACD;;ECfD;;;;;;;;EAQA,SAASsoC,OAAT,CAAiBrwE,MAAjB,EAAyB6uD,IAAzB,EAA+B;EAC7BA,SAAOshB,SAASthB,IAAT,EAAe7uD,MAAf,CAAP;;EAEA,MAAIU,QAAQ,CAAZ;EAAA,MACIjF,SAASozD,KAAKpzD,MADlB;;EAGA,SAAOuE,UAAU,IAAV,IAAkBU,QAAQjF,MAAjC,EAAyC;EACvCuE,aAASA,OAAOowE,MAAMvhB,KAAKnuD,OAAL,CAAN,CAAP,CAAT;EACD;EACD,SAAQA,SAASA,SAASjF,MAAnB,GAA6BuE,MAA7B,GAAsCkB,SAA7C;EACD;;ECnBD;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAAS/B,KAAT,CAAaa,MAAb,EAAqB6uD,IAArB,EAA2ByhB,YAA3B,EAAyC;EACvC,MAAIvoC,SAAS/nC,UAAU,IAAV,GAAiBkB,SAAjB,GAA6BmvE,QAAQrwE,MAAR,EAAgB6uD,IAAhB,CAA1C;EACA,SAAO9mB,WAAW7mC,SAAX,GAAuBovE,YAAvB,GAAsCvoC,MAA7C;EACD;;EC9BD;;;;;;;;EAQA,SAASwoC,SAAT,CAAmBvwE,MAAnB,EAA2Bd,GAA3B,EAAgC;EAC9B,SAAOc,UAAU,IAAV,IAAkBd,OAAOkD,OAAOpC,MAAP,CAAhC;EACD;;ECHD;;;;;;;;;EASA,SAASwwE,OAAT,CAAiBxwE,MAAjB,EAAyB6uD,IAAzB,EAA+B4hB,OAA/B,EAAwC;EACtC5hB,SAAOshB,SAASthB,IAAT,EAAe7uD,MAAf,CAAP;;EAEA,MAAIU,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAASozD,KAAKpzD,MADlB;EAAA,MAEIssC,SAAS,KAFb;;EAIA,SAAO,EAAErnC,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIyD,MAAMkxE,MAAMvhB,KAAKnuD,KAAL,CAAN,CAAV;EACA,QAAI,EAAEqnC,SAAS/nC,UAAU,IAAV,IAAkBywE,QAAQzwE,MAAR,EAAgBd,GAAhB,CAA7B,CAAJ,EAAwD;EACtD;EACD;EACDc,aAASA,OAAOd,GAAP,CAAT;EACD;EACD,MAAI6oC,UAAU,EAAErnC,KAAF,IAAWjF,MAAzB,EAAiC;EAC/B,WAAOssC,MAAP;EACD;EACDtsC,WAASuE,UAAU,IAAV,GAAiB,CAAjB,GAAqBA,OAAOvE,MAArC;EACA,SAAO,CAAC,CAACA,MAAF,IAAYggD,WAAShgD,MAAT,CAAZ,IAAgCkkD,UAAQzgD,GAAR,EAAazD,MAAb,CAAhC,KACJwE,UAAQD,MAAR,KAAmBu7C,cAAYv7C,MAAZ,CADf,CAAP;EAED;;ECjCD;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BA,SAAS0wE,KAAT,CAAe1wE,MAAf,EAAuB6uD,IAAvB,EAA6B;EAC3B,SAAO7uD,UAAU,IAAV,IAAkBwwE,QAAQxwE,MAAR,EAAgB6uD,IAAhB,EAAsB0hB,SAAtB,CAAzB;EACD;;ECvBD;EACA,IAAIxF,yBAAuB,CAA3B;EAAA,IACIC,2BAAyB,CAD7B;;EAGA;;;;;;;;EAQA,SAAS2F,mBAAT,CAA6B9hB,IAA7B,EAAmC5N,QAAnC,EAA6C;EAC3C,MAAIquB,MAAMzgB,IAAN,KAAemgB,mBAAmB/tB,QAAnB,CAAnB,EAAiD;EAC/C,WAAOiuB,wBAAwBkB,MAAMvhB,IAAN,CAAxB,EAAqC5N,QAArC,CAAP;EACD;EACD,SAAO,UAASjhD,MAAT,EAAiB;EACtB,QAAIm/C,WAAWhgD,MAAIa,MAAJ,EAAY6uD,IAAZ,CAAf;EACA,WAAQ1P,aAAaj+C,SAAb,IAA0Bi+C,aAAa8B,QAAxC,GACHyvB,MAAM1wE,MAAN,EAAc6uD,IAAd,CADG,GAEH+f,YAAY3tB,QAAZ,EAAsB9B,QAAtB,EAAgC4rB,yBAAuBC,wBAAvD,CAFJ;EAGD,GALD;EAMD;;EC9BD;;;;;;;;;;;;;;;;EAgBA,SAASt3D,UAAT,CAAkBrU,KAAlB,EAAyB;EACvB,SAAOA,KAAP;EACD;;EClBD;;;;;;;EAOA,SAASuxE,YAAT,CAAsB1xE,GAAtB,EAA2B;EACzB,SAAO,UAASc,MAAT,EAAiB;EACtB,WAAOA,UAAU,IAAV,GAAiBkB,SAAjB,GAA6BlB,OAAOd,GAAP,CAApC;EACD,GAFD;EAGD;;ECTD;;;;;;;EAOA,SAAS2xE,gBAAT,CAA0BhiB,IAA1B,EAAgC;EAC9B,SAAO,UAAS7uD,MAAT,EAAiB;EACtB,WAAOqwE,QAAQrwE,MAAR,EAAgB6uD,IAAhB,CAAP;EACD,GAFD;EAGD;;ECRD;;;;;;;;;;;;;;;;;;;;;;EAsBA,SAAStvD,QAAT,CAAkBsvD,IAAlB,EAAwB;EACtB,SAAOygB,MAAMzgB,IAAN,IAAc+hB,aAAaR,MAAMvhB,IAAN,CAAb,CAAd,GAA0CgiB,iBAAiBhiB,IAAjB,CAAjD;EACD;;ECvBD;;;;;;;EAOA,SAASiiB,YAAT,CAAsBzxE,KAAtB,EAA6B;EAC3B;EACA;EACA,MAAI,OAAOA,KAAP,IAAgB,UAApB,EAAgC;EAC9B,WAAOA,KAAP;EACD;EACD,MAAIA,SAAS,IAAb,EAAmB;EACjB,WAAOqU,UAAP;EACD;EACD,MAAI,QAAOrU,KAAP,yCAAOA,KAAP,MAAgB,QAApB,EAA8B;EAC5B,WAAOY,UAAQZ,KAAR,IACHsxE,oBAAoBtxE,MAAM,CAAN,CAApB,EAA8BA,MAAM,CAAN,CAA9B,CADG,GAEH8vE,YAAY9vE,KAAZ,CAFJ;EAGD;EACD,SAAOE,SAASF,KAAT,CAAP;EACD;;ECvBD;;;;;;;;EAQA,SAAS0xE,gBAAT,CAA0BjH,MAA1B,EAAkCkH,WAAlC,EAA+C;EAC7C,SAAO,UAAS3G,UAAT,EAAqBrxB,QAArB,EAA+B;EACpC,QAAI7C,OAAOl2C,UAAQoqE,UAAR,IAAsBR,eAAtB,GAAwCU,cAAnD;EAAA,QACIR,cAAciH,cAAcA,aAAd,GAA8B,EADhD;;EAGA,WAAO76B,KAAKk0B,UAAL,EAAiBP,MAAjB,EAAyBgH,aAAa93B,QAAb,EAAuB,CAAvB,CAAzB,EAAoD+wB,WAApD,CAAP;EACD,GALD;EAMD;;ECjBD;EACA,IAAIviC,gBAAcplC,OAAOtD,SAAzB;;EAEA;EACA,IAAI4O,mBAAiB85B,cAAY95B,cAAjC;;EAEA;;;;;;;;;;;;;;;;;;;;;;;EAuBA,IAAIujE,UAAUF,iBAAiB,UAAShpC,MAAT,EAAiB1oC,KAAjB,EAAwBH,GAAxB,EAA6B;EAC1D,MAAIwO,iBAAe7M,IAAf,CAAoBknC,MAApB,EAA4B7oC,GAA5B,CAAJ,EAAsC;EACpC6oC,WAAO7oC,GAAP,EAAYQ,IAAZ,CAAiBL,KAAjB;EACD,GAFD,MAEO;EACLu5C,sBAAgB7Q,MAAhB,EAAwB7oC,GAAxB,EAA6B,CAACG,KAAD,CAA7B;EACD;EACF,CANa,CAAd;;EC9BA,IAAM6xE,0BAA0B,SAA1BA,uBAA0B,CAAC37C,IAAD,EAAO8e,GAAP,EAAe;EAC7C,MAAM5+B,SAAS,EAAf;;EAEA,MAAM07D,gBAAgB,SAAhBA,aAAgB,GAAM;EAC1B,WAAO98B,IAAI9e,IAAJ,CAAS35B,CAAhB;EACD,GAFD;EAGA,MAAMw1E,mBAAmB,SAAnBA,gBAAmB;EAAA,WAAKl1E,EAAEi1E,gBAAgBthB,QAAlB,CAAL;EAAA,GAAzB;EACA,MAAMwhB,aAAa,SAAbA,UAAa;EAAA,WAAMh9B,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,CAAN;EAAA,GAAnB;EACA,MAAM0hE,kBAAkB,SAAlBA,eAAkB;EAAA,WAAKp1E,EAAEm1E,aAAaxhB,QAAf,CAAL;EAAA,GAAxB;;EAEA,MAAI0hB,iBAAiBN,QAAQ17C,IAAR,EAAc;EAAA,WAAK67C,iBAAiBl1E,CAAjB,CAAL;EAAA,GAAd,CAArB;;EAV6C;EAAA;EAAA;;EAAA;EAY7C,yBAAiBi1E,gBAAgB9yE,MAAjC,8HAAyC;EAAA,UAAhC28D,IAAgC;;EACvC,UAAIwM,KAAK,EAAT;;EAEAA,SAAG2J,gBAAgBthB,QAAnB,IAA+BmL,IAA/B;;EAHuC;EAAA;EAAA;;EAAA;EAKvC,8BAAe3mB,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW7P,MAA1B,mIAAkC;EAAA,cAAzBmzE,EAAyB;;EAChChK,aAAGgK,EAAH,IAAS,CAAT;EACD;EAPsC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;;EAAA;EASvC,8BAAeD,eAAevW,IAAf,CAAf,mIAAqC;EAAA,cAA5ByW,EAA4B;;EACnCjK,aAAGiK,GAAGp9B,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW2hD,QAAd,CAAH,IAA8ByhB,gBAAgBG,EAAhB,CAA9B;EACD;EAXsC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAavCh8D,aAAO/V,IAAP,CAAY8nE,EAAZ;EACD;EA1B4C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EA4B7C,SAAO/xD,MAAP;EACD,CA7BD;;ECEA,IAAMi8D,sBAAsB,SAAtBA,mBAAsB,CAACn8C,IAAD,EAAO8e,GAAP,EAAe;EACzC,MAAI4kB,gBAAgB5kB,GAAhB,CAAJ,EAA0B;EACxBA,QAAI9e,IAAJ,CAASrnB,CAAT,CAAW7P,MAAX,GAAoBk3B,KACjBx2B,GADiB,CACb;EAAA,aAAK7C,EAAEm4C,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW2hD,QAAb,CAAL;EAAA,KADa,EAEjB9yC,MAFiB,CAEV,UAACs+C,GAAD,EAAMC,GAAN,EAAWv0B,GAAX;EAAA,aAAmBA,IAAI1uB,OAAJ,CAAYgjD,GAAZ,MAAqBC,GAAxC;EAAA,KAFU,CAApB;EAGD,GAJD,MAIO;EACLjnB,QAAI9e,IAAJ,CAASrnB,CAAT,CAAW7P,MAAX,GAAoBg2C,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW7Q,GAAX,CAAe;EAAA,aAAK7C,EAAE2zD,QAAP;EAAA,KAAf,CAApB;EACD;;EAED,MAAMp6C,SAASwjD,gBAAgB5kB,GAAhB,IACX68B,wBAAwB37C,IAAxB,EAA8B8e,GAA9B,CADW,GAEX9e,IAFJ;;EAIA,MAAMyrB,QAAQmoB,SAAS90B,GAAT,CAAd;EACA2M,QAAMvhD,IAAN,CAAW40C,IAAI9e,IAAJ,CAASrnB,CAAT,CAAW7P,MAAtB;EACA,MAAMszE,SAAS3wB,MAAMvrC,MAAN,CAAf;;EAEA,SAAOk8D,OAAO5yE,GAAP,CAAW,aAAK;EACrB,QAAM64D,SAASvjB,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAWkmB,IAAX,CAAgB;EAAA,aAAK7hB,EAAE47C,QAAF,KAAe3zD,EAAEgD,GAAtB;EAAA,KAAhB,CAAf;;EAEA,WAAO;EACL0yE,aAAOha,SAASA,OAAOp3D,IAAhB,GAAuBtE,EAAEgD,GAD3B;EAELA,WAAKhD,EAAEgD,GAFF;EAGLb,cAAQnC,EAAE6C,GAAF,CAAM,aAAK;EACjB,eAAO;EACLswB,cAAIpb,EAAE,CAAF,CADC;EAELqb,cAAIrb,EAAE,CAAF,CAFC;EAGLrE,aAAGgoD,SACCA,OAAO92D,KAAP,CAAamT,EAAEshB,IAAF,CAAOqiC,OAAO/H,QAAd,CAAb,CADD,GAECxb,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,EAAc9O,KAAd,CAAoBmT,EAAEshB,IAAF,CAAOr5B,EAAEgD,GAAT,CAApB,CALC;EAMLs3B,cAAIohC,SAAS3jD,EAAEshB,IAAF,CAAOqiC,OAAO/H,QAAd,CAAT,GAAmC57C,EAAEshB,IAAF,CAAOr5B,EAAEgD,GAAT,CANlC;EAOLq2B,gBAAMthB,EAAEshB;EAPH,SAAP;EASD,OAVO;EAHH,KAAP;EAeD,GAlBM,CAAP;EAmBD,CApCD;;ECCA,IAAMs8C,uBAAuB,SAAvBA,oBAAuB,CAACC,UAAD,EAAaz9B,GAAb,EAAqB;EAChD,MAAM09B,OAAOlwE,MAAIiwE,WAAW/yE,GAAX,CAAe;EAAA,WAAK8C,MAAI3F,EAAEmC,MAAF,CAASU,GAAT,CAAa;EAAA,aAAKkV,EAAEob,EAAP;EAAA,KAAb,CAAJ,CAAL;EAAA,GAAf,CAAJ,CAAb;EACA,MAAM2iD,OAAOl1E,MAAIg1E,WAAW/yE,GAAX,CAAe;EAAA,WAAKjC,MAAIZ,EAAEmC,MAAF,CAASU,GAAT,CAAa;EAAA,aAAKkV,EAAEqb,EAAP;EAAA,KAAb,CAAJ,CAAL;EAAA,GAAf,CAAJ,CAAb;;EAEA,SAAO+kB,IAAIsS,KAAJ,CAAU0iB,WAAV,KAA0B1Q,OAAOC,MAAjC,GACH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADG,GAEH8D,UAAU,CAACqV,IAAD,EAAOC,IAAP,CAAV,EAAwB39B,IAAI4iB,KAAJ,CAAU,CAAV,EAAaz5D,KAArC,EAA4C62C,IAAI4iB,KAAJ,CAAU,CAAV,EAAagF,IAAzD,CAFJ;EAGD,CAPD;;ECCA,IAAMgW,qBAAqB,SAArBA,kBAAqB,CAACrhC,KAAD,EAAQyD,GAAR,EAAgC;EAAA,MAAnBC,OAAmB,uEAAT,IAAS;;EACzD,MAAM/e,OAAOqb,MAAMljC,cAAN,CAAqB,UAArB,IACTkjC,MAAMshC,QAAN,CAAevyE,KAAf,EADS,GAETixC,MAAMjxC,KAAN,EAFJ;;EAIA,MAAIqB,OAAOs8D,qBAAqB/nC,IAArB,EAA2B8e,GAA3B,EAAgCC,OAAhC,CAAX;EACA,MAAIw9B,aAAaJ,oBAAoB1wE,IAApB,EAA0BqzC,GAA1B,CAAjB;;EAEA,MAAI89B,OAAO,CAAX;EACA,MAAIC,OAAO,CAAX;;EAEA,MAAI/9B,IAAIsS,KAAJ,CAAUyiB,WAAV,KAA0B,IAA9B,EAAoC;EAClC,QAAI1N,SAASmW,qBAAqBC,UAArB,EAAiCz9B,GAAjC,CAAb;EACA89B,WAAOzW,OAAO,CAAP,CAAP;EACA0W,WAAO1W,OAAO,CAAP,CAAP;;EAHkC;EAAA;EAAA;;EAAA;EAKlC,2BAAcrnB,IAAI9e,IAAJ,CAAS3lB,CAAvB,8HAA0B;EAAA,YAAjB3C,CAAiB;;EACxBA,UAAEnM,KAAF,GAAUgwC,WACPnwC,MADO,CACA,CAACwxE,IAAD,EAAOC,IAAP,CADA,EAEPp1E,KAFO,CAED,CAACq3C,IAAI2P,KAAJ,CAAU6B,WAAX,EAAwB,CAAxB,CAFC,CAAV;EAGD;EATiC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAUnC,GAVD,MAUO;EAAA;EAAA;EAAA;;EAAA;EACL,4BAAcxR,IAAI9e,IAAJ,CAAS3lB,CAAvB,mIAA0B;EAAA,YAAjB3C,EAAiB;;EACxBklE,eAAOt1E,KAAKgF,GAAL,CAASswE,IAAT,EAAellE,GAAEpL,GAAjB,CAAP;EACAuwE,eAAOv1E,KAAKC,GAAL,CAASs1E,IAAT,EAAenlE,GAAEnQ,GAAjB,CAAP;EACD;EAJI;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAKN;;EAED,SAAO;EACLs1E,UAAMA,IADD;EAELD,UAAMA,IAFD;EAGLD,cAAU38C,IAHL;EAILmiC,YAAQoa;EAJH,GAAP;EAMD,CAlCD;;ECJA,IAAMO,mBAAmB;EACvB1lE,SAAO;EACLsf,YAAQoiB,UADH;EAEL50B,UAAM85B,QAAQK,SAAR,CAAkBC;EAFnB,GADgB;EAKvBmQ,SAAO;EACLE,YAAQ;EACNvoD,YAAM,EADA;EAENw7B,cAAQ,EAFF;EAGNn7B,aAAO,EAHD;EAINsqC,WAAK;EAJC;EADH,GALgB;EAavByxB,YAAU;EACRlI,cAAU,IADF;EAERwI,eAAW;EAFH,GAba;;EAkBvB1I,SAAO;EACLwH,eAAW,IADN;EAELoB,mBAAe,KAFV;EAGLz3D,WAAO,IAHF;EAILtD,WAAO,CAJF;EAKLse,gBAAY,IALP;EAMLhf,SAAK,IANA;EAOL+E,SAAK,IAPA;EAQLu1D,gBAAY,CARP;;EAULvQ,WAAO;EACLjiB,YAAM,IADD;EAELhwB,aAAO,IAFF;EAGLiI,cAAQ;EAHH;EAVF,GAlBgB;;EAmCvBo6C,SAAO,CACL;EACEE,eAAW,IADb;EAEEoB,mBAAe,KAFjB;EAGEz3D,WAAO,IAHT;EAIEhE,SAAK,IAJP;EAKE+E,SAAK,IALP;EAMErE,WAAO,CANT;EAOEy+D,UAAM,CAPR;EAQEpV,WAAO;EACLjiB,YAAM,IADD;EAELhwB,aAAO,IAFF;EAGLiI,cAAQ;EAHH;EART,GADK,CAnCgB;;EAoDvB0Y,QAAM;EACJ35B,OAAG;EACDi0D,gBAAU,IADT;EAEDp2C,YAAM85B,QAAQC,QAAR,CAAiBE,MAFtB;EAGDkT,iBAAW;EAHV,KADC;EAMJh3C,OAAG,CACD;EACEigD,gBAAU,IADZ;EAEEp2C,YAAM85B,QAAQC,QAAR,CAAiBE,MAFzB;EAGEkT,iBAAW,IAHb;EAIEqQ,aAAO,CAJT;EAKE7Q,eAAS;EACPlrC,qBAAa;EADN;EALX,KADC;EANC;EApDiB,CAAzB;;ECEA,IAAMo3D,qBAAqB,SAArBA,kBAAqB,CAAC7Z,QAAD,EAAWlR,OAAX,EAAuB;EAChD,MAAMmR,eAAe3R,aAAasrB,gBAAb,EAA+B5Z,QAA/B,EAAyClR,OAAzC,CAArB;;EAEA,MAAI,CAACA,QAAQ75C,cAAR,CAAuB,UAAvB,CAAL,EAAyC;EACvCgrD,iBAAaX,QAAb,CAAsBlI,QAAtB,GAAiC6I,aAAanjC,IAAb,CAAkB35B,CAAlB,CAAoBi0D,QAArD;EACD;;EAED,SAAO6I,YAAP;EACD,CARD;;MCEM6Z,kBAAkB,SAAlBA,eAAkB;EAAA,SAAa;EACnCl+B,SAAK;EAAA,aAAOmkB,0BAA0Bga,QAA1B,EAAoCn+B,IAApC,CAAP;EAAA,KAD8B;EAEnC9e,UAAM08C,kBAF6B;EAGnCtlE,WAAO,eAAC8lE,QAAD,EAAWl9C,IAAX,EAAiB8e,GAAjB,EAAyB;EAC9B,UAAMq+B,WAAWn9C,QAAQA,KAAKmiC,MAAb,GAAsBniC,KAAKmiC,MAAL,CAAYj8D,MAAlC,GAA2C,CAA5D;EACA,aAAO23C,iBAAiBiB,IAAI1nC,KAAJ,CAAUsf,MAA3B,EAAmCymD,QAAnC,CAAP;EACD;EANkC,GAAb;EAAA,CAAxB;;AASA,MAAMC,mBAAmB,SAAnBA,gBAAmB;EAAA,SAAa;EACpCt+B,SAAK;EAAA,aAAOi+B,mBAAmBE,QAAnB,EAA6Bn+B,KAA7B,CAAP;EAAA,KAD+B;EAEpC9e,UAAM+nC,oBAF8B;EAGpC3wD,WAAO,eAAC8lE,QAAD,EAAWl9C,IAAX,EAAiB8e,GAAjB;EAAA,aACLJ,aAAaw+B,QAAb,EAAuBl9C,KAAKx2B,GAAL,CAAS;EAAA,eAAK7C,EAAEm4C,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,EAAcigD,QAAhB,CAAL;EAAA,OAAT,CAAvB,CADK;EAAA;EAH6B,GAAb;EAAA,CAAzB;;ECVA,IAAM1L,cAAY,SAAZA,YAAY,CAACxP,KAAD,EAAQi+B,OAAR,EAAiBC,OAAjB,EAA0B3xB,OAA1B;EAAA,SAAuC;EACvDkD,UADuD,kBAChD7uB,IADgD,EAC1C;EACXu9C,kBAAgBn+B,KAAhB,EAAuByP,MAAvB,CAA8B7uB,IAA9B;EACA,UAAIs9C,YAAY,IAAhB,EAAsB;EACpB5a,mBAAWtjB,KAAX,EAAkBuM,OAAlB;EACD;EACD0xB,cAAQj+B,KAAR;EACD;EAPsD,GAAvC;EAAA,CAAlB;;EAUA,IAAMo+B,iBAAiB,SAAjBA,cAAiB,CAACp+B,KAAD,EAAQi+B,OAAR,EAAiBC,OAAjB,EAA0B3xB,OAA1B;EAAA,SAAuC;EAC5DplB,UAD4D,oBACnD;EACP2oB,gBAAU9P,KAAV,EAAiB7Y,MAAjB;EACA,UAAI+2C,YAAY,IAAhB,EAAsB;EACpBpb,mBAAW9iB,KAAX,EAAkBuM,OAAlB;EACD;EACD0xB,cAAQj+B,KAAR;EACD;EAP2D,GAAvC;EAAA,CAAvB;;EAUA,IAAME,aAAW,SAAXA,QAAW;EAAA,SAAU;EACzBloC,SADyB,iBACnB8lE,QADmB,EACT;EACd99B,YAAMG,QAAN,CAAenoC,KAAf,GAAuB8lE,QAAvB;EACA99B,YAAM7Y,MAAN;EACD;EAJwB,GAAV;EAAA,CAAjB;;EAOA,IAAMk3C,SAAS,SAATA,MAAS,CAACr+B,KAAD,EAAQs+B,IAAR,EAAiB;EAC9B,SAAOA,KAAKC,MAAL,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;EAC/BD,UAAM/wE,OAAOkhD,MAAP,CAAc6vB,GAAd,EAAmBC,IAAID,GAAJ,CAAnB,CAAN;EACA,WAAOA,GAAP;EACD,GAHM,EAGJx+B,KAHI,CAAP;EAID,CALD;;EAOA,IAAM0+B,QAAQ,SAARA,KAAQ;EAAA,SAAiB,UAACb,QAAD,EAAWI,OAAX;EAAA,QAAoBK,IAApB,uEAA2B,EAA3B;EAAA,WAAkC,UAACrgB,EAAD,EAAKve,GAAL,EAAa;EAAA,kCAChCi/B,aADgC,CACpET,OADoE;EAAA,UACpEA,OADoE,yCAC1D,IAD0D;EAAA,kCAChCS,aADgC,CACpDpyB,OADoD;EAAA,UACpDA,OADoD,yCAC1C,KAD0C;;EAE5E,UAAMqyB,UAAUryB,YAAY,IAAZ,GAAmBqxB,eAAnB,GAAqCI,gBAArD;;EAEA,UAAMa,YAAY7lB,YAAYiF,EAAZ,EAAgBve,GAAhB,EAAqBk/B,QAAQf,QAAR,CAArB,CAAlB;;EAEA,UAAMxuB,QAAQ5hD,OAAOkhD,MAAP,CACZkwB,SADY,EAEZrvB,YAAUqvB,SAAV,EAAqBZ,OAArB,EAA8BC,OAA9B,EAAuC3xB,OAAvC,CAFY,EAGZ6xB,eAAeS,SAAf,EAA0BZ,OAA1B,EAAmCC,OAAnC,EAA4C3xB,OAA5C,CAHY,CAAd;;EAMA,aAAO8xB,OAAOhvB,KAAP,GAAenP,UAAf,2BAA4Bo+B,IAA5B,GAAP;EACD,KAb8B;EAAA,GAAjB;EAAA,CAAd;;AAeA,MAAMQ,YAAYJ,MAAM,EAAER,SAAS,IAAX,EAAiB3xB,SAAS,KAA1B,EAAN,CAAlB;AACA,MAAMwyB,QAAQL,MAAM,EAAER,SAAS,KAAX,EAAkB3xB,SAAS,KAA3B,EAAN,CAAd;AACA,MAAMA,UAAUmyB,MAAM,EAAER,SAAS,IAAX,EAAiB3xB,SAAS,IAA1B,EAAN,CAAhB;AACA,MAAMyyB,eAAeN,MAAM,EAAER,SAAS,KAAX,EAAkB3xB,SAAS,IAA3B,EAAN,CAArB;;ECzDA,IAAM0yB,oBAAoB,SAApBA,iBAAoB,CAAC/pB,OAAD,EAAU/7B,IAAV,EAAgBumB,GAAhB,EAAwB;EAChD,MAAIvmB,KAAKwW,IAAL,CAAU,WAAV,CAAJ,EAA4B;EAC1BulB,YAAQM,IAAR;;EAEAN,YAAQ7zC,SAAR,CAAkB8X,KAAKwW,IAAL,CAAU,GAAV,CAAlB,EAAkC+P,IAAI2P,KAAJ,CAAU6B,WAA5C;EACAgE,YAAQh2C,MAAR,CAAe,CAAChX,KAAK8R,EAAN,GAAW,CAA1B;EACAk7C,YAAQ8B,SAAR,GAAoB,QAApB;EACA9B,YAAQ6B,YAAR,GAAuB,QAAvB;;EAEA7B,YAAQS,WAAR,GAAsB,wBAAtB;EACAT,YAAQQ,SAAR,GAAoB,CAApB;EACAR,YAAQgqB,UAAR,CAAmB/lD,KAAKwW,IAAL,CAAU,WAAV,CAAnB,EAA2C,CAA3C,EAA8CxW,KAAKwW,IAAL,CAAU,OAAV,IAAqB,CAAnE;;EAEAulB,YAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUmtB,QAAV,CAAmBnnE,KAAvC;EACAk9C,YAAQqC,QAAR,CAAiBp+B,KAAKwW,IAAL,CAAU,WAAV,CAAjB,EAAyC,CAAzC,EAA4CxW,KAAKwW,IAAL,CAAU,OAAV,IAAqB,CAAjE;;EAEAulB,YAAQW,OAAR;EACD;EACF,CAlBD;;ECAA,IAAMupB,mBAAmB,SAAnBA,gBAAmB,CAAClqB,OAAD,EAAU/7B,IAAV,EAAgBumB,GAAhB,EAAwB;EAC/CwV,UAAQM,IAAR;;EAEAN,UAAQ7zC,SAAR,CAAkB8X,KAAKwW,IAAL,CAAU,GAAV,CAAlB,EAAkCxW,KAAKwW,IAAL,CAAU,GAAV,CAAlC;EACAulB,UAAQ8B,SAAR,GAAoB,QAApB;EACA;;EAEA9B,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsBrnE,KAA1C;EACAk9C,UAAQqC,QAAR,CACEp+B,KAAKwW,IAAL,CAAU,QAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,OAAV,IAAqB,CAFvB,EAGE,CAAC+P,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsBn3D,MAHzB;;EAMAgtC,UAAQW,OAAR;EACD,CAfD;;ECKA,IAAMypB,YAAY,SAAZA,SAAY,CAACpqB,OAAD,EAAUxsB,YAAV,EAAqBgX,GAArB,EAA6B;EAC7CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA5mB,eAAUt9B,IAAV,CAAe,UAAS7D,CAAT,EAAY;EACzB2tD,YAAQM,IAAR;;EAEA,QAAMr8B,OAAO4M,OAAO,IAAP,CAAb;;EAEAmvB,YAAQO,SAAR;EACAP,YAAQgC,SAAR,GAAoB/9B,KAAKwW,IAAL,CAAU,MAAV,CAApB;EACAulB,YAAQsqB,WAAR,GAAsBrmD,KAAKwW,IAAL,CAAU,SAAV,CAAtB;EACAulB,YAAQ1jB,IAAR,CACErY,KAAKwW,IAAL,CAAU,GAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,GAAV,CAFF,EAGExW,KAAKwW,IAAL,CAAU,OAAV,CAHF,EAIExW,KAAKwW,IAAL,CAAU,QAAV,CAJF;EAMAulB,YAAQzwC,IAAR;;EAEAywC,YAAQW,OAAR;;EAEA,QAAInW,IAAIsS,KAAJ,CAAUmtB,QAAV,CAAmB5tB,OAAnB,KAA+B,IAAnC,EACE0tB,kBAAkB/pB,OAAlB,EAA2B/7B,IAA3B,EAAiCumB,GAAjC;EACF,QAAIA,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsB9tB,OAAtB,KAAkC,IAAtC,EACE6tB,iBAAiBlqB,OAAjB,EAA0B/7B,IAA1B,EAAgCumB,GAAhC;EACH,GAtBD;EAuBD,CA1BD;;ECFA,IAAM+/B,kBAAkB,SAAlBA,eAAkB,CAACvqB,OAAD,EAAUxsB,YAAV,EAAwB;EAC9CwsB,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMowB,WAAW,IAAIx1E,GAAJ,EAAjB;;EAEAw+B,eAAUt9B,IAAV,CAAe,UAAS7D,CAAT,EAAYU,CAAZ,EAAe;EAC5BitD,YAAQM,IAAR;;EAEA,QAAMr8B,OAAO4M,OAAO,IAAP,CAAb;EACA,QAAM/tB,QAAQw/C,gBAAgBvvD,IAAI,CAApB,CAAd;EACAitD,YAAQO,SAAR;EACAP,YAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,YAAQ1jB,IAAR,CACErY,KAAKwW,IAAL,CAAU,GAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,GAAV,CAFF,EAGExW,KAAKwW,IAAL,CAAU,OAAV,CAHF,EAIExW,KAAKwW,IAAL,CAAU,QAAV,CAJF;EAMAulB,YAAQzwC,IAAR;;EAEAywC,YAAQW,OAAR;;EAEA6pB,aAASj1E,GAAT,CAAauN,KAAb,EAAoBzQ,CAApB;EACD,GAlBD;;EAoBA,SAAOm4E,QAAP;EACD,CA1BD;;ECHA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAC/+C,IAAD,EAAO8e,GAAP,EAAe;EACtC,MAAIkgC,cAAc,KAAlB;;EADsC;EAAA;EAAA;;EAAA;EAGtCC,YAHsC,EAG5B,qBAAgBj/C,IAAhB,8HAAsB;EAAA,UAAXr5B,CAAW;EAAA;EAAA;EAAA;;EAAA;EAC9B,8BAAiBm4C,IAAI9e,IAAJ,CAAS3lB,CAA1B,mIAA6B;EAAA,cAAlB4mB,EAAkB;;EAC3B,cAAIt6B,EAAEs6B,GAAGq5B,QAAL,IAAiB,CAArB,EAAwB;EACtB0kB,0BAAc,IAAd;EACA,kBAAMC,QAAN;EACD;EACF;EAN6B;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAO/B;EAVqC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAYtC,SAAOD,WAAP;EACD,CAbD;;MCEME,eAAe,SAAfA,YAAe;EAAA,SAAS9/B,MAAMG,QAAN,CAAevf,IAAf,CAAoB35B,CAA7B;EAAA,CAArB;AACA,MAAM84E,YAAY,SAAZA,SAAY;EAAA,SAAS//B,MAAMG,QAAN,CAAevf,IAAf,CAAoB3lB,CAApB,CAAsB,CAAtB,CAAT;EAAA,CAAlB;AACA,MAAMggD,kBAAkB,SAAlBA,eAAkB;EAAA,SAAS;EAAA,WAAK1zD,EAAEu4E,aAAa9/B,KAAb,EAAoBkb,QAAtB,CAAL;EAAA,GAAT;EAAA,CAAxB;AACA,MAAM8kB,eAAe,SAAfA,YAAe;EAAA,SAAS;EAAA,WAAKz4E,EAAEw4E,UAAU//B,KAAV,EAAiBkb,QAAnB,CAAL;EAAA,GAAT;EAAA,CAArB;AACA,MAAMj0D,MAAI,SAAJA,CAAI;EAAA,SAAS;EAAA,WAAK64E,aAAa9/B,KAAb,EAAoB7zC,KAApB,CAA0B8uD,gBAAgBjb,KAAhB,EAAuBz4C,CAAvB,CAA1B,CAAL;EAAA,GAAT;EAAA,CAAV;AACA,MAAM0T,MAAI,SAAJA,CAAI;EAAA,SAAS;EAAA,WAAK8kE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB6zE,aAAahgC,KAAb,EAAoBz4C,CAApB,CAAvB,CAAL;EAAA,GAAT;EAAA,CAAV;AACA,MAAMuT,MAAI,SAAJA,CAAI;EAAA,SAAS,aAAK;EACtB,QAAIvT,EAAEyQ,KAAF,KAAY,IAAZ,IAAoBzQ,EAAEyQ,KAAF,KAAYzL,SAApC,EAA+C;EAC7C,aAAOhF,EAAEyQ,KAAT;EACD;;EAED,YAAQgoC,MAAMG,QAAN,CAAenoC,KAAf,CAAqB8M,IAA7B;EACE,WAAK85B,QAAQK,SAAR,CAAkBG,WAAvB;EACE,eAAOY,MAAMjD,MAAN,CAAake,gBAAgBjb,KAAhB,EAAuBz4C,CAAvB,CAAb,CAAP;EACF,WAAKq3C,QAAQK,SAAR,CAAkBC,QAAvB;EACA,WAAKN,QAAQK,SAAR,CAAkBE,QAAvB;EACE,eAAOa,MAAMjD,MAAN,CAAaijC,aAAahgC,KAAb,EAAoBz4C,CAApB,CAAb,CAAP;EACF;EACE,eAAOy4C,MAAMjD,MAAN,CAAaijC,aAAahgC,KAAb,EAAoBz4C,CAApB,CAAb,CAAP;EAPJ;EASD,GAdS;EAAA,CAAV;;ECRA,IAAM0sC,eAAa,SAAbA,UAAa;EAAA,SACjBgsC,mBAAmB,GAAG7nE,QAAH,CAAYlM,IAAZ,CAAiB+zE,eAAjB,MAAsC,mBADxC;EAAA,CAAnB;;ECOA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAAC34E,CAAD,EAAIy4C,KAAJ;EAAA,wEAEkCllC,IAAEklC,KAAF,EAASz4C,CAAT,CAFlC,iDAGgB0zD,gBAAgBjb,KAAhB,EAAuBz4C,CAAvB,CAHhB,gFAKSw4E,UAAU//B,KAAV,EAAiBn0C,IAL1B,8CAMSm0E,aAAahgC,KAAb,EAAoBz4C,CAApB,CANT;EAAA,CAAtB;;ECYA,IAAM02E,UAAU,SAAVA,OAAU,QAAS;EAAA,MAErBhiC,KAFqB,GASnB+D,KATmB,CAErB/D,KAFqB;EAAA,MAGrBkE,QAHqB,GASnBH,KATmB,CAGrBG,QAHqB;EAAA,MAIrB0U,aAJqB,GASnB7U,KATmB,CAIrB6U,aAJqB;EAAA,MAKrBG,kBALqB,GASnBhV,KATmB,CAKrBgV,kBALqB;EAAA,MAMrBrF,YANqB,GASnB3P,KATmB,CAMrB2P,YANqB;EAAA,MAOrBmF,cAPqB,GASnB9U,KATmB,CAOrB8U,cAPqB;EAAA,MAQrBC,YARqB,GASnB/U,KATmB,CAQrB+U,YARqB;;;EAWvB,MAAMlzB,KAAK5mB,IAAE+kC,KAAF,CAAX;EACA,MAAMmgC,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAMpe,KAAK36B,IAAE+4C,KAAF,CAAX;;EAEA,MAAMogC,eAAeT,iBAAiB1jC,KAAjB,EAAwBkE,QAAxB,CAArB;EACA,MAAMs8B,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;EACA,MAAMqgC,gBAAgBL,aAAahgC,KAAb,CAAtB;;EAEA,MAAMsgC,KAAK,SAALA,EAAK,GAAM;EACf,QACER,aAAa9/B,KAAb,EAAoB7zC,KAApB,CAA0BM,SAA1B,KAAwCF,SAAxC,IACA,CAAC0nC,aAAW6rC,aAAa9/B,KAAb,EAAoB7zC,KAApB,CAA0BM,SAArC,CAFH,EAGE;EACA,UAAM8zE,YAAYr4E,KAAKE,IAAL,CAAU+3C,SAASkP,KAAT,CAAe4B,UAAf,GAA4BhV,MAAMn1C,MAA5C,CAAlB;;EAEA,aAAOy5E,YAAY,CAAZ,GAAgBA,YAAY,CAA5B,GAAgC,GAAvC;EACD,KAPD,MAOO;EACL,aAAOT,aAAa9/B,KAAb,EAAoB7zC,KAApB,CAA0BM,SAA1B,EAAP;EACD;EACF,GAXD;EAYA,MAAM+zE,KAAK,SAALA,EAAK;EAAA,WAAKrgC,SAASkP,KAAT,CAAe6B,WAAf,GAA6BrvB,GAAGt6B,CAAH,CAAlC;EAAA,GAAX;EACA,MAAMk5E,QAAQ,SAARA,KAAQ;EAAA,WAAMV,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB,CAAvB,CAAN;EAAA,GAAd;;EAEA,MAAMu0E,yBAAyB,SAAzBA,sBAAyB,GAAM;EACnC,WAAO,aAAK;EACVpB,gBAAUzqB,aAAV,EAAyBG,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAAzB,EAA+DuR,QAA/D;EACD,KAFD;EAGD,GAJD;;EAMA,MAAMwgC,aAAa3rB,mBAAmBpmB,SAAnB,CAA6B,MAA7B,EAAqChO,IAArC,CAA0Cqb,KAA1C,CAAnB;EACA,MAAM2kC,WAAWD,WAAW94C,KAAX,EAAjB;EACA,MAAMg5C,aAAaF,WAAW74C,IAAX,EAAnB;;EAEA,MAAMg5C,iBAAiBp4C,YAAY6xB,UAAZ,GACpB/I,QADoB,CACXrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4B7mD,MADjB,EAEpBS,IAFoB,CAEf,YAAM;EACVy1E,eACGtmB,UADH,GAEG5qB,IAFH,CAEQ,GAFR,EAEaywC,eAAev+C,GAAG,CAAH,CAAf,GAAuBse,SAASkP,KAAT,CAAe6B,WAFnD,EAGGvhB,IAHH,CAGQ,QAHR,EAGkB,CAHlB,EAIG0uB,KAJH,CAIS,cAJT,EAIyBqiB,sBAJzB;;EAMAG,eAAWl2E,MAAX;EACD,GAVoB,CAAvB;;EAYA,MAAMo2E,mBAAmBD,eACtBvmB,UADsB,GAEtB/I,QAFsB,CAEbrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAFf,EAGtB/7B,IAHsB,CAGjB,YAAM;EACVu1E,eACGhxC,IADH,CACQ,WADR,EACqB8sC,gBADrB,EAEG9sC,IAFH,CAEQ,QAFR,EAEkB0wC,aAFlB,EAGG9lB,UAHH,CAGc,wBAHd,EAIGsC,KAJH,CAKI,UAACt1D,CAAD,EAAIU,CAAJ;EAAA,aAAWA,IAAIg0C,MAAMn1C,MAAX,GAAqBq5C,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAA3D;EAAA,KALJ,EAOGwI,IAPH,CAOQ,MAPR,EAOgBwwC,EAPhB,EAQGxwC,IARH,CAQQ,GARR,EAQa/N,EARb,EASG+N,IATH,CASQ,OATR,EASiB2wC,EATjB,EAUG3wC,IAVH,CAUQ,GAVR,EAUa;EAAA,aAAM0wC,cAAc94E,CAAd,IAAmB,CAAnB,GAAuBs6B,GAAGt6B,CAAH,CAAvB,GAA+Bk5E,OAArC;EAAA,KAVb,EAWG9wC,IAXH,CAWQ,QAXR,EAWkB;EAAA,aAAMywC,eAAel4E,KAAKsB,GAAL,CAASq4B,GAAGt6B,CAAH,IAAQk5E,OAAjB,CAAf,GAA2CD,GAAGj5E,CAAH,CAAjD;EAAA,KAXlB,EAYG82D,KAZH,CAYS,cAZT,EAYyBqiB,sBAZzB;EAaD,GAjBsB,CAAzB;;EAmBA,MAAMM,kBAAkBD,iBACrBxmB,UADqB,GAErB/I,QAFqB,CAEZrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4B9lD,GAFhB,EAGrBN,IAHqB,CAGhB,YAAM;EACVw1E,aACGrwC,MADH,CACU,MADV,EAEGZ,IAFH,CAEQ,OAFR,EAEiB,KAFjB,EAGGA,IAHH,CAGQ,MAHR,EAGgBwwC,EAHhB,EAIGxwC,IAJH,CAIQ,SAJR,EAImB,CAJnB,EAKGA,IALH,CAKQ,GALR,EAKa/N,EALb,EAMG+N,IANH,CAMQ,OANR,EAMiB2wC,EANjB,EAOG3wC,IAPH,CAOQ,WAPR,EAOqB8sC,gBAPrB,EAQG9sC,IARH,CAQQ,QARR,EAQkB0wC,aARlB,EASG1wC,IATH,CASQ,GATR,EASaywC,eAAeK,MAAM,CAAN,CAAf,GAA0BtgC,SAASkP,KAAT,CAAe6B,WATtD,EAUGvhB,IAVH,CAUQ,QAVR,EAUkB,CAVlB,EAWG4qB,UAXH,GAYG/I,QAZH,CAYYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4B9lD,GAZxC,EAaGmxD,KAbH,CAaS,UAACt1D,CAAD,EAAIU,CAAJ;EAAA,aAAWA,IAAIg0C,MAAMn1C,MAAX,GAAqBq5C,SAASmR,SAAT,CAAmBE,QAAnB,CAA4B9lD,GAA3D;EAAA,KAbT,EAcGikC,IAdH,CAcQ,GAdR,EAca;EAAA,aAAM0wC,cAAc94E,CAAd,IAAmB,CAAnB,GAAuBs6B,GAAGt6B,CAAH,CAAvB,GAA+Bk5E,OAArC;EAAA,KAdb,EAeG9wC,IAfH,CAeQ,QAfR,EAekB;EAAA,aAAMywC,eAAel4E,KAAKsB,GAAL,CAASq4B,GAAGt6B,CAAH,IAAQk5E,OAAjB,CAAf,GAA2CD,GAAGj5E,CAAH,CAAjD;EAAA,KAflB,EAgBG82D,KAhBH,CAgBS,cAhBT,EAgByBqiB,sBAhBzB;EAiBD,GArBqB,CAAxB;;EAuBA,MAAMjvB,UAAU1rB,OAAO4pB,YAAP,EACb/gB,SADa,CACH,iBADG,EAEbhO,IAFa,CAER,CAAC,CAAD,CAFQ,EAGbiH,KAHa,GAIb0I,MAJa,CAIN,KAJM,EAKbZ,IALa,CAKR,OALQ,EAKC,gBALD,EAMb1vB,KANa,CAMP,SANO,EAMI,CANJ,CAAhB;;EAQA+gE,kBAAgBtoD,EAAhB,CAAmB,KAAnB,EAA0B,YAAM;EAC9B,QAAMgnD,WAAWD,gBACf3qB,cADe,EAEfE,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAFe,CAAjB;;EAKA;EACA;;;EAGA,aAASqyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;EAG1B;;;EACA,UAAMC,MAAMvsB,eAAewsB,YAAf,CACVH,KAAKpsB,YADK,EAEVqsB,KAAKrsB,YAFK,EAGV,CAHU,EAIV,CAJU,EAKVn0B,IALF;EAMA;EACA,UAAM2gD,YAAY,SAASF,IAAI,CAAJ,CAAT,GAAkB,GAAlB,GAAwBA,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuCA,IAAI,CAAJ,CAAvC,GAAgD,GAAlE;EACA,UAAMloD,OAAOumD,SAASl1E,GAAT,CAAa+2E,SAAb,CAAb;;EAEA,UAAIpoD,IAAJ,EAAU;EACRs4B,gBACGthB,IADH,CACQ+vC,cAAc/mD,IAAd,EAAoB6mB,KAApB,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;EAOD,OARD,MAQO;EACLwxC,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,aAASuhE,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;EACAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GAlDD;EAmDD,CA7JD;;EChBA,IAAMu1E,eAAe,SAAfA,YAAe,CAAC57C,QAAD,EAAW6Z,GAAX,EAAmB;EACtC,MAAMz3B,QAAQw8C,WAAW/kB,GAAX,CAAd;EACA,MAAMwb,WAAWxb,IAAI0jB,QAAJ,CAAalI,QAA9B;EACA,MAAMwI,YAAYhkB,IAAI0jB,QAAJ,CAAaM,SAA/B;;EAEA79B,WAASje,IAAT,CAAc,UAAClhB,CAAD,EAAIC,CAAJ,EAAU;EACtB,QAAIshB,MAAMnD,IAAN,KAAe85B,QAAQC,QAAR,CAAiBG,MAApC,EAA4C;EAC1C,aAAO0kB,cAAc,KAAd,GACHh9D,EAAEw0D,QAAF,EAAY2J,aAAZ,CAA0Bl+D,EAAEu0D,QAAF,CAA1B,CADG,GAEHv0D,EAAEu0D,QAAF,EAAY2J,aAAZ,CAA0Bn+D,EAAEw0D,QAAF,CAA1B,CAFJ;EAGD,KAJD,MAIO;EACL,aAAOwI,cAAc,KAAd,GACHh9D,EAAEw0D,QAAF,IAAcv0D,EAAEu0D,QAAF,CADX,GAEHv0D,EAAEu0D,QAAF,IAAcx0D,EAAEw0D,QAAF,CAFlB;EAGD;EACF,GAVD;EAWD,CAhBD;;ECEA,IAAMwmB,UAAU,SAAVA,OAAU;EAAA,SAAU;EACxB95D,UAAM,cAACK,KAAD,EAAQy7C,SAAR,EAAsB;EAAA,UAClBvjB,QADkB,GACqCH,KADrC,CAClBG,QADkB;EAAA,UACR6U,kBADQ,GACqChV,KADrC,CACRgV,kBADQ;EAAA,UACYH,aADZ,GACqC7U,KADrC,CACY6U,aADZ;EAAA,UAC2B5Y,KAD3B,GACqC+D,KADrC,CAC2B/D,KAD3B;;EAE1B,UAAMra,KAAK36B,IAAE+4C,KAAF,CAAX;;EAEAA,YAAMG,QAAN,CAAeijB,QAAf,GAA0B;EACxBlI,kBAAUjzC,KADc;EAExBy7C,mBAAWA;EAFa,OAA1B;;EAKA1jB,YAAMpf,IAAN,CAAWqb,KAAX;EACAwlC,mBAAazsB,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAAb,EAAmDuR,QAAnD;;EAEA,UAAMugC,yBAAyB,SAAzBA,sBAAyB,GAAM;EACnC,eAAO,aAAK;EACVpB,oBACEzqB,aADF,EAEEG,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAFF,EAGEuR,QAHF;EAKD,SAND;EAOD,OARD;;EAUAH,YAAMgV,kBAAN,CACGpmB,SADH,CACa,MADb,EAEG2rB,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAHxC,EAIG01B,KAJH,CAIS,UAACt1D,CAAD,EAAIU,CAAJ;EAAA,eAAWA,IAAIg0C,MAAMn1C,MAAX,GAAqBq5C,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAA3D;EAAA,OAJT,EAKGwI,IALH,CAKQ,GALR,EAKa/N,EALb,EAMGy8B,KANH,CAMS,cANT,EAMyBqiB,sBANzB;;EAQA5d,iBAAW9iB,KAAX,EAAkB,KAAlB;EACD;EAhCuB,GAAV;EAAA,CAAhB;;ECDA,IAAM2hC,SAAS;EACbtyB,SAAO,EAAEvqC,MAAM,KAAR,EADM;EAEbktC,SAAO;EACLmtB,cAAU;EACR5tB,eAAS,KADD;EAERv5C,aAAO;EAFC,KADL;EAKLqnE,iBAAa;EACX9tB,eAAS,KADE;EAEXv5C,aAAO,OAFI;EAGXkQ,cAAQ;EAHG;EALR;EAFM,CAAf;;EAeA,IAAM05D,MAAM9C,UAAU6C,MAAV,EAAkB1D,OAAlB,EAA2B,CAACyD,OAAD,CAA3B,CAAZ;;EChBA,IAAMG,gBAAgBxpE,OAAO,MAAP,CAAtB;;EAEA,IAAMypE,mBAAmB,SAAnBA,gBAAmB,CAAClhD,IAAD,EAAO8e,GAAP,EAAY1nC,KAAZ,EAAsB;EAC7C,MAAM+pE,SAASriC,IAAIsS,KAAJ,CAAUgwB,kBAAzB;EACA,MAAMC,QAAQ9pD,MAAIyI,IAAJ,EAAU;EAAA,WAAKr5B,EAAE0T,CAAP;EAAA,GAAV,CAAd;;EAEA,MAAIkgD,WAAWzb,IAAIsb,KAAJ,CAAUnyD,KAAV,GAAkB,CAAlB,GAAsB62C,IAAIsb,KAAJ,CAAUnyD,KAAhC,GAAwC,EAAvD;EACA,MAAIs+D,YAAYvmC,KAAK95B,MAArB;EACA,MAAIo7E,YAAY,KAAhB;EACA,MAAIC,cAAc,IAAlB;EACA,MAAIC,gBAAJ;;EAEA,MAAIL,WAAW,CAAf,EAAkB;EAChBK,cAAUxhD,IAAV;EACD;;EAED,MAAIumC,YAAYhM,QAAhB,EAA0B;EACxB,QAAIknB,gBAAgBlnB,WAAW,CAA/B;EACA,QAAImnB,WAAW,CAAf;EACA,QAAIC,UAAU,EAAd;EACA,QAAIt6E,UAAJ;;EAEAm6E,cAAU,IAAI95E,KAAJ,EAAV;;EAEA,SAAKL,IAAI,CAAT,EAAYA,IAAIo6E,aAAhB,EAA+B,EAAEp6E,CAAjC,EAAoC;EAClCm6E,cAAQn6E,CAAR,IAAa24B,KAAK34B,CAAL,CAAb;;EAEA,UAAIk6E,WAAJ,EAAiB;EACf,YAAIvhD,KAAK34B,CAAL,EAAQgT,CAAR,GAAYgnE,KAAZ,GAAoBF,MAAxB,EAAgC;EAC9B,cAAIG,SAAJ,EAAe;EACbC,0BAAc,KAAd;EACD;EACDD,sBAAY,IAAZ;EACD,SALD,MAKO;EACLA,sBAAY,KAAZ;EACD;EACF;EACF;;EAED,SAAKj6E,IAAIo6E,aAAT,EAAwBp6E,IAAIk/D,SAA5B,EAAuC,EAAEl/D,CAAzC,EAA4C;EAC1Cq6E,kBAAY1hD,KAAK34B,CAAL,EAAQgT,CAApB;EACAsnE,cAAQx3E,IAAR,CAAa61B,KAAK34B,CAAL,CAAb;EACD;;EAEDm6E,YAAQC,aAAR,IAAyB;EACvBpnE,SAAGqnE,QADoB;EAEvBxnE,SAAG9C,MAAMsqE,QAAN,CAFoB;EAGvBppB,aAAOxZ,IAAIsS,KAAJ,CAAU74C,OAHM;EAIvBynB,YAAM2hD,OAJiB;EAKvBtF,aAAOv9B,IAAIsS,KAAJ,CAAUwwB;EALM,KAAzB;;EAQA,QAAIN,aAAaI,WAAWL,KAAX,GAAmBF,MAApC,EAA4C;EAC1CI,oBAAc,KAAd;EACD;EACF,GAvCD,MAuCO;EACL,SAAK,IAAIl6E,KAAI,CAAb,EAAgBA,KAAIk/D,SAApB,EAA+B,EAAEl/D,EAAjC,EAAoC;EAClC,UAAIk6E,WAAJ,EAAiB;EACf,YAAIvhD,KAAK34B,EAAL,EAAQgT,CAAR,GAAYgnE,KAAZ,GAAoBF,MAAxB,EAAgC;EAC9B,cAAIG,SAAJ,EAAe;EACbC,0BAAc,KAAd;EACD;EACDD,sBAAY,IAAZ;EACD,SALD,MAKO;EACLA,sBAAY,KAAZ;EACD;EACF;EACF;EACDE,cAAUxhD,IAAV;EACD;;EAED;;EArE6C;EAAA;EAAA;;EAAA;EAuE7C,yBAAcwhD,OAAd,8HAAuB;EAAA,UAAd76E,CAAc;;EACrBA,QAAEoC,CAAF,GAAMk4E,cAAct6E,EAAE0T,CAAF,GAAMgnE,KAApB,CAAN;EACD;EAzE4C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EA2E7C,SAAOG,OAAP;EACD,CA5ED;;ECLA,IAAMK,gBAAgB,SAAhBA,aAAgB,CAAC/kD,GAAD,EAAMw3B,OAAN,EAAe9zB,MAAf,EAAuBp2B,KAAvB,EAAiC;EAAA,sBACtC0yB,IAAI2vC,QAAJ,CAAariE,KAAb,CADsC;EAAA;EAAA,MAC9C/D,CAD8C;EAAA,MAC3CgU,CAD2C;EAErD;;;EACA,MAAM3B,IAAIpR,KAAKM,IAAL,CAAUvB,IAAIA,CAAJ,GAAQgU,IAAIA,CAAtB,CAAV;;EAEA,SAAO,CAAEhU,IAAIqS,CAAL,GAAU8nB,MAAX,EAAoBnmB,IAAI3B,CAAL,GAAU8nB,MAA7B,CAAP;EACD,CAND;;ECAA,IAAMshD,mBAAmB,SAAnBA,gBAAmB,CAACxtB,OAAD,EAAUlqD,KAAV,EAAiBqiE,QAAjB,EAA2B3tB,GAA3B,EAAmC;EAC1DwV,UAAQM,IAAR;;EAEAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBlsD,MAAM41B,IAAN,CAAW9lB,CAA/B;EACAo6C,UAAQsqB,WAAR,GAAsBx0E,MAAM41B,IAAN,CAAWs4B,KAAjC;EACAhE,UAAQx3B,GAAR,CACE2vC,SAAS,CAAT,CADF,EAEEA,SAAS,CAAT,CAFF,EAGE3tB,IAAIsS,KAAJ,CAAU2wB,uBAHZ,EAIE,CAJF,EAKE,IAAIz6E,KAAK8R,EALX,EAME,KANF;EAQAk7C,UAAQzwC,IAAR;;EAEAywC,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQ0tB,WAAR,GAAsB,CAAtB;EACA1tB,UAAQU,MAAR;EACAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CAtBD;;ECAA,IAAMgtB,WAAW,SAAXA,QAAW;EAAA,SAAKt7E,EAAEsvD,UAAF,GAAe,CAACtvD,EAAEqjE,QAAF,GAAarjE,EAAEsvD,UAAhB,IAA8B,CAAlD;EAAA,CAAjB;;ECEA,IAAMisB,kBAAkB,SAAlBA,eAAkB,CAACzV,QAAD,EAAWpwC,EAAX,EAA+B;EAAA,MAAhB/U,MAAgB,uEAAP,EAAO;;EACrD,MAAIy+C,MAAM,EAAV;EACA,MAAMpL,QAASsnB,SAAS5lD,EAAT,IAAe/0B,KAAK8R,EAArB,GAA2B,GAAzC;;EAEA2sD,MAAI,CAAJ,IAASpL,QAAQ,GAAR,GAAc8R,SAAS,CAAT,IAAcnlD,MAA5B,GAAqCmlD,SAAS,CAAT,IAAcnlD,MAA5D;EACAy+C,MAAI,CAAJ,IAAS0G,SAAS,CAAT,CAAT;;EAEA,MAAI9R,SAAS,CAAT,IAAcA,SAAS,GAA3B,EAAgC;EAC9BoL,QAAI,CAAJ,KAAUz+C,MAAV;EACD,GAFD,MAEO,IAAIqzC,SAAS,GAAb,EAAkB;EACvBoL,QAAI,CAAJ,KAAUz+C,MAAV;EACD,GAFM,MAEA,IAAIqzC,SAAS,EAAb,EAAiB;EACtBoL,QAAI,CAAJ,KAAW,CAAC,KAAKpL,KAAN,IAAe,EAAhB,GAAsBrzC,MAAhC;EACD,GAFM,MAEA,IAAIqzC,SAAS,GAAb,EAAkB;EACvB,QAAIA,QAAQ,GAAZ,EAAiB;EACfoL,UAAI,CAAJ,KAAW,CAACpL,QAAQ,GAAT,IAAgB,EAAjB,GAAuBrzC,MAAjC;EACD,KAFD,MAEO,IAAIqzC,SAAS,GAAb,EAAkB;EACvBoL,UAAI,CAAJ,KAAW,CAAC,MAAMpL,KAAP,IAAgB,EAAjB,GAAuBrzC,MAAjC;EACD,KAFM,MAEA,IAAIqzC,SAAS,GAAb,EAAkB;EACvBoL,UAAI,CAAJ,KAAW,CAACpL,QAAQ,GAAT,IAAgB,EAAjB,GAAuBrzC,MAAjC;EACD;EACF;EACD,SAAOy+C,GAAP;EACD,CAvBD;;ECAA,IAAMoc,eAAe,SAAfA,YAAe,CAAC7tB,OAAD,EAAUlqD,KAAV,EAAiBqiE,QAAjB,EAA2B3tB,GAA3B,EAAmC;EACtD,MAAM93C,QAAQylE,QAAd;EACA,MAAMhwD,MAAMylE,gBAAgBzV,QAAhB,EAA0BriE,KAA1B,EAAiC00C,IAAIsS,KAAJ,CAAUgxB,WAA3C,CAAZ;;EAEA9tB,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQS,WAAR,GAAsB3qD,MAAM41B,IAAN,CAAW9lB,CAAjC;EACAo6C,UAAQ0tB,WAAR,GAAsB,CAAtB;;EAEA1tB,UAAQC,MAAR,CAAevtD,MAAM,CAAN,CAAf,EAAyBA,MAAM,CAAN,CAAzB;EACAstD,UAAQE,MAAR,CAAe/3C,IAAI,CAAJ,CAAf,EAAuBA,IAAI,CAAJ,CAAvB;EACA63C,UAAQU,MAAR;;EAEAV,UAAQ7zC,SAAR,CAAkBhE,IAAI,CAAJ,CAAlB,EAA0BA,IAAI,CAAJ,CAA1B;EACA63C,UAAQ8B,SAAR,GAAoB35C,IAAI,CAAJ,IAASzV,MAAM,CAAN,CAAT,GAAoB,OAApB,GAA8B,KAAlD;EACAstD,UAAQ6B,YAAR,GAAuB,QAAvB;EACA7B,UAAQgC,SAAR,GAAoB,OAApB;EACAhC,UAAQqC,QAAR,CACEvsD,MAAM41B,IAAN,CAAWq8C,KAAX,GAAmB,IAAnB,GAA0BjyE,MAAM41B,IAAN,CAAWj3B,CADvC,EAEE0T,IAAI,CAAJ,IAASzV,MAAM,CAAN,CAAT,GAAoB,CAApB,GAAwB,CAAC,CAF3B,EAGE,CAHF;EAKAstD,UAAQW,OAAR;EACD,CAvBD;;ECIA,IAAMotB,aAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMluB,SACJl5B,KAAKgF,GAAL,CAASwyC,IAAI2P,KAAJ,CAAU4B,UAAnB,EAA+BvR,IAAI2P,KAAJ,CAAU6B,WAAzC,IAAwD,CAAxD,GACAxR,IAAIsS,KAAJ,CAAUkxB,iBAFZ;EAGA,MAAMC,aAAazlD,MAChBm6B,WADgB,CACJz2B,MADI,EAEhBw2B,WAFgB,CAEJ;EAAA,WACXlY,IAAIsS,KAAJ,CAAUoxB,OAAV,GAAoBhiD,SAASse,IAAIsS,KAAJ,CAAUqxB,gBAAvC,GAA0D,CAD/C;EAAA,GAFI,EAKhBnuB,OALgB,CAKRA,OALQ,CAAnB;;EAOA,MAAMouB,aAAa1U,MAChBhnD,IADgB,CACX,IADW,EAEhBld,KAFgB,CAEV;EAAA,WAAKnD,EAAE0T,CAAP;EAAA,GAFU,CAAnB;;EAIA,MAAMsoE,SAASD,WAAWtjC,KAAX,CAAf;;EAEAkV,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAU4B,UAAV,GAAuB,CAAzC,EAA4CvR,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CAApE;;EApB0C;EAAA;EAAA;;EAAA;EAsB1C,yBAAgBqyB,MAAhB,8HAAwB;EAAA,UAAbhqE,CAAa;;EACtB27C,cAAQO,SAAR;EACA0tB,iBAAW5pE,CAAX;EACA27C,cAAQgC,SAAR,GAAoB39C,EAAEqnB,IAAF,CAAO9lB,CAA3B;EACAo6C,cAAQzwC,IAAR;;EAEA,UAAM++D,WAAW9lD,MACdk6B,WADc,CACFx2B,MADE,EAEdy2B,WAFc,CAEFz2B,MAFE,EAGd8zB,OAHc,CAGNA,OAHM,CAAjB;EAIA,UAAMmY,WAAWoV,cAAce,QAAd,EAAwBtuB,OAAxB,EAAiC9zB,MAAjC,EAAyC7nB,CAAzC,CAAjB;;EAEAmpE,uBAAiBxtB,OAAjB,EAA0B37C,CAA1B,EAA6B8zD,QAA7B,EAAuC3tB,GAAvC;EACAqjC,mBAAa7tB,OAAb,EAAsB37C,CAAtB,EAAyB8zD,QAAzB,EAAmC3tB,GAAnC;EACD;EApCyC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAqC1CwV,UAAQW,OAAR;EACD,CAtCD;;ECAA,IAAM4tB,gBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,iBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,mBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECHA,IAAMkuB,mBAAmB,SAAnBA,gBAAmB,CAAC/uB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAChDwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;EACA,MAAMowB,WAAW,IAAIx1E,GAAJ,EAAjB;;EAEA,MAAMk3B,SAASl5B,KAAKgF,GAAL,CAASwyC,IAAI2P,KAAJ,CAAU4B,UAAnB,EAA+BvR,IAAI2P,KAAJ,CAAU6B,WAAzC,IAAwD,CAAvE;EACA,MAAMiyB,aAAazlD,MAChBm6B,WADgB,CACJz2B,SAAS,GADL,EAEhBw2B,WAFgB,CAEJ;EAAA,WACXlY,IAAIsS,KAAJ,CAAUoxB,OAAV,GAAoBhiD,SAASse,IAAIsS,KAAJ,CAAUqxB,gBAAvC,GAA0D,CAD/C;EAAA,GAFI,EAKhBnuB,OALgB,CAKRA,OALQ,CAAnB;;EAOA,MAAMouB,aAAa1U,MAChBhnD,IADgB,CACX,IADW,EAEhBld,KAFgB,CAEV;EAAA,WAAKnD,EAAE0T,CAAP;EAAA,GAFU,CAAnB;;EAIA,MAAMsoE,SAASD,WAAWtjC,KAAX,CAAf;;EAEAkV,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAU4B,UAAV,GAAuB,CAAzC,EAA4CvR,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CAApE;;EAnBgD;EAAA;EAAA;;EAAA;EAqBhD,yBAAqBqyB,OAAOt4E,OAAP,EAArB,8HAAuC;EAAA;EAAA,UAA3BhD,CAA2B;EAAA,UAAxBsR,CAAwB;;EACrC27C,cAAQO,SAAR;EACA0tB,iBAAW5pE,CAAX;EACA,UAAMvB,QAAQw/C,gBAAgBvvD,IAAI,CAApB,CAAd;EACAitD,cAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,cAAQzwC,IAAR;;EAEAi7D,eAASj1E,GAAT,CAAauN,KAAb,EAAoBuB,CAApB;EACD;EA7B+C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EA+BhD27C,UAAQW,OAAR;;EAEA,SAAO6pB,QAAP;EACD,CAlCD;;ECHA,IAAMp0E,YAAU,SAAVA,OAAU;EAAA,SAAKg2B,aAAah5B,KAAb,IAAsBA,MAAMgD,OAAN,CAAcg2B,CAAd,CAA3B;EAAA,CAAhB;;ECmBA,IAAM28C,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBhiC,KAFqB,GAUnB+D,KAVmB,CAErB/D,KAFqB;EAAA,MAGrB8c,eAHqB,GAUnB/Y,KAVmB,CAGrB+Y,eAHqB;EAAA,MAIrBlE,aAJqB,GAUnB7U,KAVmB,CAIrB6U,aAJqB;EAAA,MAKrB1U,QALqB,GAUnBH,KAVmB,CAKrBG,QALqB;EAAA,MAMrB2U,cANqB,GAUnB9U,KAVmB,CAMrB8U,cANqB;EAAA,MAOrBC,YAPqB,GAUnB/U,KAVmB,CAOrB+U,YAPqB;EAAA,MAQrBpF,YARqB,GAUnB3P,KAVmB,CAQrB2P,YARqB;EAAA,MASrB5S,MATqB,GAUnBiD,KAVmB,CASrBjD,MATqB;;;EAYvBgjC,YAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB9D,KAAvB,CACE03E,UAAU//B,KAAV,EACG7zC,KADH,CACS9D,KADT,GAEGO,OAFH,EADF;;EAMA,MAAMi5B,KAAK5mB,IAAE+kC,KAAF,CAAX;EACA,MAAMmgC,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAMy8B,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;EACA,MAAMqgC,gBAAgBL,aAAahgC,KAAb,CAAtB;;EAEA,MAAM0jC,eAAe3qB,kBACjBA,eADiB,GAEjB9c,MAAM7xC,GAAN,CAAU,aAAK;EACb,WAAO;EACL6Q,SAAG,CADE;EAELH,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO,CAHF;EAILt4B,YAAMr5B,CAJD;EAKLoC,SAAG,IALE;EAMLszE,aAAOR,iBAAiBl1E,CAAjB;EANF,KAAP;EAQD,GATD,CAFJ;;EAaA,MAAMwuD,aAAa9Z,MAAM7xC,GAAN,CAAU,aAAK;EAChC,WAAO;EACL6Q,SAAG4mB,GAAGt6B,CAAH,CADE;EAELuT,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILynB,YAAMr5B,CAJD;EAKL01E,aAAOR,iBAAiBl1E,CAAjB,CALF;EAMLoC,SAAG;EANE,KAAP;EAQD,GATkB,CAAnB;;EAWA;EACAq2C,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEA,MAAMmuB,qBAAqBpC,iBAAiB4B,YAAjB,EAA+BvjC,QAA/B,EAAyCpD,MAAzC,CAA3B;EACA,MAAMonC,mBAAmBrC,iBAAiB/rB,UAAjB,EAA6B5V,QAA7B,EAAuCpD,MAAvC,CAAzB;;EAEA,MAAM0U,UAAU1rB,OAAO4pB,YAAP,EACb/gB,SADa,CACH,iBADG,EAEbhO,IAFa,CAER,CAAC,CAAD,CAFQ,EAGbiH,KAHa,GAIb0I,MAJa,CAIN,KAJM,EAKbZ,IALa,CAKR,OALQ,EAKC,gBALD,EAMb1vB,KANa,CAMP,SANO,EAMI,CANJ,CAAhB;;EAQAwjE,gBACES,kBADF,EAEEC,gBAFF,EAGEhkC,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZ,QAAM1E,WAAWuE,iBAAiBnvB,cAAjB,EAAiCuvB,GAAjC,EAAsClkC,QAAtC,EAAgDH,KAAhD,CAAjB;EACA;;;EAGA,aAASihC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAMC,MAAMvsB,eAAewsB,YAAf,CACVH,KAAKpsB,YADK,EAEVqsB,KAAKrsB,YAFK,EAGV,CAHU,EAIV,CAJU,EAKVn0B,IALF;EAMA,UAAM2gD,YAAY,SAASF,IAAI,CAAJ,CAAT,GAAkB,GAAlB,GAAwBA,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuCA,IAAI,CAAJ,CAAvC,GAAgD,GAAlE;EACA,UAAMloD,OAAOumD,SAASl1E,GAAT,CAAa+2E,SAAb,CAAb;;EAEA,UAAIpoD,IAAJ,EAAU;EACR,YAAIgX,aAAJ;EACA,YAAI7kC,UAAQ6tB,KAAKyH,IAAL,CAAUA,IAAlB,CAAJ,EAA6B;EAC3B,cAAI74B,IAAI,EAAR;EACAA,YAAE+3E,aAAa9/B,KAAb,EAAoBkb,QAAtB,IAAkC/hC,KAAKyH,IAAL,CAAUq8C,KAA5C;EACAl1E,YAAEg4E,UAAU//B,KAAV,EAAiBkb,QAAnB,IAA+B/iC,MAC7BgB,KAAKyH,IAAL,CAAUA,IAAV,CAAex2B,GAAf,CAAmB;EAAA,mBAAK7C,EAAEq5B,IAAP;EAAA,WAAnB,CAD6B,EAE7By/C,aAF6B,CAA/B;EAIAlwC,iBAAO+vC,cAAcn4E,CAAd,EAAiBi4C,KAAjB,CAAP;EACD,SARD,MAQO;EACL7P,iBAAO+vC,cAAc/mD,KAAKyH,IAAL,CAAUA,IAAxB,EAA8Bof,KAA9B,CAAP;EACD;;EAEDyR,gBACGthB,IADH,CACQA,IADR,EAEGoqB,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;EAOD,OArBD,MAqBO;EACLwxC,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,aAASuhE,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GA/DD;EAgED,CA7HD;;EChBA,IAAMo4E,aAAa;EACjBj1B,SAAO;EACLvqC,UAAM;EADD,GADU;EAIjBktC,SAAO;EACLwwB,iBAAa,QADR;EAELY,aAAS,KAFJ;EAGLjqE,aAAS,GAHJ;EAILkqE,sBAAkB,GAJb;EAKLH,uBAAmB,EALd;EAMLF,iBAAa,EANR;EAOLL,6BAAyB,CAPpB;EAQL4B,mBAAe,MARV;EASLvC,wBAAoB;EATf;EAJU,CAAnB;;EAiBA,IAAMpT,QAAMmQ,MAAMuF,UAAN,EAAkBrG,SAAlB,CAAZ;;EClBA,IAAMuG,YAAY,SAAZA,SAAY,MAAO;EACvB,MAAMxsB,QAAQ/f,YAAYyH,IAAI1nC,KAAJ,CAAUsf,MAAtB,CAAd;EACA,SAAO0gC,MAAMA,MAAMlxD,MAAN,GAAe,CAArB,EAAwBkR,KAA/B;EACD,CAHD;;ECCA,IAAMysE,aAAa,SAAbA,UAAa,CAACvvB,OAAD,EAAUwvB,SAAV,EAAqBhlC,GAArB,EAA0BilC,MAA1B,EAAqC;EAAA;EAAA;EAAA;;EAAA;EACtD,yBAAqBD,UAAUz5E,OAAV,EAArB,8HAA0C;EAAA;EAAA,UAA9BhD,CAA8B;EAAA,UAA3B0B,CAA2B;;EACxCurD,cAAQM,IAAR;;EAEAN,cAAQO,SAAR;EACAP,cAAQgC,SAAR,GAAoBytB,WAAW,IAAX,GAAkBntB,gBAAgBvvD,CAAhB,CAAlB,GAAuCu8E,UAAU9kC,GAAV,CAA3D;EACAwV,cAAQsqB,WAAR,GAAsB71E,EAAEuvD,KAAxB;EACAhE,cAAQx3B,GAAR,CAAY/zB,EAAE1C,CAAd,EAAiB0C,EAAEsR,CAAnB,EAAsBtR,EAAEqP,CAAxB,EAA2B,CAA3B,EAA8B,IAAI9Q,KAAK8R,EAAvC,EAA2C,KAA3C;EACAk7C,cAAQzwC,IAAR;;EAEAywC,cAAQW,OAAR;EACD;EAXqD;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAYvD,CAZD;;ECkBA,IAAM+uB,SAAS;EACbC,UAAQ,QADK;EAEbC,iBAAe,eAFF;EAGbC,QAAM,MAHO;EAIbC,eAAa,aAJA;EAKbC,cAAY,YALC;EAMbC,SAAO,OANM;EAObC,cAAY,YAPC;EAQbC,gBAAc,cARD;EASbC,UAAQ,QATK;EAUbC,YAAU,UAVG;EAWbC,iBAAe,eAXF;EAYbC,mBAAiB,iBAZJ;EAabC,cAAY,WAbC;EAcbC,cAAY,WAdC;EAebC,WAAS,SAfI;EAgBbC,eAAa,aAhBA;EAiBbC,sBAAoB,oBAjBP;EAkBbC,oBAAkB;EAlBL,CAAf;;EAqBA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAC7W,MAAD,EAAS8W,OAAT,EAAqB;EAAA;EAAA;EAAA;;EAAA;EAC5C,yBAAmBA,OAAnB,8HAA4B;EAAA,UAAnBC,MAAmB;;EAC1B,cAAQ/W,MAAR;EACE,aAAK0V,OAAOC,MAAZ;EACEoB,iBAAOlY,KAAP,CAAaC,WAAb;;EAEA;EACF,aAAK4W,OAAOE,aAAZ;EACEmB,iBAAOlY,KAAP,CAAamY,iBAAb;;EAEA;EACF,aAAKtB,OAAOG,IAAZ;EACEkB,iBAAOlY,KAAP,CAAaoY,SAAb;;EAEA;EACF,aAAKvB,OAAOI,WAAZ;EACEiB,iBAAOlY,KAAP,CAAaqY,UAAb;;EAEA;EACF,aAAKxB,OAAOK,UAAZ;EACEgB,iBAAOlY,KAAP,CAAasY,SAAb;;EAEA;EACF,aAAKzB,OAAOM,KAAZ;EACEe,iBAAOlY,KAAP,CAAauY,UAAb;;EAEA;EACF,aAAK1B,OAAOO,UAAZ;EACEc,iBAAOlY,KAAP,CAAawY,cAAb;;EAEA;EACF,aAAK3B,OAAOQ,YAAZ;EACEa,iBAAOlY,KAAP,CAAayY,gBAAb;;EAEA;EACF,aAAK5B,OAAOS,MAAZ;EACEY,iBAAOlY,KAAP,CAAa0Y,WAAb;;EAEA;EACF,aAAK7B,OAAOU,QAAZ;EACEW,iBAAOlY,KAAP,CAAa2Y,aAAb;;EAEA;EACF,aAAK9B,OAAOW,aAAZ;EACEU,iBAAOlY,KAAP,CAAa4Y,iBAAb;;EAEA;EACF,aAAK/B,OAAOY,eAAZ;EACES,iBAAOlY,KAAP,CAAa6Y,mBAAb;;EAEA;EACF,aAAKhC,OAAOa,UAAZ;EACEQ,iBAAOlY,KAAP,CAAa8Y,SAAb;EACA;EACF,aAAKjC,OAAOc,UAAZ;EACEO,iBAAOlY,KAAP,CAAa+Y,SAAb;EACA;EACF,aAAKlC,OAAOe,OAAZ;EACEM,iBAAOlY,KAAP,CAAagZ,YAAb;EACA;;EAEF,aAAKnC,OAAOgB,WAAZ;EACEK,iBAAOlY,KAAP,CAAaiZ,eAAb;EACA;;EAEF,aAAKpC,OAAOiB,kBAAZ;EACEI,iBAAOlY,KAAP,CAAakZ,qBAAb;EACA;;EAEF,aAAKrC,OAAOkB,gBAAZ;EACEG,iBAAOlY,KAAP,CAAamZ,mBAAb;EACA;;EAEF;EACE;EAxEJ;EA0ED;EA5E2C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EA6E7C,CA7ED;;ECpCA,IAAMC,WAAW,SAAXA,QAAW,CAACjyB,OAAD,EAAUwvB,SAAV,EAAqBhlC,GAArB,EAA6B;EAC5CwV,UAAQM,IAAR;;EAEA,MAAMuY,QAAQG,OACXjnE,CADW,CACT;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADS,EAEXyzB,EAFW,CAERw6B,QAAQe,MAAR,CAAe3G,MAFP,EAGX30B,EAHW,CAGR;EAAA,WAAKpzB,EAAE0T,CAAP;EAAA,GAHQ,EAIXi6C,OAJW,CAIHA,OAJG,CAAd;;EAMA6wB,mBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;EACA7Y,UAAQO,SAAR;EACAsY,QAAM2W,SAAN;EACAxvB,UAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA,MAAMwE,gBAAgBjvB,iBACpBjD,OADoB,EAEpBxV,IAAI1nC,KAAJ,CAAUsf,MAFU,EAGpBooB,IAAIsS,KAAJ,CAAUq1B,WAHU,CAAtB;EAKAnyB,UAAQgC,SAAR,GAAoBkwB,aAApB;EACAlyB,UAAQS,WAAR,GAAsB6uB,UAAU9kC,GAAV,CAAtB;EACAwV,UAAQU,MAAR;;EAEAV,UAAQzwC,IAAR;EACAywC,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CA1BD;;ECFA,IAAMyxB,WAAW,SAAXA,QAAW,CAACpyB,OAAD,EAAUwvB,SAAV,EAAqBhlC,GAArB,EAA6B;EAC5CwV,UAAQM,IAAR;;EAEA,MAAMuY,QAAQzT,OACXrzD,CADW,CACT;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADS,EAEXgU,CAFW,CAET;EAAA,WAAK1T,EAAE0T,CAAP;EAAA,GAFS,EAGXi6C,OAHW,CAGHA,OAHG,CAAd;EAIA6wB,mBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;;EAEA7Y,UAAQO,SAAR;EACAsY,QAAM2W,SAAN;EACAxvB,UAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,UAAQS,WAAR,GAAsBwC,iBAAiBjD,OAAjB,EAA0BxV,IAAI1nC,KAAJ,CAAUsf,MAApC,EAA4C,CAA5C,CAAtB;;EAEA49B,UAAQU,MAAR;EACAV,UAAQG,SAAR;EACAH,UAAQW,OAAR;EACD,CAjBD;;ECAA;;;;;;;EAOA,IAAMotB,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUwvB,SAAV,EAAqBhlC,GAArB,EAA6C;EAAA,MAAnBilC,MAAmB,uEAAV,KAAU;;EAC9DzvB,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAIq1B,WAAW,IAAf,EAAqB;EACnBF,eAAWvvB,OAAX,EAAoBwvB,SAApB,EAA+BhlC,GAA/B,EAAoC,IAApC;EACD,GAFD,MAEO;EACL,QAAIA,IAAIsS,KAAJ,CAAUm1B,QAAV,KAAuB,IAA3B,EAAiC;EAC/BA,eAASjyB,OAAT,EAAkBwvB,SAAlB,EAA6BhlC,GAA7B;EACD,KAFD,MAEO;EACL4nC,eAASpyB,OAAT,EAAkBwvB,SAAlB,EAA6BhlC,GAA7B;EACD;;EAED,QAAIA,IAAIsS,KAAJ,CAAUu1B,QAAV,KAAuB,IAA3B,EAAiC;EAC/B9C,iBAAWvvB,OAAX,EAAoBwvB,SAApB,EAA+BhlC,GAA/B,EAAoC,KAApC;EACD;EACF;EACF,CAhBD;;ECLA,IAAM+jC,kBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECJA,IAAMyxB,gBAAgB,SAAhBA,aAAgB,CAACtyB,OAAD,EAAUxV,GAAV,EAAenY,KAAf,EAAsBtgC,CAAtB,EAAyBgU,CAAzB,EAA+B;EACnDi6C,UAAQM,IAAR;;EAEAN,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUy1B,kBAAV,GAChB/nC,IAAIsS,KAAJ,CAAUy1B,kBADM,GAEhBC,YAAoBngD,MAAMzsB,CAA1B,EAA6B,GAA7B,CAFJ;EAGAo6C,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQx3B,GAAR,CAAYz2B,CAAZ,EAAegU,CAAf,EAAkB,CAAlB,EAAqB,IAAI/S,KAAK8R,EAA9B,EAAkC,KAAlC;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQU,MAAR;;EAEAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CAjBD;;ECQA,IAAMooB,YAAU,SAAVA,OAAU,QAAS;EAAA,MAEJ0J,aAFI,GASnB3nC,KATmB,CAErB+Y,eAFqB;EAAA,MAGdn4B,IAHc,GASnBof,KATmB,CAGrB/D,KAHqB;EAAA,MAIXyD,GAJW,GASnBM,KATmB,CAIrBG,QAJqB;EAAA,MAKrBwP,YALqB,GASnB3P,KATmB,CAKrB2P,YALqB;EAAA,MAMP+D,WANO,GASnB1T,KATmB,CAMrB2U,YANqB;EAAA,MAONb,YAPM,GASnB9T,KATmB,CAOrB6U,aAPqB;EAAA,MAQT+yB,SARS,GASnB5nC,KATmB,CAQrBC,UARqB;;;EAWvB,MAAM+X,QAAQ/f,YAAYyH,IAAI1nC,KAAJ,CAAUsf,MAAtB,CAAd;EACA,MAAMktD,YAAYxsB,MAAMA,MAAMlxD,MAAN,GAAe,CAArB,EAAwBkR,KAA1C;;EAEA,MAAM0rE,eAAeiE,gBACjBA,aADiB,GAEjB/mD,KAAKx2B,GAAL,CAAS,aAAK;EACZ,WAAO;EACLnD,SAAGA,IAAE+4C,KAAF,EAASz4C,CAAT,CADE;EAEL0T,SAAGy4C,YAAYv6B,IAAZ,GAAmBm2B,MAFjB;EAGLt2C,SAAG0mC,IAAIsS,KAAJ,CAAU61B,UAHR;EAIL/sE,SAAG0pE,SAJE;EAKLtrB,aAAO,CALF;EAMLt4B,YAAMr5B;EAND,KAAP;EAQD,GATD,CAFJ;;EAaA,MAAMwuD,aAAan1B,KAAKx2B,GAAL,CAAS,aAAK;EAC/B,WAAO;EACLnD,SAAGA,IAAE+4C,KAAF,EAASz4C,CAAT,CADE;EAEL0T,SAAGA,IAAE+kC,KAAF,EAASz4C,CAAT,CAFE;EAGLyR,SAAG0mC,IAAIsS,KAAJ,CAAU61B,UAHR;EAIL/sE,SAAG0pE,SAJE;EAKLtrB,aAAO,CALF;EAMLt4B,YAAMr5B;EAND,KAAP;EAQD,GATkB,CAAnB;;EAWAy4C,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEA,MAAMtE,UAAU1rB,OAAO4pB,YAAP,EACb/gB,SADa,CACH,iBADG,EAEbhO,IAFa,CAER,CAAC,CAAD,CAFQ,EAGbiH,KAHa,GAIb0I,MAJa,CAIN,KAJM,EAKbZ,IALa,CAKR,OALQ,EAKC,gBALD,EAMb1vB,KANa,CAMP,SANO,EAMI,CANJ,CAAhB;;EAQAwjE,kBACEC,YADF,EAEE3tB,UAFF,EAGErW,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBrqB,MAHzB,EAIE2sB,YAJF,EAKEpU,GALF,EAME0kC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aAAahC,YAAb,EAA2BpU,GAA3B,EAAgC2kC,GAAhC,CAAjB;;EAEA;;EAEA;;;EAGA,aAASpD,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,GAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;;EAEA,UAAIC,OAAJ,EAAa;EACXt2B,gBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAR,CAAaA,IAA3B,EAAiCof,KAAjC,CADR,EAEG//B,KAFH,CAES,MAFT,EAEiBkhE,KAAKzhC,IAAI+R,OAAJ,CAAYvpC,MAAZ,CAAmB,CAAnB,CAAL,GAA6B,IAF9C,EAGGjI,KAHH,CAGS,KAHT,EAGgBmhE,KAAK1hC,IAAI+R,OAAJ,CAAYvpC,MAAZ,CAAmB,CAAnB,CAAL,GAA6B,IAH7C,EAIGjI,KAJH,CAIS,SAJT,EAIoB,CAJpB;;EAMAgjE,qBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B,EAAmC,KAAnC;EACA8nC,sBAAc1zB,YAAd,EAA4BpU,GAA5B,EAAiCqoC,QAAQnnD,IAAzC,EAA+CmnD,QAAQ,CAAR,CAA/C,EAA2DA,QAAQ,CAAR,CAA3D;EACD,OATD,MASO;EACLt2B,gBACG8I,UADH,GAEG/I,QAFH,CAEY9R,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBC,OAFnC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,qBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B,EAAmC,KAAnC;EACD;EACF;;EAED,aAAS8hC,eAAT,GAA2B;EACzB/vB,cAAQxxC,KAAR,CAAc,SAAd,EAAyB,CAAzB;;EAEAgjE,mBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B,EAAmC,KAAnC;EACD;;EAEDgU,gBAAYh7B,EAAZ,CAAe,WAAf,EAA4BuoD,gBAA5B;EACAvtB,gBAAYh7B,EAAZ,CAAe,UAAf,EAA2B8oD,eAA3B;;EAEAoG,cAAU17E,IAAV,CAAe,UAAf;EACD,GAnDD;EAoDD,CApGD;;ECPA,IAAM87E,UAAU;EACd34B,SAAO;EACLvqC,UAAM;EADD,GADO;EAIdktC,SAAO;EACLq1B,iBAAa,GADR;EAELtZ,WAAO,OAFF;EAGL6U,iBAAa,CAHR;EAIL6E,wBAAoB,SAJf;EAKLI,gBAAY,CALP;EAMLV,cAAU,IANL;EAOLI,cAAU;EAPL;EAJO,CAAhB;;EAeA,IAAMrZ,SAAO4Q,UAAUkJ,OAAV,EAAmB/J,SAAnB,CAAb;;ECfA,IAAMgK,cAAc;EAClB54B,SAAO;EACLvqC,UAAM;EADD,GADW;EAIlBktC,SAAO;EACL+b,WAAO,QADF;EAEL6U,iBAAa,CAFR;EAGLiF,gBAAY,CAHP;EAILJ,wBAAoB,SAJf;EAKLN,cAAU,KALL;EAMLI,cAAU;EANL;EAJW,CAApB;;EAcA,IAAMjtB,SAAOwkB,UAAUmJ,WAAV,EAAuBhK,SAAvB,CAAb;;ECjBA,IAAMgF,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUwvB,SAAV,EAAwB;EACzCxvB,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EADyC;EAAA;EAAA;;EAAA;EAGzC,yBAAgBo1B,SAAhB,8HAA2B;EAAA,UAAhB/6E,CAAgB;;EACzBurD,cAAQM,IAAR;;EAEAN,cAAQO,SAAR;EACAP,cAAQgC,SAAR,GAAoBvtD,EAAEmR,CAAtB;EACAo6C,cAAQsqB,WAAR,GAAsB71E,EAAEuvD,KAAxB;EACAhE,cAAQx3B,GAAR,CAAY/zB,EAAE1C,CAAd,EAAiB0C,EAAEsR,CAAnB,EAAsBtR,EAAEqP,CAAxB,EAA2B,CAA3B,EAA8B,IAAI9Q,KAAK8R,EAAvC,EAA2C,KAA3C;EACAk7C,cAAQzwC,IAAR;;EAEAywC,cAAQW,OAAR;EACD;EAbwC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAc1C,CAdD;;ECKA,IAAM4tB,kBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECHA,IAAMyxB,kBAAgB,SAAhBA,aAAgB,CAACtyB,OAAD,EAAUvrD,CAAV,EAAgB;EACpCurD,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBl/C,MAAMrO,EAAEmR,CAAR,EACjBjN,QADiB,GAEjBuK,QAFiB,EAApB;EAGA88C,UAAQsqB,WAAR,GAAsB,CAAtB;EACAtqB,UAAQx3B,GAAR,CAAY/zB,EAAE1C,CAAd,EAAiB0C,EAAEsR,CAAnB,EAAsBtR,EAAEqP,CAAxB,EAA2B,CAA3B,EAA8B,IAAI9Q,KAAK8R,EAAvC,EAA2C,KAA3C;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQW,OAAR;EACD,CAVD;;ECEA,IAAMqyB,oBAAoB,SAApBA,iBAAoB,QAAS;EAAA,MACzB/nC,QADyB,GACLH,KADK,CACzBG,QADyB;EAAA,MACflE,KADe,GACL+D,KADK,CACf/D,KADe;;EAEjC,MAAMksC,YAAYhoC,SAASnnC,CAA3B;;EAEA,MACEmvE,UAAUh8E,KAAV,KAAoBI,SAApB,IACA47E,UAAUh8E,KAAV,KAAoB,IADpB,IAEA8nC,aAAWk0C,UAAUh8E,KAArB,CAHF,EAIE;EACAg0C,aAASvf,IAAT,CAAc5nB,CAAd,CAAgB7M,KAAhB,GAAwBg8E,UAAUh8E,KAAlC;EACD,GAND,MAMO;EACL,QACEg0C,SAASvf,IAAT,CAAc5nB,CAAd,KAAoBzM,SAApB,IACA4zC,SAASvf,IAAT,CAAc5nB,CAAd,KAAoB,IADpB,IAEAmnC,SAASvf,IAAT,CAAc5nB,CAAd,CAAgBkiD,QAAhB,KAA6B3uD,SAF7B,IAGA4zC,SAASvf,IAAT,CAAc5nB,CAAd,CAAgBkiD,QAAhB,KAA6B,IAJ/B,EAKE;EACA,UAAM7yD,QAAQo4B,SAAOwb,KAAP,EAAc;EAAA,eAAK10C,EAAE44C,SAASvf,IAAT,CAAc5nB,CAAd,CAAgBkiD,QAAlB,CAAL;EAAA,OAAd,CAAd;;EAEA/a,eAASvf,IAAT,CAAc5nB,CAAd,CAAgB9L,GAAhB,GAAsB7E,MAAM,CAAN,CAAtB;EACA83C,eAASvf,IAAT,CAAc5nB,CAAd,CAAgB7Q,GAAhB,GAAsBE,MAAM,CAAN,CAAtB;;EAEA83C,eAASvf,IAAT,CAAc5nB,CAAd,CAAgB7M,KAAhB,GAAwBgwC,WACrBnwC,MADqB,CACd,CAACm0C,SAASvf,IAAT,CAAc5nB,CAAd,CAAgB9L,GAAjB,EAAsBizC,SAASvf,IAAT,CAAc5nB,CAAd,CAAgB7Q,GAAtC,CADc,EAErBE,KAFqB,CAEf,CAAC8/E,UAAUj7E,GAAX,EAAgBi7E,UAAUhgF,GAA1B,CAFe,CAAxB;EAGD,KAdD,MAcO;EACLg4C,eAASvf,IAAT,CAAc5nB,CAAd,CAAgB7M,KAAhB,GAAwB,IAAxB;EACD;EACF;EACF,CA7BD;;ECMA,IAAM8xE,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBhiC,KAFqB,GAQnB+D,KARmB,CAErB/D,KAFqB;EAAA,MAGrBkE,QAHqB,GAQnBH,KARmB,CAGrBG,QAHqB;EAAA,MAIrB0U,aAJqB,GAQnB7U,KARmB,CAIrB6U,aAJqB;EAAA,MAKrBlF,YALqB,GAQnB3P,KARmB,CAKrB2P,YALqB;EAAA,MAMrBgF,YANqB,GAQnB3U,KARmB,CAMrB2U,YANqB;EAAA,MAOrBoE,eAPqB,GAQnB/Y,KARmB,CAOrB+Y,eAPqB;;;EAUvB,MAAMl3B,KAAK5mB,IAAE+kC,KAAF,CAAX;EACA,MAAMmgC,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAMpe,KAAK36B,IAAE+4C,KAAF,CAAX;;EAEA,MAAMooC,aAAa,SAAbA,UAAa;EAAA,WAAMpoC,MAAMG,QAAN,CAAevf,IAAf,CAAoB5nB,CAA1B;EAAA,GAAnB;EACA,MAAMqvE,kBAAkB,SAAlBA,eAAkB;EAAA,WAAK9gF,EAAE6gF,aAAaltB,QAAf,CAAL;EAAA,GAAxB;EACA,MAAMotB,KAAK,SAALA,EAAK;EAAA,WACTF,aAAaj8E,KAAb,KAAuB,IAAvB,GACIg0C,SAASnnC,CAAT,CAAWuvE,OADf,GAEIH,aAAaj8E,KAAb,CAAmBk8E,gBAAgB9gF,CAAhB,CAAnB,CAHK;EAAA,GAAX;;EAKA2gF,oBAAkBloC,KAAlB;;EAEA,MAAM0jC,eAAe3qB,kBACjBA,eADiB,GAEjB9c,MAAM7xC,GAAN,CAAU,UAAC7C,CAAD,EAAIU,CAAJ,EAAU;EAClB,WAAO;EACLg2D,UAAIh2D,CADC;EAELhB,SAAG26B,GAAGr6B,CAAH,CAFE;EAGL0T,SAAG05C,aAAax7B,IAAb,GAAoBm2B,MAHlB;EAILt2C,SAAGsvE,GAAG/gF,CAAH,CAJE;EAKLuT,SAAGqlE,GAAG54E,CAAH,CALE;EAML2xD,aAAO,CANF;EAOLt4B,YAAMr5B;EAPD,KAAP;EASD,GAVD,CAFJ;;EAcA,MAAMwuD,aAAa9Z,MAAM7xC,GAAN,CAAU,UAAC7C,CAAD,EAAIU,CAAJ,EAAU;EACrC,WAAO;EACLg2D,UAAIh2D,CADC;EAELhB,SAAG26B,GAAGr6B,CAAH,CAFE;EAGL0T,SAAG4mB,GAAGt6B,CAAH,CAHE;EAILyR,SAAGsvE,GAAG/gF,CAAH,CAJE;EAKLuT,SAAGqlE,GAAG54E,CAAH,CALE;EAML2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OANjB;EAOLynB,YAAMr5B;EAPD,KAAP;EASD,GAVkB,CAAnB;;EAYA;EACAy4C,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEA,MAAMtE,UAAU1rB,OAAO4pB,YAAP,EACb/gB,SADa,CACH,iBADG,EAEbhO,IAFa,CAER,CAAC,CAAD,CAFQ,EAGbiH,KAHa,GAIb0I,MAJa,CAIN,KAJM,EAKbZ,IALa,CAKR,OALQ,EAKC,gBALD,EAMb1vB,KANa,CAMP,SANO,EAMI,CANJ,CAAhB;;EAQAwjE,kBACEC,YADF,EAEE3tB,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aAAajB,aAAb,EAA4B1U,QAA5B,EAAsCkkC,GAAtC,CAAjB;;EAEA;;;EAGA,aAASpD,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,GAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;;EAEA,UAAIC,OAAJ,EAAa;EACXt2B,gBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAR,CAAaA,IAA3B,EAAiCof,KAAjC,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;;EAQAgjE,qBAAWpuB,aAAX,EAA0BkB,UAA1B;EACAyxB,wBAAc3yB,aAAd,EAA6BkzB,QAAQnnD,IAArC;EACD,OAXD,MAWO;EACL6wB,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,qBAAWpuB,aAAX,EAA0BkB,UAA1B;EACD;EACF;;EAED,aAASyrB,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,mBAAWpuB,aAAX,EAA0BkB,UAA1B;EACD;;EAED/V,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GAtDD;EAuDD,CAnHD;;ECNA,IAAMs8E,iBAAiB;EACrBn5B,SAAO;EACLvqC,UAAM;EADD,GADc;EAIrBktC,SAAO;EACL74C,aAAS;EADJ,GAJc;;EAQrBH,KAAG;EACD7M,WAAO,IADN;EAEDhE,SAAK,EAFJ;EAGD+E,SAAK,CAHJ;EAIDq7E,aAAS;EAJR,GARkB;;EAerB3nD,QAAM;EACJ5nB,OAAG;EACDkiD,gBAAU,IADT;EAEDp2C,YAAM85B,QAAQC,QAAR,CAAiBE,MAFtB;EAGDkT,iBAAW;EAHV;EADC;EAfe,CAAvB;;EAwBA,IAAMw2B,UAAU3J,UAAU0J,cAAV,EAA0BvK,SAA1B,CAAhB;;MC1BMyK,WAAW,SAAXA,QAAW;EAAA,SAAU;EACzBhjE,WAAO,iBAAM;EACXs6B,YAAMG,QAAN,CAAe6R,KAAf,CAAqByiB,WAArB,GAAmC,KAAnC;EACAz0B,YAAM7Y,MAAN;EACD;EAJwB,GAAV;EAAA,CAAjB;;EAOA,IAAMwhD,WAAW,SAAXA,QAAW,CAAC3oC,KAAD,EAAQg9B,MAAR;EAAA,SAAmB,YAAM;EACxCh9B,UAAMG,QAAN,CAAe6R,KAAf,CAAqByiB,WAArB,GAAmC,IAAnC;EACAz0B,UAAMG,QAAN,CAAe6R,KAAf,CAAqB0iB,WAArB,GAAmCsI,MAAnC;EACAh9B,UAAM7Y,MAAN;EACD,GAJgB;EAAA,CAAjB;;AAMA,MAAMyhD,WAAW,SAAXA,QAAW;EAAA,SAAU;EACzBv8B,WAAOs8B,SAAS3oC,KAAT,EAAgBgkB,OAAOE,IAAvB;EADkB,GAAV;EAAA,CAAjB;;AAIA,MAAM2kB,YAAY,SAAZA,SAAY;EAAA,SAAU;EAC1BC,YAAQH,SAAS3oC,KAAT,EAAgBgkB,OAAOC,MAAvB;EADkB,GAAV;EAAA,CAAlB;;AAIA,MAAM8kB,YAAY,SAAZA,SAAY;EAAA,SAAU;EAC1BC,YAAQL,SAAS3oC,KAAT,EAAgBgkB,OAAOI,MAAvB;EADkB,GAAV;EAAA,CAAlB;;AAIA,MAAM6kB,gBAAgB,SAAhBA,aAAgB;EAAA,SAAU;EAC9BC,gBAAYP,SAAS3oC,KAAT,EAAgBgkB,OAAOG,UAAvB;EADkB,GAAV;EAAA,CAAtB;;AAIA,MAAMglB,eAAe,SAAfA,YAAe;EAAA,SAAU;EAC7BC,eAAWT,SAAS3oC,KAAT,EAAgBgkB,OAAOK,SAAvB;EADkB,GAAV;EAAA,CAArB;;EC3BA,IAAM4e,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMye,QACJruB,IAAIsS,KAAJ,CAAUyiB,WAAV,KAA0B,IAA1B,GACIvG,OACGjnE,CADH,CACK;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADL,EAEGyzB,EAFH,CAEM;EAAA,WAAKnzB,EAAEmzB,EAAP;EAAA,GAFN,EAGGC,EAHH,CAGM;EAAA,WAAKpzB,EAAEozB,EAAP;EAAA,GAHN,EAIGu6B,OAJH,CAIWA,OAJX,CADJ,GAMIgZ,OACGjnE,CADH,CACK;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADL,EAEGyzB,EAFH,CAEMglB,IAAI2P,KAAJ,CAAU6B,WAFhB,EAGGv2B,EAHH,CAGM;EAAA,WAAKpzB,EAAE0T,CAAP;EAAA,GAHN,EAIGi6C,OAJH,CAIWA,OAJX,CAPN;;EAH0C;EAAA;EAAA;;EAAA;EAgB1C,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrBmtD,cAAQM,IAAR;;EAEA,UAAMx9C,WAAQjQ,EAAE+S,CAAhB;EACA,UAAMq+C,gBAAgBx/C,IAAI3B,QAAJ,CAAtB;EACAmhD,oBAAchgD,OAAd,GAAwBpR,EAAEmxD,KAA1B;;EAEA6sB,uBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;EACA7Y,cAAQO,SAAR;EACAsY,YAAMhmE,EAAE2B,MAAR;EACAwrD,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQS,WAAR,GAAsB39C,QAAtB;EACAk9C,cAAQU,MAAR;;EAEAV,cAAQgC,SAAR,GAAoBiC,aAApB;;EAEAjE,cAAQzwC,IAAR;EACAywC,cAAQG,SAAR;;EAEAH,cAAQW,OAAR;EACD;EApCyC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAqC3C,CArCD;;ECCA,IAAM4tB,kBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECHA,IAAMyxB,kBAAgB,SAAhBA,aAAgB,CAACtyB,OAAD,EAAUxV,GAAV,EAAe5kC,CAAf,EAAkB7T,CAAlB,EAAqBgU,CAArB,EAA2B;EAC/Ci6C,UAAQM,IAAR;;EAEAN,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUy1B,kBAAV,GAChB/nC,IAAIsS,KAAJ,CAAUy1B,kBADM,GAEhBC,YAAoB5sE,CAApB,EAAuB,GAAvB,CAFJ;EAGAo6C,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQx3B,GAAR,CAAYz2B,CAAZ,EAAegU,CAAf,EAAkB,CAAlB,EAAqB,IAAI/S,KAAK8R,EAA9B,EAAkC,KAAlC;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQU,MAAR;;EAEAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CAjBD;;ECEA,IAAMwzB,gBAAgB,SAAhBA,aAAgB,CAACn0B,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAsB4pC,WAAtB,EAAsC;EAC1Dp0B,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMye,QACJruB,IAAIsS,KAAJ,CAAUyiB,WAAV,KAA0B,IAA1B,GACIvG,OACGjnE,CADH,CACK;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADL,EAEGyzB,EAFH,CAEM;EAAA,WAAKnzB,EAAEmzB,EAAP;EAAA,GAFN,EAGGC,EAHH,CAGM;EAAA,WAAKpzB,EAAEozB,EAAP;EAAA,GAHN,EAIGu6B,OAJH,CAIWA,OAJX,CADJ,GAMIgZ,OACGjnE,CADH,CACK;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADL,EAEGyzB,EAFH,CAEMglB,IAAI2P,KAAJ,CAAU6B,WAFhB,EAGGv2B,EAHH,CAGM;EAAA,WAAKpzB,EAAE0T,CAAP;EAAA,GAHN,EAIGi6C,OAJH,CAIWA,OAJX,CAPN;;EAH0D;EAAA;EAAA;;EAAA;EAgB1D,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrBmtD,cAAQM,IAAR;EACA,UAAMx9C,WAAQjQ,EAAE+S,CAAhB;EACA,UAAMq+C,gBAAgBx/C,IAAI3B,QAAJ,CAAtB;EACAmhD,oBAAchgD,OAAd,GAAwBpR,EAAEwC,GAAF,KAAU++E,YAAY/+E,GAAtB,GAA4B,GAA5B,GAAkC,GAA1D;;EAEAw7E,uBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;EACA7Y,cAAQO,SAAR;EACAsY,YAAMhmE,EAAE2B,MAAR;EACAwrD,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQS,WAAR,GAAsB5tD,EAAEwC,GAAF,KAAU++E,YAAY/+E,GAAtB,GAA4ByN,QAA5B,GAAoCmhD,aAA1D;EACAjE,cAAQU,MAAR;;EAEAV,cAAQgC,SAAR,GAAoBiC,aAApB;;EAEAjE,cAAQzwC,IAAR;EACAywC,cAAQG,SAAR;EACAH,cAAQW,OAAR;EACD;EAlCyD;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAmC3D,CAnCD;;MCFM0zB,YAAY,SAAZA,SAAY;EAAA,SAASvpC,MAAMG,QAAN,CAAevf,IAAf,CAAoBrnB,CAA7B;EAAA,CAAlB;AACA,MAAMA,MAAI,SAAJA,CAAI;EAAA,SAAS;EAAA,WAAKhS,EAAEgiF,UAAUvpC,KAAV,EAAiBkb,QAAnB,CAAL;EAAA,GAAT;EAAA,CAAV;AACA,MAAMvgC,KAAK,SAALA,EAAK;EAAA,SAAS;EAAA,WAAKolD,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB5E,EAAEozB,EAAzB,CAAL;EAAA,GAAT;EAAA,CAAX;AACA,MAAMD,KAAK,SAALA,EAAK;EAAA,SAAS;EAAA,WAAKqlD,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB5E,EAAEmzB,EAAzB,CAAL;EAAA,GAAT;EAAA,CAAX;EACA,IAAM5f,MAAI,SAAJA,CAAI;EAAA,SAAS;EAAA,WACjBvT,EAAEwR,cAAF,CAAiB,KAAjB,IAA0BinC,MAAMjD,MAAN,CAAax1C,EAAEgD,GAAf,CAA1B,GAAgDy1C,MAAMjD,MAAN,CAAaxjC,IAAEymC,KAAF,EAASz4C,CAAT,CAAb,CAD/B;EAAA,GAAT;EAAA,CAAV;;ECKA,IAAM02E,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBllB,eAFqB,GAOnB/Y,KAPmB,CAErB+Y,eAFqB;EAAA,MAGrB9c,KAHqB,GAOnB+D,KAPmB,CAGrB/D,KAHqB;EAAA,MAIrBkE,QAJqB,GAOnBH,KAPmB,CAIrBG,QAJqB;EAAA,MAKrB0U,aALqB,GAOnB7U,KAPmB,CAKrB6U,aALqB;EAAA,MAMrBlF,YANqB,GAOnB3P,KAPmB,CAMrB2P,YANqB;;;EASvB,MAAM/tB,KAAK36B,IAAE+4C,KAAF,CAAX;EACA,MAAMmgC,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAM/d,MAAMvH,GAAGslB,KAAH,CAAZ;EACA,MAAM7d,MAAMxH,GAAGqlB,KAAH,CAAZ;;EAEA,MAAM0jC,eAAe3qB,kBACjBA,eADiB,GAEjB9c,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB;EAAA,WAAM;EACrBG,WAAKhD,EAAEgD,GADc;EAErBuQ,SAAGqlE,GAAG54E,CAAH,CAFkB;EAGrB2xD,aAAO,CAHc;EAIrBxvD,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELuQ,aAAGqlE,GAAG54E,CAAH,CAFE;EAGLN,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAHE;EAIL3lB,aAAGklC,SAASkP,KAAT,CAAe6B,WAJb;EAKLx2B,cAAIuH,IAAI3iB,CAAJ,CALC;EAMLqb,cAAIwH,IAAI7iB,CAAJ,CANC;EAOLshB,gBAAMthB,EAAEshB;EAPH,SAAP;EASD,OAVO;EAJa,KAAN;EAAA,GAAjB,CAFJ;;EAmBA,MAAMm1B,aAAa9Z,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB;EAAA,WAAM;EACxCG,WAAKhD,EAAEgD,GADiC;EAExCuQ,SAAGqlE,GAAG54E,CAAH,CAFqC;EAGxC2xD,aAAO/Y,SAAS6R,KAAT,CAAew3B,WAHkB;EAIxC9/E,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELuQ,aAAGqlE,GAAG54E,CAAH,CAFE;EAGLN,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAHE;EAIL3lB,aAAGqE,EAAErE,CAJA;EAKLyf,cAAIuH,IAAI3iB,CAAJ,CALC;EAMLqb,cAAIwH,IAAI7iB,CAAJ,CANC;EAOLshB,gBAAMthB,EAAEshB;EAPH,SAAP;EASD,OAVO;EAJgC,KAAN;EAAA,GAAjB,CAAnB;;EAiBA;EACAof,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEAhwB,SAAO4pB,YAAP,EACG/gB,SADH,CACa,iBADb,EAEGhO,IAFH,CAEQ,CAAC,CAAD,CAFR,EAGGiH,KAHH,GAIG0I,MAJH,CAIU,KAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,gBALjB,EAMG1vB,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA,MAAMwxC,UAAU1rB,OAAO4pB,YAAP,EAAqB5pB,MAArB,CAA4B,iBAA5B,CAAhB;;EAEA09C,kBACEC,YADF,EAEE3tB,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aACfjB,aADe,EAEf1U,QAFe,EAGfkkC,IAAI9F,MAAJ,CAAW,UAACC,GAAD,EAAM70E,CAAN,EAAY;EACrB60E,YAAMA,IAAIhnD,MAAJ,CAAW7tB,EAAED,MAAb,CAAN;EACA,aAAO80E,GAAP;EACD,KAHD,EAGG,EAHH,CAHe,CAAjB;;EASA;;;EAGA,aAASyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,EAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;;EAEA,UAAIC,OAAJ,EAAa;EACXA,gBAAQnnD,IAAR,CAAaA,IAAb,CAAkBm/C,UAAU//B,KAAV,EAAiBkb,QAAnC,IACE6sB,QAAQnnD,IAAR,CAAaA,IAAb,CAAkBmnD,QAAQnnD,IAAR,CAAar2B,GAA/B,CADF;;EAGAknD,gBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAR,CAAaA,IAA3B,EAAiCof,KAAjC,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;;EAQAopE,sBAAcx0B,aAAd,EAA6BwvB,GAA7B,EAAkClkC,QAAlC,EAA4C4nC,QAAQnnD,IAApD;EACA4mD,wBACE3yB,aADF,EAEE1U,QAFF,EAGE4nC,QAAQnnD,IAAR,CAAa9lB,CAHf,EAIEitE,QAAQ,CAAR,CAJF,EAKEA,QAAQ,CAAR,CALF;EAOD,OApBD,MAoBO;EACL9E,qBAAWpuB,aAAX,EAA0BwvB,GAA1B,EAA+BlkC,QAA/B;;EAEAsR,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,aAASuhE,eAAT,GAA2B;EACzByB,mBAAWpuB,aAAX,EAA0BwvB,GAA1B,EAA+BlkC,QAA/B;;EAEAsR,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GAtED;EAuED,CAtID;;ECTA,IAAMu9E,iBAAiB;EACrBp6B,SAAO;EACLvqC,UAAM;EADD,GADc;EAIrBwsC,aAAW;EACTE,cAAU;EACRuc,aAAO;EADC;EADD,GAJU;EASrB/b,SAAO;EACLyiB,iBAAa,IADR;EAELC,iBAAa1Q,OAAOE,IAFf;EAGLqjB,cAAU,KAHL;EAILxZ,WAAO,OAJF;EAKL6U,iBAAa,CALR;EAML6E,wBAAoB,SANf;EAOL+B,iBAAa;EAPR;EATc,CAAvB;;ECIA,IAAME,cAAcn9B,QAAQk9B,cAAR,EAAwBxL,SAAxB,EAAiC,CACnDyK,QADmD,EAEnDE,QAFmD,EAGnDC,SAHmD,CAAjC,CAApB;;ECHA,IAAM5F,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMye,QAAQG,OACXjnE,CADW,CACT;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADS,EAEXyzB,EAFW,CAER;EAAA,WAAKnzB,EAAEmzB,EAAP;EAAA,GAFQ,EAGXC,EAHW,CAGR;EAAA,WAAKpzB,EAAEozB,EAAP;EAAA,GAHQ,EAIXozC,KAJW,CAIL2Y,aAJK,EAKXxxB,OALW,CAKHA,OALG,CAAd;;EAH0C;EAAA;EAAA;;EAAA;EAU1C,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrBmtD,cAAQM,IAAR;;EAEA,UAAMx9C,WAAQjQ,EAAE+S,CAAhB;EACA,UAAMq+C,gBAAgBx/C,IAAI3B,QAAJ,CAAtB;EACAmhD,oBAAchgD,OAAd,GAAwBpR,EAAEmxD,KAA1B;;EAEAhE,cAAQO,SAAR;EACAsY,YAAMhmE,EAAE2B,MAAR;EACAwrD,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQS,WAAR,GAAsB39C,QAAtB;EACAk9C,cAAQU,MAAR;EACAV,cAAQgC,SAAR,GAAoBiC,aAApB;EACAjE,cAAQzwC,IAAR;EACAywC,cAAQG,SAAR;;EAEAH,cAAQW,OAAR;EACD;EA3ByC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EA4B3C,CA5BD;;ECGA,IAAM4tB,kBAAgB,SAAhBA,aAAgB,CAACC,YAAD,EAAe3tB,UAAf,EAA2BvE,QAA3B,EAAqC0D,OAArC,EAA8CxV,GAA9C,EAAsD;EAC1E,MAAIA,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC;;EAEAy5B,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C;;EAEA,YAAInkC,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACA;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OAVsB,CAAvB;EAWD,KAdM,CAAP;EAeD;EACF,CAxBD;;ECJA,IAAMyxB,kBAAgB,SAAhBA,aAAgB,CAACtyB,OAAD,EAAUxV,GAAV,EAAenY,KAAf,EAAsBtgC,CAAtB,EAAyBgU,CAAzB,EAA+B;EACnDi6C,UAAQM,IAAR;;EAEAN,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUy1B,kBAAV,GAChB/nC,IAAIsS,KAAJ,CAAUy1B,kBADM,GAEhBC,YAAoBngD,MAAMzsB,CAA1B,EAA6B,GAA7B,CAFJ;EAGAo6C,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQx3B,GAAR,CAAYz2B,CAAZ,EAAegU,CAAf,EAAkB,CAAlB,EAAqB,IAAI/S,KAAK8R,EAA9B,EAAkC,KAAlC;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQU,MAAR;;EAEAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CAjBD;;ECUA,IAAMooB,YAAU,SAAVA,OAAU,QAAS;EAAA,MAEJ0J,aAFI,GASnB3nC,KATmB,CAErB+Y,eAFqB;EAAA,MAGdn4B,IAHc,GASnBof,KATmB,CAGrB/D,KAHqB;EAAA,MAIXyD,GAJW,GASnBM,KATmB,CAIrBG,QAJqB;EAAA,MAKPuT,WALO,GASnB1T,KATmB,CAKrB2U,YALqB;EAAA,MAMNb,YANM,GASnB9T,KATmB,CAMrB6U,aANqB;EAAA,MAOrBlF,YAPqB,GASnB3P,KATmB,CAOrB2P,YAPqB;EAAA,MAQTi4B,SARS,GASnB5nC,KATmB,CAQrBC,UARqB;;;EAWvB,MAAMre,KAAK36B,IAAE+4C,KAAF,CAAX;EAAA,MACEmgC,KAAKrlE,IAAEklC,KAAF,CADP;EAAA,MAEE/d,MAAMvH,GAAGslB,KAAH,CAFR;EAAA,MAGE7d,MAAMxH,GAAGqlB,KAAH,CAHR;;EAKA,MAAM2pC,QAAQz8E,MAAI0zB,KAAKmiC,MAAL,CAAY34D,GAAZ,CAAgB;EAAA,WAAK8C,MAAI3F,EAAEmC,MAAF,CAASU,GAAT,CAAa;EAAA,aAAKkV,EAAEob,EAAP;EAAA,KAAb,CAAJ,CAAL;EAAA,GAAhB,CAAJ,CAAd;EACAqlD,YAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBH,MAAvB,CAA8B,CAAC29E,KAAD,EAAQ/oD,KAAK68C,IAAb,CAA9B;;EAEA,MAAMiG,eAAeiE,gBACjBA,aADiB,GAEjB/mD,KAAKmiC,MAAL,CAAY34D,GAAZ,CAAgB,aAAK;EACnB,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGLgS,SAAGhS,EAAEgD,GAHA;EAIL2uD,aAAO,CAJF;EAKLxvD,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAGqE,EAAErE,CAHA;EAILyf,cAAIglB,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CAJvB;EAKLv2B,cAAI+kB,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CALvB;EAMLtwB,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EALH,KAAP;EAgBD,GAjBD,CAFJ;;EAqBA,MAAMm1B,aAAan1B,KAAKmiC,MAAL,CAAY34D,GAAZ,CAAgB,aAAK;EACtC,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAOxZ,IAAIsS,KAAJ,CAAUw3B,WAHZ;EAIL9/E,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAGqE,EAAErE,CAHA;EAILyf,cAAIuH,IAAI3iB,CAAJ,CAJC;EAKLqb,cAAIwH,IAAI7iB,CAAJ,CALC;EAMLshB,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBkB,CAAnB;;EAkBA;EACAof,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEA,MAAMtE,UAAU1rB,OAAO4pB,YAAP,EACb/gB,SADa,CACH,iBADG,EAEbhO,IAFa,CAER,CAAC,CAAD,CAFQ,EAGbiH,KAHa,GAIb0I,MAJa,CAIN,KAJM,EAKbZ,IALa,CAKR,OALQ,EAKC,gBALD,EAMb1vB,KANa,CAMP,SANO,EAMI,CANJ,CAAhB;;EAQAwjE,kBACEC,YADF,EAEE3tB,UAFF,EAGErW,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBrqB,MAHzB,EAIE2sB,YAJF,EAKEpU,GALF,EAME0kC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aACfhC,YADe,EAEfpU,GAFe,EAGf2kC,IAAI9F,MAAJ,CAAW,UAACC,GAAD,EAAM70E,CAAN,EAAY;EACrB60E,YAAMA,IAAIhnD,MAAJ,CACJ7tB,EAAED,MAAF,CAASU,GAAT,CAAa,aAAK;EAChB,YAAIrC,IAAIR,CAAR;EACAQ,UAAEkT,CAAF,GAAM1T,EAAEozB,EAAR;EACA,eAAO5yB,CAAP;EACD,OAJD,CADI,CAAN;EAOA,aAAOy2E,GAAP;EACD,KATD,EASG,EATH,CAHe,CAAjB;;EAeA;;;EAGA,aAASyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,EAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;;EAEA,UAAIC,OAAJ,EAAa;EACXA,gBAAQnnD,IAAR,CAAaA,IAAb,CAAkBm/C,UAAU//B,KAAV,EAAiBkb,QAAnC,IACE6sB,QAAQnnD,IAAR,CAAaA,IAAb,CAAkBmnD,QAAQnnD,IAAR,CAAar2B,GAA/B,CADF;EAEAknD,gBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAR,CAAaA,IAA3B,EAAiCof,KAAjC,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGY9R,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBC,OAHnC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKzhC,IAAI+R,OAAJ,CAAYvpC,MAAZ,CAAmB,CAAnB,CAAL,GAA6B,IAJ9C,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAK1hC,IAAI+R,OAAJ,CAAYvpC,MAAZ,CAAmB,CAAnB,CAAL,GAA6B,IAL7C,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;;EAQAgjE,qBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B;EACA8nC,wBACE1zB,YADF,EAEEpU,GAFF,EAGEqoC,QAAQnnD,IAAR,CAAa9lB,CAHf,EAIEitE,QAAQ,CAAR,CAJF,EAKEA,QAAQ,CAAR,CALF;EAOD,OAnBD,MAmBO;EACLt2B,gBACG8I,UADH,GAEG/I,QAFH,CAEY9R,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBC,OAFnC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAIAgjE,qBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B;EACD;EACF;;EAED,aAAS8hC,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEY9R,IAAI4R,SAAJ,CAAcE,QAAd,CAAuBC,OAFnC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,mBAAWnvB,YAAX,EAAyBuwB,GAAzB,EAA8B3kC,GAA9B;EACD;;EAEDgU,gBAAYh7B,EAAZ,CAAe,WAAf,EAA4BuoD,gBAA5B;EACAvtB,gBAAYh7B,EAAZ,CAAe,UAAf,EAA2B8oD,eAA3B;;EAEAoG,cAAU17E,IAAV,CAAe,UAAf;EACD,GA1ED;EA2ED,CAhJD;;ECHA,IAAM09E,YAAY;EAChBv6B,SAAO;EACLvqC,UAAM;EADD,GADS;EAIhBktC,SAAO;EACLyiB,iBAAa,IADR;EAELC,iBAAa1Q,OAAOI,MAFf;EAGLqjB,wBAAoB,SAHf;EAIL+B,iBAAa,GAJR;EAKLK,eAAW;EALN;EAJS,CAAlB;;EAaA,IAAMC,SAASv9B,QAAQq9B,SAAR,EAAmB3L,SAAnB,EAA4B,CACzC8K,SADyC,EAEzCE,aAFyC,EAGzCE,YAHyC,CAA5B,CAAf;;ECpBA,IAAM3B,kBAAgB,SAAhBA,aAAgB,CAACtyB,OAAD,EAAUxV,GAAV,EAAenY,KAAf,EAAsBtgC,CAAtB,EAAyBgU,CAAzB,EAA+B;EACnDi6C,UAAQM,IAAR;;EAEAN,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUy1B,kBAAV,GAChB/nC,IAAIsS,KAAJ,CAAUy1B,kBADM,GAEhBC,YAAoBngD,MAAMzsB,CAA1B,EAA6B,GAA7B,CAFJ;EAGAo6C,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQx3B,GAAR,CAAYz2B,CAAZ,EAAegU,CAAf,EAAkB,CAAlB,EAAqB,IAAI/S,KAAK8R,EAA9B,EAAkC,KAAlC;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQU,MAAR;;EAEAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;EACD,CAjBD;;ECEA,IAAMotB,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMye,QAAQzT,OACXrzD,CADW,CACT;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADS,EAEXgU,CAFW,CAET;EAAA,WAAK1T,EAAE0T,CAAP;EAAA,GAFS,EAGXi6C,OAHW,CAGHA,OAHG,CAAd;;EAH0C;EAAA;EAAA;;EAAA;EAQ1C,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrBmtD,cAAQM,IAAR;EACA,UAAMx9C,WAAQjQ,EAAE+S,CAAhB;EACA,UAAMq+C,gBAAgBx/C,IAAI3B,QAAJ,CAAtB;EACAmhD,oBAAchgD,OAAd,GAAwBpR,EAAEmxD,KAA1B;;EAEA6sB,uBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;EACA7Y,cAAQO,SAAR;EACAsY,YAAMhmE,EAAE2B,MAAR;EACAwrD,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQS,WAAR,GAAsB39C,QAAtB;EACAk9C,cAAQU,MAAR;EACAV,cAAQW,OAAR;EACD;EArByC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAsB3C,CAtBD;;ECEA,IAAM4tB,kBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECFA,IAAMg0B,gBAAgB,SAAhBA,aAAgB,CAAC70B,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAsB4pC,WAAtB,EAAsC;EAC1Dp0B,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;EACA,MAAMye,QAAQzT,OACXrzD,CADW,CACT;EAAA,WAAKM,EAAEN,CAAP;EAAA,GADS,EAEXgU,CAFW,CAET;EAAA,WAAK1T,EAAE0T,CAAP;EAAA,GAFS,EAGXi6C,OAHW,CAGHA,OAHG,CAAd;;EAF0D;EAAA;EAAA;;EAAA;EAO1D,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrBmtD,cAAQM,IAAR;;EAEA,UAAMx9C,WAAQjQ,EAAE+S,CAAhB;EACA,UAAMq+C,gBAAgBx/C,IAAI3B,QAAJ,CAAtB;EACAmhD,oBAAchgD,OAAd,GAAwBpR,EAAEwC,GAAF,KAAU++E,YAAY/+E,GAAtB,GAA4BxC,EAAEmxD,KAA9B,GAAsC,GAA9D;EACAhE,cAAQS,WAAR,GAAsBwD,aAAtB;;EAEA4sB,uBAAiBrmC,IAAIsS,KAAJ,CAAU+b,KAA3B,EAAkC,CAACA,KAAD,CAAlC;EACA7Y,cAAQO,SAAR;EACAsY,YAAMhmE,EAAE2B,MAAR;EACAwrD,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQU,MAAR;EACAV,cAAQW,OAAR;EACD;EArByD;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAsB3D,CAtBD;;ECQA,IAAMooB,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBhiC,KAFqB,GAOnB+D,KAPmB,CAErB/D,KAFqB;EAAA,MAGrB8c,eAHqB,GAOnB/Y,KAPmB,CAGrB+Y,eAHqB;EAAA,MAIrBlE,aAJqB,GAOnB7U,KAPmB,CAIrB6U,aAJqB;EAAA,MAKrB1U,QALqB,GAOnBH,KAPmB,CAKrBG,QALqB;EAAA,MAMrBwP,YANqB,GAOnB3P,KAPmB,CAMrB2P,YANqB;;EAQvB,MAAMwwB,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAMpe,KAAK36B,IAAE+4C,KAAF,CAAX;;EAEA,MAAM0jC,eAAe3qB,kBACjBA,eADiB,GAEjB9c,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB,aAAK;EACpB,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGLgS,SAAGhS,EAAEgD,GAHA;EAIL2uD,aAAO,CAJF;EAKLxvD,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAGklC,SAASkP,KAAT,CAAe6B,WAHb;EAILtwB,gBAAMthB,EAAEshB;EAJH,SAAP;EAMD,OAPO;EALH,KAAP;EAcD,GAfD,CAFJ;;EAmBA,MAAMm1B,aAAa9Z,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB,aAAK;EACvC,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO,CAHF;EAILxvD,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAGqE,EAAErE,CAHA;EAIL2lB,gBAAMthB,EAAEshB;EAJH,SAAP;EAMD,OAPO;EAJH,KAAP;EAaD,GAdkB,CAAnB;;EAgBA;EACAof,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEAhwB,SAAO4pB,YAAP,EACG/gB,SADH,CACa,iBADb,EAEGhO,IAFH,CAEQ,CAAC,CAAD,CAFR,EAGGiH,KAHH,GAIG0I,MAJH,CAIU,KAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,gBALjB,EAMG1vB,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA,MAAMwxC,UAAU1rB,OAAO4pB,YAAP,EAAqB5pB,MAArB,CAA4B,iBAA5B,CAAhB;;EAEA09C,kBACEC,YADF,EAEE3tB,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aACfjB,aADe,EAEf1U,QAFe,EAGfkkC,IAAI9F,MAAJ,CAAW,UAACC,GAAD,EAAM70E,CAAN,EAAY;EACrB60E,YAAMA,IAAIhnD,MAAJ,CAAW7tB,EAAED,MAAb,CAAN;EACA,aAAO80E,GAAP;EACD,KAHD,EAGG,EAHH,CAHe,CAAjB;;EASA;;;EAGA,aAASyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,GAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;EACA,UAAIC,OAAJ,EAAa;EACXA,gBAAQnnD,IAAR,CAAaA,IAAb,CAAkBm/C,UAAU//B,KAAV,EAAiBkb,QAAnC,IACE6sB,QAAQnnD,IAAR,CAAaA,IAAb,CAAkBmnD,QAAQnnD,IAAR,CAAar2B,GAA/B,CADF;;EAGAknD,gBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAR,CAAaA,IAA3B,EAAiCof,KAAjC,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA8pE,sBAAcl1B,aAAd,EAA6BwvB,GAA7B,EAAkClkC,QAAlC,EAA4C4nC,QAAQnnD,IAApD;EACA4mD,wBACE3yB,aADF,EAEE1U,QAFF,EAGE4nC,QAAQnnD,IAAR,CAAa9lB,CAHf,EAIEitE,QAAQ,CAAR,CAJF,EAKEA,QAAQ,CAAR,CALF;EAOD,OApBD,MAoBO;EACLt2B,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,qBAAWpuB,aAAX,EAA0BwvB,GAA1B,EAA+BlkC,QAA/B;EACD;EACF;;EAED,aAASqhC,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;;EAKAgjE,mBAAWpuB,aAAX,EAA0BwvB,GAA1B,EAA+BlkC,QAA/B;EACD;;EAEDH,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GArED;EAsED,CAjID;;ECTA,IAAM89E,iBAAiB;EACrB36B,SAAO;EACLvqC,UAAM;EADD,GADc;EAIrBktC,SAAO;EACL+b,WAAO,QADF;EAEL0Z,wBAAoB,SAFf;EAGL7E,iBAAa,CAHR;EAIL2E,cAAU,KAJL;EAKLsC,eAAW;EALN;EAJc,CAAvB;;EAaA,IAAMI,YAAY19B,QAAQy9B,cAAR,EAAwB/L,SAAxB,CAAlB;;ECdA,IAAMgG,qBAAmB,SAAnBA,gBAAmB,CAAC/uB,OAAD,EAAUlV,KAAV,EAAoB;EAC3CkV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;EACA,MAAMowB,WAAW,IAAIx1E,GAAJ,EAAjB;;EAEA,MAAIjC,IAAI,CAAR;EAJ2C;EAAA;EAAA;;EAAA;EAK3C,yBAAgB+3C,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;EAAA;EAAA;EAAA;;EAAA;EACrB,8BAAgBA,EAAE2B,MAAlB,mIAA0B;EAAA,cAAf/C,CAAe;;EACxB,cAAMqR,QAAQw/C,gBAAgB,EAAEvvD,CAAlB,CAAd;;EAEAitD,kBAAQO,SAAR;EACAP,kBAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,kBAAQ1jB,IAAR,CAAa7qC,EAAEM,CAAf,EAAkBN,EAAEsU,CAApB,EAAuBtU,EAAE0tB,CAAzB,EAA4B1tB,EAAE2S,CAA9B;EACA47C,kBAAQzwC,IAAR;;EAEAi7D,mBAASj1E,GAAT,CAAauN,KAAb,EAAoBrR,CAApB;EACD;EAVoB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAWtB;EAhB0C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAkB3C,SAAO+4E,QAAP;EACD,CAnBD;;ECAA,IAAMuD,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAoB;EACrCkV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EADqC;EAAA;EAAA;;EAAA;EAGrC,yBAAgBtP,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrB,UAAMiQ,QAAQ0vE,YAAoB3/E,EAAE+S,CAAtB,EAAyB,CAAzB,CAAd;;EADqB;EAAA;EAAA;;EAAA;EAGrB,8BAAgB/S,EAAE2B,MAAlB,mIAA0B;EAAA,cAAf/C,CAAe;;EACxBuuD,kBAAQM,IAAR;EACAN,kBAAQO,SAAR;EACAP,kBAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,kBAAQ1jB,IAAR,CAAa7qC,EAAEM,CAAf,EAAkBN,EAAEsU,CAApB,EAAuBtU,EAAE0tB,CAAzB,EAA4B1tB,EAAE2S,CAA9B;EACA47C,kBAAQzwC,IAAR;EACAywC,kBAAQW,OAAR;EACD;EAVoB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAWtB;EAdoC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAetC,CAfD;;ECIA,IAAM4tB,kBAAgB,SAAhBA,aAAgB,CAACC,YAAD,EAAe3tB,UAAf,EAA2BvE,QAA3B,EAAqC0D,OAArC,EAA8CxV,GAA9C,EAAsD;EAC1E,MAAIA,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC;;EAEAy5B,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C;;EAEA,YAAInkC,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACA;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OAVsB,CAAvB;EAWD,KAdM,CAAP;EAeD;EACF,CAxBD;;ECCA,IAAMkoB,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBllB,eAFqB,GASnB/Y,KATmB,CAErB+Y,eAFqB;EAAA,MAGrB9c,KAHqB,GASnB+D,KATmB,CAGrB/D,KAHqB;EAAA,MAIrBkE,QAJqB,GASnBH,KATmB,CAIrBG,QAJqB;EAAA,MAKrB0U,aALqB,GASnB7U,KATmB,CAKrB6U,aALqB;EAAA,MAMrBC,cANqB,GASnB9U,KATmB,CAMrB8U,cANqB;EAAA,MAOrBC,YAPqB,GASnB/U,KATmB,CAOrB+U,YAPqB;EAAA,MAQrBpF,YARqB,GASnB3P,KATmB,CAQrB2P,YARqB;;EAUvB,MAAM/tB,KAAK36B,IAAE+4C,KAAF,CAAX;EACA,MAAMmgC,KAAKrlE,IAAEklC,KAAF,CAAX;;EAEA,MAAMkqC,YAAYjuC,MAAM8mB,MAAN,CAAaj8D,MAA/B;EACA,MAAMwF,OAAO6zC,SAASvf,IAAT,CAAc35B,CAAd,CAAgBkF,KAAhB,CAAsBM,SAAtB,EAAb;EACA,MAAM09E,WAAW79E,OAAO49E,SAAxB;;EAEAnkD,SAAO4pB,YAAP,EACG/gB,SADH,CACa,iBADb,EAEGhO,IAFH,CAEQ,CAAC,CAAD,CAFR,EAGGiH,KAHH,GAIG0I,MAJH,CAIU,KAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,gBALjB,EAMG1vB,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA,MAAMwxC,UAAU1rB,OAAO4pB,YAAP,EAAqB5pB,MAArB,CAA4B,iBAA5B,CAAhB;;EAEA,MAAMqkD,qBAAqB,SAArBA,kBAAqB,CAAC7iF,CAAD,EAAIU,CAAJ,EAAU;EACnC,WAAO;EACLsC,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,IAAaupD,WAAWliF,CAFtB;EAGLgT,aAAGklC,SAASkP,KAAT,CAAe6B,WAHb;EAIL78B,aAAG81D,QAJE;EAKL7wE,aAAG,CALE;EAMLsnB,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA,MAAMypD,qBAAqB,SAArBA,kBAAqB,IAAK;EAC9B,WAAO;EACL9/E,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAG8kE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAHE;EAILrG,aAAG/nB,IAJE;EAKLgN,aAAG,CALE;EAMLsnB,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA,MAAM0pD,iBAAiB,SAAjBA,cAAiB,CAAC/iF,CAAD,EAAIU,CAAJ,EAAU;EAC/B,WAAO;EACLsC,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,IAAaupD,WAAWliF,CAFtB;EAGLgT,aAAGqE,EAAErE,CAHA;EAILoZ,aAAG81D,QAJE;EAKL7wE,aAAG6mC,SAASkP,KAAT,CAAe6B,WAAf,GAA6B5xC,EAAErE,CAL7B;EAML2lB,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA,MAAM2pD,iBAAiB,SAAjBA,cAAiB,IAAK;EAC1B,WAAO;EACLhgF,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,CAFE;EAGL3lB,aAAG8kE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAHE;EAILrG,aAAG/nB,IAJE;EAKLgN,aAAGymE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEqb,EAAzB,IAA+BolD,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAL7B;EAMLkG,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA;EACA,MAAM4pD,eAAe,SAAfA,YAAe,CAACjjF,CAAD,EAAIU,CAAJ,EAAU;EAC7B,WAAO;EACLsC,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,IAAaupD,WAAWliF,CAFtB;EAGLgT,aAAG8kE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAHE;EAILrG,aAAG81D,QAJE;EAKL7wE,aAAGymE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEqb,EAAzB,IAA+BolD,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAL7B;EAMLkG,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA;EACA,MAAM6pD,eAAe,SAAfA,YAAe,CAACljF,CAAD,EAAIU,CAAJ,EAAU;EAC7B,WAAO;EACLsC,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGL2xD,aAAO/Y,SAAS6R,KAAT,CAAe74C,OAHjB;EAILzP,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,aAAK;EACxB,eAAO;EACLG,eAAKhD,EAAEgD,GADF;EAELtD,aAAG26B,GAAGtiB,EAAEshB,IAAL,IAAaupD,WAAWliF,CAFtB;EAGLgT,aAAG8kE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAHE;EAILrG,aAAG81D,QAJE;EAKL7wE,aAAGymE,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEqb,EAAzB,IAA+BolD,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuBmT,EAAEob,EAAzB,CAL7B;EAMLkG,gBAAMthB,EAAEshB;EANH,SAAP;EAQD,OATO;EAJH,KAAP;EAeD,GAhBD;;EAkBA,MAAM8iD,eAAe3qB,kBACjBA,eADiB,GAEjB5Y,SAAS6R,KAAT,CAAeyiB,WAAf,KAA+B,IAA/B,GACAx4B,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBigF,kBAAjB,CADA,GAEApuC,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBggF,kBAAjB,CAJJ;;EAMA,MAAMr0B,aACJ5V,SAAS6R,KAAT,CAAeyiB,WAAf,KAA+B,IAA/B,GACIx4B,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBmgF,cAAjB,CADJ,GAEItuC,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBkgF,cAAjB,CAHN;;EAKA,MACEtqC,MAAM0qC,eAAN,KAA0Bn+E,SAA1B,IACAyzC,MAAM0qC,eAAN,KAA0B,IAD1B,IAEA1qC,MAAM0qC,eAAN,KAA0BvqC,SAAS6R,KAAT,CAAeyiB,WAH3C,EAIE;EACA,QAAMkW,cACJxqC,SAAS6R,KAAT,CAAeyiB,WAAf,KAA+B,KAA/B,GACIx4B,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBqgF,YAAjB,CADJ,GAEIxuC,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiBogF,YAAjB,CAHN;;EAKA/G,oBAAcC,YAAd,EAA4BiH,WAA5B,EAAyC,GAAzC,EAA8C91B,aAA9C,EAA6D1U,QAA7D,EAAuEikC,IAAvE,CACE,YAAM;EACJnG,cAAQj+B,KAAR;EACD,KAHH;;EAMAA,UAAM+Y,eAAN,GAAwB4xB,WAAxB;EACA3qC,UAAM0qC,eAAN,GAAwBvqC,SAAS6R,KAAT,CAAeyiB,WAAvC;EACD,GAlBD,MAkBO;EACLgP,oBACEC,YADF,EAEE3tB,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZ,UAAM1E,WAAWuE,mBAAiBnvB,cAAjB,EAAiCuvB,GAAjC,CAAjB;;EAEA;EACA;;;EAGA,eAASpD,gBAAT,GAA4B;EAC1B;EAD0B,qBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,YAEnBC,EAFmB;EAAA,YAEfC,EAFe;EAG1B;;;EACA,YAAMC,MAAMvsB,eAAewsB,YAAf,CACVH,KAAKpsB,YADK,EAEVqsB,KAAKrsB,YAFK,EAGV,CAHU,EAIV,CAJU,EAKVn0B,IALF;EAMA;EACA,YAAM2gD,YAAY,SAASF,IAAI,CAAJ,CAAT,GAAkB,GAAlB,GAAwBA,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuCA,IAAI,CAAJ,CAAvC,GAAgD,GAAlE;EACA,YAAM0G,UAAUrI,SAASl1E,GAAT,CAAa+2E,SAAb,CAAhB;;EAEA,YAAIwG,OAAJ,EAAa;EACXA,kBAAQnnD,IAAR,CAAam/C,UAAU//B,KAAV,EAAiBkb,QAA9B,IAA0C6sB,QAAQnnD,IAAR,CAAamnD,QAAQx9E,GAArB,CAA1C;;EAEAknD,kBACGthB,IADH,CACQ+vC,cAAc6H,QAAQnnD,IAAtB,EAA4Bof,KAA5B,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;EAOD,SAVD,MAUO;EACLwxC,kBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,eAASuhE,eAAT,GAA2B;EACzB/vB,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,YAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,YAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,YAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,KAxDD;;EA0DA;EACA8zC,UAAM+Y,eAAN,GAAwBhD,UAAxB;EACA/V,UAAM0qC,eAAN,GAAwBvqC,SAAS6R,KAAT,CAAeyiB,WAAvC;EACD;EACF,CArOD;;ECLA,IAAMmW,iBAAiB;EACrBt5B,aAAW;EACTE,cAAU;EACRwrB,cAAQ;EADA;EADD,GADU;EAMrB3tB,SAAO;EACLvqC,UAAM;EADD,GANc;EASrBktC,SAAO;EACLyiB,iBAAa,KADR;EAELC,iBAAa1Q,OAAOE,IAFf;EAGL/qD,aAAS,CAHJ;EAILgmE,cAAU;EACR5tB,eAAS,IADD;EAERv5C,aAAO;EAFC,KAJL;EAQLqnE,iBAAa;EACX9tB,eAAS,IADE;EAEXv5C,aAAO,OAFI;EAGXkQ,cAAQ;EAHG;EARR;EATc,CAAvB;;ECIA,IAAM2iE,aAAat+B,QAAQq+B,cAAR,EAAwB3M,SAAxB,EAAiC,CAClDyK,QADkD,EAElDE,QAFkD,EAGlDC,SAHkD,CAAjC,CAAnB;;ECNA,IAAMiC,YAAY,SAAZA,SAAY,MAAO;EACvB,MAAMjzB,cACJ3vD,KAAKgF,GAAL,CAASwyC,IAAI2P,KAAJ,CAAU4B,UAAV,GAAuB,CAAhC,EAAmCvR,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CAA3D,IACAxR,IAAIsS,KAAJ,CAAUkxB,iBAFZ;EAGA,MAAMtrB,cAAcC,cAAcnY,IAAIsS,KAAJ,CAAUqxB,gBAA5C;;EAEA,SAAO,CAACzrB,WAAD,EAAcC,WAAd,CAAP;EACD,CAPD;;ECGA,IAAMkzB,gBAAgB,SAAhBA,aAAgB,MAAO;EAC3B,MAAIC,SAAStrC,IAAI9e,IAAJ,CAAS3lB,CAAT,CAAW,CAAX,EAAcooD,SAAd,GAA0B,CAAvC;;EAEA,MACE1I,SAASjb,IAAIsS,KAAJ,CAAUg5B,MAAnB,KACAjiF,WAAS22C,IAAIsS,KAAJ,CAAUg5B,MAAnB,CADA,IAEAtyE,SAASgnC,IAAIsS,KAAJ,CAAUg5B,MAAnB,IAA6B,CAH/B,EAIE;EACAA,aAAStyE,SAASgnC,IAAIsS,KAAJ,CAAUg5B,MAAnB,CAAT;EACD;;EAED,SAAOA,MAAP;EACD,CAZD;;ECCA,IAAMC,cAAc,SAAdA,WAAc,CAAC/1B,OAAD,EAAUxV,GAAV,EAAkB;EAAA,mBACDorC,UAAUprC,GAAV,CADC;EAAA;EAAA,MAC7BkY,WAD6B;EAAA,MAChBC,WADgB;;EAGpC3C,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;EACA,MAAM07B,SAASE,cAAUxrC,GAAV,CAAf;;EAEA,MAAMyrC,UAAUztD,MACbk6B,WADa,CAEZ;EAAA,WAAM,CAACC,cAAcD,WAAf,IAA8BozB,MAA/B,IAA0CzjF,IAAI,CAA9C,IAAmDqwD,WAAxD;EAAA,GAFY,EAIbC,WAJa,CAID;EAAA,WAAM,CAACA,cAAcD,WAAf,IAA8BozB,MAA/B,GAAyCzjF,CAAzC,GAA6CqwD,WAAlD;EAAA,GAJC,EAKbf,UALa,CAKF,CALE,EAMb+T,QANa,CAMJ,IAAI1iE,KAAK8R,EANL,EAObk7C,OAPa,CAOLA,OAPK,CAAhB;;EASA,OAAK,IAAIjtD,IAAI,CAAb,EAAgBA,IAAI+iF,SAAS,CAA7B,EAAgC/iF,GAAhC,EAAqC;EACnCitD,YAAQO,SAAR;EACAP,YAAQS,WAAR,GAAsBjW,IAAIsS,KAAJ,CAAUo5B,UAAhC;EACAD,YAAQljF,CAAR;EACAitD,YAAQU,MAAR;EACD;;EAEDV,UAAQW,OAAR;EACD,CAxBD;;ECGA,IAAM5D,YAAY55C,OAAO,KAAP,CAAlB;;EAEA,IAAMgzE,gBAAgB,SAAhBA,aAAgB,CAACn2B,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC7C,MAAIM,MAAMl5C,MAAN,IAAgB,CAApB,EAAuB;EACrB;EACD;;EAH4C,mBAKVgkF,UAAUprC,GAAV,CALU;EAAA;EAAA,MAKtCkY,WALsC;EAAA,MAKzBC,WALyB;;EAO7C3C,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EAEA,MAAM07B,SAASE,cAAUxrC,GAAV,CAAf;;EAEA,MAAM4rC,aAAanvC,WAChBnwC,MADgB,CACT,CAAC,CAAD,EAAIg/E,MAAJ,CADS,EAEhB3iF,KAFgB,CAEV23C,MAAM,CAAN,EAAS33C,KAFC,EAGhB+e,IAHgB,EAAnB;;EAKA,MAAMmkE,WAAW,SAAXA,QAAW,IAAK;EACpB,QAAMtO,QACJqO,WAAWrjF,CAAX,IAAgB,CAAhB,IAAqBqjF,WAAWrjF,CAAX,IAAgB,CAArC,GACIgqD,UAAUq5B,WAAWrjF,CAAX,CAAV,CADJ,GAEIC,KAAKwE,KAAL,CAAW4+E,WAAWrjF,CAAX,CAAX,CAHN;;EAKA,WAAOy3C,IAAIsS,KAAJ,CAAUw5B,UAAV,IAAwBv3C,aAAWyL,IAAIsS,KAAJ,CAAUw5B,UAArB,CAAxB,GACH9rC,IAAIsS,KAAJ,CAAUw5B,UAAV,CAAqBvO,KAArB,CADG,GAEHA,KAFJ;EAGD,GATD;;EAWA,UAAQv9B,IAAIsS,KAAJ,CAAUy5B,kBAAlB;EACE,SAAK,QAAL;EACE,WAAK,IAAIxjF,IAAI,CAAb,EAAgBA,KAAK+iF,MAArB,EAA6B/iF,GAA7B,EAAkC;EAChCitD,gBAAQ8B,SAAR,GAAoB,QAApB;EACA9B,gBAAQ6B,YAAR,GAAuB,KAAvB;EACA7B,gBAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAU05B,eAA9B;EACAx2B,gBAAQqC,QAAR,CACEg0B,SAAStjF,CAAT,CADF,EAEE,CAFF,EAGEA,KAAK,CAAC4vD,cAAcD,WAAf,IAA8BozB,MAAnC,IAA6CpzB,WAH/C;EAKD;;EAED;EACF,SAAK,OAAL;EACA,SAAK,KAAL;EACA;EACE,WAAK,IAAI3vD,KAAI,CAAb,EAAgBA,MAAK+iF,MAArB,EAA6B/iF,IAA7B,EAAkC;EAChCitD,gBAAQ8B,SAAR,GAAoB,QAApB;EACA9B,gBAAQ6B,YAAR,GAAuB,aAAvB;EACA7B,gBAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAU05B,eAA9B;EACAx2B,gBAAQqC,QAAR,CACEg0B,SAAStjF,EAAT,CADF,EAEE,CAFF,EAGE,CAACA,EAAD,IAAM,CAAC4vD,cAAcD,WAAf,IAA8BozB,MAApC,IAA8CpzB,WAHhD;EAKD;;EAED;EA5BJ;;EA+BA1C,UAAQW,OAAR;EACD,CA5DD;;ECPA,IAAM81B,eAAe,SAAfA,YAAe,CAACjsC,GAAD,EAAMn4C,CAAN,EAASU,CAAT,EAAe;EAClC,SAAOy3C,IAAIsS,KAAJ,CAAU45B,SAAV,IAAuB33C,aAAWyL,IAAIsS,KAAJ,CAAU45B,SAArB,CAAvB,GACHlsC,IAAIsS,KAAJ,CAAU45B,SAAV,CAAoBrkF,CAApB,EAAuBU,CAAvB,CADG,GAEHV,CAFJ;EAGD,CAJD;;ECIA,IAAMskF,gBAAgB,SAAhBA,aAAgB,CAAC32B,OAAD,EAAUxV,GAAV,EAAkB;EACtC,MAAIosC,UAAU,CAAd;EACA,MAAMC,YAAY5vC,WACfnwC,MADe,CACR,CAAC,CAAD,EAAI8/E,OAAJ,CADQ,EAEfzjF,KAFe,CAET,CAAC,CAAD,EAAI,IAAIH,KAAK8R,EAAb,CAFS,CAAlB;;EAFsC,mBAKH8wE,UAAUprC,GAAV,CALG;EAAA;EAAA,MAK/BkY,WAL+B;EAAA,MAKlBC,WALkB;;EAOtC,MAAMm0B,OAAOtsC,IAAI9e,IAAJ,CAAS35B,CAAT,CAAWyC,MAAxB;EACA,MAAMuiF,aAAaD,KAAKllF,MAAxB;;EAEA,MAAImlF,aAAaH,OAAjB,EAA0B;EACxBA,cAAUG,UAAV;EACD;;EAED,MAAMC,YAAY/vC,WACfnwC,MADe,CACR,CAAC,CAAD,EAAI8/E,OAAJ,CADQ,EAEfzjF,KAFe,CAET,CAAC,CAAD,EAAI4jF,UAAJ,CAFS,EAGf7kE,IAHe,EAAlB;;EAKA,MAAM+kE,SAAS,SAATA,MAAS;EAAA,WAAKjkF,KAAKE,IAAL,CAAU8jF,UAAUjkF,CAAV,CAAV,CAAL;EAAA,GAAf;;EAEA,OAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAI6jF,OAApB,EAA6B7jF,GAA7B,EAAkC;EAChCsuD,qBACErB,OADF,EAEEy2B,aAAajsC,GAAb,EAAkBssC,KAAKG,OAAOlkF,CAAP,CAAL,CAAlB,EAAmCkkF,OAAOlkF,CAAP,CAAnC,IAAgD,EAFlD,EAGE,EAHF,EAIE,QAJF,EAKEy3C,IAAIsS,KAAJ,CAAUo6B,cALZ,EAME1sC,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CANpB,EAOE27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAPrB,EAQEuI,cAAcnY,IAAIsS,KAAJ,CAAUq6B,eAR1B,EASEN,UAAU9jF,CAAV,CATF,EAUE,CAVF;EAYD;EACF,CAnCD;;ECFA,IAAMqkF,uBAAuB,SAAvBA,oBAAuB,CAACp3B,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EACpD,MAAIA,IAAIsS,KAAJ,CAAUu6B,YAAV,KAA2B,KAA/B,EAAsC;EACpC;EACD;;EAEDr3B,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EANoD,mBAOjBw7B,UAAUprC,GAAV,CAPiB;EAAA;EAAA,MAO7CkY,WAP6C;EAAA,MAOhCC,WAPgC;;EAQpD,MAAM20B,SAAS9sC,IAAIsS,KAAJ,CAAUy6B,cAAzB;;EAEA,MAAMC,WAAWhvD,MACdk6B,WADc,CACFC,WADE,EAEdA,WAFc,CAEFA,cAAc20B,MAFZ,EAGd31B,UAHc,CAGH,CAHG,EAId+T,QAJc,CAIL,IAAI1iE,KAAK8R,EAJJ,EAKdk7C,OALc,CAKNA,OALM,CAAjB;;EAOAA,UAAQO,SAAR;;EAEA,MAAIk3B,WAAWz3B,QAAQ6C,oBAAR,CACb,CADa,EAEb,CAFa,EAGbF,WAHa,EAIb,CAJa,EAKb,CALa,EAMbA,cAAc20B,MAND,CAAf;;EASAG,WAASz0B,YAAT,CAAsB,CAAtB,EAAyBxY,IAAIsS,KAAJ,CAAU46B,gBAAV,CAA2B,CAA3B,CAAzB;EACAD,WAASz0B,YAAT,CAAsB,CAAtB,EAAyBxY,IAAIsS,KAAJ,CAAU46B,gBAAV,CAA2B,CAA3B,CAAzB;EACA13B,UAAQgC,SAAR,GAAoBy1B,QAApB;EACAz3B,UAAQsqB,WAAR,GAAsB9/B,IAAIsS,KAAJ,CAAU66B,eAAhC;EACAH;EACA;EACAx3B,UAAQzwC,IAAR;EACAywC,UAAQW,OAAR;EACD,CApCD;;ECEA,IAAMsxB,aAAW,SAAXA,QAAW,CAACjyB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAAA,mBACLorC,UAAUprC,GAAV,CADK;EAAA;EAAA,MACjCkY,WADiC;EAAA,MACpBC,WADoB;;EAGxC3C,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EAJwC;EAAA;EAAA;;EAAA;EAMxC,yBAAgBtP,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrB,UAAM+kF,QACJptC,IAAIsS,KAAJ,CAAUyiB,WAAV,KAA0B,IAA1B,GACIsY,aACGhf,KADH,CACS6Y,mBADT,EAEGrrB,KAFH,CAES;EAAA,eAAKh0D,EAAEg0D,KAAP;EAAA,OAFT,EAGG3D,WAHH,CAGe;EAAA,eAAKrwD,EAAEmb,EAAP;EAAA,OAHf,EAIGm1C,WAJH,CAIe;EAAA,eAAKtwD,EAAEob,EAAP;EAAA,OAJf,EAKGuyC,OALH,CAKWA,OALX,CADJ,GAOI63B,aACGhf,KADH,CACS6Y,mBADT,EAEGrrB,KAFH,CAES;EAAA,eAAKh0D,EAAEg0D,KAAP;EAAA,OAFT,EAGG3D,WAHH,CAGeA,WAHf,EAIGC,WAJH,CAIe;EAAA,eAAKtwD,EAAEyR,CAAP;EAAA,OAJf,EAKGk8C,OALH,CAKWA,OALX,CARN;;EAeAA,cAAQO,SAAR;;EAEA,UAAI/V,IAAIsS,KAAJ,CAAUg7B,YAAV,KAA2B,IAA/B,EAAqC;EACnC93B,gBAAQgC,SAAR,GAAoBS,eAClBzC,OADkB,EAElBntD,EAAE+S,CAFgB,EAGlB/S,EAAEmxD,KAHgB,EAIlBxZ,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAJA,EAKlB27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CALD,EAMlBsI,WANkB,EAOlBC,WAPkB,CAApB;EASD,OAVD,MAUO;EACL3C,gBAAQgC,SAAR,GAAoBwwB,YAAoB3/E,EAAE+S,CAAtB,EAAyB/S,EAAEmxD,KAA3B,CAApB;EACD;EACD4zB,YAAM/kF,EAAE2B,MAAR;EACAwrD,cAAQzwC,IAAR;;EAEAywC,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACA1tB,cAAQS,WAAR,GAAsB+xB,YAAoB3/E,EAAE+S,CAAtB,EAAyB/S,EAAEklF,WAA3B,CAAtB;EACA/3B,cAAQU,MAAR;EACD;EA3CuC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EA6CxCV,UAAQW,OAAR;EACD,CA9CD;;ECFA,IAAMyxB,aAAW,SAAXA,QAAW,CAACpyB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EACxCwV,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EAFwC;EAAA;EAAA;;EAAA;EAIxC,yBAAgBtP,KAAhB,8HAAuB;EAAA,UAAZj4C,CAAY;;EACrB,UAAM+kF,QACJptC,IAAIsS,KAAJ,CAAUyiB,WAAV,KAA0B,IAA1B,GACIyY,aACGnf,KADH,CACSmY,iBADT,EAEG3qB,KAFH,CAES;EAAA,eAAKh0D,EAAEg0D,KAAP;EAAA,OAFT,EAGGn6B,MAHH,CAGU;EAAA,eAAK75B,EAAEob,EAAP;EAAA,OAHV,EAIGuyC,OAJH,CAIWA,OAJX,CADJ,GAMIg4B,aACGnf,KADH,CACSmY,iBADT,EAEG3qB,KAFH,CAES;EAAA,eAAKh0D,EAAEg0D,KAAP;EAAA,OAFT,EAGGn6B,MAHH,CAGU;EAAA,eAAK75B,EAAEyR,CAAP;EAAA,OAHV,EAIGk8C,OAJH,CAIWA,OAJX,CAPN;;EAaAA,cAAQO,SAAR;EACAP,cAAQS,WAAR,GAAsB+xB,YAAoB3/E,EAAE+S,CAAtB,EAAyB/S,EAAEklF,WAA3B,CAAtB;EACA/3B,cAAQQ,SAAR,GAAoBhW,IAAIsS,KAAJ,CAAU4wB,WAA9B;EACAkK,YAAM/kF,EAAE2B,MAAR;EACAwrD,cAAQU,MAAR;EACD;EAvBuC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAyBxCV,UAAQW,OAAR;EACD,CA1BD;;ECJe,sBAASnvD,CAAT,EAAYC,CAAZ,EAAe;EAC5B,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAaC,GAA7C;EACD;;ECAc,qBAASC,OAAT,EAAkB;EAC/B,MAAIA,QAAQC,MAAR,KAAmB,CAAvB,EAA0BD,UAAUE,sBAAoBF,OAApB,CAAV;EAC1B,SAAO;EACLG,UAAM,cAASN,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC3B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BC,KAAKE,MAAM,CAAX,CAA5B,KACKD,KAAKC,GAAL;EACN;EACD,aAAOF,EAAP;EACD,KAVI;EAWLG,WAAO,eAASX,CAAT,EAAYO,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuB;EAC5B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;EAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAKT,EAAEI,MAAP;EAChB,aAAOI,KAAKC,EAAZ,EAAgB;EACd,YAAIC,MAAMF,KAAKC,EAAL,KAAY,CAAtB;EACA,YAAIN,QAAQH,EAAEU,GAAF,CAAR,EAAgBH,CAAhB,IAAqB,CAAzB,EAA4BE,KAAKC,GAAL,CAA5B,KACKF,KAAKE,MAAM,CAAX;EACN;EACD,aAAOF,EAAP;EACD;EApBI,GAAP;EAsBD;;EAED,SAASH,qBAAT,CAA6BO,CAA7B,EAAgC;EAC9B,SAAO,UAASC,CAAT,EAAYN,CAAZ,EAAe;EACpB,WAAOO,YAAUF,EAAEC,CAAF,CAAV,EAAgBN,CAAhB,CAAP;EACD,GAFD;EAGD;;EC7BD,IAAIQ,oBAAkBC,WAASF,WAAT,CAAtB;;ECDO,IAAIu6D,OAAK75D,KAAK8R,EAAd;;ECQP,IAAMipE,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA27B,cAAY/1B,OAAZ,EAAqBxV,GAArB;EACA2rC,gBAAcn2B,OAAd,EAAuBlV,KAAvB,EAA8BN,GAA9B;EACAmsC,gBAAc32B,OAAd,EAAuBxV,GAAvB;;EAEA;EACA;EACA;;EAEA,MAAIA,IAAIsS,KAAJ,CAAUm7B,MAAV,KAAqB,IAAzB,EAA+B;EAC7BhG,eAASjyB,OAAT,EAAkBlV,KAAlB,EAAyBN,GAAzB;EACD,GAFD,MAEO;EACL4nC,eAASpyB,OAAT,EAAkBlV,KAAlB,EAAyBN,GAAzB;EACD;;EAED4sC,uBAAqBp3B,OAArB,EAA8BlV,KAA9B,EAAqCN,GAArC;EACD,CAlBD;;ECJA,IAAM+jC,kBAAgB,SAAhBA,aAAgB,CACpBC,YADoB,EAEpB3tB,UAFoB,EAGpBvE,QAHoB,EAIpB0D,OAJoB,EAKpBxV,GALoB,EAMpBikC,SANoB,EAOjB;EACH,MAAIjkC,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC,EAAqCikC,SAArC;;EAEAxK,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C,EAAkDikC,SAAlD;;EAEA,YAAIpoE,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CA9BD;;ECDA,IAAMq3B,gBAAgB,SAAhBA,aAAgB,CAAC1tC,GAAD,EAAMu9B,KAAN;EAAA,SACpBv9B,IAAIsS,KAAJ,CAAUw5B,UAAV,IAAwBv3C,aAAWyL,IAAIsS,KAAJ,CAAUw5B,UAArB,CAAxB,GACI9rC,IAAIsS,KAAJ,CAAUw5B,UAAV,CAAqBvO,KAArB,CADJ,GAEIA,KAHgB;EAAA,CAAtB;;EAKA,IAAMoQ,YAAY,SAAZA,SAAY,CAACn4B,OAAD,EAAUxV,GAAV,EAAenY,KAAf,EAAyB;EACzC2tB,UAAQM,IAAR;EACAN,UAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EAEA4F,UAAQO,SAAR;EACAP,UAAQo4B,WAAR,CAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB;EACAp4B,UAAQS,WAAR,GAAsBjW,IAAIsS,KAAJ,CAAUu7B,oBAAhC;;EAEAr4B,UAAQx3B,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB6J,MAAMhgC,CAAN,CAAQyR,CAA1B,EAA6B,CAA7B,EAAgC,IAAI9Q,KAAK8R,EAAzC,EAA6C,KAA7C;;EAEAk7C,UAAQU,MAAR;EACAV,UAAQW,OAAR;EACAX,UAAQG,SAAR;;EAEAH,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUy1B,kBAAV,GAChB/nC,IAAIsS,KAAJ,CAAUy1B,kBADM,GAEhBlgD,MAAMzsB,CAFV;EAGAo6C,UAAQS,WAAR,GAAsB,OAAtB;EACAT,UAAQQ,SAAR,GAAoB,CAApB;EACAR,UAAQx3B,GAAR,CAAY6J,MAAMtgC,CAAlB,EAAqBsgC,MAAMtsB,CAA3B,EAA8B,CAA9B,EAAiC,IAAI/S,KAAK8R,EAA1C,EAA8C,KAA9C;EACAk7C,UAAQzwC,IAAR;EACAywC,UAAQU,MAAR;;EAEAV,UAAQG,SAAR;;EAEAH,UAAQW,OAAR;;EAEAX,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUo6B,cAA9B;EACA71B,mBACErB,OADF,EAEEy2B,aAAajsC,GAAb,EAAkBnY,MAAM01C,KAAxB,EAA+B,CAA/B,IAAoC,EAFtC,EAGE,EAHF,EAIE,QAJF,EAKEv9B,IAAIsS,KAAJ,CAAUw7B,mBALZ,EAME9tC,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CANpB,EAOE27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAPrB,EAQE/nB,MAAMhgC,CAAN,CAAQyR,CAAR,GAAY,EARd,EASEuuB,MAAMhgC,CAAN,CAAQg0D,KATV,EAUE,CAVF;;EAaArG,UAAQW,OAAR;;EAEA,MAAM43B,aAAa,CAAnB;EACAv4B,UAAQM,IAAR;EACAN,UAAQO,SAAR;EACAP,UAAQ6B,YAAR,GAAuB,YAAvB;EACA7B,UAAQ8B,SAAR,GAAoB,QAApB,CAnDyC;EAoDzC9B,UAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUw7B,mBAA9B;EACAt4B,UAAQqC,QAAR,CACE61B,cAAc1tC,GAAd,EAAmBnY,MAAM07B,MAAzB,CADF,EAEEvjB,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAFpB,EAGE27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAAnB,GAAuBm+B,UAHzB;EAKAv4B,UAAQqC,QAAR,CACEhwB,MAAMhuB,CADR,EAEEmmC,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAFpB,EAGE27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAAnB,GAAuBm+B,UAHzB;EAKAv4B,UAAQW,OAAR;EACD,CAhED;;ECAA,IAAMooB,YAAU,SAAVA,OAAU,QAAS;EAAA,MACf99B,QADe,GACqCH,KADrC,CACfG,QADe;EAAA,MACLlE,KADK,GACqC+D,KADrC,CACL/D,KADK;EAAA,MACE8c,eADF,GACqC/Y,KADrC,CACE+Y,eADF;EAAA,MACmBlE,aADnB,GACqC7U,KADrC,CACmB6U,aADnB;;EAAA,mBAEYi2B,UAAU3qC,QAAV,CAFZ;EAAA;EAAA,MAEhByX,WAFgB;EAAA,MAEHC,WAFG;;EAGvB,MAAM8rB,YAAY,CAAC1nC,MAAMuhC,IAAP,EAAavhC,MAAMwhC,IAAnB,CAAlB;EACA,MAAMiQ,cAAcvxC,WACjBnwC,MADiB,CACV23E,UAAUv5E,GAAV,CAAc;EAAA,WAAK21E,UAAU//B,KAAV,EAAiB7zC,KAAjB,CAAuB5E,CAAvB,CAAL;EAAA,GAAd,CADU,EAEjBc,KAFiB,CAEX,CAACuvD,WAAD,EAAcC,WAAd,CAFW,CAApB;;EAIA,MAAM81B,iBAAiBD,YAAYrhF,IAAZ,GAAmBL,MAAnB,CAA0B23E,SAA1B,CAAvB;;EAEA,MAAMxD,KAAKrlE,IAAEklC,KAAF,CAAX;EACA,MAAMy8B,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;;EAEA,MAAM0jC,eAAe3qB,kBACjBA,eADiB,GAEjB9c,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB,aAAK;EACpB,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGLgS,SAAGhS,EAAEgD,GAHA;EAILlC,aAAOs7E,SAJF;EAKLzqB,aAAO,CALF;EAML+zB,mBAAa9sC,SAAS6R,KAAT,CAAe47B,aANvB;EAOLlkF,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,UAACkV,CAAD,EAAIrX,CAAJ,EAAU;EAC7B,eAAO;EACLsC,eAAKhD,EAAEgD,GADF;EAELgxD,iBAAQrzD,KAAK8R,EAAL,GAAU,CAAV,GAAc/R,CAAf,GAAoBV,EAAEmC,MAAF,CAAS5C,MAF/B;EAGLkS,aAAG4+C,WAHE;EAILl1C,cAAIk1C,WAJC;EAKLj1C,cAAIi1C,WALC;EAMLh3B,gBAAMthB,EAAEshB,IANH;EAOLr5B,aAAG+X;EAPE,SAAP;EASD,OAVO;EAPH,KAAP;EAmBD,GApBD,CAFJ;;EAwBA,MAAMy2C,aAAa9Z,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB,aAAK;EACvC,WAAO;EACLG,WAAKhD,EAAEgD,GADF;EAELuQ,SAAGqlE,GAAG54E,CAAH,CAFE;EAGLgS,SAAGhS,EAAEgD,GAHA;EAILlC,aAAOs7E,SAJF;EAKLzqB,aAAO/Y,SAAS6R,KAAT,CAAeq1B,WALjB;EAML4F,mBAAa9sC,SAAS6R,KAAT,CAAe47B,aANvB;EAOLlkF,cAAQnC,EAAEmC,MAAF,CAASU,GAAT,CAAa,UAACkV,CAAD,EAAIrX,CAAJ,EAAU;EAC7B,eAAO;EACLsC,eAAKhD,EAAEgD,GADF;EAELgxD,iBAAQrzD,KAAK8R,EAAL,GAAU,CAAV,GAAc/R,CAAf,GAAoBV,EAAEmC,MAAF,CAAS5C,MAF/B;EAGLkS,aAAG00E,YAAYpuE,EAAErE,CAAd,CAHE;EAILyH,cAAIirE,eAAeruE,EAAEob,EAAjB,CAJC;EAKL/X,cAAIgrE,eAAeruE,EAAEqb,EAAjB,CALC;EAMLiG,gBAAMthB,EAAEshB,IANH;EAOLr5B,aAAG+X;EAPE,SAAP;EASD,OAVO;EAPH,KAAP;EAmBD,GApBkB,CAAnB;EAqBA;EACA0gC,QAAM+Y,eAAN,GAAwBhD,UAAxB;;EAEA0tB,kBACEC,YADF,EAEE3tB,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZpkC,UAAM0Y,QAAN,GAAiB5C,aACfjB,aADe,EAEf1U,QAFe,EAGfkkC,IAAI9F,MAAJ,CAAW,UAACC,GAAD,EAAM70E,CAAN,EAAY;EACrB60E,YAAMA,IAAIhnD,MAAJ,CACJ7tB,EAAED,MAAF,CAASU,GAAT,CAAa,aAAK;EAChB,eAAO;EACLmP,aAAG5P,EAAEY,GADA;EAEL0yE,iBAAOR,iBAAiBl1E,EAAEq5B,IAAnB,CAFF;EAGLqiC,kBAAQ17D,EAAEq5B,IAAF,CAAOj3B,EAAEY,GAAT,CAHH;EAILtD,aAAGM,EAAEyR,CAAF,GAAM9Q,KAAK6S,GAAL,CAASxT,EAAEg0D,KAAX,CAAN,GAA0Bpb,SAASkP,KAAT,CAAetrC,KAAf,GAAuB,CAJ/C;EAKL9I,aACEklC,SAASkP,KAAT,CAAeC,MAAf,IACC/nD,EAAEyR,CAAF,GAAM9Q,KAAK2S,GAAL,CAAStT,EAAEg0D,KAAX,CAAN,GAA0Bpb,SAASkP,KAAT,CAAeC,MAAf,GAAwB,CADnD,CANG;EAQLx0C,aAAGnR,EAAEmR,CARA;EASLvT,aAAGA,CATE;EAULq5B,gBAAMr5B,EAAEq5B;EAVH,SAAP;EAYD,OAbD,CADI,CAAN;EAgBA,aAAO49C,GAAP;EACD,KAlBD,EAkBG,EAlBH,CAHe,CAAjB;;EAwBA;;;EAGA,aAASyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAM0G,iBAAiB,EAAvB;EACA;EACA;EACA,UAAMC,UAAU/nC,MAAM0Y,QAAN,CAAev3B,IAAf,CAAoBggD,EAApB,EAAwBC,EAAxB,EAA4B0G,cAA5B,CAAhB;EACA,UAAIC,OAAJ,EAAa;EACX,YAAM8F,cAAc,GAApB;;EAEA,YAAMC,UAAUrgF,OAAOkhD,MAAP,CAAc,EAAd,EAAkBxO,QAAlB,CAAhB;EACA2tC,gBAAQ97B,KAAR,CAAco5B,UAAd,GAA2B1D,YACzBoG,QAAQ97B,KAAR,CAAco5B,UADW,EAEzByC,WAFyB,CAA3B;EAIAC,gBAAQ97B,KAAR,CAAc47B,aAAd,GAA8B,CAA9B;;EAEA3K,qBACEpuB,aADF,EAEEwvB,IAAIj6E,GAAJ,CAAQ,aAAK;EACX,cAAMT,IAAIpC,CAAV;EACAoC,YAAEuvD,KAAF,GAAU3xD,EAAEgD,GAAF,KAAUw9E,QAAQnnD,IAAR,CAAarnB,CAAvB,GAA2B,GAA3B,GAAiCs0E,WAA3C;;EAEAlkF,YAAEsjF,WAAF,GAAgB1lF,EAAEgD,GAAF,KAAUw9E,QAAQnnD,IAAR,CAAarnB,CAAvB,GAA2B,CAA3B,GAA+B,CAA/C;;EAEA,iBAAO5P,CAAP;EACD,SAPD,CAFF,EAUEmkF,OAVF;;EAaAT,kBAAUx4B,aAAV,EAAyB1U,QAAzB,EAAmC4nC,QAAQnnD,IAA3C;EACD,OAxBD,MAwBO;EACLqiD,qBAAWpuB,aAAX,EAA0BkB,UAA1B,EAAsC5V,QAAtC;EACD;EACF;;EAED,aAASqhC,eAAT,GAA2B;EACzByB,mBAAWpuB,aAAX,EAA0BkB,UAA1B,EAAsC5V,QAAtC;EACD;;EAEDH,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;;EAEAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GA9ED;EA+ED,CA5ID;;ECRA,IAAM6hF,gBAAgB;EACpB1+B,SAAO;EACLvqC,UAAM,QADD;EAELyqC,YAAQ;EACN5d,WAAK,EADC;EAENnP,cAAQ,EAFF;EAGNx7B,YAAM,EAHA;EAINK,aAAO;EAJD;EAFH,GADa;EAUpB2qD,SAAO;EACLg5B,YAAQ,CADH;EAELI,gBAAY,SAFP;EAGLM,qBAAiB,SAHZ;EAILD,wBAAoB,KAJf;EAKLD,gBAAY,IALP;;EAOLI,eAAW,IAPN;EAQLQ,oBAAgB,SARX;EASLC,qBAAiB,EATZ;;EAWLkB,0BAAsB,SAXjB;EAYL9F,wBAAoB,SAZf;EAaL+F,yBAAqB,SAbhB;;EAeLI,mBAAe,CAfV;EAgBLhL,iBAAa,CAhBR;;EAkBLyE,iBAAa,IAlBR;EAmBL2F,kBAAc,IAnBT;;EAqBLT,kBAAc,IArBT;EAsBLE,oBAAgB,EAtBX;EAuBLI,qBAAiB,GAvBZ;EAwBLD,sBAAkB,CAAC,OAAD,EAAU,SAAV,CAxBb;;EA0BLvJ,sBAAkB,GA1Bb;EA2BLH,uBAAmB,EA3Bd;;EA6BLzO,iBAAa,KA7BR;EA8BLC,iBAAa1Q,OAAOE,IA9Bf;EA+BLipB,YAAQ,IA/BH;EAAA;EAVa,CAAtB;;ECIA,IAAMa,SAAShP,aAAa+O,aAAb,EAA4B9P,SAA5B,EAAqC,CAClDyK,QADkD,EAElDE,QAFkD,EAGlDC,SAHkD,CAArC,CAAf;;ECHA,IAAMoF,eAAe;EACnB5+B,SAAO;EACLvqC,UAAM,OADD;EAELyqC,YAAQ;EACN5d,WAAK,CADC;EAENnP,cAAQ,CAFF;EAGNx7B,YAAM,CAHA;EAINK,aAAO;EAJD;EAFH,GADY;EAUnB2qD,SAAO;EACLg5B,YAAQ,CADH;EAELI,gBAAY,SAFP;EAGLM,qBAAiB,SAHZ;EAILD,wBAAoB,KAJf;EAKLD,gBAAY,IALP;;EAOLI,eAAW,IAPN;EAQLQ,oBAAgB,SARX;EASLC,qBAAiB,EATZ;;EAWLkB,0BAAsB,SAXjB;EAYL9F,wBAAoB,OAZf;EAaL+F,yBAAqB,SAbhB;;EAeLI,mBAAe,CAfV;EAgBLhL,iBAAa,CAhBR;;EAkBL2J,kBAAc,IAlBT;EAmBLE,oBAAgB,EAnBX;EAoBLI,qBAAiB,GApBZ;EAqBLD,sBAAkB,CAAC,OAAD,EAAU,SAAV,CArBb;;EAuBLvJ,sBAAkB,GAvBb;EAwBLH,uBAAmB;EAxBd;EAVY,CAArB;;EAsCA,IAAMgL,QAAQlP,aAAaiP,YAAb,EAA2BhQ,SAA3B,CAAd;;ECzCA,IAAM6M,cAAY,SAAZA,SAAY,MAAO;EACvB,MAAMjzB,cACJ3vD,KAAKgF,GAAL,CAASwyC,IAAI2P,KAAJ,CAAU4B,UAAV,GAAuB,CAAhC,EAAmCvR,IAAI2P,KAAJ,CAAU6B,WAAV,GAAwB,CAA3D,IACAxR,IAAIsS,KAAJ,CAAUkxB,iBAFZ;EAGA,MAAMtrB,cAAcC,cAAcnY,IAAIsS,KAAJ,CAAUqxB,gBAA5C;;EAEA,SAAO,CAACzrB,WAAD,EAAcC,WAAd,CAAP;EACD,CAPD;;ECEA,IAAMs2B,iBAAiB,SAAjBA,cAAiB,CAACzuC,GAAD,EAAMvzC,KAAN,EAAaiiF,IAAb,EAAsB;EAC3C,MAAMhtD,SAAS0pD,YAAUprC,GAAV,EAAe,CAAf,IAAoBvzC,KAAnC;;EAEA,MAAIkiF,mBAAJ;;EAEA,MAAI3uC,IAAIsS,KAAJ,CAAUs8B,cAAV,KAA6B,IAAjC,EAAuC;EACrC,QAAM5mE,YACJg4B,IAAIsS,KAAJ,CAAUu8B,uBAAV,GAAoC,CAApC,GACI7uC,IAAIsS,KAAJ,CAAUu8B,uBADd,GAEIntD,SAASse,IAAIsS,KAAJ,CAAUu8B,uBAHzB;;EAKAF,iBAAanmF,KAAKC,GAAL,CAASimF,IAAT,EAAe1mE,SAAf,CAAb;EACD,GAPD,MAOO;EACL2mE,iBAAajtD,MAAb;EACD;;EAED,SAAOitD,aAAaliF,KAAb,GAAqBuzC,IAAIsS,KAAJ,CAAUq6B,eAAtC;EACD,CAjBD;;ECCA,IAAMmC,YAAY,SAAZA,SAAY,CAACt5B,OAAD,EAAUxV,GAAV,EAAezP,IAAf,EAAqBhoC,CAArB,EAAwBwmF,QAAxB,EAAkCL,IAAlC,EAAwCjiF,KAAxC,EAAkD;EAClE,MAAMi1B,SAAS+sD,eAAezuC,GAAf,EAAoBvzC,KAApB,EAA2BiiF,IAA3B,CAAf;EACA,MAAM7yB,QAAS,IAAIrzD,KAAK8R,EAAV,GAAgBy0E,QAA9B;;EAEAl4B,mBACErB,OADF,EAEEjlB,OAAO,EAFT,EAGE,EAHF,EAIE,QAJF,EAKEyP,IAAIsS,KAAJ,CAAUo6B,cALZ,EAME1sC,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CANpB,EAOE27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAPrB,EAQEluB,MARF,EASEm6B,QAAQtzD,CAAR,GAAYszD,QAAQ,CATtB,EAUE,CAVF;EAYD,CAhBD;;ECCA,IAAM0nB,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAC1CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAM67B,UAAUztD,MACbm5B,UADa,CACF;EAAA,WAAKtvD,EAAEsvD,UAAP;EAAA,GADE,EAEb+T,QAFa,CAEJ;EAAA,WAAKrjE,EAAEqjE,QAAP;EAAA,GAFI,EAGbhT,WAHa,CAGD;EAAA,WAAKrwD,EAAEmb,EAAP;EAAA,GAHC,EAIbm1C,WAJa,CAID;EAAA,WAAKtwD,EAAEyR,CAAP;EAAA,GAJC,EAKb8xD,QALa,CAKJprB,IAAIorB,QALA,EAMb5V,OANa,CAMLA,OANK,CAAhB;;EAH0C;EAAA;EAAA;;EAAA;EAW1C,yBAAgBlV,KAAhB,8HAAuB;EAAA,UAAZz4C,CAAY;;EACrB2tD,cAAQw5B,UAAR,GAAqB,EAArB;EACA,UAAIN,OAAO,CAAX;EAFqB;EAAA;EAAA;;EAAA;EAGrB,8BAAc7mF,EAAEyD,KAAhB,mIAAuB;EAAA,cAAdsU,CAAc;;EACrB41C,kBAAQM,IAAR;EACAN,kBAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;EACA4F,kBAAQO,SAAR;EACAP,kBAAQgC,SAAR,GAAoBwwB,YAAoBpoE,EAAExE,CAAtB,EAAyBwE,EAAE45C,KAA3B,CAApB;EACAhE,kBAAQ0tB,WAAR,GAAsB,CAAtB;EACA1tB,kBAAQS,WAAR,GAAsBr2C,EAAExE,CAAxB;EACAo6C,kBAAQy5B,WAAR,GAAsBrvE,EAAExE,CAAxB;;EAEAqwE,kBAAQ7rE,CAAR;EACA41C,kBAAQzwC,IAAR;EACAywC,kBAAQU,MAAR;EACAV,kBAAQW,OAAR;;EAEAu4B,iBAAOlmF,KAAKC,GAAL,CAASimF,IAAT,EAAe9uE,EAAEtG,CAAjB,CAAP;EACD;EAlBoB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAoBrBw1E,gBAAUt5B,OAAV,EAAmBxV,GAAnB,EAAwBn4C,EAAEy7D,SAA1B,EAAqCz7D,EAAEU,CAAvC,EAA0C+3C,MAAMl5C,MAAhD,EAAwDsnF,IAAxD,EAA8D,CAA9D;EACD;EAhCyC;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAiC3C,CAjCD;;ECCA,IAAM3K,kBAAgB,SAAhBA,aAAgB,CAACC,YAAD,EAAe3tB,UAAf,EAA2BvE,QAA3B,EAAqC0D,OAArC,EAA8CxV,GAA9C,EAAsD;EAC1E,MAAIA,IAAI4R,SAAJ,CAAcC,OAAd,KAA0B,KAA9B,EAAqC;EACnC,WAAO,IAAIknB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtCX,mBAAW/tB,OAAX,EAAoBa,UAApB,EAAgCrW,GAAhC;;EAEAy5B,cAAQpjB,UAAR;EACD,KAJM,CAAP;EAKD,GAND,MAMO;EACL,WAAO,IAAI0iB,OAAJ,CAAY,UAACU,OAAD,EAAUyK,MAAV,EAAqB;EACtC,UAAMC,uBAAuBC,QAAiBJ,YAAjB,EAA+B3tB,UAA/B,CAA7B;;EAEA,UAAMguB,iBAAiBpnB,MAAM,mBAAW;EACtC,YAAMphD,IAAIrT,KAAKgF,GAAL,CAAS,CAAT,EAAY82E,WAAUzmB,UAAU/L,QAApB,CAAZ,CAAV;;EAEAyxB,qBAAW/tB,OAAX,EAAoB2uB,qBAAqBtoE,CAArB,CAApB,EAA6CmkC,GAA7C;;EAEA,YAAInkC,MAAM,CAAV,EAAa;EACXwoE,yBAAel8E,IAAf;EACAsxE,kBAAQpjB,UAAR;EACD;EACF,OATsB,CAAvB;EAUD,KAbM,CAAP;EAcD;EACF,CAvBD;;ECAA,IAAM64B,YAAY,SAAZA,SAAY,CAAC15B,OAAD,EAAUxsB,YAAV,EAAqBgX,GAArB,EAA0B+uC,QAA1B,EAAuC;EACvDv5B,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA5mB,eAAUt9B,IAAV,CAAe,UAAS6N,CAAT,EAAY;EACzB,QAAMyM,QAAQqgB,OAAO,IAAP,CAAd;EACA,QAAM55B,QAAQuZ,MAAMiqB,IAAN,CAAW,OAAX,CAAd;;EAEA,QAAIy+C,OAAO,CAAX;EACA1oE,UAAMkpB,SAAN,CAAgB,QAAhB,EAA0BxjC,IAA1B,CAA+B,UAAS7D,CAAT,EAAY;EACzC2tD,cAAQM,IAAR;EACAN,cAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;;EAEA,UAAMu/B,QAAQ9oD,OAAO,IAAP,CAAd;EACA,UAAM/tB,QAAQ62E,MAAMl/C,IAAN,CAAW,MAAX,CAAd;;EAEAulB,cAAQO,SAAR;EACAP,cAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,cAAQgC,SAAR,GAAoBwwB,YAAoB1vE,KAApB,EAA2B62E,MAAMl/C,IAAN,CAAW,SAAX,CAA3B,CAApB;EACAulB,cAAQ0tB,WAAR,GAAsB,CAAtB;EACA1tB,cAAQS,WAAR,GAAsB39C,KAAtB;EACAk9C,cAAQy5B,WAAR,GAAsB32E,KAAtB;EACAk9C,cAAQw5B,UAAR,GAAqB,EAArB;;EAEA,UAAM/kF,IAAI,IAAImlF,MAAJ,CAAWD,MAAMl/C,IAAN,CAAW,GAAX,CAAX,CAAV;EACAulB,cAAQ/oD,KAAR,CAAcA,KAAd,EAAqBA,KAArB;EACA+oD,cAAQzwC,IAAR,CAAa9a,CAAb;EACAurD,cAAQU,MAAR,CAAejsD,CAAf;EACAurD,cAAQG,SAAR;EACAH,cAAQW,OAAR;;EAEA,UAAI,CAACx8C,QAAM,CAACw1E,MAAMl/C,IAAN,CAAW,GAAX,CAAP,CAAL,EAA8B;EAC5By+C,eAAOlmF,KAAKC,GAAL,CAASimF,IAAT,EAAe,CAACS,MAAMl/C,IAAN,CAAW,GAAX,CAAhB,CAAP;EACD;EACF,KAzBD;;EA2BA6+C,cAAUt5B,OAAV,EAAmBxV,GAAnB,EAAwBzmC,EAAE+pD,SAA1B,EAAqC/pD,EAAEhR,CAAvC,EAA0CwmF,QAA1C,EAAoDL,IAApD,EAA0DjiF,KAA1D;EACD,GAjCD;EAkCD,CArCD;;ECFA,IAAM83E,qBAAmB,SAAnBA,gBAAmB,CAAC/uB,OAAD,EAAUlV,KAAV,EAAiBN,GAAjB,EAAyB;EAChDwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;EACA,MAAMowB,WAAW,IAAIx1E,GAAJ,EAAjB;;EAEA,MAAMihF,UAAUztD,MACbm5B,UADa,CACF;EAAA,WAAKtvD,EAAEsvD,UAAP;EAAA,GADE,EAEb+T,QAFa,CAEJ;EAAA,WAAKrjE,EAAEqjE,QAAP;EAAA,GAFI,EAGbhT,WAHa,CAGD;EAAA,WAAKrwD,EAAEmb,EAAP;EAAA,GAHC,EAIbm1C,WAJa,CAID;EAAA,WAAKtwD,EAAEyR,CAAP;EAAA,GAJC,EAKb8xD,QALa,CAKJprB,IAAIorB,QALA,EAMb5V,OANa,CAMLA,OANK,CAAhB;;EAQA,MAAIjtD,IAAI,CAAR;;EAZgD;EAAA;EAAA;;EAAA;EAchD,yBAAgB+3C,KAAhB,8HAAuB;EAAA,UAAZz4C,CAAY;EAAA;EAAA;EAAA;;EAAA;EACrB,8BAAcA,EAAEyD,KAAhB,mIAAuB;EAAA,cAAdsU,CAAc;;EACrB,cAAMtH,QAAQw/C,gBAAgB,EAAEvvD,CAAlB,CAAd;;EAEAitD,kBAAQM,IAAR;EACAN,kBAAQ7zC,SAAR,CAAkBq+B,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB,CAApC,EAAuC27B,IAAI2P,KAAJ,CAAUC,MAAV,GAAmB,CAA1D;EACA4F,kBAAQO,SAAR;EACAP,kBAAQgC,SAAR,GAAoBl/C,KAApB;;EAEAmzE,kBAAQ7rE,CAAR;EACA41C,kBAAQzwC,IAAR;EACAywC,kBAAQW,OAAR;;EAEA6pB,mBAASj1E,GAAT,CAAauN,KAAb,EAAoBsH,CAApB;EACD;EAdoB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAetB;EA7B+C;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EA+BhD,SAAOogE,QAAP;EACD,CAhCD;;ECHA;;;;;;;;;;;EAWA,SAASqP,aAAT,CAAuBpjF,KAAvB,EAA8BsqE,SAA9B,EAAyC+Y,SAAzC,EAAoD5qC,SAApD,EAA+D;EAC7D,MAAIt9C,SAAS6E,MAAM7E,MAAnB;EAAA,MACIiF,QAAQijF,aAAa5qC,YAAY,CAAZ,GAAgB,CAAC,CAA9B,CADZ;;EAGA,SAAQA,YAAYr4C,OAAZ,GAAsB,EAAEA,KAAF,GAAUjF,MAAxC,EAAiD;EAC/C,QAAImvE,UAAUtqE,MAAMI,KAAN,CAAV,EAAwBA,KAAxB,EAA+BJ,KAA/B,CAAJ,EAA2C;EACzC,aAAOI,KAAP;EACD;EACF;EACD,SAAO,CAAC,CAAR;EACD;;ECrBD;;;;;;;EAOA,SAASkjF,SAAT,CAAmBvkF,KAAnB,EAA0B;EACxB,SAAOA,UAAUA,KAAjB;EACD;;ECTD;;;;;;;;;;EAUA,SAASwkF,aAAT,CAAuBvjF,KAAvB,EAA8BjB,KAA9B,EAAqCskF,SAArC,EAAgD;EAC9C,MAAIjjF,QAAQijF,YAAY,CAAxB;EAAA,MACIloF,SAAS6E,MAAM7E,MADnB;;EAGA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAI6E,MAAMI,KAAN,MAAiBrB,KAArB,EAA4B;EAC1B,aAAOqB,KAAP;EACD;EACF;EACD,SAAO,CAAC,CAAR;EACD;;EChBD;;;;;;;;;EASA,SAASojF,WAAT,CAAqBxjF,KAArB,EAA4BjB,KAA5B,EAAmCskF,SAAnC,EAA8C;EAC5C,SAAOtkF,UAAUA,KAAV,GACHwkF,cAAcvjF,KAAd,EAAqBjB,KAArB,EAA4BskF,SAA5B,CADG,GAEHD,cAAcpjF,KAAd,EAAqBsjF,SAArB,EAAgCD,SAAhC,CAFJ;EAGD;;ECfD;;;;;;;;;EASA,SAASI,aAAT,CAAuBzjF,KAAvB,EAA8BjB,KAA9B,EAAqC;EACnC,MAAI5D,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MAAvC;EACA,SAAO,CAAC,CAACA,MAAF,IAAYqoF,YAAYxjF,KAAZ,EAAmBjB,KAAnB,EAA0B,CAA1B,IAA+B,CAAC,CAAnD;EACD;;ECdD;;;;;;;;;EASA,SAAS2kF,iBAAT,CAA2B1jF,KAA3B,EAAkCjB,KAAlC,EAAyC4kF,UAAzC,EAAqD;EACnD,MAAIvjF,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM7E,MADvC;;EAGA,SAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAIwoF,WAAW5kF,KAAX,EAAkBiB,MAAMI,KAAN,CAAlB,CAAJ,EAAqC;EACnC,aAAO,IAAP;EACD;EACF;EACD,SAAO,KAAP;EACD;;ECZD;EACA,IAAI63C,qBAAmB,GAAvB;;EAEA;;;;;;;;;;;EAWA,SAAS2rC,cAAT,CAAwB5jF,KAAxB,EAA+BjC,MAA/B,EAAuC26C,QAAvC,EAAiDirC,UAAjD,EAA6D;EAC3D,MAAIvjF,QAAQ,CAAC,CAAb;EAAA,MACIyjF,WAAWJ,aADf;EAAA,MAEI5iC,WAAW,IAFf;EAAA,MAGI1lD,SAAS6E,MAAM7E,MAHnB;EAAA,MAIIssC,SAAS,EAJb;EAAA,MAKIq8C,eAAe/lF,OAAO5C,MAL1B;;EAOA,MAAI,CAACA,MAAL,EAAa;EACX,WAAOssC,MAAP;EACD;EACD,MAAIiR,QAAJ,EAAc;EACZ36C,aAASo7D,SAASp7D,MAAT,EAAiB+/C,YAAUpF,QAAV,CAAjB,CAAT;EACD;EACD,MAAIirC,UAAJ,EAAgB;EACdE,eAAWH,iBAAX;EACA7iC,eAAW,KAAX;EACD,GAHD,MAIK,IAAI9iD,OAAO5C,MAAP,IAAiB88C,kBAArB,EAAuC;EAC1C4rC,eAAWtZ,QAAX;EACA1pB,eAAW,KAAX;EACA9iD,aAAS,IAAIqsE,QAAJ,CAAarsE,MAAb,CAAT;EACD;EACDgmF,SACA,OAAO,EAAE3jF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAI4D,QAAQiB,MAAMI,KAAN,CAAZ;EAAA,QACI4jF,WAAWtrC,YAAY,IAAZ,GAAmB35C,KAAnB,GAA2B25C,SAAS35C,KAAT,CAD1C;;EAGAA,YAAS4kF,cAAc5kF,UAAU,CAAzB,GAA8BA,KAA9B,GAAsC,CAA9C;EACA,QAAI8hD,YAAYmjC,aAAaA,QAA7B,EAAuC;EACrC,UAAIC,cAAcH,YAAlB;EACA,aAAOG,aAAP,EAAsB;EACpB,YAAIlmF,OAAOkmF,WAAP,MAAwBD,QAA5B,EAAsC;EACpC,mBAASD,KAAT;EACD;EACF;EACDt8C,aAAOroC,IAAP,CAAYL,KAAZ;EACD,KARD,MASK,IAAI,CAAC8kF,SAAS9lF,MAAT,EAAiBimF,QAAjB,EAA2BL,UAA3B,CAAL,EAA6C;EAChDl8C,aAAOroC,IAAP,CAAYL,KAAZ;EACD;EACF;EACD,SAAO0oC,MAAP;EACD;;EC5DD;EACA,IAAIy8C,mBAAmB99C,YAASA,UAAO+9C,kBAAhB,GAAqCvjF,SAA5D;;EAEA;;;;;;;EAOA,SAASwjF,aAAT,CAAuBrlF,KAAvB,EAA8B;EAC5B,SAAOY,UAAQZ,KAAR,KAAkBk8C,cAAYl8C,KAAZ,CAAlB,IACL,CAAC,EAAEmlF,oBAAoBnlF,KAApB,IAA6BA,MAAMmlF,gBAAN,CAA/B,CADH;EAED;;ECdD;;;;;;;;;;;EAWA,SAASG,WAAT,CAAqBrkF,KAArB,EAA4BskF,KAA5B,EAAmCha,SAAnC,EAA8Cia,QAA9C,EAAwD98C,MAAxD,EAAgE;EAC9D,MAAIrnC,QAAQ,CAAC,CAAb;EAAA,MACIjF,SAAS6E,MAAM7E,MADnB;;EAGAmvE,gBAAcA,YAAY8Z,aAA1B;EACA38C,aAAWA,SAAS,EAApB;;EAEA,SAAO,EAAErnC,KAAF,GAAUjF,MAAjB,EAAyB;EACvB,QAAI4D,QAAQiB,MAAMI,KAAN,CAAZ;EACA,QAAIkkF,QAAQ,CAAR,IAAaha,UAAUvrE,KAAV,CAAjB,EAAmC;EACjC,UAAIulF,QAAQ,CAAZ,EAAe;EACb;EACAD,oBAAYtlF,KAAZ,EAAmBulF,QAAQ,CAA3B,EAA8Bha,SAA9B,EAAyCia,QAAzC,EAAmD98C,MAAnD;EACD,OAHD,MAGO;EACLmkC,kBAAUnkC,MAAV,EAAkB1oC,KAAlB;EACD;EACF,KAPD,MAOO,IAAI,CAACwlF,QAAL,EAAe;EACpB98C,aAAOA,OAAOtsC,MAAd,IAAwB4D,KAAxB;EACD;EACF;EACD,SAAO0oC,MAAP;EACD;;ECnCD;;;;;;;;;;EAUA,SAASpa,OAAT,CAAewoB,IAAf,EAAqBmL,OAArB,EAA8B5zB,IAA9B,EAAoC;EAClC,UAAQA,KAAKjyB,MAAb;EACE,SAAK,CAAL;EAAQ,aAAO06C,KAAKt1C,IAAL,CAAUygD,OAAV,CAAP;EACR,SAAK,CAAL;EAAQ,aAAOnL,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,CAAP;EACR,SAAK,CAAL;EAAQ,aAAOyoB,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,CAAP;EACR,SAAK,CAAL;EAAQ,aAAOyoB,KAAKt1C,IAAL,CAAUygD,OAAV,EAAmB5zB,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,EAAqCA,KAAK,CAAL,CAArC,CAAP;EAJV;EAMA,SAAOyoB,KAAKxoB,KAAL,CAAW2zB,OAAX,EAAoB5zB,IAApB,CAAP;EACD;;EChBD;EACA,IAAI6zB,cAAY1kD,KAAKC,GAArB;;EAEA;;;;;;;;;EASA,SAAS0kD,UAAT,CAAkBrL,IAAlB,EAAwB55C,KAAxB,EAA+BsY,SAA/B,EAA0C;EACxCtY,UAAQglD,YAAUhlD,UAAU2E,SAAV,GAAuBi1C,KAAK16C,MAAL,GAAc,CAArC,GAA0Cc,KAApD,EAA2D,CAA3D,CAAR;EACA,SAAO,YAAW;EAChB,QAAImxB,OAAO/wB,SAAX;EAAA,QACI+D,QAAQ,CAAC,CADb;EAAA,QAEIjF,SAAS8lD,YAAU7zB,KAAKjyB,MAAL,GAAcc,KAAxB,EAA+B,CAA/B,CAFb;EAAA,QAGI+D,QAAQrD,MAAMxB,MAAN,CAHZ;;EAKA,WAAO,EAAEiF,KAAF,GAAUjF,MAAjB,EAAyB;EACvB6E,YAAMI,KAAN,IAAegtB,KAAKnxB,QAAQmE,KAAb,CAAf;EACD;EACDA,YAAQ,CAAC,CAAT;EACA,QAAI+gD,YAAYxkD,MAAMV,QAAQ,CAAd,CAAhB;EACA,WAAO,EAAEmE,KAAF,GAAUnE,KAAjB,EAAwB;EACtBklD,gBAAU/gD,KAAV,IAAmBgtB,KAAKhtB,KAAL,CAAnB;EACD;EACD+gD,cAAUllD,KAAV,IAAmBsY,UAAUvU,KAAV,CAAnB;EACA,WAAOqtB,QAAMwoB,IAAN,EAAY,IAAZ,EAAkBsL,SAAlB,CAAP;EACD,GAhBD;EAiBD;;ECjCD;;;;;;;;;;;;;;;;;;;EAmBA,SAAS7vC,UAAT,CAAkBvS,KAAlB,EAAyB;EACvB,SAAO,YAAW;EAChB,WAAOA,KAAP;EACD,GAFD;EAGD;;ECnBD;;;;;;;;EAQA,IAAIqiD,oBAAkB,CAACkoB,gBAAD,GAAkBl2D,UAAlB,GAA6B,UAASyiC,IAAT,EAAe7iC,MAAf,EAAuB;EACxE,SAAOs2D,iBAAezzB,IAAf,EAAqB,UAArB,EAAiC;EACtC,oBAAgB,IADsB;EAEtC,kBAAc,KAFwB;EAGtC,aAASvkC,WAAS0B,MAAT,CAH6B;EAItC,gBAAY;EAJ0B,GAAjC,CAAP;EAMD,CAPD;;ECZA;EACA,IAAIquC,cAAY,GAAhB;EAAA,IACIC,aAAW,EADf;;EAGA;EACA,IAAIC,cAAYrvC,KAAKsvC,GAArB;;EAEA;;;;;;;;;EASA,SAASC,UAAT,CAAkB5L,IAAlB,EAAwB;EACtB,MAAI74C,QAAQ,CAAZ;EAAA,MACI0kD,aAAa,CADjB;;EAGA,SAAO,YAAW;EAChB,QAAIC,QAAQJ,aAAZ;EAAA,QACIK,YAAYN,cAAYK,QAAQD,UAApB,CADhB;;EAGAA,iBAAaC,KAAb;EACA,QAAIC,YAAY,CAAhB,EAAmB;EACjB,UAAI,EAAE5kD,KAAF,IAAWqkD,WAAf,EAA0B;EACxB,eAAOhlD,UAAU,CAAV,CAAP;EACD;EACF,KAJD,MAIO;EACLW,cAAQ,CAAR;EACD;EACD,WAAO64C,KAAKxoB,KAAL,CAAWzsB,SAAX,EAAsBvE,SAAtB,CAAP;EACD,GAbD;EAcD;;EC/BD;;;;;;;;EAQA,IAAIwlD,gBAAcJ,WAASL,iBAAT,CAAlB;;ECPA;;;;;;;;EAQA,SAASU,UAAT,CAAkBjM,IAAlB,EAAwB55C,KAAxB,EAA+B;EAC7B,SAAO4lD,cAAYX,WAASrL,IAAT,EAAe55C,KAAf,EAAsBmX,UAAtB,CAAZ,EAA6CyiC,OAAO,EAApD,CAAP;EACD;;ECXD;;;;;;;;;;;;;;;;;;;;;;;;;EAyBA,SAASwF,mBAAT,CAA2Bt8C,KAA3B,EAAkC;EAChC,SAAOwpC,eAAaxpC,KAAb,KAAuBq8C,cAAYr8C,KAAZ,CAA9B;EACD;;ECzBD;;;;;;;;;;;;;;;;;;;;;EAqBA,IAAIylF,aAAa1iC,WAAS,UAAS9hD,KAAT,EAAgBjC,MAAhB,EAAwB;EAChD,SAAOs9C,oBAAkBr7C,KAAlB,IACH4jF,eAAe5jF,KAAf,EAAsBqkF,YAAYtmF,MAAZ,EAAoB,CAApB,EAAuBs9C,mBAAvB,EAA0C,IAA1C,CAAtB,CADG,GAEH,EAFJ;EAGD,CAJgB,CAAjB;;ECtBA,IAAMopC,uBAAuB,SAAvBA,oBAAuB,CAAC1wC,GAAD,EAAM2wC,UAAN,EAAqB;EAChD,MAAMC,WAAW5wC,IAAIsS,KAAJ,CAAUu+B,cAA3B;EACA,MAAID,aAAa,IAAjB,EAAuB;EACrB,QAAIr8C,aAAWq8C,QAAX,CAAJ,EAA0B;EACxB,aAAOD,WAAW9mD,KAAX,CAAiB+mD,QAAjB,CAAP;EACD,KAFD,MAEO,IAAIhlF,UAAQglF,QAAR,CAAJ,EAAuB;EAC5B,UAAME,OAAOL,WAAWE,UAAX,EAAuBC,QAAvB,CAAb;EACA,UAAIE,KAAK1pF,MAAL,GAAc,CAAlB,EAAqB;EACnByxC,gBAAQuD,IAAR,CACE,qEACE00C,IAFJ;EAID;;EAED,aAAOF,QAAP;EACD;EACF;;EAED,SAAOD,UAAP;EACD,CAnBD;;ECQA,IAAMpS,YAAU,SAAVA,OAAU,QAAS;EAAA,MAErBhiC,KAFqB,GAWnB+D,KAXmB,CAErB/D,KAFqB;EAAA,MAGrBc,MAHqB,GAWnBiD,KAXmB,CAGrBjD,MAHqB;EAAA,MAIrBoD,QAJqB,GAWnBH,KAXmB,CAIrBG,QAJqB;EAAA,MAKrB0U,aALqB,GAWnB7U,KAXmB,CAKrB6U,aALqB;EAAA,MAMrBG,kBANqB,GAWnBhV,KAXmB,CAMrBgV,kBANqB;EAAA,MAOrBrF,YAPqB,GAWnB3P,KAXmB,CAOrB2P,YAPqB;EAAA,MAQrBmF,cARqB,GAWnB9U,KAXmB,CAQrB8U,cARqB;EAAA,MASrBC,YATqB,GAWnB/U,KAXmB,CASrB+U,YATqB;EAAA,MAUrBgE,eAVqB,GAWnB/Y,KAXmB,CAUrB+Y,eAVqB;;;EAavB,MAAM0jB,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;;EAEA,MAAMywC,aAAal0C,UAAel0C,KAAf,CAAqB00C,OAAO10C,KAAP,EAArB,CAAnB;EACA,MAAMyS,IAAI,SAAJA,CAAI;EAAA,WAAK21E,WAAWlpF,CAAX,CAAL;EAAA,GAAV;EACA,MAAMqwD,cAAckzB,YAAU3qC,QAAV,EAAoB,CAApB,CAApB;EACA,MAAM0X,cAAcizB,YAAU3qC,QAAV,EAAoB,CAApB,CAApB;EAKA,MAAMuwC,eAAe,SAAfA,YAAe;EAAA,WAAQxoF,KAAKM,IAAL,CAAW0lE,UAAO,CAAR,GAAahmE,KAAK8R,EAA5B,CAAR;EAAA,GAArB;;EAEA,MAAM0zE,cAAcvxC,WACjBnwC,MADiB,CACV,CAAC,CAAD,EAAI0kF,aAAaz0C,MAAMwhC,IAAnB,CAAJ,CADU,EAEjBp1E,KAFiB,CAEX,CAACuvD,WAAD,EAAcC,WAAd,CAFW,CAApB;;EAIA,MAAM7+C,IAAI,SAAJA,CAAI;EAAA,WAAK00E,YAAYgD,aAAanpF,CAAb,CAAZ,CAAL;EAAA,GAAV;;EAEA,MAAMknF,WAAW3O,aAAa9/B,KAAb,EAAoBt2C,MAApB,CAA2B5C,MAA5C;EACA,MAAM6pF,aAAax0C,WAChBnwC,MADgB,CACT,CAAC,CAAD,EAAIyiF,QAAJ,CADS,EAEhBpmF,KAFgB,CAEV,CAAC,CAAD,EAAI,IAAIH,KAAK8R,EAAb,CAFU,CAAnB;;EAIA,MAAMq2E,aAAaD,qBAAqBjwC,QAArB,EAA+B2/B,aAAa9/B,KAAb,EAAoBt2C,MAAnD,CAAnB;EACA,MAAMqsD,aAAas6B,WAAWjmF,GAAX,CAAe,UAAC7C,CAAD,EAAIU,CAAJ,EAAU;EAC1C,QAAM0D,QAAQswC,MAAM8mB,MAAN,CAAa34D,GAAb,CAAiB,aAAK;EAClC,aAAO;EACLG,aAAK+U,EAAE/U,GADF;EAELgP,WAAG+F,EAAE/U,GAFA;EAGLuQ,WAAGqlC,SAASvf,IAAT,CAAc3lB,CAAd,CAAgBnU,MAAhB,GAAyB,CAAzB,GAA6BgU,EAAEwE,EAAE/U,GAAJ,CAA7B,GAAwCuQ,EAAEvT,CAAF,CAHtC;EAIL2xD,eAAO/Y,SAAS6R,KAAT,CAAe74C,OAJjB;EAKL09C,oBAAY85B,WAAW1oF,CAAX,CALP;EAML2iE,kBAAU+lB,WAAW1oF,IAAI,CAAf,CANL;EAOLya,YAAIk1C,WAPC;EAQL5+C,WAAGA,EAAEsG,EAAE5V,MAAF,CAASzB,CAAT,EAAY45B,EAAd,CARE;EASLjB,cAAMthB,EAAE5V,MAAF,CAASzB,CAAT;EATD,OAAP;EAWD,KAZa,CAAd;;EAcA;EACA0D,UAAMic,IAAN,CAAW,UAAClhB,CAAD,EAAIC,CAAJ;EAAA,aAAUA,EAAEqS,CAAF,GAAMtS,EAAEsS,CAAlB;EAAA,KAAX;;EAEA,WAAO;EACLgqD,iBAAWz7D,CADN;EAELU,SAAGA,CAFE;EAGL+C,aAAOW;EAHF,KAAP;EAKD,GAvBkB,CAAnB;;EAyBAo6B,SAAO4pB,YAAP,EACG/gB,SADH,CACa,iBADb,EAEGhO,IAFH,CAEQ,CAAC,CAAD,CAFR,EAGGiH,KAHH,GAIG0I,MAJH,CAIU,KAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,gBALjB,EAMG1vB,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA,MAAMwxC,UAAU1rB,OAAO4pB,YAAP,EAAqB5pB,MAArB,CAA4B,iBAA5B,CAAhB;;EAEA,MAAM6qD,cAAc,SAAdA,WAAc,GAAM;EACxB,QAAMlR,WAAWuE,mBAAiBnvB,cAAjB,EAAiCiB,UAAjC,EAA6C5V,QAA7C,CAAjB;;EAEA,aAAS8gC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;;EAG1B,UAAMC,MAAMvsB,eAAewsB,YAAf,CACVH,KAAKpsB,YADK,EAEVqsB,KAAKrsB,YAFK,EAGV,CAHU,EAIV,CAJU,EAKVn0B,IALF;EAMA,UAAM2gD,YAAY,SAASF,IAAI,CAAJ,CAAT,GAAkB,GAAlB,GAAwBA,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuCA,IAAI,CAAJ,CAAvC,GAAgD,GAAlE;EACA,UAAMloD,OAAOumD,SAASl1E,GAAT,CAAa+2E,SAAb,CAAb;;EAEA,UAAIpoD,IAAJ,EAAU;EACR,YAAMgX,OAAO+vC,cAAc/mD,KAAKyH,IAAL,CAAUA,IAAxB,EAA8Bof,KAA9B,CAAb;;EAEAyR,gBACGthB,IADH,CACQA,IADR,EAEGoqB,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;EAOD,OAVD,MAUO;EACLwxC,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,aAASuhE,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;EACAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GA3CD;;EA6CA,MAAI,CAAC6sD,eAAD,IAAoBhD,WAAWjvD,MAAX,GAAoB,EAA5C,EAAgD;EAC9C,QAAM45E,yBAAyB,SAAzBA,sBAAyB,CAASn5E,CAAT,EAAYU,CAAZ,EAAe;EAC5C,aAAO,aAAK;EACV2mF,kBACE/5B,aADF,EAEEG,mBAAmBpmB,SAAnB,CAA6B,cAA7B,CAFF,EAGEuR,QAHF,EAIEsuC,QAJF;EAMD,OAPD;EAQD,KATD;;EAWAz5B,uBAAmBrlB,IAAnB,CACE,WADF,EAEE,gBACGwQ,SAASkP,KAAT,CAAeE,MAAf,CAAsBvoD,IAAtB,GAA6Bm5C,SAASkP,KAAT,CAAe4B,UAAf,GAA4B,CAD5D,IAEE,GAFF,IAGG9Q,SAASkP,KAAT,CAAeE,MAAf,CAAsB5d,GAAtB,GAA4BwO,SAASkP,KAAT,CAAe6B,WAAf,GAA6B,CAH5D,IAIE,GANJ;;EASA,QAAMyvB,aAAa3rB,mBAChBpmB,SADgB,CACN,cADM,EAEhBhO,IAFgB,CAEXm1B,UAFW,CAAnB;EAGA,QAAM6qB,WAAWD,WAAW94C,KAAX,EAAjB;;EAEA,QAAMs7C,aAAazlD,MAChBm5B,UADgB,CACL;EAAA,aAAKtvD,EAAEsvD,UAAP;EAAA,KADK,EAEhB+T,QAFgB,CAEP;EAAA,aAAKrjE,EAAEqjE,QAAP;EAAA,KAFO,EAGhBhT,WAHgB,CAGJ;EAAA,aAAKrwD,EAAEmb,EAAP;EAAA,KAHI,EAIhBm1C,WAJgB,CAIJ;EAAA,aAAKtwD,EAAEyR,CAAP;EAAA,KAJI,EAKhB8xD,QALgB,CAKP,IALO,CAAnB;;EAOA,QAAM9kC,SAAS46C,SACZrwC,MADY,CACL,GADK,EAEZZ,IAFY,CAEP,OAFO,EAEE,aAFF,EAGZA,IAHY,CAGP,OAHO,EAGE,CAHF,EAIZA,IAJY,CAIP,WAJO,EAIM,YAJN,CAAf;;EAMA3J,WACG4I,SADH,CACa,QADb,EAEGhO,IAFH,CAEQ;EAAA,aAAKr5B,EAAEyD,KAAP;EAAA,KAFR,EAGG68B,KAHH,GAIG0I,MAJH,CAIU,MAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,OALjB,EAMGA,IANH,CAMQ,QANR,EAMkB;EAAA,aAAKpoC,EAAEgS,CAAP;EAAA,KANlB,EAOGo2B,IAPH,CAOQ,WAPR,EAOqB;EAAA,aAAK8sC,iBAAiBl1E,EAAEq5B,IAAF,CAAOA,IAAxB,CAAL;EAAA,KAPrB,EAQG+O,IARH,CAQQ,GARR,EAQa;EAAA,aAAKpoC,EAAEyR,CAAP;EAAA,KARb,EASG22B,IATH,CASQ,GATR,EASawzC,UATb,EAUGxzC,IAVH,CAUQ,MAVR,EAUgB;EAAA,aAAKpoC,EAAEuT,CAAP;EAAA,KAVhB,EAWG60B,IAXH,CAWQ,SAXR,EAWmB;EAAA,aAAKpoC,EAAE2xD,KAAP;EAAA,KAXnB;;EAaAlzB,WACGu0B,UADH,GAEGsC,KAFH,CAES,GAFT,EAGGrL,QAHH,CAGY,UAACjqD,CAAD,EAAIU,CAAJ;EAAA,aAAU,MAAMA,CAAhB;EAAA,KAHZ,EAIG0nC,IAJH,CAIQ,OAJR,EAIiB,CAJjB,EAKGA,IALH,CAKQ,WALR,EAKqB,YALrB,EAMG0uB,KANH,CAMS,gBANT,EAM2BqiB,sBAN3B,EAOGhoD,EAPH,CAOM,KAPN,EAOa,YAAM;EACfk4D;EACD,KATH;EAUD,GA9DD,MA8DO;EACLnN,oBACE1qB,eADF,EAEEhD,UAFF,EAGE5V,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAH9B,EAIE0tB,aAJF,EAKE1U,QALF,EAMEikC,IANF,CAMO,eAAO;EACZwM;EACD,KARD;EASD;;EAED5wC,QAAM+Y,eAAN,GAAwBhD,UAAxB;EACD,CAhMD;;ECTA,IAAM86B,UAAU;EACdxhC,SAAO;EACLvqC,UAAM;EADD,GADO;;EAKdktC,SAAO;EACLqxB,sBAAkB,GADb;EAELlqE,aAAS,GAFJ;EAGL+pE,uBAAmB,EAHd;EAILpY,cAAU,CAJL;EAKL8gB,eAAW,IALN;EAML0C,oBAAgB,IANX;EAOLC,6BAAyB,GAPpB;EAQLlC,qBAAiB,EARZ;EASLD,oBAAgB,OATX;EAULmE,oBAAgB;EAVX;EALO,CAAhB;;EAmBA;;;;;;;;;;;EAWA,IAAMO,OAAO9R,aAAa6R,OAAb,EAAsB5S,SAAtB,CAAb;;EC9BA,IAAMwB,oBAAkB,SAAlBA,eAAkB,CAACvqB,OAAD,EAAUxsB,YAAV,EAAwB;EAC9CwsB,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA,MAAMowB,WAAW,IAAIx1E,GAAJ,EAAjB;;EAEAw+B,eAAUt9B,IAAV,CAAe,UAAS7D,CAAT,EAAYU,CAAZ,EAAe;EAC5BitD,YAAQM,IAAR;;EAEA,QAAMr8B,OAAO4M,OAAO,IAAP,CAAb;EACA,QAAM/tB,QAAQw/C,gBAAgBvvD,IAAI,CAApB,CAAd;EACAitD,YAAQO,SAAR;EACAP,YAAQgC,SAAR,GAAoBl/C,KAApB;EACAk9C,YAAQ1jB,IAAR,CACErY,KAAKwW,IAAL,CAAU,GAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,GAAV,CAFF,EAGExW,KAAKwW,IAAL,CAAU,OAAV,CAHF,EAIExW,KAAKwW,IAAL,CAAU,QAAV,CAJF;EAMAulB,YAAQzwC,IAAR;;EAEAywC,YAAQW,OAAR;;EAEA6pB,aAASj1E,GAAT,CAAauN,KAAb,EAAoBzQ,CAApB;EACD,GAlBD;;EAoBA,SAAOm4E,QAAP;EACD,CA1BD;;ECHA,IAAMqR,aAAa,CAAnB;;EAEA,IAAMC,sBAAsB,SAAtBA,mBAAsB,CAAC97B,OAAD,EAAU/7B,IAAV,EAAgBumB,GAAhB,EAAwB;EAClD,MAAIvmB,KAAKwW,IAAL,CAAU,WAAV,CAAJ,EAA4B;EAC1BulB,YAAQM,IAAR;;EAEAN,YAAQ7zC,SAAR,CAAkB8X,KAAKwW,IAAL,CAAU,GAAV,CAAlB,EAAkCxW,KAAKwW,IAAL,CAAU,GAAV,CAAlC;;EAEAulB,YAAQ6B,YAAR,GAAuB,QAAvB;EACA7B,YAAQS,WAAR,GAAsB,wBAAtB;EACAT,YAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUmtB,QAAV,CAAmBnnE,KAAvC;EACAk9C,YAAQQ,SAAR,GAAoB,CAApB;;EAEA,QAAI,CAACv8B,KAAKwW,IAAL,CAAU,QAAV,CAAD,GAAuB,CAA3B,EAA8B;EAC5BulB,cAAQ8B,SAAR,GAAoB,KAApB;;EAEA9B,cAAQgqB,UAAR,CACE/lD,KAAKwW,IAAL,CAAU,WAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,OAAV,IAAqBohD,UAFvB,EAGE53D,KAAKwW,IAAL,CAAU,QAAV,IAAsB,CAHxB;EAKAulB,cAAQqC,QAAR,CACEp+B,KAAKwW,IAAL,CAAU,WAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,OAAV,IAAqBohD,UAFvB,EAGE53D,KAAKwW,IAAL,CAAU,QAAV,IAAsB,CAHxB;EAKD,KAbD,MAaO;EACLulB,cAAQ8B,SAAR,GAAoB,QAApB;EACA9B,cAAQgqB,UAAR,CACE/lD,KAAKwW,IAAL,CAAU,WAAV,CADF,EAEEohD,UAFF,EAGE53D,KAAKwW,IAAL,CAAU,QAAV,IAAsB,CAHxB;EAKAulB,cAAQqC,QAAR,CACEp+B,KAAKwW,IAAL,CAAU,WAAV,CADF,EAEEohD,UAFF,EAGE53D,KAAKwW,IAAL,CAAU,QAAV,IAAsB,CAHxB;EAKD;;EAEDulB,YAAQW,OAAR;EACD;EACF,CAxCD;;ECFA,IAAMo7B,kBAAkB,SAAlBA,eAAkB,CAAC/7B,OAAD,EAAU/7B,IAAV,EAAgBumB,GAAhB,EAAwB;EAC9C,MAAIvmB,KAAKwW,IAAL,CAAU,QAAV,CAAJ,EAAyB;EACvBulB,YAAQM,IAAR;;EAEAN,YAAQ7zC,SAAR,CAAkB8X,KAAKwW,IAAL,CAAU,GAAV,CAAlB,EAAkCxW,KAAKwW,IAAL,CAAU,GAAV,CAAlC;;EAEAulB,YAAQ6B,YAAR,GAAuB,QAAvB;EACA7B,YAAQgC,SAAR,GAAoBxX,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsBrnE,KAA1C;EACAk9C,YAAQQ,SAAR,GAAoB,CAApB;;EAEA,QAAI,CAACv8B,KAAKwW,IAAL,CAAU,QAAV,CAAD,GAAuB,CAA3B,EAA8B;EAC5BulB,cAAQ8B,SAAR,GAAoB,KAApB;EACA9B,cAAQqC,QAAR,CACEp+B,KAAKwW,IAAL,CAAU,QAAV,CADF,EAEE,CAAC+P,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsBn3D,MAFzB,EAGEiR,KAAKwW,IAAL,CAAU,QAAV,IAAsB,CAHxB;EAKD,KAPD,MAOO;EACLulB,cAAQ8B,SAAR,GAAoB,OAApB;EACA9B,cAAQqC,QAAR,CACEp+B,KAAKwW,IAAL,CAAU,QAAV,CADF,EAEE,CAACxW,KAAKwW,IAAL,CAAU,OAAV,CAAD,GAAsB+P,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsBn3D,MAF9C,EAGE,CAACiR,KAAKwW,IAAL,CAAU,QAAV,CAAD,GAAuB,CAHzB;EAKD;;EAEDulB,YAAQW,OAAR;EACD;EACF,CA5BD;;ECKA,IAAMotB,eAAa,SAAbA,UAAa,CAAC/tB,OAAD,EAAUxsB,YAAV,EAAqBgX,GAArB,EAA6B;EAC9CwV,UAAQqqB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrqB,QAAQe,MAAR,CAAelyC,KAAvC,EAA8CmxC,QAAQe,MAAR,CAAe3G,MAA7D;;EAEA5mB,eAAUt9B,IAAV,CAAe,UAAS7D,CAAT,EAAY;EACzB2tD,YAAQM,IAAR;;EAEA,QAAMr8B,OAAO4M,OAAO,IAAP,CAAb;EACAmvB,YAAQO,SAAR;EACAP,YAAQgC,SAAR,GAAoB/9B,KAAKwW,IAAL,CAAU,MAAV,CAApB;EACAulB,YAAQsqB,WAAR,GAAsBrmD,KAAKwW,IAAL,CAAU,SAAV,CAAtB;EACAulB,YAAQ1jB,IAAR,CACErY,KAAKwW,IAAL,CAAU,GAAV,CADF,EAEExW,KAAKwW,IAAL,CAAU,GAAV,CAFF,EAGExW,KAAKwW,IAAL,CAAU,OAAV,CAHF,EAIExW,KAAKwW,IAAL,CAAU,QAAV,CAJF;EAMAulB,YAAQzwC,IAAR;;EAEAywC,YAAQW,OAAR;;EAEAm7B,wBAAoB97B,OAApB,EAA6B/7B,IAA7B,EAAmCumB,GAAnC;EACA,QAAIA,IAAIsS,KAAJ,CAAUqtB,WAAV,CAAsB9tB,OAAtB,KAAkC,IAAtC,EACE0/B,gBAAgB/7B,OAAhB,EAAyB/7B,IAAzB,EAA+BumB,GAA/B;EACH,GApBD;EAqBD,CAxBD;;ECAA,IAAMwxC,iBAAiB,SAAjBA,cAAiB,CAAClxC,KAAD,EAAQpf,IAAR,EAAiB;EAAA,MAC9Buf,QAD8B,GACjBH,KADiB,CAC9BG,QAD8B;;EAEtC,MAAMkgC,gBAAgBL,aAAahgC,KAAb,CAAtB;;EAEA,MAAMmxC,UAAU1wD,SAAOG,IAAP,EAAay/C,aAAb,CAAhB;;EAEA,MAAI+Q,oBAAJ;EACA,MAAID,QAAQ,CAAR,KAAc,CAAd,IAAmBA,QAAQ,CAAR,KAAc,CAArC,EAAwC;EACtC;EACAC,kBAAcrpB,UACZopB,OADY,EAEZhxC,SAASmiB,KAAT,CAAe,CAAf,EAAkBz5D,KAFN,EAGZs3C,SAASmiB,KAAT,CAAe,CAAf,EAAkBgF,IAHN,CAAd;EAKD,GAPD,MAOO;EACL;EACA,QAAMolB,WAAWxkF,KAAKC,GAAL,CAASD,KAAKsB,GAAL,CAAS2nF,QAAQ,CAAR,CAAT,CAAT,EAA+BA,QAAQ,CAAR,CAA/B,CAAjB;EACAC,kBAAcrpB,UACZ,CAAC,CAAC2kB,QAAF,EAAYA,QAAZ,CADY,EAEZvsC,SAASmiB,KAAT,CAAe,CAAf,EAAkBz5D,KAFN,EAGZs3C,SAASmiB,KAAT,CAAe,CAAf,EAAkBgF,IAHN,CAAd;EAKD;;EAED,MAAM+pB,YAAYlxC,SAASkP,KAAT,CAAe4B,UAAf,GAA4B9Q,SAAS6R,KAAT,CAAes/B,YAA7D;;EAEA,SAAOn1C,WACJnwC,MADI,CACG,CAAColF,YAAY,CAAZ,CAAD,EAAiBA,YAAY,CAAZ,CAAjB,CADH,EAEJ/oF,KAFI,CAEE,CAAC,CAAD,EAAIgpF,SAAJ,CAFF,CAAP;EAGD,CA7BD;;ECMA,IAAME,eAAe,SAAfA,YAAe,CAACvxC,KAAD,EAAQpf,IAAR,EAAiB;EAAA,MAElCi0B,aAFkC,GAShC7U,KATgC,CAElC6U,aAFkC;EAAA,MAGlCC,cAHkC,GAShC9U,KATgC,CAGlC8U,cAHkC;EAAA,MAIlCE,kBAJkC,GAShChV,KATgC,CAIlCgV,kBAJkC;EAAA,MAKlC7U,QALkC,GAShCH,KATgC,CAKlCG,QALkC;EAAA,MAMlCpD,MANkC,GAShCiD,KATgC,CAMlCjD,MANkC;EAAA,MAOlC4S,YAPkC,GAShC3P,KATgC,CAOlC2P,YAPkC;EAAA,MAQlCoF,YARkC,GAShC/U,KATgC,CAQlC+U,YARkC;;EAUpC,MAAM0nB,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;EACA,MAAMqgC,gBAAgBL,aAAahgC,KAAb,CAAtB;;EAEA,MAAM0gC,yBAAyB,SAAzBA,sBAAyB,GAAM;EACnC,WAAO,aAAK;EACVuC,mBAAWpuB,aAAX,EAA0BG,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAA1B,EAAgEuR,QAAhE;EACD,KAFD;EAGD,GAJD;;EAMA,MAAM+iB,SAAS2D,OACZ76D,MADY,CACL40B,KAAKx2B,GAAL,CAAS;EAAA,WAAKqyE,iBAAiBl1E,CAAjB,CAAL;EAAA,GAAT,CADK,EAEZc,KAFY,CAEN,CACL,CADK,EAEL83C,SAASkP,KAAT,CAAe6B,WAAf,GAA6B/Q,SAAS6R,KAAT,CAAew/B,gBAA5C,GAA+D,CAF1D,CAFM,EAMZ7kF,YANY,CAMC,GAND,CAAf;;EAQA,MAAMw2D,SAAS+tB,eAAelxC,KAAf,EAAsBpf,IAAtB,CAAf;EACA,MAAMywD,YACJlxC,SAAS6R,KAAT,CAAey/B,aAAf,KAAiC,IAAjC,GACItxC,SAASkP,KAAT,CAAe4B,UAAf,GAA4B9Q,SAAS6R,KAAT,CAAes/B,YAD/C,GAEInxC,SAASkP,KAAT,CAAe4B,UAHrB;;EAKA,MAAM33C,IAAI4pD,OAAOz2D,SAAP,EAAV;EACA,MAAMxF,IAAI,SAAJA,CAAI;EAAA,WAAKi8D,OAAOuZ,iBAAiBl1E,CAAjB,CAAP,CAAL;EAAA,GAAV;EACA,MAAI8sB,UAAJ;EACA,MAAIpZ,UAAJ;EACA,MAAMw1E,aAAa1zC,OAAO1wC,IAAP,GAAcL,MAAd,CAAqBm3D,OAAOn3D,MAAP,EAArB,CAAnB;;EAEA,MAAMmlF,UAAU1wD,SAAOG,IAAP,EAAay/C,aAAb,CAAhB;;EAEA,MAAI8Q,QAAQ,CAAR,KAAc,CAAlB,EAAqB;EACnB98D,QAAI;EAAA,aAAK8uC,OAAOkd,cAAc94E,CAAd,CAAP,CAAL;EAAA,KAAJ;EACA0T,QAAI;EAAA,aAAKkoD,OAAO,CAAP,CAAL;EAAA,KAAJ;;EAEA,QAAIhjB,SAASnoC,KAAT,CAAe8M,IAAf,KAAwB,WAA5B,EAAyC;EACvC2rE,iBAAWzkF,MAAX,CAAkB,CAAC,CAACm3D,OAAOn3D,MAAP,GAAgB,CAAhB,CAAF,EAAsB9D,KAAKsB,GAAL,CAAS25D,OAAOn3D,MAAP,GAAgB,CAAhB,CAAT,CAAtB,CAAlB;EACD;EACF,GAPD,MAOO,IAAImlF,QAAQ,CAAR,KAAc,CAAlB,EAAqB;EAC1B98D,QAAI;EAAA,aAAKg9D,YAAYluB,OAAOkd,cAAc94E,CAAd,CAAP,CAAjB;EAAA,KAAJ;EACA0T,QAAI;EAAA,aAAKkoD,OAAOkd,cAAc94E,CAAd,CAAP,CAAL;EAAA,KAAJ;;EAEA,QAAI44C,SAASnoC,KAAT,CAAe8M,IAAf,KAAwB,WAA5B,EAAyC;EACvC2rE,iBAAWzkF,MAAX,CAAkB,CAACm3D,OAAOn3D,MAAP,GAAgB,CAAhB,CAAD,EAAqB9D,KAAKsB,GAAL,CAAS25D,OAAOn3D,MAAP,GAAgB,CAAhB,CAAT,CAArB,CAAlB;EACD;EACF,GAPM,MAOA;EACLqoB,QAAI;EAAA,aAAKnsB,KAAKsB,GAAL,CAAS6nF,YAAY,CAAZ,GAAgBluB,OAAOkd,cAAc94E,CAAd,CAAP,CAAzB,CAAL;EAAA,KAAJ;EACA0T,QAAI;EAAA,aAAMolE,cAAc94E,CAAd,IAAmB,CAAnB,GAAuB8pF,YAAY,CAAnC,GAAuCA,YAAY,CAAZ,GAAgBh9D,EAAE9sB,CAAF,CAA7D;EAAA,KAAJ;EACD;;EAED,MAAMuT,IAAI,SAAJA,CAAI;EAAA,WAAK21E,WAAWpQ,cAAc94E,CAAd,CAAX,CAAL;EAAA,GAAV;;EAEA,MAAMo5E,aAAa3rB,mBAAmBpmB,SAAnB,CAA6B,MAA7B,EAAqChO,IAArC,CAA0CA,IAA1C,CAAnB;EACA,MAAMggD,WAAWD,WAAW94C,KAAX,EAAjB;EACA,MAAMg5C,aAAaF,WAAW74C,IAAX,EAAnB;;EAEA,MAAMg5C,iBAAiBvmB,aACpB/I,QADoB,CACXrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4B7mD,MADjB,EAEpBS,IAFoB,CAEf,YAAM;EACVy1E,eACGtmB,UADH,GAEG5qB,IAFH,CAEQ,OAFR,EAEiB,CAFjB,EAGG0uB,KAHH,CAGS,cAHT,EAGyBqiB,sBAHzB;;EAKAG,eAAWl2E,MAAX;EACD,GAToB,CAAvB;;EAWA,MAAMo2E,mBAAmBD,eACtBvmB,UADsB,GAEtB/I,QAFsB,CAEbrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAFf,EAGtB/7B,IAHsB,CAGjB,YAAM;EACVu1E,eACGhxC,IADH,CACQ,WADR,EACqB8sC,gBADrB,EAEG9sC,IAFH,CAEQ,QAFR,EAEkB0wC,aAFlB,EAGG9lB,UAHH,CAGc,wBAHd,EAIGsC,KAJH,CAIS,UAACt1D,CAAD,EAAIU,CAAJ;EAAA,aAAWA,IAAI24B,KAAK95B,MAAV,GAAoBq5C,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAA1D;EAAA,KAJT,EAKGwI,IALH,CAKQ,MALR,EAKgB70B,CALhB,EAMG60B,IANH,CAMQ,GANR,EAMa10B,CANb,EAOG00B,IAPH,CAOQ,OAPR,EAOiBtb,CAPjB,EAQGsb,IARH,CAQQ,GARR,EAQa1oC,CARb,EASG0oC,IATH,CASQ,QATR,EASkBr2B,CATlB,EAUG+kD,KAVH,CAUS,cAVT,EAUyBqiB,sBAVzB;EAWD,GAfsB,CAAzB;;EAiBA,MAAMM,kBAAkBD,iBACrBxmB,UADqB,GAErB/I,QAFqB,CAEZrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAFhB,EAGrB/7B,IAHqB,CAGhB,YAAM;EACVw1E,aACGrwC,MADH,CACU,MADV,EAEGZ,IAFH,CAEQ,OAFR,EAEiB,KAFjB,EAGGA,IAHH,CAGQ,MAHR,EAGgB70B,CAHhB,EAIG60B,IAJH,CAIQ,SAJR,EAImB,CAJnB,EAKGA,IALH,CAKQ,GALR,EAKa10B,CALb,EAMG00B,IANH,CAMQ,GANR,EAMa1oC,CANb,EAOG0oC,IAPH,CAOQ,OAPR,EAOiB,CAPjB,EAQGA,IARH,CAQQ,WARR,EAQqB8sC,gBARrB,EASG9sC,IATH,CASQ,QATR,EASkB0wC,aATlB,EAUG1wC,IAVH,CAUQ,QAVR,EAUkBr2B,CAVlB,EAWGihD,UAXH,GAYGsC,KAZH,CAYS,UAACt1D,CAAD,EAAIU,CAAJ;EAAA,aAAWA,IAAI24B,KAAK95B,MAAV,GAAoBq5C,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BrqB,MAA1D;EAAA,KAZT,EAaGwI,IAbH,CAaQ,OAbR,EAaiBtb,CAbjB,EAcGgqC,KAdH,CAcS,cAdT,EAcyBqiB,sBAdzB;EAeD,GAnBqB,CAAxB;;EAqBA36C,SAAO4pB,YAAP,EACG/gB,SADH,CACa,iBADb,EAEGhO,IAFH,CAEQ,CAAC,CAAD,CAFR,EAGGiH,KAHH,GAIG0I,MAJH,CAIU,KAJV,EAKGZ,IALH,CAKQ,OALR,EAKiB,gBALjB,EAMG1vB,KANH,CAMS,SANT,EAMoB,CANpB;;EAQA,MAAMwxC,UAAU1rB,OAAO4pB,YAAP,EAAqB5pB,MAArB,CAA4B,iBAA5B,CAAhB;;EAEAi7C,kBAAgBtoD,EAAhB,CAAmB,KAAnB,EAA0B,YAAM;EAC9B,QAAMgnD,WAAWD,kBACf3qB,cADe,EAEfE,mBAAmBpmB,SAAnB,CAA6B,MAA7B,CAFe,CAAjB;;EAKA;EACA;;;EAGA,aAASqyC,gBAAT,GAA4B;EAC1B;EAD0B,mBAETC,MAAM,IAAN,CAFS;EAAA;EAAA,UAEnBC,EAFmB;EAAA,UAEfC,EAFe;EAG1B;;;EACA,UAAMC,MAAMvsB,eAAewsB,YAAf,CACVH,KAAKpsB,YADK,EAEVqsB,KAAKrsB,YAFK,EAGV,CAHU,EAIV,CAJU,EAKVn0B,IALF;EAMA;EACA,UAAM2gD,YAAY,SAASF,IAAI,CAAJ,CAAT,GAAkB,GAAlB,GAAwBA,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuCA,IAAI,CAAJ,CAAvC,GAAgD,GAAlE;EACA,UAAMloD,OAAOumD,SAASl1E,GAAT,CAAa+2E,SAAb,CAAb;;EAEA,UAAIpoD,IAAJ,EAAU;EACRs4B,gBACGthB,IADH,CACQ+vC,cAAc/mD,IAAd,EAAoB6mB,KAApB,CADR,EAEGua,UAFH,GAGG/I,QAHH,CAGYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAHxC,EAIGxxC,KAJH,CAIS,MAJT,EAIiBkhE,KAAKhhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IAJnD,EAKGjI,KALH,CAKS,KALT,EAKgBmhE,KAAKjhC,SAASsR,OAAT,CAAiBvpC,MAAjB,CAAwB,CAAxB,CAAL,GAAkC,IALlD,EAMGjI,KANH,CAMS,SANT,EAMoB,CANpB;EAOD,OARD,MAQO;EACLwxC,gBACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;EACF;;EAED,aAASuhE,eAAT,GAA2B;EACzB/vB,cACG8I,UADH,GAEG/I,QAFH,CAEYrR,SAASmR,SAAT,CAAmBE,QAAnB,CAA4BC,OAFxC,EAGGxxC,KAHH,CAGS,SAHT,EAGoB,CAHpB;EAID;;EAED+/B,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,WAAtB,EAAmCuoD,gBAAnC;EACAjhC,UAAM2U,YAAN,CAAmBj8B,EAAnB,CAAsB,UAAtB,EAAkC8oD,eAAlC;EACAxhC,UAAMC,UAAN,CAAiB/zC,IAAjB,CAAsB,UAAtB;EACD,GAlDD;EAmDD,CAhLD;;ECPA,IAAMwlF,iBAAiB,SAAjBA,cAAiB,CAAC1xC,KAAD,EAAQ2xC,YAAR,EAAyB;EAAA,MACtCxxC,QADsC,GACbH,KADa,CACtCG,QADsC;EAAA,MAC5ByP,UAD4B,GACb5P,KADa,CAC5B4P,UAD4B;;EAE9C,MAAMgiC,aAAan3B,aAAatuD,KAAb,CAAmB+kF,eAAelxC,KAAf,EAAsB2xC,YAAtB,CAAnB,CAAnB;;EAEA,MAAME,UAAUjiC,WAAW7pB,MAAX,CAAkB,IAAlB,EAAwB,aAAxB,EAAuCnF,IAAvC,CAA4C,EAA5C,CAAhB;EACAixD,UACGhqD,KADH,GAEG0I,MAFH,CAEU,GAFV,EAGGZ,IAHH,CAGQ,OAHR,EAGiB,QAHjB,EAIGA,IAJH,CAKI,WALJ,EAMI,eACEwQ,SAASkP,KAAT,CAAeE,MAAf,CAAsBvoD,IADxB,GAEE,GAFF,IAGGm5C,SAASkP,KAAT,CAAe6B,WAAf,GAA6B/Q,SAAS6R,KAAT,CAAew/B,gBAH/C,IAIE,GAVN;;EAaAK,UAAQ3lF,IAAR,CAAa0lF,UAAb;EACAC,UAAQ9rD,MAAR,CAAe,SAAf,EAA0B9lB,KAA1B,CAAgC,SAAhC,EAA2C,CAA3C;;EAEA2vC,aACG7pB,MADH,CACU,SADV,EAEGw0B,UAFH,GAGG/I,QAHH,CAGY,EAHZ,EAIGtlD,IAJH,CAIQ0lF,UAJR;EAKD,CA1BD;;ECEe,oBAAW;EACxBhlD,QAAMklD,cAAN;EACAllD,QAAMmlD,wBAAN;EACD;;ECNc,iBAASC,IAAT,EAAe;EAC5B,MAAI3tD,OAAO2tD,KAAKnyE,QAAL,CAAcE,eAAzB;EAAA,MACI2oB,eAAY3C,OAAOisD,IAAP,EAAat5D,EAAb,CAAgB,gBAAhB,EAAkCu5D,OAAlC,EAA2C,IAA3C,CADhB;EAEA,MAAI,mBAAmB5tD,IAAvB,EAA6B;EAC3BqE,iBAAUhQ,EAAV,CAAa,kBAAb,EAAiCu5D,OAAjC,EAA0C,IAA1C;EACD,GAFD,MAEO;EACL5tD,SAAK6tD,UAAL,GAAkB7tD,KAAKpkB,KAAL,CAAWkyE,aAA7B;EACA9tD,SAAKpkB,KAAL,CAAWkyE,aAAX,GAA2B,MAA3B;EACD;EACF;;AAED,EAAO,SAASC,OAAT,CAAiBJ,IAAjB,EAAuBK,OAAvB,EAAgC;EACrC,MAAIhuD,OAAO2tD,KAAKnyE,QAAL,CAAcE,eAAzB;EAAA,MACI2oB,eAAY3C,OAAOisD,IAAP,EAAat5D,EAAb,CAAgB,gBAAhB,EAAkC,IAAlC,CADhB;EAEA,MAAI25D,OAAJ,EAAa;EACX3pD,iBAAUhQ,EAAV,CAAa,YAAb,EAA2Bu5D,OAA3B,EAAoC,IAApC;EACA31B,eAAW,YAAW;EAAE5zB,mBAAUhQ,EAAV,CAAa,YAAb,EAA2B,IAA3B;EAAmC,KAA3D,EAA6D,CAA7D;EACD;EACD,MAAI,mBAAmB2L,IAAvB,EAA6B;EAC3BqE,iBAAUhQ,EAAV,CAAa,kBAAb,EAAiC,IAAjC;EACD,GAFD,MAEO;EACL2L,SAAKpkB,KAAL,CAAWkyE,aAAX,GAA2B9tD,KAAK6tD,UAAhC;EACA,WAAO7tD,KAAK6tD,UAAZ;EACD;EACF;;EC3Bc,qBAASjrF,CAAT,EAAY;EACzB,SAAO,YAAW;EAChB,WAAOA,CAAP;EACD,GAFD;EAGD;;ECJc,qBAAS8b,MAAT,EAAiB+B,IAAjB,EAAuB4jB,SAAvB,EAAkC;EAC/C,OAAK3lB,MAAL,GAAcA,MAAd;EACA,OAAK+B,IAAL,GAAYA,IAAZ;EACA,OAAK4jB,SAAL,GAAiBA,SAAjB;EACD;;ECFM,SAAS4pD,eAAT,GAAyB;EAC9B1lD,QAAMmlD,wBAAN;EACD;;AAED,EAAe,sBAAW;EACxBnlD,QAAMklD,cAAN;EACAllD,QAAMmlD,wBAAN;EACD;;ECAD,IAAIQ,YAAY,EAAC1mF,MAAM,MAAP,EAAhB;EAAA,IACI2mF,aAAa,EAAC3mF,MAAM,OAAP,EADjB;EAAA,IAEI4mF,cAAc,EAAC5mF,MAAM,QAAP,EAFlB;EAAA,IAGI6mF,cAAc,EAAC7mF,MAAM,QAAP,EAHlB;;EAKA,IAAI8nB,IAAI;EACN9nB,QAAM,GADA;EAEN8mF,WAAS,CAAC,GAAD,EAAM,GAAN,EAAWvoF,GAAX,CAAe0a,IAAf,CAFH;EAGNxB,SAAO,eAASrc,CAAT,EAAYqY,CAAZ,EAAe;EAAE,WAAOrY,KAAK,CAAC,CAACA,EAAE,CAAF,CAAD,EAAOqY,EAAE,CAAF,EAAK,CAAL,CAAP,CAAD,EAAkB,CAACrY,EAAE,CAAF,CAAD,EAAOqY,EAAE,CAAF,EAAK,CAAL,CAAP,CAAlB,CAAZ;EAAiD,GAHnE;EAIN+D,UAAQ,gBAASuvE,EAAT,EAAa;EAAE,WAAOA,MAAM,CAACA,GAAG,CAAH,EAAM,CAAN,CAAD,EAAWA,GAAG,CAAH,EAAM,CAAN,CAAX,CAAb;EAAoC;EAJrD,CAAR;;EAOA,IAAIC,IAAI;EACNhnF,QAAM,GADA;EAEN8mF,WAAS,CAAC,GAAD,EAAM,GAAN,EAAWvoF,GAAX,CAAe0a,IAAf,CAFH;EAGNxB,SAAO,eAASrI,CAAT,EAAYqE,CAAZ,EAAe;EAAE,WAAOrE,KAAK,CAAC,CAACqE,EAAE,CAAF,EAAK,CAAL,CAAD,EAAUrE,EAAE,CAAF,CAAV,CAAD,EAAkB,CAACqE,EAAE,CAAF,EAAK,CAAL,CAAD,EAAUrE,EAAE,CAAF,CAAV,CAAlB,CAAZ;EAAiD,GAHnE;EAINoI,UAAQ,gBAASuvE,EAAT,EAAa;EAAE,WAAOA,MAAM,CAACA,GAAG,CAAH,EAAM,CAAN,CAAD,EAAWA,GAAG,CAAH,EAAM,CAAN,CAAX,CAAb;EAAoC;EAJrD,CAAR;;EAcA,IAAIE,UAAU;EACZC,WAAS,WADG;EAEZrqD,aAAW,MAFC;EAGZ3gC,KAAG,WAHS;EAIZuX,KAAG,WAJS;EAKZ/F,KAAG,WALS;EAMZ8a,KAAG,WANS;EAOZ2+D,MAAI,aAPQ;EAQZC,MAAI,aARQ;EASZC,MAAI,aATQ;EAUZC,MAAI;EAVQ,CAAd;;EAaA,IAAIC,QAAQ;EACV9zE,KAAG,GADO;EAEV+U,KAAG,GAFO;EAGV2+D,MAAI,IAHM;EAIVC,MAAI,IAJM;EAKVC,MAAI,IALM;EAMVC,MAAI;EANM,CAAZ;;EASA,IAAIE,QAAQ;EACVtrF,KAAG,GADO;EAEVwR,KAAG,GAFO;EAGVy5E,MAAI,IAHM;EAIVC,MAAI,IAJM;EAKVC,MAAI,IALM;EAMVC,MAAI;EANM,CAAZ;;EASA,IAAIG,SAAS;EACXP,WAAS,CAAC,CADC;EAEXrqD,aAAW,CAAC,CAFD;EAGX3gC,KAAG,IAHQ;EAIXuX,KAAG,CAAC,CAJO;EAKX/F,KAAG,IALQ;EAMX8a,KAAG,CAAC,CANO;EAOX2+D,MAAI,CAAC,CAPM;EAQXC,MAAI,CAAC,CARM;EASXC,MAAI,CAAC,CATM;EAUXC,MAAI,CAAC;EAVM,CAAb;;EAaA,IAAII,SAAS;EACXR,WAAS,CAAC,CADC;EAEXrqD,aAAW,CAAC,CAFD;EAGX3gC,KAAG,CAAC,CAHO;EAIXuX,KAAG,IAJQ;EAKX/F,KAAG,CAAC,CALO;EAMX8a,KAAG,IANQ;EAOX2+D,MAAI,CAAC,CAPM;EAQXC,MAAI,CAAC,CARM;EASXC,MAAI,CAAC,CATM;EAUXC,MAAI,CAAC;EAVM,CAAb;;EAaA,SAASruE,IAAT,CAAcvJ,CAAd,EAAiB;EACf,SAAO,EAACuJ,MAAMvJ,CAAP,EAAP;EACD;;EAED;EACA,SAASi4E,eAAT,GAAyB;EACvB,SAAO,CAAC5mD,MAAM6mD,MAAd;EACD;;EAED,SAASC,aAAT,GAAyB;EACvB,MAAI5uD,MAAM,KAAKmM,eAAL,IAAwB,IAAlC;EACA,SAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAACnM,IAAI/gB,KAAJ,CAAUnD,OAAV,CAAkBlW,KAAnB,EAA0Bo6B,IAAIwqB,MAAJ,CAAW1uC,OAAX,CAAmBlW,KAA7C,CAAT,CAAP;EACD;;EAED;EACA,SAAS06B,OAAT,CAAejM,IAAf,EAAqB;EACnB,SAAO,CAACA,KAAKw6D,OAAb;EAAsB,QAAI,EAAEx6D,OAAOA,KAAKgQ,UAAd,CAAJ,EAA+B;EAArD,GACA,OAAOhQ,KAAKw6D,OAAZ;EACD;;EAED,SAASxoF,OAAT,CAAes1B,MAAf,EAAuB;EACrB,SAAOA,OAAO,CAAP,EAAU,CAAV,MAAiBA,OAAO,CAAP,EAAU,CAAV,CAAjB,IACAA,OAAO,CAAP,EAAU,CAAV,MAAiBA,OAAO,CAAP,EAAU,CAAV,CADxB;EAED;;AAWD,EAAO,SAASmzD,MAAT,GAAkB;EACvB,SAAOC,QAAMhB,CAAN,CAAP;EACD;;EAMD,SAASgB,OAAT,CAAeptB,GAAf,EAAoB;EAClB,MAAIhmC,SAASizD,aAAb;EAAA,MACItrE,SAASorE,eADb;EAAA,MAEI5L,YAAYvvD,SAASw7D,KAAT,EAAgB,OAAhB,EAAyB,OAAzB,EAAkC,KAAlC,CAFhB;EAAA,MAGIC,aAAa,CAHjB;EAAA,MAIIC,WAJJ;;EAMA,WAASF,KAAT,CAAenuE,KAAf,EAAsB;EACpB,QAAIqtE,UAAUrtE,MACT9a,QADS,CACA,SADA,EACWopF,UADX,EAEXplD,SAFW,CAED,UAFC,EAGXhO,IAHW,CAGN,CAAC9b,KAAK,SAAL,CAAD,CAHM,CAAd;;EAKAiuE,YAAQlrD,KAAR,GAAgB0I,MAAhB,CAAuB,MAAvB,EACKZ,IADL,CACU,OADV,EACmB,SADnB,EAEKA,IAFL,CAEU,gBAFV,EAE4B,KAF5B,EAGKA,IAHL,CAGU,QAHV,EAGoBmjD,QAAQC,OAH5B,EAIG9pD,KAJH,CAIS8pD,OAJT,EAKK3nF,IALL,CAKU,YAAW;EACf,UAAIq1B,SAAS2E,QAAM,IAAN,EAAY3E,MAAzB;EACAsF,aAAO,IAAP,EACK4J,IADL,CACU,GADV,EACelP,OAAO,CAAP,EAAU,CAAV,CADf,EAEKkP,IAFL,CAEU,GAFV,EAEelP,OAAO,CAAP,EAAU,CAAV,CAFf,EAGKkP,IAHL,CAGU,OAHV,EAGmBlP,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAHlC,EAIKkP,IAJL,CAIU,QAJV,EAIoBlP,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAJnC;EAKD,KAZL;;EAcA/a,UAAMkpB,SAAN,CAAgB,YAAhB,EACGhO,IADH,CACQ,CAAC9b,KAAK,WAAL,CAAD,CADR,EAEG+iB,KAFH,GAEW0I,MAFX,CAEkB,MAFlB,EAGKZ,IAHL,CAGU,OAHV,EAGmB,WAHnB,EAIKA,IAJL,CAIU,QAJV,EAIoBmjD,QAAQpqD,SAJ5B,EAKKiH,IALL,CAKU,MALV,EAKkB,MALlB,EAMKA,IANL,CAMU,cANV,EAM0B,GAN1B,EAOKA,IAPL,CAOU,QAPV,EAOoB,MAPpB,EAQKA,IARL,CAQU,iBARV,EAQ6B,YAR7B;;EAUA,QAAIskD,SAASvuE,MAAMkpB,SAAN,CAAgB,SAAhB,EACVhO,IADU,CACL6lC,IAAIksB,OADC,EACQ,UAASprF,CAAT,EAAY;EAAE,aAAOA,EAAEud,IAAT;EAAgB,KADtC,CAAb;;EAGAmvE,WAAOnsD,IAAP,GAAcn9B,MAAd;;EAEAspF,WAAOpsD,KAAP,GAAe0I,MAAf,CAAsB,MAAtB,EACKZ,IADL,CACU,OADV,EACmB,UAASpoC,CAAT,EAAY;EAAE,aAAO,oBAAoBA,EAAEud,IAA7B;EAAoC,KADrE,EAEK6qB,IAFL,CAEU,QAFV,EAEoB,UAASpoC,CAAT,EAAY;EAAE,aAAOurF,QAAQvrF,EAAEud,IAAV,CAAP;EAAyB,KAF3D;;EAIAY,UACKta,IADL,CACU8oF,MADV,EAEKvkD,IAFL,CAEU,MAFV,EAEkB,MAFlB,EAGKA,IAHL,CAGU,gBAHV,EAG4B,KAH5B,EAIK1vB,KAJL,CAIW,6BAJX,EAI0C,eAJ1C,EAKKyY,EALL,CAKQ,kCALR,EAK4Cy7D,OAL5C;EAMD;;EAEDN,QAAMO,IAAN,GAAa,UAAS1uE,KAAT,EAAgBgjB,YAAhB,EAA2B;EACtC,QAAIhjB,MAAMgjB,SAAV,EAAqB;EACnBhjB,YACKgT,EADL,CACQ,aADR,EACuB,YAAW;EAAE27D,gBAAQ,IAAR,EAAcrsF,SAAd,EAAyBssF,WAAzB,GAAuC1sF,KAAvC;EAAiD,OADrF,EAEK8wB,EAFL,CAEQ,2BAFR,EAEqC,YAAW;EAAE27D,gBAAQ,IAAR,EAAcrsF,SAAd,EAAyBqV,GAAzB;EAAiC,OAFnF,EAGKghD,KAHL,CAGW,OAHX,EAGoB,YAAW;EACzB,YAAIvlC,OAAO,IAAX;EAAA,YACIknB,QAAQlnB,KAAK66D,OADjB;EAAA,YAEIY,OAAOF,QAAQv7D,IAAR,EAAc9wB,SAAd,CAFX;EAAA,YAGIwsF,aAAax0C,MAAMtX,SAHvB;EAAA,YAII+rD,aAAahuB,IAAInjD,KAAJ,CAAU,OAAOolB,YAAP,KAAqB,UAArB,GAAkCA,aAAU1P,KAAV,CAAgB,IAAhB,EAAsBhxB,SAAtB,CAAlC,GAAqE0gC,YAA/E,EAA0FsX,MAAMvf,MAAhG,CAJjB;EAAA,YAKIx4B,IAAI+a,YAAYwxE,UAAZ,EAAwBC,UAAxB,CALR;;EAOA,iBAASp2B,KAAT,CAAe9iD,CAAf,EAAkB;EAChBykC,gBAAMtX,SAAN,GAAkBntB,MAAM,CAAN,IAAWpQ,QAAMspF,UAAN,CAAX,GAA+B,IAA/B,GAAsCxsF,EAAEsT,CAAF,CAAxD;EACA24E,iBAAOhoF,IAAP,CAAY4sB,IAAZ;EACAy7D,eAAKV,KAAL;EACD;;EAED,eAAOW,cAAcC,UAAd,GAA2Bp2B,KAA3B,GAAmCA,MAAM,CAAN,CAA1C;EACD,OAlBL;EAmBD,KApBD,MAoBO;EACL34C,YACKta,IADL,CACU,YAAW;EACf,YAAI0tB,OAAO,IAAX;EAAA,YACIC,OAAO/wB,SADX;EAAA,YAEIg4C,QAAQlnB,KAAK66D,OAFjB;EAAA,YAGIc,aAAahuB,IAAInjD,KAAJ,CAAU,OAAOolB,YAAP,KAAqB,UAArB,GAAkCA,aAAU1P,KAAV,CAAgBF,IAAhB,EAAsBC,IAAtB,CAAlC,GAAgE2P,YAA1E,EAAqFsX,MAAMvf,MAA3F,CAHjB;EAAA,YAII8zD,OAAOF,QAAQv7D,IAAR,EAAcC,IAAd,EAAoBu7D,WAApB,EAJX;;EAMA51B,kBAAU5lC,IAAV;EACAknB,cAAMtX,SAAN,GAAkB+rD,cAAc,IAAd,IAAsBtpF,QAAMspF,UAAN,CAAtB,GAA0C,IAA1C,GAAiDA,UAAnE;EACAP,eAAOhoF,IAAP,CAAY4sB,IAAZ;EACAy7D,aAAK3sF,KAAL,GAAaisF,KAAb,GAAqBx2E,GAArB;EACD,OAZL;EAaD;EACF,GApCD;;EAsCA,WAAS62E,MAAT,GAAkB;EAChB,QAAIxuE,QAAQqgB,OAAO,IAAP,CAAZ;EAAA,QACI2C,eAAYtD,QAAM,IAAN,EAAYsD,SAD5B;;EAGA,QAAIA,YAAJ,EAAe;EACbhjB,YAAMkpB,SAAN,CAAgB,YAAhB,EACK3uB,KADL,CACW,SADX,EACsB,IADtB,EAEK0vB,IAFL,CAEU,GAFV,EAEejH,aAAU,CAAV,EAAa,CAAb,CAFf,EAGKiH,IAHL,CAGU,GAHV,EAGejH,aAAU,CAAV,EAAa,CAAb,CAHf,EAIKiH,IAJL,CAIU,OAJV,EAImBjH,aAAU,CAAV,EAAa,CAAb,IAAkBA,aAAU,CAAV,EAAa,CAAb,CAJrC,EAKKiH,IALL,CAKU,QALV,EAKoBjH,aAAU,CAAV,EAAa,CAAb,IAAkBA,aAAU,CAAV,EAAa,CAAb,CALtC;;EAOAhjB,YAAMkpB,SAAN,CAAgB,SAAhB,EACK3uB,KADL,CACW,SADX,EACsB,IADtB,EAEK0vB,IAFL,CAEU,GAFV,EAEe,UAASpoC,CAAT,EAAY;EAAE,eAAOA,EAAEud,IAAF,CAAOvd,EAAEud,IAAF,CAAOhe,MAAP,GAAgB,CAAvB,MAA8B,GAA9B,GAAoC4hC,aAAU,CAAV,EAAa,CAAb,IAAkBorD,aAAa,CAAnE,GAAuEprD,aAAU,CAAV,EAAa,CAAb,IAAkBorD,aAAa,CAA7G;EAAiH,OAF9I,EAGKnkD,IAHL,CAGU,GAHV,EAGe,UAASpoC,CAAT,EAAY;EAAE,eAAOA,EAAEud,IAAF,CAAO,CAAP,MAAc,GAAd,GAAoB4jB,aAAU,CAAV,EAAa,CAAb,IAAkBorD,aAAa,CAAnD,GAAuDprD,aAAU,CAAV,EAAa,CAAb,IAAkBorD,aAAa,CAA7F;EAAiG,OAH9H,EAIKnkD,IAJL,CAIU,OAJV,EAImB,UAASpoC,CAAT,EAAY;EAAE,eAAOA,EAAEud,IAAF,KAAW,GAAX,IAAkBvd,EAAEud,IAAF,KAAW,GAA7B,GAAmC4jB,aAAU,CAAV,EAAa,CAAb,IAAkBA,aAAU,CAAV,EAAa,CAAb,CAAlB,GAAoCorD,UAAvE,GAAoFA,UAA3F;EAAwG,OAJzI,EAKKnkD,IALL,CAKU,QALV,EAKoB,UAASpoC,CAAT,EAAY;EAAE,eAAOA,EAAEud,IAAF,KAAW,GAAX,IAAkBvd,EAAEud,IAAF,KAAW,GAA7B,GAAmC4jB,aAAU,CAAV,EAAa,CAAb,IAAkBA,aAAU,CAAV,EAAa,CAAb,CAAlB,GAAoCorD,UAAvE,GAAoFA,UAA3F;EAAwG,OAL1I;EAMD,KAdD,MAgBK;EACHpuE,YAAMkpB,SAAN,CAAgB,oBAAhB,EACK3uB,KADL,CACW,SADX,EACsB,MADtB,EAEK0vB,IAFL,CAEU,GAFV,EAEe,IAFf,EAGKA,IAHL,CAGU,GAHV,EAGe,IAHf,EAIKA,IAJL,CAIU,OAJV,EAImB,IAJnB,EAKKA,IALL,CAKU,QALV,EAKoB,IALpB;EAMD;EACF;;EAED,WAAS0kD,OAAT,CAAiBv7D,IAAjB,EAAuBC,IAAvB,EAA6B;EAC3B,WAAOD,KAAK66D,OAAL,CAAaU,OAAb,IAAwB,IAAIK,OAAJ,CAAY57D,IAAZ,EAAkBC,IAAlB,CAA/B;EACD;;EAED,WAAS27D,OAAT,CAAiB57D,IAAjB,EAAuBC,IAAvB,EAA6B;EAC3B,SAAKD,IAAL,GAAYA,IAAZ;EACA,SAAKC,IAAL,GAAYA,IAAZ;EACA,SAAKinB,KAAL,GAAalnB,KAAK66D,OAAlB;EACA,SAAKl1B,MAAL,GAAc,CAAd;EACD;;EAEDi2B,UAAQvqF,SAAR,GAAoB;EAClBmqF,iBAAa,uBAAW;EACtB,UAAI,EAAE,KAAK71B,MAAP,KAAkB,CAAtB,EAAyB,KAAKze,KAAL,CAAWq0C,OAAX,GAAqB,IAArB,EAA2B,KAAKM,QAAL,GAAgB,IAA3C;EACzB,aAAO,IAAP;EACD,KAJiB;EAKlB/sF,WAAO,iBAAW;EAChB,UAAI,KAAK+sF,QAAT,EAAmB,KAAKA,QAAL,GAAgB,KAAhB,EAAuB,KAAKJ,IAAL,CAAU,OAAV,CAAvB;EACnB,aAAO,IAAP;EACD,KARiB;EASlBV,WAAO,iBAAW;EAChB,WAAKU,IAAL,CAAU,OAAV;EACA,aAAO,IAAP;EACD,KAZiB;EAalBl3E,SAAK,eAAW;EACd,UAAI,EAAE,KAAKohD,MAAP,KAAkB,CAAtB,EAAyB,OAAO,KAAKze,KAAL,CAAWq0C,OAAlB,EAA2B,KAAKE,IAAL,CAAU,KAAV,CAA3B;EACzB,aAAO,IAAP;EACD,KAhBiB;EAiBlBA,UAAM,cAASzvE,IAAT,EAAe;EACnBgpB,kBAAY,IAAI8mD,UAAJ,CAAef,KAAf,EAAsB/uE,IAAtB,EAA4B2hD,IAAIpjD,MAAJ,CAAW,KAAK28B,KAAL,CAAWtX,SAAtB,CAA5B,CAAZ,EAA2Ek/C,UAAU5uD,KAArF,EAA4F4uD,SAA5F,EAAuG,CAAC9iE,IAAD,EAAO,KAAKgU,IAAZ,EAAkB,KAAKC,IAAvB,CAAvG;EACD;EAnBiB,GAApB;;EAsBA,WAASo7D,OAAT,GAAmB;EACjB,QAAIvnD,MAAMioD,OAAV,EAAmB;EAAE,UAAIjoD,MAAMiF,cAAN,CAAqB/qC,MAArB,GAA8B8lC,MAAMioD,OAAN,CAAc/tF,MAAhD,EAAwD,OAAOmrF,WAAP;EAAmB,KAAhG,MACK,IAAI8B,WAAJ,EAAiB;EACtB,QAAI,CAAC3rE,OAAO4Q,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,CAAL,EAAoC;;EAEpC,QAAI8wB,OAAO,IAAX;EAAA,QACIhU,OAAO8nB,MAAM7pB,MAAN,CAAasjB,QAAb,CAAsBvhB,IADjC;EAAA,QAEIgwE,OAAO,CAACloD,MAAMmoD,OAAN,GAAgBjwE,OAAO,SAAvB,GAAmCA,IAApC,MAA8C,WAA9C,GAA4DytE,SAA5D,GAAyE3lD,MAAMooD,MAAN,GAAetC,WAAf,GAA6BD,WAFjH;EAAA,QAGIwC,QAAQxuB,QAAQosB,CAAR,GAAY,IAAZ,GAAmBS,OAAOxuE,IAAP,CAH/B;EAAA,QAIIowE,QAAQzuB,QAAQ9yC,CAAR,GAAY,IAAZ,GAAmB4/D,OAAOzuE,IAAP,CAJ/B;EAAA,QAKIk7B,QAAQ5a,QAAMtM,IAAN,CALZ;EAAA,QAMI2H,SAASuf,MAAMvf,MANnB;EAAA,QAOIiI,eAAYsX,MAAMtX,SAPtB;EAAA,QAQIjU,IAAIgM,OAAO,CAAP,EAAU,CAAV,CARR;EAAA,QAQsB00D,EARtB;EAAA,QAQ0BC,EAR1B;EAAA,QASI97D,IAAImH,OAAO,CAAP,EAAU,CAAV,CATR;EAAA,QASsB40D,EATtB;EAAA,QAS0BC,EAT1B;EAAA,QAUIv5E,IAAI0kB,OAAO,CAAP,EAAU,CAAV,CAVR;EAAA,QAUsB80D,EAVtB;EAAA,QAU0Bv0D,EAV1B;EAAA,QAWIhU,IAAIyT,OAAO,CAAP,EAAU,CAAV,CAXR;EAAA,QAWsBM,EAXtB;EAAA,QAW0BE,EAX1B;EAAA,QAYIjG,EAZJ;EAAA,QAaIC,EAbJ;EAAA,QAcIu6D,MAdJ;EAAA,QAeIC,WAAWR,SAASC,KAAT,IAAkBtoD,MAAM8oD,QAfvC;EAAA,QAgBIC,KAhBJ;EAAA,QAiBIC,KAjBJ;EAAA,QAkBIC,SAAS3U,MAAMpoD,IAAN,CAlBb;EAAA,QAmBI1rB,QAAQyoF,MAnBZ;EAAA,QAoBItB,OAAOF,QAAQv7D,IAAR,EAAc9wB,SAAd,EAAyBssF,WAAzB,EApBX;;EAsBA,QAAIxvE,SAAS,SAAb,EAAwB;EACtBk7B,YAAMtX,SAAN,GAAkBA,eAAY,CAC5B,CAACysD,KAAK1uB,QAAQosB,CAAR,GAAYp+D,CAAZ,GAAgBohE,OAAO,CAAP,CAAtB,EAAiCR,KAAK5uB,QAAQ9yC,CAAR,GAAY2F,CAAZ,GAAgBu8D,OAAO,CAAP,CAAtD,CAD4B,EAE5B,CAACN,KAAK9uB,QAAQosB,CAAR,GAAY92E,CAAZ,GAAgBo5E,EAAtB,EAA0Bp0D,KAAK0lC,QAAQ9yC,CAAR,GAAY3G,CAAZ,GAAgBqoE,EAA/C,CAF4B,CAA9B;EAID,KALD,MAKO;EACLF,WAAKzsD,aAAU,CAAV,EAAa,CAAb,CAAL;EACA2sD,WAAK3sD,aAAU,CAAV,EAAa,CAAb,CAAL;EACA6sD,WAAK7sD,aAAU,CAAV,EAAa,CAAb,CAAL;EACA3H,WAAK2H,aAAU,CAAV,EAAa,CAAb,CAAL;EACD;;EAED0sD,SAAKD,EAAL;EACAG,SAAKD,EAAL;EACAr0D,SAAKu0D,EAAL;EACAt0D,SAAKF,EAAL;;EAEA,QAAIrb,QAAQqgB,OAAOjN,IAAP,EACP6W,IADO,CACF,gBADE,EACgB,MADhB,CAAZ;;EAGA,QAAIojD,UAAUrtE,MAAMkpB,SAAN,CAAgB,UAAhB,EACTe,IADS,CACJ,QADI,EACMmjD,QAAQhuE,IAAR,CADN,CAAd;;EAGA,QAAI8nB,MAAMioD,OAAV,EAAmB;EACjBnvE,YACKgT,EADL,CACQ,iBADR,EAC2Bo9D,KAD3B,EACkC,IADlC,EAEKp9D,EAFL,CAEQ,kCAFR,EAE4Cq9D,KAF5C,EAEmD,IAFnD;EAGD,KAJD,MAIO;EACL,UAAI/D,OAAOjsD,OAAO6G,MAAMolD,IAAb,EACNt5D,EADM,CACH,eADG,EACcs9D,SADd,EACyB,IADzB,EAENt9D,EAFM,CAEH,aAFG,EAEYu9D,QAFZ,EAEsB,IAFtB,EAGNv9D,EAHM,CAGH,iBAHG,EAGgBo9D,KAHhB,EAGuB,IAHvB,EAINp9D,EAJM,CAIH,eAJG,EAIcq9D,KAJd,EAIqB,IAJrB,CAAX;;EAMAG,aAAYtpD,MAAMolD,IAAlB;EACD;;EAEDM;EACA5zB,cAAU5lC,IAAV;EACAo7D,WAAOhoF,IAAP,CAAY4sB,IAAZ;EACAy7D,SAAK3sF,KAAL;;EAEA,aAASkuF,KAAT,GAAiB;EACf,UAAIK,SAASjV,MAAMpoD,IAAN,CAAb;EACA,UAAI28D,YAAY,CAACE,KAAb,IAAsB,CAACC,KAA3B,EAAkC;EAChC,YAAI1tF,KAAKsB,GAAL,CAAS2sF,OAAO,CAAP,IAAY/oF,MAAM,CAAN,CAArB,IAAiClF,KAAKsB,GAAL,CAAS2sF,OAAO,CAAP,IAAY/oF,MAAM,CAAN,CAArB,CAArC,EAAqEwoF,QAAQ,IAAR,CAArE,KACKD,QAAQ,IAAR;EACN;EACDvoF,cAAQ+oF,MAAR;EACAX,eAAS,IAAT;EACAvD;EACAmC;EACD;;EAED,aAASA,IAAT,GAAgB;EACd,UAAI74E,CAAJ;;EAEAyf,WAAK5tB,MAAM,CAAN,IAAWyoF,OAAO,CAAP,CAAhB;EACA56D,WAAK7tB,MAAM,CAAN,IAAWyoF,OAAO,CAAP,CAAhB;;EAEA,cAAQf,IAAR;EACE,aAAKtC,UAAL;EACA,aAAKD,SAAL;EAAgB;EACd,gBAAI0C,KAAJ,EAAWj6D,KAAK9yB,KAAKC,GAAL,CAASssB,IAAI0gE,EAAb,EAAiBjtF,KAAKgF,GAAL,CAAS6O,IAAIw5E,EAAb,EAAiBv6D,EAAjB,CAAjB,CAAL,EAA6Co6D,KAAKD,KAAKn6D,EAAvD,EAA2DgG,KAAKu0D,KAAKv6D,EAArE;EACX,gBAAIk6D,KAAJ,EAAWj6D,KAAK/yB,KAAKC,GAAL,CAASmxB,IAAI+7D,EAAb,EAAiBntF,KAAKgF,GAAL,CAAS8f,IAAI+T,EAAb,EAAiB9F,EAAjB,CAAjB,CAAL,EAA6Cq6D,KAAKD,KAAKp6D,EAAvD,EAA2DgG,KAAKF,KAAK9F,EAArE;EACX;EACD;EACD,aAAKw3D,WAAL;EAAkB;EAChB,gBAAIwC,QAAQ,CAAZ,EAAej6D,KAAK9yB,KAAKC,GAAL,CAASssB,IAAI0gE,EAAb,EAAiBjtF,KAAKgF,GAAL,CAAS6O,IAAIo5E,EAAb,EAAiBn6D,EAAjB,CAAjB,CAAL,EAA6Co6D,KAAKD,KAAKn6D,EAAvD,EAA2DgG,KAAKu0D,EAAhE,CAAf,KACK,IAAIN,QAAQ,CAAZ,EAAej6D,KAAK9yB,KAAKC,GAAL,CAASssB,IAAI8gE,EAAb,EAAiBrtF,KAAKgF,GAAL,CAAS6O,IAAIw5E,EAAb,EAAiBv6D,EAAjB,CAAjB,CAAL,EAA6Co6D,KAAKD,EAAlD,EAAsDn0D,KAAKu0D,KAAKv6D,EAAhE;EACpB,gBAAIk6D,QAAQ,CAAZ,EAAej6D,KAAK/yB,KAAKC,GAAL,CAASmxB,IAAI+7D,EAAb,EAAiBntF,KAAKgF,GAAL,CAAS8f,IAAIqoE,EAAb,EAAiBp6D,EAAjB,CAAjB,CAAL,EAA6Cq6D,KAAKD,KAAKp6D,EAAvD,EAA2DgG,KAAKF,EAAhE,CAAf,KACK,IAAIm0D,QAAQ,CAAZ,EAAej6D,KAAK/yB,KAAKC,GAAL,CAASmxB,IAAIyH,EAAb,EAAiB74B,KAAKgF,GAAL,CAAS8f,IAAI+T,EAAb,EAAiB9F,EAAjB,CAAjB,CAAL,EAA6Cq6D,KAAKD,EAAlD,EAAsDp0D,KAAKF,KAAK9F,EAAhE;EACpB;EACD;EACD,aAAKy3D,WAAL;EAAkB;EAChB,gBAAIuC,KAAJ,EAAWG,KAAKltF,KAAKC,GAAL,CAASssB,CAAT,EAAYvsB,KAAKgF,GAAL,CAAS6O,CAAT,EAAYo5E,KAAKn6D,KAAKi6D,KAAtB,CAAZ,CAAL,EAAgDj0D,KAAK94B,KAAKC,GAAL,CAASssB,CAAT,EAAYvsB,KAAKgF,GAAL,CAAS6O,CAAT,EAAYw5E,KAAKv6D,KAAKi6D,KAAtB,CAAZ,CAArD;EACX,gBAAIC,KAAJ,EAAWI,KAAKptF,KAAKC,GAAL,CAASmxB,CAAT,EAAYpxB,KAAKgF,GAAL,CAAS8f,CAAT,EAAYqoE,KAAKp6D,KAAKi6D,KAAtB,CAAZ,CAAL,EAAgDj0D,KAAK/4B,KAAKC,GAAL,CAASmxB,CAAT,EAAYpxB,KAAKgF,GAAL,CAAS8f,CAAT,EAAY+T,KAAK9F,KAAKi6D,KAAtB,CAAZ,CAArD;EACX;EACD;EAlBH;;EAqBA,UAAIl0D,KAAKo0D,EAAT,EAAa;EACXH,iBAAS,CAAC,CAAV;EACA15E,YAAI45E,EAAJ,EAAQA,KAAKI,EAAb,EAAiBA,KAAKh6E,CAAtB;EACAA,YAAI65E,EAAJ,EAAQA,KAAKp0D,EAAb,EAAiBA,KAAKzlB,CAAtB;EACA,YAAIuJ,QAAQsuE,KAAZ,EAAmBL,QAAQpjD,IAAR,CAAa,QAAb,EAAuBmjD,QAAQhuE,OAAOsuE,MAAMtuE,IAAN,CAAf,CAAvB;EACpB;;EAED,UAAImc,KAAKq0D,EAAT,EAAa;EACXJ,iBAAS,CAAC,CAAV;EACA35E,YAAI85E,EAAJ,EAAQA,KAAKt0D,EAAb,EAAiBA,KAAKxlB,CAAtB;EACAA,YAAI+5E,EAAJ,EAAQA,KAAKr0D,EAAb,EAAiBA,KAAK1lB,CAAtB;EACA,YAAIuJ,QAAQuuE,KAAZ,EAAmBN,QAAQpjD,IAAR,CAAa,QAAb,EAAuBmjD,QAAQhuE,OAAOuuE,MAAMvuE,IAAN,CAAf,CAAvB;EACpB;;EAED,UAAIk7B,MAAMtX,SAAV,EAAqBA,eAAYsX,MAAMtX,SAAlB,CAzCP;EA0Cd,UAAIitD,KAAJ,EAAWP,KAAK1sD,aAAU,CAAV,EAAa,CAAb,CAAL,EAAsB1H,KAAK0H,aAAU,CAAV,EAAa,CAAb,CAA3B;EACX,UAAIktD,KAAJ,EAAWN,KAAK5sD,aAAU,CAAV,EAAa,CAAb,CAAL,EAAsBzH,KAAKyH,aAAU,CAAV,EAAa,CAAb,CAA3B;;EAEX,UAAIA,aAAU,CAAV,EAAa,CAAb,MAAoB0sD,EAApB,IACG1sD,aAAU,CAAV,EAAa,CAAb,MAAoB4sD,EADvB,IAEG5sD,aAAU,CAAV,EAAa,CAAb,MAAoB1H,EAFvB,IAGG0H,aAAU,CAAV,EAAa,CAAb,MAAoBzH,EAH3B,EAG+B;EAC7B+e,cAAMtX,SAAN,GAAkB,CAAC,CAAC0sD,EAAD,EAAKE,EAAL,CAAD,EAAW,CAACt0D,EAAD,EAAKC,EAAL,CAAX,CAAlB;EACAizD,eAAOhoF,IAAP,CAAY4sB,IAAZ;EACAy7D,aAAKV,KAAL;EACD;EACF;;EAED,aAASkC,KAAT,GAAiB;EACfzD;EACA,UAAI1lD,MAAMioD,OAAV,EAAmB;EACjB,YAAIjoD,MAAMioD,OAAN,CAAc/tF,MAAlB,EAA0B;EAC1B,YAAIitF,WAAJ,EAAiB32B,aAAa22B,WAAb;EACjBA,sBAAcz3B,WAAW,YAAW;EAAEy3B,wBAAc,IAAd;EAAqB,SAA7C,EAA+C,GAA/C,CAAd,CAHiB;EAIjBruE,cAAMgT,EAAN,CAAS,kDAAT,EAA6D,IAA7D;EACD,OALD,MAKO;EACL09D,gBAAWxpD,MAAMolD,IAAjB,EAAuBwD,MAAvB;EACAxD,aAAKt5D,EAAL,CAAQ,yDAAR,EAAmE,IAAnE;EACD;EACDhT,YAAMiqB,IAAN,CAAW,gBAAX,EAA6B,KAA7B;EACAojD,cAAQpjD,IAAR,CAAa,QAAb,EAAuBmjD,QAAQC,OAA/B;EACA,UAAI/yC,MAAMtX,SAAV,EAAqBA,eAAYsX,MAAMtX,SAAlB,CAbN;EAcf,UAAIv9B,QAAMu9B,YAAN,CAAJ,EAAsBsX,MAAMtX,SAAN,GAAkB,IAAlB,EAAwBwrD,OAAOhoF,IAAP,CAAY4sB,IAAZ,CAAxB;EACtBy7D,WAAKl3E,GAAL;EACD;;EAED,aAAS24E,SAAT,GAAqB;EACnB,cAAQppD,MAAMypD,OAAd;EACE,aAAK,EAAL;EAAS;EAAE;EACTZ,uBAAWR,SAASC,KAApB;EACA;EACD;EACD,aAAK,EAAL;EAAS;EAAE;EACT,gBAAIJ,SAASrC,WAAb,EAA0B;EACxB,kBAAIwC,KAAJ,EAAWM,KAAKv0D,KAAKhG,KAAKi6D,KAAf,EAAsBE,KAAKC,KAAKp6D,KAAKi6D,KAArC;EACX,kBAAIC,KAAJ,EAAWn0D,KAAKE,KAAKhG,KAAKi6D,KAAf,EAAsBG,KAAKC,KAAKr6D,KAAKi6D,KAArC;EACXJ,qBAAOpC,WAAP;EACA0B;EACD;EACD;EACD;EACD,aAAK,EAAL;EAAS;EAAE;EACT,gBAAIU,SAASrC,WAAT,IAAwBqC,SAASpC,WAArC,EAAkD;EAChD,kBAAIuC,QAAQ,CAAZ,EAAeM,KAAKv0D,KAAKhG,EAAV,CAAf,KAAkC,IAAIi6D,QAAQ,CAAZ,EAAeE,KAAKC,KAAKp6D,EAAV;EACjD,kBAAIk6D,QAAQ,CAAZ,EAAen0D,KAAKE,KAAKhG,EAAV,CAAf,KAAkC,IAAIi6D,QAAQ,CAAZ,EAAeG,KAAKC,KAAKr6D,EAAV;EACjD65D,qBAAOtC,UAAP;EACAO,sBAAQpjD,IAAR,CAAa,QAAb,EAAuBmjD,QAAQpqD,SAA/B;EACA0rD;EACD;EACD;EACD;EACD;EAAS;EAxBX;EA0BAnC;EACD;;EAED,aAASgE,QAAT,GAAoB;EAClB,cAAQrpD,MAAMypD,OAAd;EACE,aAAK,EAAL;EAAS;EAAE;EACT,gBAAIZ,QAAJ,EAAc;EACZE,sBAAQC,QAAQH,WAAW,KAA3B;EACArB;EACD;EACD;EACD;EACD,aAAK,EAAL;EAAS;EAAE;EACT,gBAAIU,SAASpC,WAAb,EAA0B;EACxB,kBAAIuC,QAAQ,CAAZ,EAAeM,KAAKv0D,EAAL,CAAf,KAA6B,IAAIi0D,QAAQ,CAAZ,EAAeE,KAAKC,EAAL;EAC5C,kBAAIF,QAAQ,CAAZ,EAAen0D,KAAKE,EAAL,CAAf,KAA6B,IAAIi0D,QAAQ,CAAZ,EAAeG,KAAKC,EAAL;EAC5CR,qBAAOrC,WAAP;EACA2B;EACD;EACD;EACD;EACD,aAAK,EAAL;EAAS;EAAE;EACT,gBAAIU,SAAStC,UAAb,EAAyB;EACvB,kBAAI5lD,MAAMooD,MAAV,EAAkB;EAChB,oBAAIC,KAAJ,EAAWM,KAAKv0D,KAAKhG,KAAKi6D,KAAf,EAAsBE,KAAKC,KAAKp6D,KAAKi6D,KAArC;EACX,oBAAIC,KAAJ,EAAWn0D,KAAKE,KAAKhG,KAAKi6D,KAAf,EAAsBG,KAAKC,KAAKr6D,KAAKi6D,KAArC;EACXJ,uBAAOpC,WAAP;EACD,eAJD,MAIO;EACL,oBAAIuC,QAAQ,CAAZ,EAAeM,KAAKv0D,EAAL,CAAf,KAA6B,IAAIi0D,QAAQ,CAAZ,EAAeE,KAAKC,EAAL;EAC5C,oBAAIF,QAAQ,CAAZ,EAAen0D,KAAKE,EAAL,CAAf,KAA6B,IAAIi0D,QAAQ,CAAZ,EAAeG,KAAKC,EAAL;EAC5CR,uBAAOrC,WAAP;EACD;EACDM,sBAAQpjD,IAAR,CAAa,QAAb,EAAuBmjD,QAAQhuE,IAAR,CAAvB;EACAsvE;EACD;EACD;EACD;EACD;EAAS;EAjCX;EAmCAnC;EACD;EACF;;EAED,WAAS+B,UAAT,GAAsB;EACpB,QAAIh0C,QAAQ,KAAK2zC,OAAL,IAAgB,EAACjrD,WAAW,IAAZ,EAA5B;EACAsX,UAAMvf,MAAN,GAAeA,OAAOzH,KAAP,CAAa,IAAb,EAAmBhxB,SAAnB,CAAf;EACAg4C,UAAMymB,GAAN,GAAYA,GAAZ;EACA,WAAOzmB,KAAP;EACD;;EAED6zC,QAAMpzD,MAAN,GAAe,UAASr0B,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoB25B,SAAS,OAAOr0B,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC,CAAC,CAAC7Q,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAD,EAAuB,CAAC,CAACA,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAvB,CAAT,CAAvC,EAA+FynF,KAAnH,IAA4HpzD,MAAnI;EACD,GAFD;;EAIAozD,QAAMzrE,MAAN,GAAe,UAAShc,CAAT,EAAY;EACzB,WAAOpE,UAAUlB,MAAV,IAAoBshB,SAAS,OAAOhc,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B6Q,WAAS,CAAC,CAAC7Q,CAAX,CAAvC,EAAsDynF,KAA1E,IAAmFzrE,MAA1F;EACD,GAFD;;EAIAyrE,QAAMC,UAAN,GAAmB,UAAS1nF,CAAT,EAAY;EAC7B,WAAOpE,UAAUlB,MAAV,IAAoBgtF,aAAa,CAAC1nF,CAAd,EAAiBynF,KAArC,IAA8CC,UAArD;EACD,GAFD;;EAIAD,QAAMn7D,EAAN,GAAW,YAAW;EACpB,QAAIhuB,QAAQk9E,UAAUlvD,EAAV,CAAaM,KAAb,CAAmB4uD,SAAnB,EAA8B5/E,SAA9B,CAAZ;EACA,WAAO0C,UAAUk9E,SAAV,GAAsBiM,KAAtB,GAA8BnpF,KAArC;EACD,GAHD;;EAKA,SAAOmpF,KAAP;EACD;;EC1hBD,IAAMyC,kBAAkB,SAAlBA,eAAkB,SAAU;EAChC,SAAO,aAAK;EACV,QAAMh3E,IAAI,EAAE/X,EAAEud,IAAF,IAAU,GAAZ,CAAV;EAAA,QACE7d,IAAIqY,IAAI,CAAJ,GAAQ,CAAC,CADf;EAAA,QAEErE,IAAIq0C,SAAS,CAFf;;EAIA,WACE,MACA,MAAMroD,CADN,GAEA,GAFA,GAGAgU,CAHA,GAIA,WAJA,GAKAqE,CALA,GAMA,GANA,GAOA,MAAMrY,CAPN,GAQA,GARA,IASCgU,IAAI,CATL,IAUA,GAVA,IAWC,IAAIA,CAAJ,GAAQ,CAXT,IAYA,WAZA,GAaAqE,CAbA,GAcA,GAdA,GAeA,MAAMrY,CAfN,GAgBA,GAhBA,GAiBA,IAAIgU,CAjBJ,GAkBA,GAlBA,GAmBA,GAnBA,GAoBA,MAAMhU,CApBN,GAqBA,GArBA,IAsBCgU,IAAI,CAtBL,IAuBA,GAvBA,IAwBC,IAAIA,CAAJ,GAAQ,CAxBT,IAyBA,GAzBA,GA0BA,MAAMhU,CA1BN,GA2BA,GA3BA,IA4BCgU,IAAI,CA5BL,IA6BA,GA7BA,IA8BC,IAAIA,CAAJ,GAAQ,CA9BT,CADF;EAiCD,GAtCD;EAuCD,CAxCD;;ECWA,IAAMs7E,YAAY,SAAZA,SAAY;EAAA,SAAO72C,IAAI2P,KAAJ,CAAUtrC,KAAV,GAAkB27B,IAAIsS,KAAJ,CAAUs/B,YAAnC;EAAA,CAAlB;;EAEA,IAAMkF,cAAc,SAAdA,WAAc,QAAS;EAAA,MACnBr2C,QADmB,GACaH,KADb,CACnBG,QADmB;EAAA,MACTyP,UADS,GACa5P,KADb,CACT4P,UADS;EAAA,MACG3T,KADH,GACa+D,KADb,CACG/D,KADH;;EAE3B,MAAMwgC,mBAAmBxhB,gBAAgBjb,KAAhB,CAAzB;EACA,MAAMqgC,gBAAgBL,aAAahgC,KAAb,CAAtB;;EAEA,MAAMj8B,QAAQo8B,SAAS6R,KAAT,CAAes/B,YAA7B;EACA,MAAMhiC,SAASnP,SAASkP,KAAT,CAAe6B,WAA9B;;EAEA,MAAMulC,QAAQF,UAAUp2C,QAAV,CAAd;EACAyP,aAAW7pB,MAAX,CAAkB,aAAlB,EAAiCp7B,MAAjC;;EAEA,MAAM+rF,UAAU9mC,WACbrf,MADa,CACN,GADM,EAEbZ,IAFa,CAER,OAFQ,EAEC5rB,KAFD,EAGb4rB,IAHa,CAGR,QAHQ,EAGE2f,MAHF,EAIb3f,IAJa,CAIR,OAJQ,EAIC,YAJD,EAKbA,IALa,CAMZ,WANY,EAOZ,eAAe8mD,KAAf,GAAuB,GAAvB,GAA6Bt2C,SAASkP,KAAT,CAAeE,MAAf,CAAsB5d,GAAnD,GAAyD,GAP7C,CAAhB;;EAUA,MAAMglD,aAAa9vB,OAChB76D,MADgB,CACTiwC,MAAM7xC,GAAN,CAAU;EAAA,WAAKqyE,iBAAiBl1E,CAAjB,CAAL;EAAA,GAAV,CADS,EAEhBc,KAFgB,CAEV,CACL,CADK,EAEL83C,SAASkP,KAAT,CAAe6B,WAAf,GAA6B/Q,SAAS6R,KAAT,CAAew/B,gBAA5C,GAA+D,CAF1D,CAFU,EAMhB7kF,YANgB,CAMH,GANG,CAAnB;EAOA,MAAMiqF,aAAaz6C,WAChBnwC,MADgB,CACTy0B,SAAOwb,KAAP,EAAcokC,aAAd,CADS,EAEhBh4E,KAFgB,CAEV,CAAC,CAAD,EAAI83C,SAAS6R,KAAT,CAAes/B,YAAnB,CAFU,CAAnB;;EAIA,MAAMh4E,IAAIq9E,WAAWlqF,SAAX,EAAV;EACA,MAAMwO,IAAI,SAAJA,CAAI;EAAA,WAAK27E,WAAWvW,cAAc94E,CAAd,CAAX,CAAL;EAAA,GAAV;EACA,MAAMN,IAAI,SAAJA,CAAI;EAAA,WAAK0vF,WAAWla,iBAAiBl1E,CAAjB,CAAX,CAAL;EAAA,GAAV;;EAEA,MAAMo5E,aAAa+V,QAAQ9nD,SAAR,CAAkB,OAAlB,EAA2BhO,IAA3B,CAAgCqb,KAAhC,CAAnB;EACA,MAAM2kC,WAAWD,WAAW94C,KAAX,EAAjB;EACA,MAAMg5C,aAAaF,WAAW74C,IAAX,EAAnB;;EAEA+4C,aAAWl2E,MAAX;EACAg2E,aACGhxC,IADH,CACQ,OADR,EACiB10B,CADjB,EAEG00B,IAFH,CAEQ,GAFR,EAEa1oC,CAFb,EAGG0oC,IAHH,CAGQ,QAHR,EAGkBr2B,CAHlB;EAIAsnE,WACGrwC,MADH,CACU,MADV,EAEGZ,IAFH,CAEQ,OAFR,EAEiB,MAFjB,EAGGA,IAHH,CAGQ,MAHR,EAGgB,SAHhB,EAIGA,IAJH,CAIQ,SAJR,EAImB,CAJnB,EAKGA,IALH,CAKQ,GALR,EAKa,CALb,EAMGA,IANH,CAMQ,GANR,EAMa1oC,CANb,EAOG0oC,IAPH,CAOQ,QAPR,EAOkBr2B,CAPlB,EAQGq2B,IARH,CAQQ,OARR,EAQiB10B,CARjB;;EAUA,MAAM47E,aAAaH,QAAQnmD,MAAR,CAAe,GAAf,EAAoBZ,IAApB,CAAyB,OAAzB,EAAkC,OAAlC,CAAnB;;EAEA,MAAMkkD,WAAQD,SAASnzD,MAAT,CAAgB,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAACg2D,KAAD,EAAQt2C,SAASkP,KAAT,CAAe6B,WAAvB,CAAT,CAAhB,CAAd;;EAEA,MAAM4lC,eACJ,CAAC32C,SAAS6R,KAAT,CAAes/B,YAAhB,GAA+BnxC,SAAS6R,KAAT,CAAes/B,YAAf,GAA8B,CAD/D;;EAGA,MAAM2C,SAAS4C,WACZjoD,SADY,CACF,gBADE,EAEZhO,IAFY,CAEP,CAAC,EAAE9b,MAAM,GAAR,EAAD,EAAgB,EAAEA,MAAM,GAAR,EAAhB,CAFO,EAGZ+iB,KAHY,GAIZ0I,MAJY,CAIL,MAJK,EAKZZ,IALY,CAKP,OALO,EAKE,eALF,EAMZA,IANY,CAMP,QANO,EAMG,MANH,EAOZA,IAPY,CAOP,cAPO,EAOS,CAPT,EAQZA,IARY,CAQP,QARO,EAQG,WARH,EASZA,IATY,CASP,GATO,EASF2mD,gBAAgBn2C,SAAS6R,KAAT,CAAes/B,YAA/B,CATE,EAUZ3hD,IAVY,CAUP,WAVO,EAUM,4BAA4BmnD,YAA5B,GAA2C,GAVjD,CAAf;;EAYA,MAAMC,YAAY,SAAZA,SAAY,GAAM;EACtB,QAAMx9E,IAAIqzB,MAAMlE,SAAhB;;EAEA,QAAInvB,MAAM,IAAV,EAAgB;EACd06E,aAAOtkD,IAAP,CAAY,SAAZ,EAAuB,MAAvB;EACD,KAFD,MAEO;EACLskD,aACGtkD,IADH,CACQ,SADR,EACmB,IADnB,EAEGA,IAFH,CAGI,WAHJ,EAII,UAACpoC,CAAD,EAAIU,CAAJ;EAAA,eAAU,0BAA0B,CAACsR,EAAEtR,CAAF,CAAD,EAAO6uF,YAAP,CAA1B,GAAiD,GAA3D;EAAA,OAJJ;EAMD;;EAEDJ,YACG9nD,SADH,CACa,OADb,EAEGe,IAFH,CAEQ,MAFR,EAEgB,aAAK;EACjB,UAAMszB,SAASod,cAAc94E,CAAd,CAAf;;EAEA,UAAIgS,EAAE,CAAF,MAAShS,IAAIN,EAAEM,CAAF,CAAb,KAAsBA,KAAKgS,EAAE,CAAF,CAA/B,EAAqC;EACnC,eAAO0pD,SAAS,CAAT,GAAa,SAAb,GAAyB,SAAhC;EACD,OAFD,MAEO;EACL,eAAO,SAAP;EACD;EACF,KAVH,EAWGlzB,OAXH,CAWW,UAXX,EAWuB;EAAA,aAAKx2B,EAAE,CAAF,MAAShS,IAAIN,EAAEM,CAAF,CAAb,KAAsBA,KAAKgS,EAAE,CAAF,CAAhC;EAAA,KAXvB;;EAaA,QAAMqnB,OAAO81D,QAAQ9nD,SAAR,CAAkB,WAAlB,EAA+BhO,IAA/B,EAAb;;EAEA2wD,iBAAavxC,KAAb,EAAoBpf,IAApB;EACA8wD,mBAAe1xC,KAAf,EAAsBpf,IAAtB;EACD,GA/BD;;EAiCAizD,WAAMn7D,EAAN,CAAS,iBAAT,EAA4Bq+D,SAA5B;;EAEAF,aAAW3qF,IAAX,CAAgB2nF,QAAhB;EACAgD,aAAW3qF,IAAX,CAAgB2nF,SAAMO,IAAtB,EAA4B,CAAC,CAAD,EAAIj0C,SAAS6R,KAAT,CAAeglC,kBAAnB,CAA5B;EACD,CA/GD;;ECRA,IAAMC,kBAAkB,SAAlBA,eAAkB,QAAS;EAC/Bj3C,QAAMojB,QAAN,GAAiB;EACflI,cAAUlb,MAAMG,QAAN,CAAevf,IAAf,CAAoB3lB,CAApB,CAAsB,CAAtB,EAAyBigD,QADpB;EAEfwI,eAAW;EAFI,GAAjB;EAID,CALD;;EAOA,IAAMua,YAAU,SAAVA,OAAU,QAAS;EACvBgZ,kBAAgBj3C,KAAhB;;EADuB,MAGfG,QAHe,GAGKH,KAHL,CAGfG,QAHe;EAAA,MAGLlE,KAHK,GAGK+D,KAHL,CAGL/D,KAHK;;EAIvB6jC,eAAa9/B,KAAb,EAAoB7zC,KAApB,CAA0B9D,KAA1B,CAAgC,CAAC,CAAD,EAAI83C,SAASkP,KAAT,CAAe6B,WAAnB,CAAhC;;EAEA,MAAMtwB,OAAOqb,MAAM7zB,MAAN,CACX;EAAA,WAAKnhB,IAAE+4C,KAAF,EAASz4C,CAAT,IAAc44C,SAAS6R,KAAT,CAAeglC,kBAAlC;EAAA,GADW,CAAb;;EAIA,MAAI72C,SAAS6R,KAAT,CAAey/B,aAAf,KAAiC,IAArC,EAA2C;EACzC+E,gBAAYx2C,KAAZ;EACAuxC,iBAAavxC,KAAb,EAAoBpf,IAApB;EACD,GAHD,MAGO;EACL2wD,iBAAavxC,KAAb,EAAoB/D,KAApB;EACAy1C,mBAAe1xC,KAAf,EAAsB/D,KAAtB;EACD;EACF,CAjBD;;ECTA,IAAMi7C,aAAa;EACjB7nC,SAAO,EAAEvqC,MAAM,KAAR,EADU;EAEjBktC,SAAO;EACLmtB,cAAU;EACR5tB,eAAS,KADD;EAERv5C,aAAO;EAFC,KADL;EAKLqnE,iBAAa;EACX9tB,eAAS,KADE;EAEXv5C,aAAO,OAFI;EAGXkQ,cAAQ;EAHG,KALR;;EAWLupE,mBAAe,IAXV;EAYLH,kBAAc,EAZT;EAaLE,sBAAkB,EAbb;EAcLwF,wBAAoB;EAdf;EAFU,CAAnB;;EAoBA,IAAMG,MAAMrY,UAAUoY,UAAV,EAAsBjZ,SAAtB,CAAZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}